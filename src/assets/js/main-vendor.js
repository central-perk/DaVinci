/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */ !(function (
  a,
  b
) {
  "object" == typeof module && "object" == typeof module.exports
    ? (module.exports = a.document
        ? b(a, !0)
        : function (a) {
            if (!a.document)
              throw new Error("jQuery requires a window with a document");
            return b(a);
          })
    : b(a);
})("undefined" != typeof window ? window : this, function (a, b) {
  var c = [],
    d = c.slice,
    e = c.concat,
    f = c.push,
    g = c.indexOf,
    h = {},
    i = h.toString,
    j = h.hasOwnProperty,
    k = {},
    l = a.document,
    m = "2.1.1",
    n = function (a, b) {
      return new n.fn.init(a, b);
    },
    o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
    p = /^-ms-/,
    q = /-([\da-z])/gi,
    r = function (a, b) {
      return b.toUpperCase();
    };
  (n.fn = n.prototype =
    {
      jquery: m,
      constructor: n,
      selector: "",
      length: 0,
      toArray: function () {
        return d.call(this);
      },
      get: function (a) {
        return null != a
          ? 0 > a
            ? this[a + this.length]
            : this[a]
          : d.call(this);
      },
      pushStack: function (a) {
        var b = n.merge(this.constructor(), a);
        return (b.prevObject = this), (b.context = this.context), b;
      },
      each: function (a, b) {
        return n.each(this, a, b);
      },
      map: function (a) {
        return this.pushStack(
          n.map(this, function (b, c) {
            return a.call(b, c, b);
          })
        );
      },
      slice: function () {
        return this.pushStack(d.apply(this, arguments));
      },
      first: function () {
        return this.eq(0);
      },
      last: function () {
        return this.eq(-1);
      },
      eq: function (a) {
        var b = this.length,
          c = +a + (0 > a ? b : 0);
        return this.pushStack(c >= 0 && b > c ? [this[c]] : []);
      },
      end: function () {
        return this.prevObject || this.constructor(null);
      },
      push: f,
      sort: c.sort,
      splice: c.splice,
    }),
    (n.extend = n.fn.extend =
      function () {
        var a,
          b,
          c,
          d,
          e,
          f,
          g = arguments[0] || {},
          h = 1,
          i = arguments.length,
          j = !1;
        for (
          "boolean" == typeof g && ((j = g), (g = arguments[h] || {}), h++),
            "object" == typeof g || n.isFunction(g) || (g = {}),
            h === i && ((g = this), h--);
          i > h;
          h++
        )
          if (null != (a = arguments[h]))
            for (b in a)
              (c = g[b]),
                (d = a[b]),
                g !== d &&
                  (j && d && (n.isPlainObject(d) || (e = n.isArray(d)))
                    ? (e
                        ? ((e = !1), (f = c && n.isArray(c) ? c : []))
                        : (f = c && n.isPlainObject(c) ? c : {}),
                      (g[b] = n.extend(j, f, d)))
                    : void 0 !== d && (g[b] = d));
        return g;
      }),
    n.extend({
      expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""),
      isReady: !0,
      error: function (a) {
        throw new Error(a);
      },
      noop: function () {},
      isFunction: function (a) {
        return "function" === n.type(a);
      },
      isArray: Array.isArray,
      isWindow: function (a) {
        return null != a && a === a.window;
      },
      isNumeric: function (a) {
        return !n.isArray(a) && a - parseFloat(a) >= 0;
      },
      isPlainObject: function (a) {
        return "object" !== n.type(a) || a.nodeType || n.isWindow(a)
          ? !1
          : a.constructor && !j.call(a.constructor.prototype, "isPrototypeOf")
          ? !1
          : !0;
      },
      isEmptyObject: function (a) {
        var b;
        for (b in a) return !1;
        return !0;
      },
      type: function (a) {
        return null == a
          ? a + ""
          : "object" == typeof a || "function" == typeof a
          ? h[i.call(a)] || "object"
          : typeof a;
      },
      globalEval: function (a) {
        var b,
          c = eval;
        (a = n.trim(a)),
          a &&
            (1 === a.indexOf("use strict")
              ? ((b = l.createElement("script")),
                (b.text = a),
                l.head.appendChild(b).parentNode.removeChild(b))
              : c(a));
      },
      camelCase: function (a) {
        return a.replace(p, "ms-").replace(q, r);
      },
      nodeName: function (a, b) {
        return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase();
      },
      each: function (a, b, c) {
        var d,
          e = 0,
          f = a.length,
          g = s(a);
        if (c) {
          if (g) {
            for (; f > e; e++) if (((d = b.apply(a[e], c)), d === !1)) break;
          } else for (e in a) if (((d = b.apply(a[e], c)), d === !1)) break;
        } else if (g) {
          for (; f > e; e++) if (((d = b.call(a[e], e, a[e])), d === !1)) break;
        } else for (e in a) if (((d = b.call(a[e], e, a[e])), d === !1)) break;
        return a;
      },
      trim: function (a) {
        return null == a ? "" : (a + "").replace(o, "");
      },
      makeArray: function (a, b) {
        var c = b || [];
        return (
          null != a &&
            (s(Object(a))
              ? n.merge(c, "string" == typeof a ? [a] : a)
              : f.call(c, a)),
          c
        );
      },
      inArray: function (a, b, c) {
        return null == b ? -1 : g.call(b, a, c);
      },
      merge: function (a, b) {
        for (var c = +b.length, d = 0, e = a.length; c > d; d++) a[e++] = b[d];
        return (a.length = e), a;
      },
      grep: function (a, b, c) {
        for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)
          (d = !b(a[f], f)), d !== h && e.push(a[f]);
        return e;
      },
      map: function (a, b, c) {
        var d,
          f = 0,
          g = a.length,
          h = s(a),
          i = [];
        if (h) for (; g > f; f++) (d = b(a[f], f, c)), null != d && i.push(d);
        else for (f in a) (d = b(a[f], f, c)), null != d && i.push(d);
        return e.apply([], i);
      },
      guid: 1,
      proxy: function (a, b) {
        var c, e, f;
        return (
          "string" == typeof b && ((c = a[b]), (b = a), (a = c)),
          n.isFunction(a)
            ? ((e = d.call(arguments, 2)),
              (f = function () {
                return a.apply(b || this, e.concat(d.call(arguments)));
              }),
              (f.guid = a.guid = a.guid || n.guid++),
              f)
            : void 0
        );
      },
      now: Date.now,
      support: k,
    }),
    n.each(
      "Boolean Number String Function Array Date RegExp Object Error".split(
        " "
      ),
      function (a, b) {
        h["[object " + b + "]"] = b.toLowerCase();
      }
    );

  function s(a) {
    var b = a.length,
      c = n.type(a);
    return "function" === c || n.isWindow(a)
      ? !1
      : 1 === a.nodeType && b
      ? !0
      : "array" === c ||
        0 === b ||
        ("number" == typeof b && b > 0 && b - 1 in a);
  }
  var t = (function (a) {
    var b,
      c,
      d,
      e,
      f,
      g,
      h,
      i,
      j,
      k,
      l,
      m,
      n,
      o,
      p,
      q,
      r,
      s,
      t,
      u = "sizzle" + -new Date(),
      v = a.document,
      w = 0,
      x = 0,
      y = gb(),
      z = gb(),
      A = gb(),
      B = function (a, b) {
        return a === b && (l = !0), 0;
      },
      C = "undefined",
      D = 1 << 31,
      E = {}.hasOwnProperty,
      F = [],
      G = F.pop,
      H = F.push,
      I = F.push,
      J = F.slice,
      K =
        F.indexOf ||
        function (a) {
          for (var b = 0, c = this.length; c > b; b++)
            if (this[b] === a) return b;
          return -1;
        },
      L =
        "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
      M = "[\\x20\\t\\r\\n\\f]",
      N = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
      O = N.replace("w", "w#"),
      P =
        "\\[" +
        M +
        "*(" +
        N +
        ")(?:" +
        M +
        "*([*^$|!~]?=)" +
        M +
        "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
        O +
        "))|)" +
        M +
        "*\\]",
      Q =
        ":(" +
        N +
        ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
        P +
        ")*)|.*)\\)|)",
      R = new RegExp("^" + M + "+|((?:^|[^\\\\])(?:\\\\.)*)" + M + "+$", "g"),
      S = new RegExp("^" + M + "*," + M + "*"),
      T = new RegExp("^" + M + "*([>+~]|" + M + ")" + M + "*"),
      U = new RegExp("=" + M + "*([^\\]'\"]*?)" + M + "*\\]", "g"),
      V = new RegExp(Q),
      W = new RegExp("^" + O + "$"),
      X = {
        ID: new RegExp("^#(" + N + ")"),
        CLASS: new RegExp("^\\.(" + N + ")"),
        TAG: new RegExp("^(" + N.replace("w", "w*") + ")"),
        ATTR: new RegExp("^" + P),
        PSEUDO: new RegExp("^" + Q),
        CHILD: new RegExp(
          "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
            M +
            "*(even|odd|(([+-]|)(\\d*)n|)" +
            M +
            "*(?:([+-]|)" +
            M +
            "*(\\d+)|))" +
            M +
            "*\\)|)",
          "i"
        ),
        bool: new RegExp("^(?:" + L + ")$", "i"),
        needsContext: new RegExp(
          "^" +
            M +
            "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
            M +
            "*((?:-\\d)?\\d*)" +
            M +
            "*\\)|)(?=[^-]|$)",
          "i"
        ),
      },
      Y = /^(?:input|select|textarea|button)$/i,
      Z = /^h\d$/i,
      $ = /^[^{]+\{\s*\[native \w/,
      _ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
      ab = /[+~]/,
      bb = /'|\\/g,
      cb = new RegExp("\\\\([\\da-f]{1,6}" + M + "?|(" + M + ")|.)", "ig"),
      db = function (a, b, c) {
        var d = "0x" + b - 65536;
        return d !== d || c
          ? b
          : 0 > d
          ? String.fromCharCode(d + 65536)
          : String.fromCharCode((d >> 10) | 55296, (1023 & d) | 56320);
      };
    try {
      I.apply((F = J.call(v.childNodes)), v.childNodes),
        F[v.childNodes.length].nodeType;
    } catch (eb) {
      I = {
        apply: F.length
          ? function (a, b) {
              H.apply(a, J.call(b));
            }
          : function (a, b) {
              var c = a.length,
                d = 0;
              while ((a[c++] = b[d++]));
              a.length = c - 1;
            },
      };
    }

    function fb(a, b, d, e) {
      var f, h, j, k, l, o, r, s, w, x;
      if (
        ((b ? b.ownerDocument || b : v) !== n && m(b),
        (b = b || n),
        (d = d || []),
        !a || "string" != typeof a)
      )
        return d;
      if (1 !== (k = b.nodeType) && 9 !== k) return [];
      if (p && !e) {
        if ((f = _.exec(a)))
          if ((j = f[1])) {
            if (9 === k) {
              if (((h = b.getElementById(j)), !h || !h.parentNode)) return d;
              if (h.id === j) return d.push(h), d;
            } else if (
              b.ownerDocument &&
              (h = b.ownerDocument.getElementById(j)) &&
              t(b, h) &&
              h.id === j
            )
              return d.push(h), d;
          } else {
            if (f[2]) return I.apply(d, b.getElementsByTagName(a)), d;
            if (
              (j = f[3]) &&
              c.getElementsByClassName &&
              b.getElementsByClassName
            )
              return I.apply(d, b.getElementsByClassName(j)), d;
          }
        if (c.qsa && (!q || !q.test(a))) {
          if (
            ((s = r = u),
            (w = b),
            (x = 9 === k && a),
            1 === k && "object" !== b.nodeName.toLowerCase())
          ) {
            (o = g(a)),
              (r = b.getAttribute("id"))
                ? (s = r.replace(bb, "\\$&"))
                : b.setAttribute("id", s),
              (s = "[id='" + s + "'] "),
              (l = o.length);
            while (l--) o[l] = s + qb(o[l]);
            (w = (ab.test(a) && ob(b.parentNode)) || b), (x = o.join(","));
          }
          if (x)
            try {
              return I.apply(d, w.querySelectorAll(x)), d;
            } catch (y) {
            } finally {
              r || b.removeAttribute("id");
            }
        }
      }
      return i(a.replace(R, "$1"), b, d, e);
    }

    function gb() {
      var a = [];

      function b(c, e) {
        return (
          a.push(c + " ") > d.cacheLength && delete b[a.shift()],
          (b[c + " "] = e)
        );
      }
      return b;
    }

    function hb(a) {
      return (a[u] = !0), a;
    }

    function ib(a) {
      var b = n.createElement("div");
      try {
        return !!a(b);
      } catch (c) {
        return !1;
      } finally {
        b.parentNode && b.parentNode.removeChild(b), (b = null);
      }
    }

    function jb(a, b) {
      var c = a.split("|"),
        e = a.length;
      while (e--) d.attrHandle[c[e]] = b;
    }

    function kb(a, b) {
      var c = b && a,
        d =
          c &&
          1 === a.nodeType &&
          1 === b.nodeType &&
          (~b.sourceIndex || D) - (~a.sourceIndex || D);
      if (d) return d;
      if (c) while ((c = c.nextSibling)) if (c === b) return -1;
      return a ? 1 : -1;
    }

    function lb(a) {
      return function (b) {
        var c = b.nodeName.toLowerCase();
        return "input" === c && b.type === a;
      };
    }

    function mb(a) {
      return function (b) {
        var c = b.nodeName.toLowerCase();
        return ("input" === c || "button" === c) && b.type === a;
      };
    }

    function nb(a) {
      return hb(function (b) {
        return (
          (b = +b),
          hb(function (c, d) {
            var e,
              f = a([], c.length, b),
              g = f.length;
            while (g--) c[(e = f[g])] && (c[e] = !(d[e] = c[e]));
          })
        );
      });
    }

    function ob(a) {
      return a && typeof a.getElementsByTagName !== C && a;
    }
    (c = fb.support = {}),
      (f = fb.isXML =
        function (a) {
          var b = a && (a.ownerDocument || a).documentElement;
          return b ? "HTML" !== b.nodeName : !1;
        }),
      (m = fb.setDocument =
        function (a) {
          var b,
            e = a ? a.ownerDocument || a : v,
            g = e.defaultView;
          return e !== n && 9 === e.nodeType && e.documentElement
            ? ((n = e),
              (o = e.documentElement),
              (p = !f(e)),
              g &&
                g !== g.top &&
                (g.addEventListener
                  ? g.addEventListener(
                      "unload",
                      function () {
                        m();
                      },
                      !1
                    )
                  : g.attachEvent &&
                    g.attachEvent("onunload", function () {
                      m();
                    })),
              (c.attributes = ib(function (a) {
                return (a.className = "i"), !a.getAttribute("className");
              })),
              (c.getElementsByTagName = ib(function (a) {
                return (
                  a.appendChild(e.createComment("")),
                  !a.getElementsByTagName("*").length
                );
              })),
              (c.getElementsByClassName =
                $.test(e.getElementsByClassName) &&
                ib(function (a) {
                  return (
                    (a.innerHTML =
                      "<div class='a'></div><div class='a i'></div>"),
                    (a.firstChild.className = "i"),
                    2 === a.getElementsByClassName("i").length
                  );
                })),
              (c.getById = ib(function (a) {
                return (
                  (o.appendChild(a).id = u),
                  !e.getElementsByName || !e.getElementsByName(u).length
                );
              })),
              c.getById
                ? ((d.find.ID = function (a, b) {
                    if (typeof b.getElementById !== C && p) {
                      var c = b.getElementById(a);
                      return c && c.parentNode ? [c] : [];
                    }
                  }),
                  (d.filter.ID = function (a) {
                    var b = a.replace(cb, db);
                    return function (a) {
                      return a.getAttribute("id") === b;
                    };
                  }))
                : (delete d.find.ID,
                  (d.filter.ID = function (a) {
                    var b = a.replace(cb, db);
                    return function (a) {
                      var c =
                        typeof a.getAttributeNode !== C &&
                        a.getAttributeNode("id");
                      return c && c.value === b;
                    };
                  })),
              (d.find.TAG = c.getElementsByTagName
                ? function (a, b) {
                    return typeof b.getElementsByTagName !== C
                      ? b.getElementsByTagName(a)
                      : void 0;
                  }
                : function (a, b) {
                    var c,
                      d = [],
                      e = 0,
                      f = b.getElementsByTagName(a);
                    if ("*" === a) {
                      while ((c = f[e++])) 1 === c.nodeType && d.push(c);
                      return d;
                    }
                    return f;
                  }),
              (d.find.CLASS =
                c.getElementsByClassName &&
                function (a, b) {
                  return typeof b.getElementsByClassName !== C && p
                    ? b.getElementsByClassName(a)
                    : void 0;
                }),
              (r = []),
              (q = []),
              (c.qsa = $.test(e.querySelectorAll)) &&
                (ib(function (a) {
                  (a.innerHTML =
                    "<select msallowclip=''><option selected=''></option></select>"),
                    a.querySelectorAll("[msallowclip^='']").length &&
                      q.push("[*^$]=" + M + "*(?:''|\"\")"),
                    a.querySelectorAll("[selected]").length ||
                      q.push("\\[" + M + "*(?:value|" + L + ")"),
                    a.querySelectorAll(":checked").length || q.push(":checked");
                }),
                ib(function (a) {
                  var b = e.createElement("input");
                  b.setAttribute("type", "hidden"),
                    a.appendChild(b).setAttribute("name", "D"),
                    a.querySelectorAll("[name=d]").length &&
                      q.push("name" + M + "*[*^$|!~]?="),
                    a.querySelectorAll(":enabled").length ||
                      q.push(":enabled", ":disabled"),
                    a.querySelectorAll("*,:x"),
                    q.push(",.*:");
                })),
              (c.matchesSelector = $.test(
                (s =
                  o.matches ||
                  o.webkitMatchesSelector ||
                  o.mozMatchesSelector ||
                  o.oMatchesSelector ||
                  o.msMatchesSelector)
              )) &&
                ib(function (a) {
                  (c.disconnectedMatch = s.call(a, "div")),
                    s.call(a, "[s!='']:x"),
                    r.push("!=", Q);
                }),
              (q = q.length && new RegExp(q.join("|"))),
              (r = r.length && new RegExp(r.join("|"))),
              (b = $.test(o.compareDocumentPosition)),
              (t =
                b || $.test(o.contains)
                  ? function (a, b) {
                      var c = 9 === a.nodeType ? a.documentElement : a,
                        d = b && b.parentNode;
                      return (
                        a === d ||
                        !(
                          !d ||
                          1 !== d.nodeType ||
                          !(c.contains
                            ? c.contains(d)
                            : a.compareDocumentPosition &&
                              16 & a.compareDocumentPosition(d))
                        )
                      );
                    }
                  : function (a, b) {
                      if (b) while ((b = b.parentNode)) if (b === a) return !0;
                      return !1;
                    }),
              (B = b
                ? function (a, b) {
                    if (a === b) return (l = !0), 0;
                    var d =
                      !a.compareDocumentPosition - !b.compareDocumentPosition;
                    return d
                      ? d
                      : ((d =
                          (a.ownerDocument || a) === (b.ownerDocument || b)
                            ? a.compareDocumentPosition(b)
                            : 1),
                        1 & d ||
                        (!c.sortDetached && b.compareDocumentPosition(a) === d)
                          ? a === e || (a.ownerDocument === v && t(v, a))
                            ? -1
                            : b === e || (b.ownerDocument === v && t(v, b))
                            ? 1
                            : k
                            ? K.call(k, a) - K.call(k, b)
                            : 0
                          : 4 & d
                          ? -1
                          : 1);
                  }
                : function (a, b) {
                    if (a === b) return (l = !0), 0;
                    var c,
                      d = 0,
                      f = a.parentNode,
                      g = b.parentNode,
                      h = [a],
                      i = [b];
                    if (!f || !g)
                      return a === e
                        ? -1
                        : b === e
                        ? 1
                        : f
                        ? -1
                        : g
                        ? 1
                        : k
                        ? K.call(k, a) - K.call(k, b)
                        : 0;
                    if (f === g) return kb(a, b);
                    c = a;
                    while ((c = c.parentNode)) h.unshift(c);
                    c = b;
                    while ((c = c.parentNode)) i.unshift(c);
                    while (h[d] === i[d]) d++;
                    return d
                      ? kb(h[d], i[d])
                      : h[d] === v
                      ? -1
                      : i[d] === v
                      ? 1
                      : 0;
                  }),
              e)
            : n;
        }),
      (fb.matches = function (a, b) {
        return fb(a, null, null, b);
      }),
      (fb.matchesSelector = function (a, b) {
        if (
          ((a.ownerDocument || a) !== n && m(a),
          (b = b.replace(U, "='$1']")),
          !(!c.matchesSelector || !p || (r && r.test(b)) || (q && q.test(b))))
        )
          try {
            var d = s.call(a, b);
            if (
              d ||
              c.disconnectedMatch ||
              (a.document && 11 !== a.document.nodeType)
            )
              return d;
          } catch (e) {}
        return fb(b, n, null, [a]).length > 0;
      }),
      (fb.contains = function (a, b) {
        return (a.ownerDocument || a) !== n && m(a), t(a, b);
      }),
      (fb.attr = function (a, b) {
        (a.ownerDocument || a) !== n && m(a);
        var e = d.attrHandle[b.toLowerCase()],
          f = e && E.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
        return void 0 !== f
          ? f
          : c.attributes || !p
          ? a.getAttribute(b)
          : (f = a.getAttributeNode(b)) && f.specified
          ? f.value
          : null;
      }),
      (fb.error = function (a) {
        throw new Error("Syntax error, unrecognized expression: " + a);
      }),
      (fb.uniqueSort = function (a) {
        var b,
          d = [],
          e = 0,
          f = 0;
        if (
          ((l = !c.detectDuplicates),
          (k = !c.sortStable && a.slice(0)),
          a.sort(B),
          l)
        ) {
          while ((b = a[f++])) b === a[f] && (e = d.push(f));
          while (e--) a.splice(d[e], 1);
        }
        return (k = null), a;
      }),
      (e = fb.getText =
        function (a) {
          var b,
            c = "",
            d = 0,
            f = a.nodeType;
          if (f) {
            if (1 === f || 9 === f || 11 === f) {
              if ("string" == typeof a.textContent) return a.textContent;
              for (a = a.firstChild; a; a = a.nextSibling) c += e(a);
            } else if (3 === f || 4 === f) return a.nodeValue;
          } else while ((b = a[d++])) c += e(b);
          return c;
        }),
      (d = fb.selectors =
        {
          cacheLength: 50,
          createPseudo: hb,
          match: X,
          attrHandle: {},
          find: {},
          relative: {
            ">": {
              dir: "parentNode",
              first: !0,
            },
            " ": {
              dir: "parentNode",
            },
            "+": {
              dir: "previousSibling",
              first: !0,
            },
            "~": {
              dir: "previousSibling",
            },
          },
          preFilter: {
            ATTR: function (a) {
              return (
                (a[1] = a[1].replace(cb, db)),
                (a[3] = (a[3] || a[4] || a[5] || "").replace(cb, db)),
                "~=" === a[2] && (a[3] = " " + a[3] + " "),
                a.slice(0, 4)
              );
            },
            CHILD: function (a) {
              return (
                (a[1] = a[1].toLowerCase()),
                "nth" === a[1].slice(0, 3)
                  ? (a[3] || fb.error(a[0]),
                    (a[4] = +(a[4]
                      ? a[5] + (a[6] || 1)
                      : 2 * ("even" === a[3] || "odd" === a[3]))),
                    (a[5] = +(a[7] + a[8] || "odd" === a[3])))
                  : a[3] && fb.error(a[0]),
                a
              );
            },
            PSEUDO: function (a) {
              var b,
                c = !a[6] && a[2];
              return X.CHILD.test(a[0])
                ? null
                : (a[3]
                    ? (a[2] = a[4] || a[5] || "")
                    : c &&
                      V.test(c) &&
                      (b = g(c, !0)) &&
                      (b = c.indexOf(")", c.length - b) - c.length) &&
                      ((a[0] = a[0].slice(0, b)), (a[2] = c.slice(0, b))),
                  a.slice(0, 3));
            },
          },
          filter: {
            TAG: function (a) {
              var b = a.replace(cb, db).toLowerCase();
              return "*" === a
                ? function () {
                    return !0;
                  }
                : function (a) {
                    return a.nodeName && a.nodeName.toLowerCase() === b;
                  };
            },
            CLASS: function (a) {
              var b = y[a + " "];
              return (
                b ||
                ((b = new RegExp("(^|" + M + ")" + a + "(" + M + "|$)")) &&
                  y(a, function (a) {
                    return b.test(
                      ("string" == typeof a.className && a.className) ||
                        (typeof a.getAttribute !== C &&
                          a.getAttribute("class")) ||
                        ""
                    );
                  }))
              );
            },
            ATTR: function (a, b, c) {
              return function (d) {
                var e = fb.attr(d, a);
                return null == e
                  ? "!=" === b
                  : b
                  ? ((e += ""),
                    "=" === b
                      ? e === c
                      : "!=" === b
                      ? e !== c
                      : "^=" === b
                      ? c && 0 === e.indexOf(c)
                      : "*=" === b
                      ? c && e.indexOf(c) > -1
                      : "$=" === b
                      ? c && e.slice(-c.length) === c
                      : "~=" === b
                      ? (" " + e + " ").indexOf(c) > -1
                      : "|=" === b
                      ? e === c || e.slice(0, c.length + 1) === c + "-"
                      : !1)
                  : !0;
              };
            },
            CHILD: function (a, b, c, d, e) {
              var f = "nth" !== a.slice(0, 3),
                g = "last" !== a.slice(-4),
                h = "of-type" === b;
              return 1 === d && 0 === e
                ? function (a) {
                    return !!a.parentNode;
                  }
                : function (b, c, i) {
                    var j,
                      k,
                      l,
                      m,
                      n,
                      o,
                      p = f !== g ? "nextSibling" : "previousSibling",
                      q = b.parentNode,
                      r = h && b.nodeName.toLowerCase(),
                      s = !i && !h;
                    if (q) {
                      if (f) {
                        while (p) {
                          l = b;
                          while ((l = l[p]))
                            if (
                              h
                                ? l.nodeName.toLowerCase() === r
                                : 1 === l.nodeType
                            )
                              return !1;
                          o = p = "only" === a && !o && "nextSibling";
                        }
                        return !0;
                      }
                      if (((o = [g ? q.firstChild : q.lastChild]), g && s)) {
                        (k = q[u] || (q[u] = {})),
                          (j = k[a] || []),
                          (n = j[0] === w && j[1]),
                          (m = j[0] === w && j[2]),
                          (l = n && q.childNodes[n]);
                        while (
                          (l = (++n && l && l[p]) || (m = n = 0) || o.pop())
                        )
                          if (1 === l.nodeType && ++m && l === b) {
                            k[a] = [w, n, m];
                            break;
                          }
                      } else if (
                        s &&
                        (j = (b[u] || (b[u] = {}))[a]) &&
                        j[0] === w
                      )
                        m = j[1];
                      else
                        while (
                          (l = (++n && l && l[p]) || (m = n = 0) || o.pop())
                        )
                          if (
                            (h
                              ? l.nodeName.toLowerCase() === r
                              : 1 === l.nodeType) &&
                            ++m &&
                            (s && ((l[u] || (l[u] = {}))[a] = [w, m]), l === b)
                          )
                            break;
                      return (m -= e), m === d || (m % d === 0 && m / d >= 0);
                    }
                  };
            },
            PSEUDO: function (a, b) {
              var c,
                e =
                  d.pseudos[a] ||
                  d.setFilters[a.toLowerCase()] ||
                  fb.error("unsupported pseudo: " + a);
              return e[u]
                ? e(b)
                : e.length > 1
                ? ((c = [a, a, "", b]),
                  d.setFilters.hasOwnProperty(a.toLowerCase())
                    ? hb(function (a, c) {
                        var d,
                          f = e(a, b),
                          g = f.length;
                        while (g--)
                          (d = K.call(a, f[g])), (a[d] = !(c[d] = f[g]));
                      })
                    : function (a) {
                        return e(a, 0, c);
                      })
                : e;
            },
          },
          pseudos: {
            not: hb(function (a) {
              var b = [],
                c = [],
                d = h(a.replace(R, "$1"));
              return d[u]
                ? hb(function (a, b, c, e) {
                    var f,
                      g = d(a, null, e, []),
                      h = a.length;
                    while (h--) (f = g[h]) && (a[h] = !(b[h] = f));
                  })
                : function (a, e, f) {
                    return (b[0] = a), d(b, null, f, c), !c.pop();
                  };
            }),
            has: hb(function (a) {
              return function (b) {
                return fb(a, b).length > 0;
              };
            }),
            contains: hb(function (a) {
              return function (b) {
                return (b.textContent || b.innerText || e(b)).indexOf(a) > -1;
              };
            }),
            lang: hb(function (a) {
              return (
                W.test(a || "") || fb.error("unsupported lang: " + a),
                (a = a.replace(cb, db).toLowerCase()),
                function (b) {
                  var c;
                  do
                    if (
                      (c = p
                        ? b.lang
                        : b.getAttribute("xml:lang") || b.getAttribute("lang"))
                    )
                      return (
                        (c = c.toLowerCase()),
                        c === a || 0 === c.indexOf(a + "-")
                      );
                  while ((b = b.parentNode) && 1 === b.nodeType);
                  return !1;
                }
              );
            }),
            target: function (b) {
              var c = a.location && a.location.hash;
              return c && c.slice(1) === b.id;
            },
            root: function (a) {
              return a === o;
            },
            focus: function (a) {
              return (
                a === n.activeElement &&
                (!n.hasFocus || n.hasFocus()) &&
                !!(a.type || a.href || ~a.tabIndex)
              );
            },
            enabled: function (a) {
              return a.disabled === !1;
            },
            disabled: function (a) {
              return a.disabled === !0;
            },
            checked: function (a) {
              var b = a.nodeName.toLowerCase();
              return (
                ("input" === b && !!a.checked) ||
                ("option" === b && !!a.selected)
              );
            },
            selected: function (a) {
              return (
                a.parentNode && a.parentNode.selectedIndex, a.selected === !0
              );
            },
            empty: function (a) {
              for (a = a.firstChild; a; a = a.nextSibling)
                if (a.nodeType < 6) return !1;
              return !0;
            },
            parent: function (a) {
              return !d.pseudos.empty(a);
            },
            header: function (a) {
              return Z.test(a.nodeName);
            },
            input: function (a) {
              return Y.test(a.nodeName);
            },
            button: function (a) {
              var b = a.nodeName.toLowerCase();
              return ("input" === b && "button" === a.type) || "button" === b;
            },
            text: function (a) {
              var b;
              return (
                "input" === a.nodeName.toLowerCase() &&
                "text" === a.type &&
                (null == (b = a.getAttribute("type")) ||
                  "text" === b.toLowerCase())
              );
            },
            first: nb(function () {
              return [0];
            }),
            last: nb(function (a, b) {
              return [b - 1];
            }),
            eq: nb(function (a, b, c) {
              return [0 > c ? c + b : c];
            }),
            even: nb(function (a, b) {
              for (var c = 0; b > c; c += 2) a.push(c);
              return a;
            }),
            odd: nb(function (a, b) {
              for (var c = 1; b > c; c += 2) a.push(c);
              return a;
            }),
            lt: nb(function (a, b, c) {
              for (var d = 0 > c ? c + b : c; --d >= 0; ) a.push(d);
              return a;
            }),
            gt: nb(function (a, b, c) {
              for (var d = 0 > c ? c + b : c; ++d < b; ) a.push(d);
              return a;
            }),
          },
        }),
      (d.pseudos.nth = d.pseudos.eq);
    for (b in {
      radio: !0,
      checkbox: !0,
      file: !0,
      password: !0,
      image: !0,
    })
      d.pseudos[b] = lb(b);
    for (b in {
      submit: !0,
      reset: !0,
    })
      d.pseudos[b] = mb(b);

    function pb() {}
    (pb.prototype = d.filters = d.pseudos),
      (d.setFilters = new pb()),
      (g = fb.tokenize =
        function (a, b) {
          var c,
            e,
            f,
            g,
            h,
            i,
            j,
            k = z[a + " "];
          if (k) return b ? 0 : k.slice(0);
          (h = a), (i = []), (j = d.preFilter);
          while (h) {
            (!c || (e = S.exec(h))) &&
              (e && (h = h.slice(e[0].length) || h), i.push((f = []))),
              (c = !1),
              (e = T.exec(h)) &&
                ((c = e.shift()),
                f.push({
                  value: c,
                  type: e[0].replace(R, " "),
                }),
                (h = h.slice(c.length)));
            for (g in d.filter)
              !(e = X[g].exec(h)) ||
                (j[g] && !(e = j[g](e))) ||
                ((c = e.shift()),
                f.push({
                  value: c,
                  type: g,
                  matches: e,
                }),
                (h = h.slice(c.length)));
            if (!c) break;
          }
          return b ? h.length : h ? fb.error(a) : z(a, i).slice(0);
        });

    function qb(a) {
      for (var b = 0, c = a.length, d = ""; c > b; b++) d += a[b].value;
      return d;
    }

    function rb(a, b, c) {
      var d = b.dir,
        e = c && "parentNode" === d,
        f = x++;
      return b.first
        ? function (b, c, f) {
            while ((b = b[d])) if (1 === b.nodeType || e) return a(b, c, f);
          }
        : function (b, c, g) {
            var h,
              i,
              j = [w, f];
            if (g) {
              while ((b = b[d]))
                if ((1 === b.nodeType || e) && a(b, c, g)) return !0;
            } else
              while ((b = b[d]))
                if (1 === b.nodeType || e) {
                  if (
                    ((i = b[u] || (b[u] = {})),
                    (h = i[d]) && h[0] === w && h[1] === f)
                  )
                    return (j[2] = h[2]);
                  if (((i[d] = j), (j[2] = a(b, c, g)))) return !0;
                }
          };
    }

    function sb(a) {
      return a.length > 1
        ? function (b, c, d) {
            var e = a.length;
            while (e--) if (!a[e](b, c, d)) return !1;
            return !0;
          }
        : a[0];
    }

    function tb(a, b, c) {
      for (var d = 0, e = b.length; e > d; d++) fb(a, b[d], c);
      return c;
    }

    function ub(a, b, c, d, e) {
      for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)
        (f = a[h]) && (!c || c(f, d, e)) && (g.push(f), j && b.push(h));
      return g;
    }

    function vb(a, b, c, d, e, f) {
      return (
        d && !d[u] && (d = vb(d)),
        e && !e[u] && (e = vb(e, f)),
        hb(function (f, g, h, i) {
          var j,
            k,
            l,
            m = [],
            n = [],
            o = g.length,
            p = f || tb(b || "*", h.nodeType ? [h] : h, []),
            q = !a || (!f && b) ? p : ub(p, m, a, h, i),
            r = c ? (e || (f ? a : o || d) ? [] : g) : q;
          if ((c && c(q, r, h, i), d)) {
            (j = ub(r, n)), d(j, [], h, i), (k = j.length);
            while (k--) (l = j[k]) && (r[n[k]] = !(q[n[k]] = l));
          }
          if (f) {
            if (e || a) {
              if (e) {
                (j = []), (k = r.length);
                while (k--) (l = r[k]) && j.push((q[k] = l));
                e(null, (r = []), j, i);
              }
              k = r.length;
              while (k--)
                (l = r[k]) &&
                  (j = e ? K.call(f, l) : m[k]) > -1 &&
                  (f[j] = !(g[j] = l));
            }
          } else (r = ub(r === g ? r.splice(o, r.length) : r)), e ? e(null, g, r, i) : I.apply(g, r);
        })
      );
    }

    function wb(a) {
      for (
        var b,
          c,
          e,
          f = a.length,
          g = d.relative[a[0].type],
          h = g || d.relative[" "],
          i = g ? 1 : 0,
          k = rb(
            function (a) {
              return a === b;
            },
            h,
            !0
          ),
          l = rb(
            function (a) {
              return K.call(b, a) > -1;
            },
            h,
            !0
          ),
          m = [
            function (a, c, d) {
              return (
                (!g && (d || c !== j)) ||
                ((b = c).nodeType ? k(a, c, d) : l(a, c, d))
              );
            },
          ];
        f > i;
        i++
      )
        if ((c = d.relative[a[i].type])) m = [rb(sb(m), c)];
        else {
          if (((c = d.filter[a[i].type].apply(null, a[i].matches)), c[u])) {
            for (e = ++i; f > e; e++) if (d.relative[a[e].type]) break;
            return vb(
              i > 1 && sb(m),
              i > 1 &&
                qb(
                  a.slice(0, i - 1).concat({
                    value: " " === a[i - 2].type ? "*" : "",
                  })
                ).replace(R, "$1"),
              c,
              e > i && wb(a.slice(i, e)),
              f > e && wb((a = a.slice(e))),
              f > e && qb(a)
            );
          }
          m.push(c);
        }
      return sb(m);
    }

    function xb(a, b) {
      var c = b.length > 0,
        e = a.length > 0,
        f = function (f, g, h, i, k) {
          var l,
            m,
            o,
            p = 0,
            q = "0",
            r = f && [],
            s = [],
            t = j,
            u = f || (e && d.find.TAG("*", k)),
            v = (w += null == t ? 1 : Math.random() || 0.1),
            x = u.length;
          for (k && (j = g !== n && g); q !== x && null != (l = u[q]); q++) {
            if (e && l) {
              m = 0;
              while ((o = a[m++]))
                if (o(l, g, h)) {
                  i.push(l);
                  break;
                }
              k && (w = v);
            }
            c && ((l = !o && l) && p--, f && r.push(l));
          }
          if (((p += q), c && q !== p)) {
            m = 0;
            while ((o = b[m++])) o(r, s, g, h);
            if (f) {
              if (p > 0) while (q--) r[q] || s[q] || (s[q] = G.call(i));
              s = ub(s);
            }
            I.apply(i, s),
              k && !f && s.length > 0 && p + b.length > 1 && fb.uniqueSort(i);
          }
          return k && ((w = v), (j = t)), r;
        };
      return c ? hb(f) : f;
    }
    return (
      (h = fb.compile =
        function (a, b) {
          var c,
            d = [],
            e = [],
            f = A[a + " "];
          if (!f) {
            b || (b = g(a)), (c = b.length);
            while (c--) (f = wb(b[c])), f[u] ? d.push(f) : e.push(f);
            (f = A(a, xb(e, d))), (f.selector = a);
          }
          return f;
        }),
      (i = fb.select =
        function (a, b, e, f) {
          var i,
            j,
            k,
            l,
            m,
            n = "function" == typeof a && a,
            o = !f && g((a = n.selector || a));
          if (((e = e || []), 1 === o.length)) {
            if (
              ((j = o[0] = o[0].slice(0)),
              j.length > 2 &&
                "ID" === (k = j[0]).type &&
                c.getById &&
                9 === b.nodeType &&
                p &&
                d.relative[j[1].type])
            ) {
              if (
                ((b = (d.find.ID(k.matches[0].replace(cb, db), b) || [])[0]),
                !b)
              )
                return e;
              n && (b = b.parentNode), (a = a.slice(j.shift().value.length));
            }
            i = X.needsContext.test(a) ? 0 : j.length;
            while (i--) {
              if (((k = j[i]), d.relative[(l = k.type)])) break;
              if (
                (m = d.find[l]) &&
                (f = m(
                  k.matches[0].replace(cb, db),
                  (ab.test(j[0].type) && ob(b.parentNode)) || b
                ))
              ) {
                if ((j.splice(i, 1), (a = f.length && qb(j)), !a))
                  return I.apply(e, f), e;
                break;
              }
            }
          }
          return (
            (n || h(a, o))(f, b, !p, e, (ab.test(a) && ob(b.parentNode)) || b),
            e
          );
        }),
      (c.sortStable = u.split("").sort(B).join("") === u),
      (c.detectDuplicates = !!l),
      m(),
      (c.sortDetached = ib(function (a) {
        return 1 & a.compareDocumentPosition(n.createElement("div"));
      })),
      ib(function (a) {
        return (
          (a.innerHTML = "<a href='#'></a>"),
          "#" === a.firstChild.getAttribute("href")
        );
      }) ||
        jb("type|href|height|width", function (a, b, c) {
          return c
            ? void 0
            : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2);
        }),
      (c.attributes &&
        ib(function (a) {
          return (
            (a.innerHTML = "<input/>"),
            a.firstChild.setAttribute("value", ""),
            "" === a.firstChild.getAttribute("value")
          );
        })) ||
        jb("value", function (a, b, c) {
          return c || "input" !== a.nodeName.toLowerCase()
            ? void 0
            : a.defaultValue;
        }),
      ib(function (a) {
        return null == a.getAttribute("disabled");
      }) ||
        jb(L, function (a, b, c) {
          var d;
          return c
            ? void 0
            : a[b] === !0
            ? b.toLowerCase()
            : (d = a.getAttributeNode(b)) && d.specified
            ? d.value
            : null;
        }),
      fb
    );
  })(a);
  (n.find = t),
    (n.expr = t.selectors),
    (n.expr[":"] = n.expr.pseudos),
    (n.unique = t.uniqueSort),
    (n.text = t.getText),
    (n.isXMLDoc = t.isXML),
    (n.contains = t.contains);
  var u = n.expr.match.needsContext,
    v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
    w = /^.[^:#\[\.,]*$/;

  function x(a, b, c) {
    if (n.isFunction(b))
      return n.grep(a, function (a, d) {
        return !!b.call(a, d, a) !== c;
      });
    if (b.nodeType)
      return n.grep(a, function (a) {
        return (a === b) !== c;
      });
    if ("string" == typeof b) {
      if (w.test(b)) return n.filter(b, a, c);
      b = n.filter(b, a);
    }
    return n.grep(a, function (a) {
      return g.call(b, a) >= 0 !== c;
    });
  }
  (n.filter = function (a, b, c) {
    var d = b[0];
    return (
      c && (a = ":not(" + a + ")"),
      1 === b.length && 1 === d.nodeType
        ? n.find.matchesSelector(d, a)
          ? [d]
          : []
        : n.find.matches(
            a,
            n.grep(b, function (a) {
              return 1 === a.nodeType;
            })
          )
    );
  }),
    n.fn.extend({
      find: function (a) {
        var b,
          c = this.length,
          d = [],
          e = this;
        if ("string" != typeof a)
          return this.pushStack(
            n(a).filter(function () {
              for (b = 0; c > b; b++) if (n.contains(e[b], this)) return !0;
            })
          );
        for (b = 0; c > b; b++) n.find(a, e[b], d);
        return (
          (d = this.pushStack(c > 1 ? n.unique(d) : d)),
          (d.selector = this.selector ? this.selector + " " + a : a),
          d
        );
      },
      filter: function (a) {
        return this.pushStack(x(this, a || [], !1));
      },
      not: function (a) {
        return this.pushStack(x(this, a || [], !0));
      },
      is: function (a) {
        return !!x(this, "string" == typeof a && u.test(a) ? n(a) : a || [], !1)
          .length;
      },
    });
  var y,
    z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
    A = (n.fn.init = function (a, b) {
      var c, d;
      if (!a) return this;
      if ("string" == typeof a) {
        if (
          ((c =
            "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3
              ? [null, a, null]
              : z.exec(a)),
          !c || (!c[1] && b))
        )
          return !b || b.jquery
            ? (b || y).find(a)
            : this.constructor(b).find(a);
        if (c[1]) {
          if (
            ((b = b instanceof n ? b[0] : b),
            n.merge(
              this,
              n.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : l, !0)
            ),
            v.test(c[1]) && n.isPlainObject(b))
          )
            for (c in b)
              n.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
          return this;
        }
        return (
          (d = l.getElementById(c[2])),
          d && d.parentNode && ((this.length = 1), (this[0] = d)),
          (this.context = l),
          (this.selector = a),
          this
        );
      }
      return a.nodeType
        ? ((this.context = this[0] = a), (this.length = 1), this)
        : n.isFunction(a)
        ? "undefined" != typeof y.ready
          ? y.ready(a)
          : a(n)
        : (void 0 !== a.selector &&
            ((this.selector = a.selector), (this.context = a.context)),
          n.makeArray(a, this));
    });
  (A.prototype = n.fn), (y = n(l));
  var B = /^(?:parents|prev(?:Until|All))/,
    C = {
      children: !0,
      contents: !0,
      next: !0,
      prev: !0,
    };
  n.extend({
    dir: function (a, b, c) {
      var d = [],
        e = void 0 !== c;
      while ((a = a[b]) && 9 !== a.nodeType)
        if (1 === a.nodeType) {
          if (e && n(a).is(c)) break;
          d.push(a);
        }
      return d;
    },
    sibling: function (a, b) {
      for (var c = []; a; a = a.nextSibling)
        1 === a.nodeType && a !== b && c.push(a);
      return c;
    },
  }),
    n.fn.extend({
      has: function (a) {
        var b = n(a, this),
          c = b.length;
        return this.filter(function () {
          for (var a = 0; c > a; a++) if (n.contains(this, b[a])) return !0;
        });
      },
      closest: function (a, b) {
        for (
          var c,
            d = 0,
            e = this.length,
            f = [],
            g = u.test(a) || "string" != typeof a ? n(a, b || this.context) : 0;
          e > d;
          d++
        )
          for (c = this[d]; c && c !== b; c = c.parentNode)
            if (
              c.nodeType < 11 &&
              (g
                ? g.index(c) > -1
                : 1 === c.nodeType && n.find.matchesSelector(c, a))
            ) {
              f.push(c);
              break;
            }
        return this.pushStack(f.length > 1 ? n.unique(f) : f);
      },
      index: function (a) {
        return a
          ? "string" == typeof a
            ? g.call(n(a), this[0])
            : g.call(this, a.jquery ? a[0] : a)
          : this[0] && this[0].parentNode
          ? this.first().prevAll().length
          : -1;
      },
      add: function (a, b) {
        return this.pushStack(n.unique(n.merge(this.get(), n(a, b))));
      },
      addBack: function (a) {
        return this.add(
          null == a ? this.prevObject : this.prevObject.filter(a)
        );
      },
    });

  function D(a, b) {
    while ((a = a[b]) && 1 !== a.nodeType);
    return a;
  }
  n.each(
    {
      parent: function (a) {
        var b = a.parentNode;
        return b && 11 !== b.nodeType ? b : null;
      },
      parents: function (a) {
        return n.dir(a, "parentNode");
      },
      parentsUntil: function (a, b, c) {
        return n.dir(a, "parentNode", c);
      },
      next: function (a) {
        return D(a, "nextSibling");
      },
      prev: function (a) {
        return D(a, "previousSibling");
      },
      nextAll: function (a) {
        return n.dir(a, "nextSibling");
      },
      prevAll: function (a) {
        return n.dir(a, "previousSibling");
      },
      nextUntil: function (a, b, c) {
        return n.dir(a, "nextSibling", c);
      },
      prevUntil: function (a, b, c) {
        return n.dir(a, "previousSibling", c);
      },
      siblings: function (a) {
        return n.sibling((a.parentNode || {}).firstChild, a);
      },
      children: function (a) {
        return n.sibling(a.firstChild);
      },
      contents: function (a) {
        return a.contentDocument || n.merge([], a.childNodes);
      },
    },
    function (a, b) {
      n.fn[a] = function (c, d) {
        var e = n.map(this, b, c);
        return (
          "Until" !== a.slice(-5) && (d = c),
          d && "string" == typeof d && (e = n.filter(d, e)),
          this.length > 1 && (C[a] || n.unique(e), B.test(a) && e.reverse()),
          this.pushStack(e)
        );
      };
    }
  );
  var E = /\S+/g,
    F = {};

  function G(a) {
    var b = (F[a] = {});
    return (
      n.each(a.match(E) || [], function (a, c) {
        b[c] = !0;
      }),
      b
    );
  }
  (n.Callbacks = function (a) {
    a = "string" == typeof a ? F[a] || G(a) : n.extend({}, a);
    var b,
      c,
      d,
      e,
      f,
      g,
      h = [],
      i = !a.once && [],
      j = function (l) {
        for (
          b = a.memory && l, c = !0, g = e || 0, e = 0, f = h.length, d = !0;
          h && f > g;
          g++
        )
          if (h[g].apply(l[0], l[1]) === !1 && a.stopOnFalse) {
            b = !1;
            break;
          }
        (d = !1),
          h && (i ? i.length && j(i.shift()) : b ? (h = []) : k.disable());
      },
      k = {
        add: function () {
          if (h) {
            var c = h.length;
            !(function g(b) {
              n.each(b, function (b, c) {
                var d = n.type(c);
                "function" === d
                  ? (a.unique && k.has(c)) || h.push(c)
                  : c && c.length && "string" !== d && g(c);
              });
            })(arguments),
              d ? (f = h.length) : b && ((e = c), j(b));
          }
          return this;
        },
        remove: function () {
          return (
            h &&
              n.each(arguments, function (a, b) {
                var c;
                while ((c = n.inArray(b, h, c)) > -1)
                  h.splice(c, 1), d && (f >= c && f--, g >= c && g--);
              }),
            this
          );
        },
        has: function (a) {
          return a ? n.inArray(a, h) > -1 : !(!h || !h.length);
        },
        empty: function () {
          return (h = []), (f = 0), this;
        },
        disable: function () {
          return (h = i = b = void 0), this;
        },
        disabled: function () {
          return !h;
        },
        lock: function () {
          return (i = void 0), b || k.disable(), this;
        },
        locked: function () {
          return !i;
        },
        fireWith: function (a, b) {
          return (
            !h ||
              (c && !i) ||
              ((b = b || []),
              (b = [a, b.slice ? b.slice() : b]),
              d ? i.push(b) : j(b)),
            this
          );
        },
        fire: function () {
          return k.fireWith(this, arguments), this;
        },
        fired: function () {
          return !!c;
        },
      };
    return k;
  }),
    n.extend({
      Deferred: function (a) {
        var b = [
            ["resolve", "done", n.Callbacks("once memory"), "resolved"],
            ["reject", "fail", n.Callbacks("once memory"), "rejected"],
            ["notify", "progress", n.Callbacks("memory")],
          ],
          c = "pending",
          d = {
            state: function () {
              return c;
            },
            always: function () {
              return e.done(arguments).fail(arguments), this;
            },
            then: function () {
              var a = arguments;
              return n
                .Deferred(function (c) {
                  n.each(b, function (b, f) {
                    var g = n.isFunction(a[b]) && a[b];
                    e[f[1]](function () {
                      var a = g && g.apply(this, arguments);
                      a && n.isFunction(a.promise)
                        ? a
                            .promise()
                            .done(c.resolve)
                            .fail(c.reject)
                            .progress(c.notify)
                        : c[f[0] + "With"](
                            this === d ? c.promise() : this,
                            g ? [a] : arguments
                          );
                    });
                  }),
                    (a = null);
                })
                .promise();
            },
            promise: function (a) {
              return null != a ? n.extend(a, d) : d;
            },
          },
          e = {};
        return (
          (d.pipe = d.then),
          n.each(b, function (a, f) {
            var g = f[2],
              h = f[3];
            (d[f[1]] = g.add),
              h &&
                g.add(
                  function () {
                    c = h;
                  },
                  b[1 ^ a][2].disable,
                  b[2][2].lock
                ),
              (e[f[0]] = function () {
                return e[f[0] + "With"](this === e ? d : this, arguments), this;
              }),
              (e[f[0] + "With"] = g.fireWith);
          }),
          d.promise(e),
          a && a.call(e, e),
          e
        );
      },
      when: function (a) {
        var b = 0,
          c = d.call(arguments),
          e = c.length,
          f = 1 !== e || (a && n.isFunction(a.promise)) ? e : 0,
          g = 1 === f ? a : n.Deferred(),
          h = function (a, b, c) {
            return function (e) {
              (b[a] = this),
                (c[a] = arguments.length > 1 ? d.call(arguments) : e),
                c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c);
            };
          },
          i,
          j,
          k;
        if (e > 1)
          for (i = new Array(e), j = new Array(e), k = new Array(e); e > b; b++)
            c[b] && n.isFunction(c[b].promise)
              ? c[b]
                  .promise()
                  .done(h(b, k, c))
                  .fail(g.reject)
                  .progress(h(b, j, i))
              : --f;
        return f || g.resolveWith(k, c), g.promise();
      },
    });
  var H;
  (n.fn.ready = function (a) {
    return n.ready.promise().done(a), this;
  }),
    n.extend({
      isReady: !1,
      readyWait: 1,
      holdReady: function (a) {
        a ? n.readyWait++ : n.ready(!0);
      },
      ready: function (a) {
        (a === !0 ? --n.readyWait : n.isReady) ||
          ((n.isReady = !0),
          (a !== !0 && --n.readyWait > 0) ||
            (H.resolveWith(l, [n]),
            n.fn.triggerHandler &&
              (n(l).triggerHandler("ready"), n(l).off("ready"))));
      },
    });

  function I() {
    l.removeEventListener("DOMContentLoaded", I, !1),
      a.removeEventListener("load", I, !1),
      n.ready();
  }
  (n.ready.promise = function (b) {
    return (
      H ||
        ((H = n.Deferred()),
        "complete" === l.readyState
          ? setTimeout(n.ready)
          : (l.addEventListener("DOMContentLoaded", I, !1),
            a.addEventListener("load", I, !1))),
      H.promise(b)
    );
  }),
    n.ready.promise();
  var J = (n.access = function (a, b, c, d, e, f, g) {
    var h = 0,
      i = a.length,
      j = null == c;
    if ("object" === n.type(c)) {
      e = !0;
      for (h in c) n.access(a, b, h, c[h], !0, f, g);
    } else if (
      void 0 !== d &&
      ((e = !0),
      n.isFunction(d) || (g = !0),
      j &&
        (g
          ? (b.call(a, d), (b = null))
          : ((j = b),
            (b = function (a, b, c) {
              return j.call(n(a), c);
            }))),
      b)
    )
      for (; i > h; h++) b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
    return e ? a : j ? b.call(a) : i ? b(a[0], c) : f;
  });
  n.acceptData = function (a) {
    return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType;
  };

  function K() {
    Object.defineProperty((this.cache = {}), 0, {
      get: function () {
        return {};
      },
    }),
      (this.expando = n.expando + Math.random());
  }
  (K.uid = 1),
    (K.accepts = n.acceptData),
    (K.prototype = {
      key: function (a) {
        if (!K.accepts(a)) return 0;
        var b = {},
          c = a[this.expando];
        if (!c) {
          c = K.uid++;
          try {
            (b[this.expando] = {
              value: c,
            }),
              Object.defineProperties(a, b);
          } catch (d) {
            (b[this.expando] = c), n.extend(a, b);
          }
        }
        return this.cache[c] || (this.cache[c] = {}), c;
      },
      set: function (a, b, c) {
        var d,
          e = this.key(a),
          f = this.cache[e];
        if ("string" == typeof b) f[b] = c;
        else if (n.isEmptyObject(f)) n.extend(this.cache[e], b);
        else for (d in b) f[d] = b[d];
        return f;
      },
      get: function (a, b) {
        var c = this.cache[this.key(a)];
        return void 0 === b ? c : c[b];
      },
      access: function (a, b, c) {
        var d;
        return void 0 === b || (b && "string" == typeof b && void 0 === c)
          ? ((d = this.get(a, b)),
            void 0 !== d ? d : this.get(a, n.camelCase(b)))
          : (this.set(a, b, c), void 0 !== c ? c : b);
      },
      remove: function (a, b) {
        var c,
          d,
          e,
          f = this.key(a),
          g = this.cache[f];
        if (void 0 === b) this.cache[f] = {};
        else {
          n.isArray(b)
            ? (d = b.concat(b.map(n.camelCase)))
            : ((e = n.camelCase(b)),
              b in g
                ? (d = [b, e])
                : ((d = e), (d = d in g ? [d] : d.match(E) || []))),
            (c = d.length);
          while (c--) delete g[d[c]];
        }
      },
      hasData: function (a) {
        return !n.isEmptyObject(this.cache[a[this.expando]] || {});
      },
      discard: function (a) {
        a[this.expando] && delete this.cache[a[this.expando]];
      },
    });
  var L = new K(),
    M = new K(),
    N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
    O = /([A-Z])/g;

  function P(a, b, c) {
    var d;
    if (void 0 === c && 1 === a.nodeType)
      if (
        ((d = "data-" + b.replace(O, "-$1").toLowerCase()),
        (c = a.getAttribute(d)),
        "string" == typeof c)
      ) {
        try {
          c =
            "true" === c
              ? !0
              : "false" === c
              ? !1
              : "null" === c
              ? null
              : +c + "" === c
              ? +c
              : N.test(c)
              ? n.parseJSON(c)
              : c;
        } catch (e) {}
        M.set(a, b, c);
      } else c = void 0;
    return c;
  }
  n.extend({
    hasData: function (a) {
      return M.hasData(a) || L.hasData(a);
    },
    data: function (a, b, c) {
      return M.access(a, b, c);
    },
    removeData: function (a, b) {
      M.remove(a, b);
    },
    _data: function (a, b, c) {
      return L.access(a, b, c);
    },
    _removeData: function (a, b) {
      L.remove(a, b);
    },
  }),
    n.fn.extend({
      data: function (a, b) {
        var c,
          d,
          e,
          f = this[0],
          g = f && f.attributes;
        if (void 0 === a) {
          if (
            this.length &&
            ((e = M.get(f)), 1 === f.nodeType && !L.get(f, "hasDataAttrs"))
          ) {
            c = g.length;
            while (c--)
              g[c] &&
                ((d = g[c].name),
                0 === d.indexOf("data-") &&
                  ((d = n.camelCase(d.slice(5))), P(f, d, e[d])));
            L.set(f, "hasDataAttrs", !0);
          }
          return e;
        }
        return "object" == typeof a
          ? this.each(function () {
              M.set(this, a);
            })
          : J(
              this,
              function (b) {
                var c,
                  d = n.camelCase(a);
                if (f && void 0 === b) {
                  if (((c = M.get(f, a)), void 0 !== c)) return c;
                  if (((c = M.get(f, d)), void 0 !== c)) return c;
                  if (((c = P(f, d, void 0)), void 0 !== c)) return c;
                } else
                  this.each(function () {
                    var c = M.get(this, d);
                    M.set(this, d, b),
                      -1 !== a.indexOf("-") &&
                        void 0 !== c &&
                        M.set(this, a, b);
                  });
              },
              null,
              b,
              arguments.length > 1,
              null,
              !0
            );
      },
      removeData: function (a) {
        return this.each(function () {
          M.remove(this, a);
        });
      },
    }),
    n.extend({
      queue: function (a, b, c) {
        var d;
        return a
          ? ((b = (b || "fx") + "queue"),
            (d = L.get(a, b)),
            c &&
              (!d || n.isArray(c)
                ? (d = L.access(a, b, n.makeArray(c)))
                : d.push(c)),
            d || [])
          : void 0;
      },
      dequeue: function (a, b) {
        b = b || "fx";
        var c = n.queue(a, b),
          d = c.length,
          e = c.shift(),
          f = n._queueHooks(a, b),
          g = function () {
            n.dequeue(a, b);
          };
        "inprogress" === e && ((e = c.shift()), d--),
          e &&
            ("fx" === b && c.unshift("inprogress"),
            delete f.stop,
            e.call(a, g, f)),
          !d && f && f.empty.fire();
      },
      _queueHooks: function (a, b) {
        var c = b + "queueHooks";
        return (
          L.get(a, c) ||
          L.access(a, c, {
            empty: n.Callbacks("once memory").add(function () {
              L.remove(a, [b + "queue", c]);
            }),
          })
        );
      },
    }),
    n.fn.extend({
      queue: function (a, b) {
        var c = 2;
        return (
          "string" != typeof a && ((b = a), (a = "fx"), c--),
          arguments.length < c
            ? n.queue(this[0], a)
            : void 0 === b
            ? this
            : this.each(function () {
                var c = n.queue(this, a, b);
                n._queueHooks(this, a),
                  "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a);
              })
        );
      },
      dequeue: function (a) {
        return this.each(function () {
          n.dequeue(this, a);
        });
      },
      clearQueue: function (a) {
        return this.queue(a || "fx", []);
      },
      promise: function (a, b) {
        var c,
          d = 1,
          e = n.Deferred(),
          f = this,
          g = this.length,
          h = function () {
            --d || e.resolveWith(f, [f]);
          };
        "string" != typeof a && ((b = a), (a = void 0)), (a = a || "fx");
        while (g--)
          (c = L.get(f[g], a + "queueHooks")),
            c && c.empty && (d++, c.empty.add(h));
        return h(), e.promise(b);
      },
    });
  var Q = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
    R = ["Top", "Right", "Bottom", "Left"],
    S = function (a, b) {
      return (
        (a = b || a),
        "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a)
      );
    },
    T = /^(?:checkbox|radio)$/i;
  !(function () {
    var a = l.createDocumentFragment(),
      b = a.appendChild(l.createElement("div")),
      c = l.createElement("input");
    c.setAttribute("type", "radio"),
      c.setAttribute("checked", "checked"),
      c.setAttribute("name", "t"),
      b.appendChild(c),
      (k.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked),
      (b.innerHTML = "<textarea>x</textarea>"),
      (k.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue);
  })();
  var U = "undefined";
  k.focusinBubbles = "onfocusin" in a;
  var V = /^key/,
    W = /^(?:mouse|pointer|contextmenu)|click/,
    X = /^(?:focusinfocus|focusoutblur)$/,
    Y = /^([^.]*)(?:\.(.+)|)$/;

  function Z() {
    return !0;
  }

  function $() {
    return !1;
  }

  function _() {
    try {
      return l.activeElement;
    } catch (a) {}
  }
  (n.event = {
    global: {},
    add: function (a, b, c, d, e) {
      var f,
        g,
        h,
        i,
        j,
        k,
        l,
        m,
        o,
        p,
        q,
        r = L.get(a);
      if (r) {
        c.handler && ((f = c), (c = f.handler), (e = f.selector)),
          c.guid || (c.guid = n.guid++),
          (i = r.events) || (i = r.events = {}),
          (g = r.handle) ||
            (g = r.handle =
              function (b) {
                return typeof n !== U && n.event.triggered !== b.type
                  ? n.event.dispatch.apply(a, arguments)
                  : void 0;
              }),
          (b = (b || "").match(E) || [""]),
          (j = b.length);
        while (j--)
          (h = Y.exec(b[j]) || []),
            (o = q = h[1]),
            (p = (h[2] || "").split(".").sort()),
            o &&
              ((l = n.event.special[o] || {}),
              (o = (e ? l.delegateType : l.bindType) || o),
              (l = n.event.special[o] || {}),
              (k = n.extend(
                {
                  type: o,
                  origType: q,
                  data: d,
                  handler: c,
                  guid: c.guid,
                  selector: e,
                  needsContext: e && n.expr.match.needsContext.test(e),
                  namespace: p.join("."),
                },
                f
              )),
              (m = i[o]) ||
                ((m = i[o] = []),
                (m.delegateCount = 0),
                (l.setup && l.setup.call(a, d, p, g) !== !1) ||
                  (a.addEventListener && a.addEventListener(o, g, !1))),
              l.add &&
                (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)),
              e ? m.splice(m.delegateCount++, 0, k) : m.push(k),
              (n.event.global[o] = !0));
      }
    },
    remove: function (a, b, c, d, e) {
      var f,
        g,
        h,
        i,
        j,
        k,
        l,
        m,
        o,
        p,
        q,
        r = L.hasData(a) && L.get(a);
      if (r && (i = r.events)) {
        (b = (b || "").match(E) || [""]), (j = b.length);
        while (j--)
          if (
            ((h = Y.exec(b[j]) || []),
            (o = q = h[1]),
            (p = (h[2] || "").split(".").sort()),
            o)
          ) {
            (l = n.event.special[o] || {}),
              (o = (d ? l.delegateType : l.bindType) || o),
              (m = i[o] || []),
              (h =
                h[2] &&
                new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)")),
              (g = f = m.length);
            while (f--)
              (k = m[f]),
                (!e && q !== k.origType) ||
                  (c && c.guid !== k.guid) ||
                  (h && !h.test(k.namespace)) ||
                  (d && d !== k.selector && ("**" !== d || !k.selector)) ||
                  (m.splice(f, 1),
                  k.selector && m.delegateCount--,
                  l.remove && l.remove.call(a, k));
            g &&
              !m.length &&
              ((l.teardown && l.teardown.call(a, p, r.handle) !== !1) ||
                n.removeEvent(a, o, r.handle),
              delete i[o]);
          } else for (o in i) n.event.remove(a, o + b[j], c, d, !0);
        n.isEmptyObject(i) && (delete r.handle, L.remove(a, "events"));
      }
    },
    trigger: function (b, c, d, e) {
      var f,
        g,
        h,
        i,
        k,
        m,
        o,
        p = [d || l],
        q = j.call(b, "type") ? b.type : b,
        r = j.call(b, "namespace") ? b.namespace.split(".") : [];
      if (
        ((g = h = d = d || l),
        3 !== d.nodeType &&
          8 !== d.nodeType &&
          !X.test(q + n.event.triggered) &&
          (q.indexOf(".") >= 0 &&
            ((r = q.split(".")), (q = r.shift()), r.sort()),
          (k = q.indexOf(":") < 0 && "on" + q),
          (b = b[n.expando] ? b : new n.Event(q, "object" == typeof b && b)),
          (b.isTrigger = e ? 2 : 3),
          (b.namespace = r.join(".")),
          (b.namespace_re = b.namespace
            ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)")
            : null),
          (b.result = void 0),
          b.target || (b.target = d),
          (c = null == c ? [b] : n.makeArray(c, [b])),
          (o = n.event.special[q] || {}),
          e || !o.trigger || o.trigger.apply(d, c) !== !1))
      ) {
        if (!e && !o.noBubble && !n.isWindow(d)) {
          for (
            i = o.delegateType || q, X.test(i + q) || (g = g.parentNode);
            g;
            g = g.parentNode
          )
            p.push(g), (h = g);
          h === (d.ownerDocument || l) &&
            p.push(h.defaultView || h.parentWindow || a);
        }
        f = 0;
        while ((g = p[f++]) && !b.isPropagationStopped())
          (b.type = f > 1 ? i : o.bindType || q),
            (m = (L.get(g, "events") || {})[b.type] && L.get(g, "handle")),
            m && m.apply(g, c),
            (m = k && g[k]),
            m &&
              m.apply &&
              n.acceptData(g) &&
              ((b.result = m.apply(g, c)),
              b.result === !1 && b.preventDefault());
        return (
          (b.type = q),
          e ||
            b.isDefaultPrevented() ||
            (o._default && o._default.apply(p.pop(), c) !== !1) ||
            !n.acceptData(d) ||
            (k &&
              n.isFunction(d[q]) &&
              !n.isWindow(d) &&
              ((h = d[k]),
              h && (d[k] = null),
              (n.event.triggered = q),
              d[q](),
              (n.event.triggered = void 0),
              h && (d[k] = h))),
          b.result
        );
      }
    },
    dispatch: function (a) {
      a = n.event.fix(a);
      var b,
        c,
        e,
        f,
        g,
        h = [],
        i = d.call(arguments),
        j = (L.get(this, "events") || {})[a.type] || [],
        k = n.event.special[a.type] || {};
      if (
        ((i[0] = a),
        (a.delegateTarget = this),
        !k.preDispatch || k.preDispatch.call(this, a) !== !1)
      ) {
        (h = n.event.handlers.call(this, a, j)), (b = 0);
        while ((f = h[b++]) && !a.isPropagationStopped()) {
          (a.currentTarget = f.elem), (c = 0);
          while ((g = f.handlers[c++]) && !a.isImmediatePropagationStopped())
            (!a.namespace_re || a.namespace_re.test(g.namespace)) &&
              ((a.handleObj = g),
              (a.data = g.data),
              (e = (
                (n.event.special[g.origType] || {}).handle || g.handler
              ).apply(f.elem, i)),
              void 0 !== e &&
                (a.result = e) === !1 &&
                (a.preventDefault(), a.stopPropagation()));
        }
        return k.postDispatch && k.postDispatch.call(this, a), a.result;
      }
    },
    handlers: function (a, b) {
      var c,
        d,
        e,
        f,
        g = [],
        h = b.delegateCount,
        i = a.target;
      if (h && i.nodeType && (!a.button || "click" !== a.type))
        for (; i !== this; i = i.parentNode || this)
          if (i.disabled !== !0 || "click" !== a.type) {
            for (d = [], c = 0; h > c; c++)
              (f = b[c]),
                (e = f.selector + " "),
                void 0 === d[e] &&
                  (d[e] = f.needsContext
                    ? n(e, this).index(i) >= 0
                    : n.find(e, this, null, [i]).length),
                d[e] && d.push(f);
            d.length &&
              g.push({
                elem: i,
                handlers: d,
              });
          }
      return (
        h < b.length &&
          g.push({
            elem: this,
            handlers: b.slice(h),
          }),
        g
      );
    },
    props:
      "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(
        " "
      ),
    fixHooks: {},
    keyHooks: {
      props: "char charCode key keyCode".split(" "),
      filter: function (a, b) {
        return (
          null == a.which &&
            (a.which = null != b.charCode ? b.charCode : b.keyCode),
          a
        );
      },
    },
    mouseHooks: {
      props:
        "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(
          " "
        ),
      filter: function (a, b) {
        var c,
          d,
          e,
          f = b.button;
        return (
          null == a.pageX &&
            null != b.clientX &&
            ((c = a.target.ownerDocument || l),
            (d = c.documentElement),
            (e = c.body),
            (a.pageX =
              b.clientX +
              ((d && d.scrollLeft) || (e && e.scrollLeft) || 0) -
              ((d && d.clientLeft) || (e && e.clientLeft) || 0)),
            (a.pageY =
              b.clientY +
              ((d && d.scrollTop) || (e && e.scrollTop) || 0) -
              ((d && d.clientTop) || (e && e.clientTop) || 0))),
          a.which ||
            void 0 === f ||
            (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0),
          a
        );
      },
    },
    fix: function (a) {
      if (a[n.expando]) return a;
      var b,
        c,
        d,
        e = a.type,
        f = a,
        g = this.fixHooks[e];
      g ||
        (this.fixHooks[e] = g =
          W.test(e) ? this.mouseHooks : V.test(e) ? this.keyHooks : {}),
        (d = g.props ? this.props.concat(g.props) : this.props),
        (a = new n.Event(f)),
        (b = d.length);
      while (b--) (c = d[b]), (a[c] = f[c]);
      return (
        a.target || (a.target = l),
        3 === a.target.nodeType && (a.target = a.target.parentNode),
        g.filter ? g.filter(a, f) : a
      );
    },
    special: {
      load: {
        noBubble: !0,
      },
      focus: {
        trigger: function () {
          return this !== _() && this.focus ? (this.focus(), !1) : void 0;
        },
        delegateType: "focusin",
      },
      blur: {
        trigger: function () {
          return this === _() && this.blur ? (this.blur(), !1) : void 0;
        },
        delegateType: "focusout",
      },
      click: {
        trigger: function () {
          return "checkbox" === this.type &&
            this.click &&
            n.nodeName(this, "input")
            ? (this.click(), !1)
            : void 0;
        },
        _default: function (a) {
          return n.nodeName(a.target, "a");
        },
      },
      beforeunload: {
        postDispatch: function (a) {
          void 0 !== a.result &&
            a.originalEvent &&
            (a.originalEvent.returnValue = a.result);
        },
      },
    },
    simulate: function (a, b, c, d) {
      var e = n.extend(new n.Event(), c, {
        type: a,
        isSimulated: !0,
        originalEvent: {},
      });
      d ? n.event.trigger(e, null, b) : n.event.dispatch.call(b, e),
        e.isDefaultPrevented() && c.preventDefault();
    },
  }),
    (n.removeEvent = function (a, b, c) {
      a.removeEventListener && a.removeEventListener(b, c, !1);
    }),
    (n.Event = function (a, b) {
      return this instanceof n.Event
        ? (a && a.type
            ? ((this.originalEvent = a),
              (this.type = a.type),
              (this.isDefaultPrevented =
                a.defaultPrevented ||
                (void 0 === a.defaultPrevented && a.returnValue === !1)
                  ? Z
                  : $))
            : (this.type = a),
          b && n.extend(this, b),
          (this.timeStamp = (a && a.timeStamp) || n.now()),
          void (this[n.expando] = !0))
        : new n.Event(a, b);
    }),
    (n.Event.prototype = {
      isDefaultPrevented: $,
      isPropagationStopped: $,
      isImmediatePropagationStopped: $,
      preventDefault: function () {
        var a = this.originalEvent;
        (this.isDefaultPrevented = Z),
          a && a.preventDefault && a.preventDefault();
      },
      stopPropagation: function () {
        var a = this.originalEvent;
        (this.isPropagationStopped = Z),
          a && a.stopPropagation && a.stopPropagation();
      },
      stopImmediatePropagation: function () {
        var a = this.originalEvent;
        (this.isImmediatePropagationStopped = Z),
          a && a.stopImmediatePropagation && a.stopImmediatePropagation(),
          this.stopPropagation();
      },
    }),
    n.each(
      {
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout",
      },
      function (a, b) {
        n.event.special[a] = {
          delegateType: b,
          bindType: b,
          handle: function (a) {
            var c,
              d = this,
              e = a.relatedTarget,
              f = a.handleObj;
            return (
              (!e || (e !== d && !n.contains(d, e))) &&
                ((a.type = f.origType),
                (c = f.handler.apply(this, arguments)),
                (a.type = b)),
              c
            );
          },
        };
      }
    ),
    k.focusinBubbles ||
      n.each(
        {
          focus: "focusin",
          blur: "focusout",
        },
        function (a, b) {
          var c = function (a) {
            n.event.simulate(b, a.target, n.event.fix(a), !0);
          };
          n.event.special[b] = {
            setup: function () {
              var d = this.ownerDocument || this,
                e = L.access(d, b);
              e || d.addEventListener(a, c, !0), L.access(d, b, (e || 0) + 1);
            },
            teardown: function () {
              var d = this.ownerDocument || this,
                e = L.access(d, b) - 1;
              e
                ? L.access(d, b, e)
                : (d.removeEventListener(a, c, !0), L.remove(d, b));
            },
          };
        }
      ),
    n.fn.extend({
      on: function (a, b, c, d, e) {
        var f, g;
        if ("object" == typeof a) {
          "string" != typeof b && ((c = c || b), (b = void 0));
          for (g in a) this.on(g, b, c, a[g], e);
          return this;
        }
        if (
          (null == c && null == d
            ? ((d = b), (c = b = void 0))
            : null == d &&
              ("string" == typeof b
                ? ((d = c), (c = void 0))
                : ((d = c), (c = b), (b = void 0))),
          d === !1)
        )
          d = $;
        else if (!d) return this;
        return (
          1 === e &&
            ((f = d),
            (d = function (a) {
              return n().off(a), f.apply(this, arguments);
            }),
            (d.guid = f.guid || (f.guid = n.guid++))),
          this.each(function () {
            n.event.add(this, a, d, c, b);
          })
        );
      },
      one: function (a, b, c, d) {
        return this.on(a, b, c, d, 1);
      },
      off: function (a, b, c) {
        var d, e;
        if (a && a.preventDefault && a.handleObj)
          return (
            (d = a.handleObj),
            n(a.delegateTarget).off(
              d.namespace ? d.origType + "." + d.namespace : d.origType,
              d.selector,
              d.handler
            ),
            this
          );
        if ("object" == typeof a) {
          for (e in a) this.off(e, b, a[e]);
          return this;
        }
        return (
          (b === !1 || "function" == typeof b) && ((c = b), (b = void 0)),
          c === !1 && (c = $),
          this.each(function () {
            n.event.remove(this, a, c, b);
          })
        );
      },
      trigger: function (a, b) {
        return this.each(function () {
          n.event.trigger(a, b, this);
        });
      },
      triggerHandler: function (a, b) {
        var c = this[0];
        return c ? n.event.trigger(a, b, c, !0) : void 0;
      },
    });
  var ab =
      /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
    bb = /<([\w:]+)/,
    cb = /<|&#?\w+;/,
    db = /<(?:script|style|link)/i,
    eb = /checked\s*(?:[^=]|=\s*.checked.)/i,
    fb = /^$|\/(?:java|ecma)script/i,
    gb = /^true\/(.*)/,
    hb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
    ib = {
      option: [1, "<select multiple='multiple'>", "</select>"],
      thead: [1, "<table>", "</table>"],
      col: [2, "<table><colgroup>", "</colgroup></table>"],
      tr: [2, "<table><tbody>", "</tbody></table>"],
      td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
      _default: [0, "", ""],
    };
  (ib.optgroup = ib.option),
    (ib.tbody = ib.tfoot = ib.colgroup = ib.caption = ib.thead),
    (ib.th = ib.td);

  function jb(a, b) {
    return n.nodeName(a, "table") &&
      n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr")
      ? a.getElementsByTagName("tbody")[0] ||
          a.appendChild(a.ownerDocument.createElement("tbody"))
      : a;
  }

  function kb(a) {
    return (a.type = (null !== a.getAttribute("type")) + "/" + a.type), a;
  }

  function lb(a) {
    var b = gb.exec(a.type);
    return b ? (a.type = b[1]) : a.removeAttribute("type"), a;
  }

  function mb(a, b) {
    for (var c = 0, d = a.length; d > c; c++)
      L.set(a[c], "globalEval", !b || L.get(b[c], "globalEval"));
  }

  function nb(a, b) {
    var c, d, e, f, g, h, i, j;
    if (1 === b.nodeType) {
      if (
        L.hasData(a) &&
        ((f = L.access(a)), (g = L.set(b, f)), (j = f.events))
      ) {
        delete g.handle, (g.events = {});
        for (e in j)
          for (c = 0, d = j[e].length; d > c; c++) n.event.add(b, e, j[e][c]);
      }
      M.hasData(a) && ((h = M.access(a)), (i = n.extend({}, h)), M.set(b, i));
    }
  }

  function ob(a, b) {
    var c = a.getElementsByTagName
      ? a.getElementsByTagName(b || "*")
      : a.querySelectorAll
      ? a.querySelectorAll(b || "*")
      : [];
    return void 0 === b || (b && n.nodeName(a, b)) ? n.merge([a], c) : c;
  }

  function pb(a, b) {
    var c = b.nodeName.toLowerCase();
    "input" === c && T.test(a.type)
      ? (b.checked = a.checked)
      : ("input" === c || "textarea" === c) &&
        (b.defaultValue = a.defaultValue);
  }
  n.extend({
    clone: function (a, b, c) {
      var d,
        e,
        f,
        g,
        h = a.cloneNode(!0),
        i = n.contains(a.ownerDocument, a);
      if (
        !(
          k.noCloneChecked ||
          (1 !== a.nodeType && 11 !== a.nodeType) ||
          n.isXMLDoc(a)
        )
      )
        for (g = ob(h), f = ob(a), d = 0, e = f.length; e > d; d++)
          pb(f[d], g[d]);
      if (b)
        if (c)
          for (f = f || ob(a), g = g || ob(h), d = 0, e = f.length; e > d; d++)
            nb(f[d], g[d]);
        else nb(a, h);
      return (
        (g = ob(h, "script")), g.length > 0 && mb(g, !i && ob(a, "script")), h
      );
    },
    buildFragment: function (a, b, c, d) {
      for (
        var e,
          f,
          g,
          h,
          i,
          j,
          k = b.createDocumentFragment(),
          l = [],
          m = 0,
          o = a.length;
        o > m;
        m++
      )
        if (((e = a[m]), e || 0 === e))
          if ("object" === n.type(e)) n.merge(l, e.nodeType ? [e] : e);
          else if (cb.test(e)) {
            (f = f || k.appendChild(b.createElement("div"))),
              (g = (bb.exec(e) || ["", ""])[1].toLowerCase()),
              (h = ib[g] || ib._default),
              (f.innerHTML = h[1] + e.replace(ab, "<$1></$2>") + h[2]),
              (j = h[0]);
            while (j--) f = f.lastChild;
            n.merge(l, f.childNodes), (f = k.firstChild), (f.textContent = "");
          } else l.push(b.createTextNode(e));
      (k.textContent = ""), (m = 0);
      while ((e = l[m++]))
        if (
          (!d || -1 === n.inArray(e, d)) &&
          ((i = n.contains(e.ownerDocument, e)),
          (f = ob(k.appendChild(e), "script")),
          i && mb(f),
          c)
        ) {
          j = 0;
          while ((e = f[j++])) fb.test(e.type || "") && c.push(e);
        }
      return k;
    },
    cleanData: function (a) {
      for (
        var b, c, d, e, f = n.event.special, g = 0;
        void 0 !== (c = a[g]);
        g++
      ) {
        if (n.acceptData(c) && ((e = c[L.expando]), e && (b = L.cache[e]))) {
          if (b.events)
            for (d in b.events)
              f[d] ? n.event.remove(c, d) : n.removeEvent(c, d, b.handle);
          L.cache[e] && delete L.cache[e];
        }
        delete M.cache[c[M.expando]];
      }
    },
  }),
    n.fn.extend({
      text: function (a) {
        return J(
          this,
          function (a) {
            return void 0 === a
              ? n.text(this)
              : this.empty().each(function () {
                  (1 === this.nodeType ||
                    11 === this.nodeType ||
                    9 === this.nodeType) &&
                    (this.textContent = a);
                });
          },
          null,
          a,
          arguments.length
        );
      },
      append: function () {
        return this.domManip(arguments, function (a) {
          if (
            1 === this.nodeType ||
            11 === this.nodeType ||
            9 === this.nodeType
          ) {
            var b = jb(this, a);
            b.appendChild(a);
          }
        });
      },
      prepend: function () {
        return this.domManip(arguments, function (a) {
          if (
            1 === this.nodeType ||
            11 === this.nodeType ||
            9 === this.nodeType
          ) {
            var b = jb(this, a);
            b.insertBefore(a, b.firstChild);
          }
        });
      },
      before: function () {
        return this.domManip(arguments, function (a) {
          this.parentNode && this.parentNode.insertBefore(a, this);
        });
      },
      after: function () {
        return this.domManip(arguments, function (a) {
          this.parentNode && this.parentNode.insertBefore(a, this.nextSibling);
        });
      },
      remove: function (a, b) {
        for (
          var c, d = a ? n.filter(a, this) : this, e = 0;
          null != (c = d[e]);
          e++
        )
          b || 1 !== c.nodeType || n.cleanData(ob(c)),
            c.parentNode &&
              (b && n.contains(c.ownerDocument, c) && mb(ob(c, "script")),
              c.parentNode.removeChild(c));
        return this;
      },
      empty: function () {
        for (var a, b = 0; null != (a = this[b]); b++)
          1 === a.nodeType && (n.cleanData(ob(a, !1)), (a.textContent = ""));
        return this;
      },
      clone: function (a, b) {
        return (
          (a = null == a ? !1 : a),
          (b = null == b ? a : b),
          this.map(function () {
            return n.clone(this, a, b);
          })
        );
      },
      html: function (a) {
        return J(
          this,
          function (a) {
            var b = this[0] || {},
              c = 0,
              d = this.length;
            if (void 0 === a && 1 === b.nodeType) return b.innerHTML;
            if (
              "string" == typeof a &&
              !db.test(a) &&
              !ib[(bb.exec(a) || ["", ""])[1].toLowerCase()]
            ) {
              a = a.replace(ab, "<$1></$2>");
              try {
                for (; d > c; c++)
                  (b = this[c] || {}),
                    1 === b.nodeType &&
                      (n.cleanData(ob(b, !1)), (b.innerHTML = a));
                b = 0;
              } catch (e) {}
            }
            b && this.empty().append(a);
          },
          null,
          a,
          arguments.length
        );
      },
      replaceWith: function () {
        var a = arguments[0];
        return (
          this.domManip(arguments, function (b) {
            (a = this.parentNode),
              n.cleanData(ob(this)),
              a && a.replaceChild(b, this);
          }),
          a && (a.length || a.nodeType) ? this : this.remove()
        );
      },
      detach: function (a) {
        return this.remove(a, !0);
      },
      domManip: function (a, b) {
        a = e.apply([], a);
        var c,
          d,
          f,
          g,
          h,
          i,
          j = 0,
          l = this.length,
          m = this,
          o = l - 1,
          p = a[0],
          q = n.isFunction(p);
        if (q || (l > 1 && "string" == typeof p && !k.checkClone && eb.test(p)))
          return this.each(function (c) {
            var d = m.eq(c);
            q && (a[0] = p.call(this, c, d.html())), d.domManip(a, b);
          });
        if (
          l &&
          ((c = n.buildFragment(a, this[0].ownerDocument, !1, this)),
          (d = c.firstChild),
          1 === c.childNodes.length && (c = d),
          d)
        ) {
          for (f = n.map(ob(c, "script"), kb), g = f.length; l > j; j++)
            (h = c),
              j !== o &&
                ((h = n.clone(h, !0, !0)), g && n.merge(f, ob(h, "script"))),
              b.call(this[j], h, j);
          if (g)
            for (
              i = f[f.length - 1].ownerDocument, n.map(f, lb), j = 0;
              g > j;
              j++
            )
              (h = f[j]),
                fb.test(h.type || "") &&
                  !L.access(h, "globalEval") &&
                  n.contains(i, h) &&
                  (h.src
                    ? n._evalUrl && n._evalUrl(h.src)
                    : n.globalEval(h.textContent.replace(hb, "")));
        }
        return this;
      },
    }),
    n.each(
      {
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith",
      },
      function (a, b) {
        n.fn[a] = function (a) {
          for (var c, d = [], e = n(a), g = e.length - 1, h = 0; g >= h; h++)
            (c = h === g ? this : this.clone(!0)),
              n(e[h])[b](c),
              f.apply(d, c.get());
          return this.pushStack(d);
        };
      }
    );
  var qb,
    rb = {};

  function sb(b, c) {
    var d,
      e = n(c.createElement(b)).appendTo(c.body),
      f =
        a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0]))
          ? d.display
          : n.css(e[0], "display");
    return e.detach(), f;
  }

  function tb(a) {
    var b = l,
      c = rb[a];
    return (
      c ||
        ((c = sb(a, b)),
        ("none" !== c && c) ||
          ((qb = (
            qb || n("<iframe frameborder='0' width='0' height='0'/>")
          ).appendTo(b.documentElement)),
          (b = qb[0].contentDocument),
          b.write(),
          b.close(),
          (c = sb(a, b)),
          qb.detach()),
        (rb[a] = c)),
      c
    );
  }
  var ub = /^margin/,
    vb = new RegExp("^(" + Q + ")(?!px)[a-z%]+$", "i"),
    wb = function (a) {
      return a.ownerDocument.defaultView.getComputedStyle(a, null);
    };

  function xb(a, b, c) {
    var d,
      e,
      f,
      g,
      h = a.style;
    return (
      (c = c || wb(a)),
      c && (g = c.getPropertyValue(b) || c[b]),
      c &&
        ("" !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)),
        vb.test(g) &&
          ub.test(b) &&
          ((d = h.width),
          (e = h.minWidth),
          (f = h.maxWidth),
          (h.minWidth = h.maxWidth = h.width = g),
          (g = c.width),
          (h.width = d),
          (h.minWidth = e),
          (h.maxWidth = f))),
      void 0 !== g ? g + "" : g
    );
  }

  function yb(a, b) {
    return {
      get: function () {
        return a()
          ? void delete this.get
          : (this.get = b).apply(this, arguments);
      },
    };
  }
  !(function () {
    var b,
      c,
      d = l.documentElement,
      e = l.createElement("div"),
      f = l.createElement("div");
    if (f.style) {
      (f.style.backgroundClip = "content-box"),
        (f.cloneNode(!0).style.backgroundClip = ""),
        (k.clearCloneStyle = "content-box" === f.style.backgroundClip),
        (e.style.cssText =
          "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute"),
        e.appendChild(f);

      function g() {
        (f.style.cssText =
          "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute"),
          (f.innerHTML = ""),
          d.appendChild(e);
        var g = a.getComputedStyle(f, null);
        (b = "1%" !== g.top), (c = "4px" === g.width), d.removeChild(e);
      }
      a.getComputedStyle &&
        n.extend(k, {
          pixelPosition: function () {
            return g(), b;
          },
          boxSizingReliable: function () {
            return null == c && g(), c;
          },
          reliableMarginRight: function () {
            var b,
              c = f.appendChild(l.createElement("div"));
            return (
              (c.style.cssText = f.style.cssText =
                "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0"),
              (c.style.marginRight = c.style.width = "0"),
              (f.style.width = "1px"),
              d.appendChild(e),
              (b = !parseFloat(a.getComputedStyle(c, null).marginRight)),
              d.removeChild(e),
              b
            );
          },
        });
    }
  })(),
    (n.swap = function (a, b, c, d) {
      var e,
        f,
        g = {};
      for (f in b) (g[f] = a.style[f]), (a.style[f] = b[f]);
      e = c.apply(a, d || []);
      for (f in b) a.style[f] = g[f];
      return e;
    });
  var zb = /^(none|table(?!-c[ea]).+)/,
    Ab = new RegExp("^(" + Q + ")(.*)$", "i"),
    Bb = new RegExp("^([+-])=(" + Q + ")", "i"),
    Cb = {
      position: "absolute",
      visibility: "hidden",
      display: "block",
    },
    Db = {
      letterSpacing: "0",
      fontWeight: "400",
    },
    Eb = ["Webkit", "O", "Moz", "ms"];

  function Fb(a, b) {
    if (b in a) return b;
    var c = b[0].toUpperCase() + b.slice(1),
      d = b,
      e = Eb.length;
    while (e--) if (((b = Eb[e] + c), b in a)) return b;
    return d;
  }

  function Gb(a, b, c) {
    var d = Ab.exec(b);
    return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b;
  }

  function Hb(a, b, c, d, e) {
    for (
      var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0,
        g = 0;
      4 > f;
      f += 2
    )
      "margin" === c && (g += n.css(a, c + R[f], !0, e)),
        d
          ? ("content" === c && (g -= n.css(a, "padding" + R[f], !0, e)),
            "margin" !== c && (g -= n.css(a, "border" + R[f] + "Width", !0, e)))
          : ((g += n.css(a, "padding" + R[f], !0, e)),
            "padding" !== c &&
              (g += n.css(a, "border" + R[f] + "Width", !0, e)));
    return g;
  }

  function Ib(a, b, c) {
    var d = !0,
      e = "width" === b ? a.offsetWidth : a.offsetHeight,
      f = wb(a),
      g = "border-box" === n.css(a, "boxSizing", !1, f);
    if (0 >= e || null == e) {
      if (
        ((e = xb(a, b, f)),
        (0 > e || null == e) && (e = a.style[b]),
        vb.test(e))
      )
        return e;
      (d = g && (k.boxSizingReliable() || e === a.style[b])),
        (e = parseFloat(e) || 0);
    }
    return e + Hb(a, b, c || (g ? "border" : "content"), d, f) + "px";
  }

  function Jb(a, b) {
    for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)
      (d = a[g]),
        d.style &&
          ((f[g] = L.get(d, "olddisplay")),
          (c = d.style.display),
          b
            ? (f[g] || "none" !== c || (d.style.display = ""),
              "" === d.style.display &&
                S(d) &&
                (f[g] = L.access(d, "olddisplay", tb(d.nodeName))))
            : ((e = S(d)),
              ("none" === c && e) ||
                L.set(d, "olddisplay", e ? c : n.css(d, "display"))));
    for (g = 0; h > g; g++)
      (d = a[g]),
        d.style &&
          ((b && "none" !== d.style.display && "" !== d.style.display) ||
            (d.style.display = b ? f[g] || "" : "none"));
    return a;
  }
  n.extend({
    cssHooks: {
      opacity: {
        get: function (a, b) {
          if (b) {
            var c = xb(a, "opacity");
            return "" === c ? "1" : c;
          }
        },
      },
    },
    cssNumber: {
      columnCount: !0,
      fillOpacity: !0,
      flexGrow: !0,
      flexShrink: !0,
      fontWeight: !0,
      lineHeight: !0,
      opacity: !0,
      order: !0,
      orphans: !0,
      widows: !0,
      zIndex: !0,
      zoom: !0,
    },
    cssProps: {
      float: "cssFloat",
    },
    style: function (a, b, c, d) {
      if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
        var e,
          f,
          g,
          h = n.camelCase(b),
          i = a.style;
        return (
          (b = n.cssProps[h] || (n.cssProps[h] = Fb(i, h))),
          (g = n.cssHooks[b] || n.cssHooks[h]),
          void 0 === c
            ? g && "get" in g && void 0 !== (e = g.get(a, !1, d))
              ? e
              : i[b]
            : ((f = typeof c),
              "string" === f &&
                (e = Bb.exec(c)) &&
                ((c = (e[1] + 1) * e[2] + parseFloat(n.css(a, b))),
                (f = "number")),
              null != c &&
                c === c &&
                ("number" !== f || n.cssNumber[h] || (c += "px"),
                k.clearCloneStyle ||
                  "" !== c ||
                  0 !== b.indexOf("background") ||
                  (i[b] = "inherit"),
                (g && "set" in g && void 0 === (c = g.set(a, c, d))) ||
                  (i[b] = c)),
              void 0)
        );
      }
    },
    css: function (a, b, c, d) {
      var e,
        f,
        g,
        h = n.camelCase(b);
      return (
        (b = n.cssProps[h] || (n.cssProps[h] = Fb(a.style, h))),
        (g = n.cssHooks[b] || n.cssHooks[h]),
        g && "get" in g && (e = g.get(a, !0, c)),
        void 0 === e && (e = xb(a, b, d)),
        "normal" === e && b in Db && (e = Db[b]),
        "" === c || c
          ? ((f = parseFloat(e)), c === !0 || n.isNumeric(f) ? f || 0 : e)
          : e
      );
    },
  }),
    n.each(["height", "width"], function (a, b) {
      n.cssHooks[b] = {
        get: function (a, c, d) {
          return c
            ? zb.test(n.css(a, "display")) && 0 === a.offsetWidth
              ? n.swap(a, Cb, function () {
                  return Ib(a, b, d);
                })
              : Ib(a, b, d)
            : void 0;
        },
        set: function (a, c, d) {
          var e = d && wb(a);
          return Gb(
            a,
            c,
            d
              ? Hb(a, b, d, "border-box" === n.css(a, "boxSizing", !1, e), e)
              : 0
          );
        },
      };
    }),
    (n.cssHooks.marginRight = yb(k.reliableMarginRight, function (a, b) {
      return b
        ? n.swap(
            a,
            {
              display: "inline-block",
            },
            xb,
            [a, "marginRight"]
          )
        : void 0;
    })),
    n.each(
      {
        margin: "",
        padding: "",
        border: "Width",
      },
      function (a, b) {
        (n.cssHooks[a + b] = {
          expand: function (c) {
            for (
              var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c];
              4 > d;
              d++
            )
              e[a + R[d] + b] = f[d] || f[d - 2] || f[0];
            return e;
          },
        }),
          ub.test(a) || (n.cssHooks[a + b].set = Gb);
      }
    ),
    n.fn.extend({
      css: function (a, b) {
        return J(
          this,
          function (a, b, c) {
            var d,
              e,
              f = {},
              g = 0;
            if (n.isArray(b)) {
              for (d = wb(a), e = b.length; e > g; g++)
                f[b[g]] = n.css(a, b[g], !1, d);
              return f;
            }
            return void 0 !== c ? n.style(a, b, c) : n.css(a, b);
          },
          a,
          b,
          arguments.length > 1
        );
      },
      show: function () {
        return Jb(this, !0);
      },
      hide: function () {
        return Jb(this);
      },
      toggle: function (a) {
        return "boolean" == typeof a
          ? a
            ? this.show()
            : this.hide()
          : this.each(function () {
              S(this) ? n(this).show() : n(this).hide();
            });
      },
    });

  function Kb(a, b, c, d, e) {
    return new Kb.prototype.init(a, b, c, d, e);
  }
  (n.Tween = Kb),
    (Kb.prototype = {
      constructor: Kb,
      init: function (a, b, c, d, e, f) {
        (this.elem = a),
          (this.prop = c),
          (this.easing = e || "swing"),
          (this.options = b),
          (this.start = this.now = this.cur()),
          (this.end = d),
          (this.unit = f || (n.cssNumber[c] ? "" : "px"));
      },
      cur: function () {
        var a = Kb.propHooks[this.prop];
        return a && a.get ? a.get(this) : Kb.propHooks._default.get(this);
      },
      run: function (a) {
        var b,
          c = Kb.propHooks[this.prop];
        return (
          (this.pos = b =
            this.options.duration
              ? n.easing[this.easing](
                  a,
                  this.options.duration * a,
                  0,
                  1,
                  this.options.duration
                )
              : a),
          (this.now = (this.end - this.start) * b + this.start),
          this.options.step &&
            this.options.step.call(this.elem, this.now, this),
          c && c.set ? c.set(this) : Kb.propHooks._default.set(this),
          this
        );
      },
    }),
    (Kb.prototype.init.prototype = Kb.prototype),
    (Kb.propHooks = {
      _default: {
        get: function (a) {
          var b;
          return null == a.elem[a.prop] ||
            (a.elem.style && null != a.elem.style[a.prop])
            ? ((b = n.css(a.elem, a.prop, "")), b && "auto" !== b ? b : 0)
            : a.elem[a.prop];
        },
        set: function (a) {
          n.fx.step[a.prop]
            ? n.fx.step[a.prop](a)
            : a.elem.style &&
              (null != a.elem.style[n.cssProps[a.prop]] || n.cssHooks[a.prop])
            ? n.style(a.elem, a.prop, a.now + a.unit)
            : (a.elem[a.prop] = a.now);
        },
      },
    }),
    (Kb.propHooks.scrollTop = Kb.propHooks.scrollLeft =
      {
        set: function (a) {
          a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now);
        },
      }),
    (n.easing = {
      linear: function (a) {
        return a;
      },
      swing: function (a) {
        return 0.5 - Math.cos(a * Math.PI) / 2;
      },
    }),
    (n.fx = Kb.prototype.init),
    (n.fx.step = {});
  var Lb,
    Mb,
    Nb = /^(?:toggle|show|hide)$/,
    Ob = new RegExp("^(?:([+-])=|)(" + Q + ")([a-z%]*)$", "i"),
    Pb = /queueHooks$/,
    Qb = [Vb],
    Rb = {
      "*": [
        function (a, b) {
          var c = this.createTween(a, b),
            d = c.cur(),
            e = Ob.exec(b),
            f = (e && e[3]) || (n.cssNumber[a] ? "" : "px"),
            g =
              (n.cssNumber[a] || ("px" !== f && +d)) &&
              Ob.exec(n.css(c.elem, a)),
            h = 1,
            i = 20;
          if (g && g[3] !== f) {
            (f = f || g[3]), (e = e || []), (g = +d || 1);
            do (h = h || ".5"), (g /= h), n.style(c.elem, a, g + f);
            while (h !== (h = c.cur() / d) && 1 !== h && --i);
          }
          return (
            e &&
              ((g = c.start = +g || +d || 0),
              (c.unit = f),
              (c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2])),
            c
          );
        },
      ],
    };

  function Sb() {
    return (
      setTimeout(function () {
        Lb = void 0;
      }),
      (Lb = n.now())
    );
  }

  function Tb(a, b) {
    var c,
      d = 0,
      e = {
        height: a,
      };
    for (b = b ? 1 : 0; 4 > d; d += 2 - b)
      (c = R[d]), (e["margin" + c] = e["padding" + c] = a);
    return b && (e.opacity = e.width = a), e;
  }

  function Ub(a, b, c) {
    for (
      var d, e = (Rb[b] || []).concat(Rb["*"]), f = 0, g = e.length;
      g > f;
      f++
    )
      if ((d = e[f].call(c, b, a))) return d;
  }

  function Vb(a, b, c) {
    var d,
      e,
      f,
      g,
      h,
      i,
      j,
      k,
      l = this,
      m = {},
      o = a.style,
      p = a.nodeType && S(a),
      q = L.get(a, "fxshow");
    c.queue ||
      ((h = n._queueHooks(a, "fx")),
      null == h.unqueued &&
        ((h.unqueued = 0),
        (i = h.empty.fire),
        (h.empty.fire = function () {
          h.unqueued || i();
        })),
      h.unqueued++,
      l.always(function () {
        l.always(function () {
          h.unqueued--, n.queue(a, "fx").length || h.empty.fire();
        });
      })),
      1 === a.nodeType &&
        ("height" in b || "width" in b) &&
        ((c.overflow = [o.overflow, o.overflowX, o.overflowY]),
        (j = n.css(a, "display")),
        (k = "none" === j ? L.get(a, "olddisplay") || tb(a.nodeName) : j),
        "inline" === k &&
          "none" === n.css(a, "float") &&
          (o.display = "inline-block")),
      c.overflow &&
        ((o.overflow = "hidden"),
        l.always(function () {
          (o.overflow = c.overflow[0]),
            (o.overflowX = c.overflow[1]),
            (o.overflowY = c.overflow[2]);
        }));
    for (d in b)
      if (((e = b[d]), Nb.exec(e))) {
        if (
          (delete b[d], (f = f || "toggle" === e), e === (p ? "hide" : "show"))
        ) {
          if ("show" !== e || !q || void 0 === q[d]) continue;
          p = !0;
        }
        m[d] = (q && q[d]) || n.style(a, d);
      } else j = void 0;
    if (n.isEmptyObject(m))
      "inline" === ("none" === j ? tb(a.nodeName) : j) && (o.display = j);
    else {
      q ? "hidden" in q && (p = q.hidden) : (q = L.access(a, "fxshow", {})),
        f && (q.hidden = !p),
        p
          ? n(a).show()
          : l.done(function () {
              n(a).hide();
            }),
        l.done(function () {
          var b;
          L.remove(a, "fxshow");
          for (b in m) n.style(a, b, m[b]);
        });
      for (d in m)
        (g = Ub(p ? q[d] : 0, d, l)),
          d in q ||
            ((q[d] = g.start),
            p &&
              ((g.end = g.start),
              (g.start = "width" === d || "height" === d ? 1 : 0)));
    }
  }

  function Wb(a, b) {
    var c, d, e, f, g;
    for (c in a)
      if (
        ((d = n.camelCase(c)),
        (e = b[d]),
        (f = a[c]),
        n.isArray(f) && ((e = f[1]), (f = a[c] = f[0])),
        c !== d && ((a[d] = f), delete a[c]),
        (g = n.cssHooks[d]),
        g && "expand" in g)
      ) {
        (f = g.expand(f)), delete a[d];
        for (c in f) c in a || ((a[c] = f[c]), (b[c] = e));
      } else b[d] = e;
  }

  function Xb(a, b, c) {
    var d,
      e,
      f = 0,
      g = Qb.length,
      h = n.Deferred().always(function () {
        delete i.elem;
      }),
      i = function () {
        if (e) return !1;
        for (
          var b = Lb || Sb(),
            c = Math.max(0, j.startTime + j.duration - b),
            d = c / j.duration || 0,
            f = 1 - d,
            g = 0,
            i = j.tweens.length;
          i > g;
          g++
        )
          j.tweens[g].run(f);
        return (
          h.notifyWith(a, [j, f, c]),
          1 > f && i ? c : (h.resolveWith(a, [j]), !1)
        );
      },
      j = h.promise({
        elem: a,
        props: n.extend({}, b),
        opts: n.extend(
          !0,
          {
            specialEasing: {},
          },
          c
        ),
        originalProperties: b,
        originalOptions: c,
        startTime: Lb || Sb(),
        duration: c.duration,
        tweens: [],
        createTween: function (b, c) {
          var d = n.Tween(
            a,
            j.opts,
            b,
            c,
            j.opts.specialEasing[b] || j.opts.easing
          );
          return j.tweens.push(d), d;
        },
        stop: function (b) {
          var c = 0,
            d = b ? j.tweens.length : 0;
          if (e) return this;
          for (e = !0; d > c; c++) j.tweens[c].run(1);
          return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this;
        },
      }),
      k = j.props;
    for (Wb(k, j.opts.specialEasing); g > f; f++)
      if ((d = Qb[f].call(j, a, k, j.opts))) return d;
    return (
      n.map(k, Ub, j),
      n.isFunction(j.opts.start) && j.opts.start.call(a, j),
      n.fx.timer(
        n.extend(i, {
          elem: a,
          anim: j,
          queue: j.opts.queue,
        })
      ),
      j
        .progress(j.opts.progress)
        .done(j.opts.done, j.opts.complete)
        .fail(j.opts.fail)
        .always(j.opts.always)
    );
  }
  (n.Animation = n.extend(Xb, {
    tweener: function (a, b) {
      n.isFunction(a) ? ((b = a), (a = ["*"])) : (a = a.split(" "));
      for (var c, d = 0, e = a.length; e > d; d++)
        (c = a[d]), (Rb[c] = Rb[c] || []), Rb[c].unshift(b);
    },
    prefilter: function (a, b) {
      b ? Qb.unshift(a) : Qb.push(a);
    },
  })),
    (n.speed = function (a, b, c) {
      var d =
        a && "object" == typeof a
          ? n.extend({}, a)
          : {
              complete: c || (!c && b) || (n.isFunction(a) && a),
              duration: a,
              easing: (c && b) || (b && !n.isFunction(b) && b),
            };
      return (
        (d.duration = n.fx.off
          ? 0
          : "number" == typeof d.duration
          ? d.duration
          : d.duration in n.fx.speeds
          ? n.fx.speeds[d.duration]
          : n.fx.speeds._default),
        (null == d.queue || d.queue === !0) && (d.queue = "fx"),
        (d.old = d.complete),
        (d.complete = function () {
          n.isFunction(d.old) && d.old.call(this),
            d.queue && n.dequeue(this, d.queue);
        }),
        d
      );
    }),
    n.fn.extend({
      fadeTo: function (a, b, c, d) {
        return this.filter(S).css("opacity", 0).show().end().animate(
          {
            opacity: b,
          },
          a,
          c,
          d
        );
      },
      animate: function (a, b, c, d) {
        var e = n.isEmptyObject(a),
          f = n.speed(b, c, d),
          g = function () {
            var b = Xb(this, n.extend({}, a), f);
            (e || L.get(this, "finish")) && b.stop(!0);
          };
        return (
          (g.finish = g),
          e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
        );
      },
      stop: function (a, b, c) {
        var d = function (a) {
          var b = a.stop;
          delete a.stop, b(c);
        };
        return (
          "string" != typeof a && ((c = b), (b = a), (a = void 0)),
          b && a !== !1 && this.queue(a || "fx", []),
          this.each(function () {
            var b = !0,
              e = null != a && a + "queueHooks",
              f = n.timers,
              g = L.get(this);
            if (e) g[e] && g[e].stop && d(g[e]);
            else for (e in g) g[e] && g[e].stop && Pb.test(e) && d(g[e]);
            for (e = f.length; e--; )
              f[e].elem !== this ||
                (null != a && f[e].queue !== a) ||
                (f[e].anim.stop(c), (b = !1), f.splice(e, 1));
            (b || !c) && n.dequeue(this, a);
          })
        );
      },
      finish: function (a) {
        return (
          a !== !1 && (a = a || "fx"),
          this.each(function () {
            var b,
              c = L.get(this),
              d = c[a + "queue"],
              e = c[a + "queueHooks"],
              f = n.timers,
              g = d ? d.length : 0;
            for (
              c.finish = !0,
                n.queue(this, a, []),
                e && e.stop && e.stop.call(this, !0),
                b = f.length;
              b--;

            )
              f[b].elem === this &&
                f[b].queue === a &&
                (f[b].anim.stop(!0), f.splice(b, 1));
            for (b = 0; g > b; b++)
              d[b] && d[b].finish && d[b].finish.call(this);
            delete c.finish;
          })
        );
      },
    }),
    n.each(["toggle", "show", "hide"], function (a, b) {
      var c = n.fn[b];
      n.fn[b] = function (a, d, e) {
        return null == a || "boolean" == typeof a
          ? c.apply(this, arguments)
          : this.animate(Tb(b, !0), a, d, e);
      };
    }),
    n.each(
      {
        slideDown: Tb("show"),
        slideUp: Tb("hide"),
        slideToggle: Tb("toggle"),
        fadeIn: {
          opacity: "show",
        },
        fadeOut: {
          opacity: "hide",
        },
        fadeToggle: {
          opacity: "toggle",
        },
      },
      function (a, b) {
        n.fn[a] = function (a, c, d) {
          return this.animate(b, a, c, d);
        };
      }
    ),
    (n.timers = []),
    (n.fx.tick = function () {
      var a,
        b = 0,
        c = n.timers;
      for (Lb = n.now(); b < c.length; b++)
        (a = c[b]), a() || c[b] !== a || c.splice(b--, 1);
      c.length || n.fx.stop(), (Lb = void 0);
    }),
    (n.fx.timer = function (a) {
      n.timers.push(a), a() ? n.fx.start() : n.timers.pop();
    }),
    (n.fx.interval = 13),
    (n.fx.start = function () {
      Mb || (Mb = setInterval(n.fx.tick, n.fx.interval));
    }),
    (n.fx.stop = function () {
      clearInterval(Mb), (Mb = null);
    }),
    (n.fx.speeds = {
      slow: 600,
      fast: 200,
      _default: 400,
    }),
    (n.fn.delay = function (a, b) {
      return (
        (a = n.fx ? n.fx.speeds[a] || a : a),
        (b = b || "fx"),
        this.queue(b, function (b, c) {
          var d = setTimeout(b, a);
          c.stop = function () {
            clearTimeout(d);
          };
        })
      );
    }),
    (function () {
      var a = l.createElement("input"),
        b = l.createElement("select"),
        c = b.appendChild(l.createElement("option"));
      (a.type = "checkbox"),
        (k.checkOn = "" !== a.value),
        (k.optSelected = c.selected),
        (b.disabled = !0),
        (k.optDisabled = !c.disabled),
        (a = l.createElement("input")),
        (a.value = "t"),
        (a.type = "radio"),
        (k.radioValue = "t" === a.value);
    })();
  var Yb,
    Zb,
    $b = n.expr.attrHandle;
  n.fn.extend({
    attr: function (a, b) {
      return J(this, n.attr, a, b, arguments.length > 1);
    },
    removeAttr: function (a) {
      return this.each(function () {
        n.removeAttr(this, a);
      });
    },
  }),
    n.extend({
      attr: function (a, b, c) {
        var d,
          e,
          f = a.nodeType;
        if (a && 3 !== f && 8 !== f && 2 !== f)
          return typeof a.getAttribute === U
            ? n.prop(a, b, c)
            : ((1 === f && n.isXMLDoc(a)) ||
                ((b = b.toLowerCase()),
                (d = n.attrHooks[b] || (n.expr.match.bool.test(b) ? Zb : Yb))),
              void 0 === c
                ? d && "get" in d && null !== (e = d.get(a, b))
                  ? e
                  : ((e = n.find.attr(a, b)), null == e ? void 0 : e)
                : null !== c
                ? d && "set" in d && void 0 !== (e = d.set(a, c, b))
                  ? e
                  : (a.setAttribute(b, c + ""), c)
                : void n.removeAttr(a, b));
      },
      removeAttr: function (a, b) {
        var c,
          d,
          e = 0,
          f = b && b.match(E);
        if (f && 1 === a.nodeType)
          while ((c = f[e++]))
            (d = n.propFix[c] || c),
              n.expr.match.bool.test(c) && (a[d] = !1),
              a.removeAttribute(c);
      },
      attrHooks: {
        type: {
          set: function (a, b) {
            if (!k.radioValue && "radio" === b && n.nodeName(a, "input")) {
              var c = a.value;
              return a.setAttribute("type", b), c && (a.value = c), b;
            }
          },
        },
      },
    }),
    (Zb = {
      set: function (a, b, c) {
        return b === !1 ? n.removeAttr(a, c) : a.setAttribute(c, c), c;
      },
    }),
    n.each(n.expr.match.bool.source.match(/\w+/g), function (a, b) {
      var c = $b[b] || n.find.attr;
      $b[b] = function (a, b, d) {
        var e, f;
        return (
          d ||
            ((f = $b[b]),
            ($b[b] = e),
            (e = null != c(a, b, d) ? b.toLowerCase() : null),
            ($b[b] = f)),
          e
        );
      };
    });
  var _b = /^(?:input|select|textarea|button)$/i;
  n.fn.extend({
    prop: function (a, b) {
      return J(this, n.prop, a, b, arguments.length > 1);
    },
    removeProp: function (a) {
      return this.each(function () {
        delete this[n.propFix[a] || a];
      });
    },
  }),
    n.extend({
      propFix: {
        for: "htmlFor",
        class: "className",
      },
      prop: function (a, b, c) {
        var d,
          e,
          f,
          g = a.nodeType;
        if (a && 3 !== g && 8 !== g && 2 !== g)
          return (
            (f = 1 !== g || !n.isXMLDoc(a)),
            f && ((b = n.propFix[b] || b), (e = n.propHooks[b])),
            void 0 !== c
              ? e && "set" in e && void 0 !== (d = e.set(a, c, b))
                ? d
                : (a[b] = c)
              : e && "get" in e && null !== (d = e.get(a, b))
              ? d
              : a[b]
          );
      },
      propHooks: {
        tabIndex: {
          get: function (a) {
            return a.hasAttribute("tabindex") || _b.test(a.nodeName) || a.href
              ? a.tabIndex
              : -1;
          },
        },
      },
    }),
    k.optSelected ||
      (n.propHooks.selected = {
        get: function (a) {
          var b = a.parentNode;
          return b && b.parentNode && b.parentNode.selectedIndex, null;
        },
      }),
    n.each(
      [
        "tabIndex",
        "readOnly",
        "maxLength",
        "cellSpacing",
        "cellPadding",
        "rowSpan",
        "colSpan",
        "useMap",
        "frameBorder",
        "contentEditable",
      ],
      function () {
        n.propFix[this.toLowerCase()] = this;
      }
    );
  var ac = /[\t\r\n\f]/g;
  n.fn.extend({
    addClass: function (a) {
      var b,
        c,
        d,
        e,
        f,
        g,
        h = "string" == typeof a && a,
        i = 0,
        j = this.length;
      if (n.isFunction(a))
        return this.each(function (b) {
          n(this).addClass(a.call(this, b, this.className));
        });
      if (h)
        for (b = (a || "").match(E) || []; j > i; i++)
          if (
            ((c = this[i]),
            (d =
              1 === c.nodeType &&
              (c.className ? (" " + c.className + " ").replace(ac, " ") : " ")))
          ) {
            f = 0;
            while ((e = b[f++])) d.indexOf(" " + e + " ") < 0 && (d += e + " ");
            (g = n.trim(d)), c.className !== g && (c.className = g);
          }
      return this;
    },
    removeClass: function (a) {
      var b,
        c,
        d,
        e,
        f,
        g,
        h = 0 === arguments.length || ("string" == typeof a && a),
        i = 0,
        j = this.length;
      if (n.isFunction(a))
        return this.each(function (b) {
          n(this).removeClass(a.call(this, b, this.className));
        });
      if (h)
        for (b = (a || "").match(E) || []; j > i; i++)
          if (
            ((c = this[i]),
            (d =
              1 === c.nodeType &&
              (c.className ? (" " + c.className + " ").replace(ac, " ") : "")))
          ) {
            f = 0;
            while ((e = b[f++]))
              while (d.indexOf(" " + e + " ") >= 0)
                d = d.replace(" " + e + " ", " ");
            (g = a ? n.trim(d) : ""), c.className !== g && (c.className = g);
          }
      return this;
    },
    toggleClass: function (a, b) {
      var c = typeof a;
      return "boolean" == typeof b && "string" === c
        ? b
          ? this.addClass(a)
          : this.removeClass(a)
        : this.each(
            n.isFunction(a)
              ? function (c) {
                  n(this).toggleClass(a.call(this, c, this.className, b), b);
                }
              : function () {
                  if ("string" === c) {
                    var b,
                      d = 0,
                      e = n(this),
                      f = a.match(E) || [];
                    while ((b = f[d++]))
                      e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
                  } else
                    (c === U || "boolean" === c) &&
                      (this.className &&
                        L.set(this, "__className__", this.className),
                      (this.className =
                        this.className || a === !1
                          ? ""
                          : L.get(this, "__className__") || ""));
                }
          );
    },
    hasClass: function (a) {
      for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)
        if (
          1 === this[c].nodeType &&
          (" " + this[c].className + " ").replace(ac, " ").indexOf(b) >= 0
        )
          return !0;
      return !1;
    },
  });
  var bc = /\r/g;
  n.fn.extend({
    val: function (a) {
      var b,
        c,
        d,
        e = this[0];
      {
        if (arguments.length)
          return (
            (d = n.isFunction(a)),
            this.each(function (c) {
              var e;
              1 === this.nodeType &&
                ((e = d ? a.call(this, c, n(this).val()) : a),
                null == e
                  ? (e = "")
                  : "number" == typeof e
                  ? (e += "")
                  : n.isArray(e) &&
                    (e = n.map(e, function (a) {
                      return null == a ? "" : a + "";
                    })),
                (b =
                  n.valHooks[this.type] ||
                  n.valHooks[this.nodeName.toLowerCase()]),
                (b && "set" in b && void 0 !== b.set(this, e, "value")) ||
                  (this.value = e));
            })
          );
        if (e)
          return (
            (b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()]),
            b && "get" in b && void 0 !== (c = b.get(e, "value"))
              ? c
              : ((c = e.value),
                "string" == typeof c ? c.replace(bc, "") : null == c ? "" : c)
          );
      }
    },
  }),
    n.extend({
      valHooks: {
        option: {
          get: function (a) {
            var b = n.find.attr(a, "value");
            return null != b ? b : n.trim(n.text(a));
          },
        },
        select: {
          get: function (a) {
            for (
              var b,
                c,
                d = a.options,
                e = a.selectedIndex,
                f = "select-one" === a.type || 0 > e,
                g = f ? null : [],
                h = f ? e + 1 : d.length,
                i = 0 > e ? h : f ? e : 0;
              h > i;
              i++
            )
              if (
                ((c = d[i]),
                !(
                  (!c.selected && i !== e) ||
                  (k.optDisabled
                    ? c.disabled
                    : null !== c.getAttribute("disabled")) ||
                  (c.parentNode.disabled &&
                    n.nodeName(c.parentNode, "optgroup"))
                ))
              ) {
                if (((b = n(c).val()), f)) return b;
                g.push(b);
              }
            return g;
          },
          set: function (a, b) {
            var c,
              d,
              e = a.options,
              f = n.makeArray(b),
              g = e.length;
            while (g--)
              (d = e[g]), (d.selected = n.inArray(d.value, f) >= 0) && (c = !0);
            return c || (a.selectedIndex = -1), f;
          },
        },
      },
    }),
    n.each(["radio", "checkbox"], function () {
      (n.valHooks[this] = {
        set: function (a, b) {
          return n.isArray(b)
            ? (a.checked = n.inArray(n(a).val(), b) >= 0)
            : void 0;
        },
      }),
        k.checkOn ||
          (n.valHooks[this].get = function (a) {
            return null === a.getAttribute("value") ? "on" : a.value;
          });
    }),
    n.each(
      "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(
        " "
      ),
      function (a, b) {
        n.fn[b] = function (a, c) {
          return arguments.length > 0
            ? this.on(b, null, a, c)
            : this.trigger(b);
        };
      }
    ),
    n.fn.extend({
      hover: function (a, b) {
        return this.mouseenter(a).mouseleave(b || a);
      },
      bind: function (a, b, c) {
        return this.on(a, null, b, c);
      },
      unbind: function (a, b) {
        return this.off(a, null, b);
      },
      delegate: function (a, b, c, d) {
        return this.on(b, a, c, d);
      },
      undelegate: function (a, b, c) {
        return 1 === arguments.length
          ? this.off(a, "**")
          : this.off(b, a || "**", c);
      },
    });
  var cc = n.now(),
    dc = /\?/;
  (n.parseJSON = function (a) {
    return JSON.parse(a + "");
  }),
    (n.parseXML = function (a) {
      var b, c;
      if (!a || "string" != typeof a) return null;
      try {
        (c = new DOMParser()), (b = c.parseFromString(a, "text/xml"));
      } catch (d) {
        b = void 0;
      }
      return (
        (!b || b.getElementsByTagName("parsererror").length) &&
          n.error("Invalid XML: " + a),
        b
      );
    });
  var ec,
    fc,
    gc = /#.*$/,
    hc = /([?&])_=[^&]*/,
    ic = /^(.*?):[ \t]*([^\r\n]*)$/gm,
    jc = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
    kc = /^(?:GET|HEAD)$/,
    lc = /^\/\//,
    mc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
    nc = {},
    oc = {},
    pc = "*/".concat("*");
  try {
    fc = location.href;
  } catch (qc) {
    (fc = l.createElement("a")), (fc.href = ""), (fc = fc.href);
  }
  ec = mc.exec(fc.toLowerCase()) || [];

  function rc(a) {
    return function (b, c) {
      "string" != typeof b && ((c = b), (b = "*"));
      var d,
        e = 0,
        f = b.toLowerCase().match(E) || [];
      if (n.isFunction(c))
        while ((d = f[e++]))
          "+" === d[0]
            ? ((d = d.slice(1) || "*"), (a[d] = a[d] || []).unshift(c))
            : (a[d] = a[d] || []).push(c);
    };
  }

  function sc(a, b, c, d) {
    var e = {},
      f = a === oc;

    function g(h) {
      var i;
      return (
        (e[h] = !0),
        n.each(a[h] || [], function (a, h) {
          var j = h(b, c, d);
          return "string" != typeof j || f || e[j]
            ? f
              ? !(i = j)
              : void 0
            : (b.dataTypes.unshift(j), g(j), !1);
        }),
        i
      );
    }
    return g(b.dataTypes[0]) || (!e["*"] && g("*"));
  }

  function tc(a, b) {
    var c,
      d,
      e = n.ajaxSettings.flatOptions || {};
    for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
    return d && n.extend(!0, a, d), a;
  }

  function uc(a, b, c) {
    var d,
      e,
      f,
      g,
      h = a.contents,
      i = a.dataTypes;
    while ("*" === i[0])
      i.shift(),
        void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
    if (d)
      for (e in h)
        if (h[e] && h[e].test(d)) {
          i.unshift(e);
          break;
        }
    if (i[0] in c) f = i[0];
    else {
      for (e in c) {
        if (!i[0] || a.converters[e + " " + i[0]]) {
          f = e;
          break;
        }
        g || (g = e);
      }
      f = f || g;
    }
    return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0;
  }

  function vc(a, b, c, d) {
    var e,
      f,
      g,
      h,
      i,
      j = {},
      k = a.dataTypes.slice();
    if (k[1]) for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
    f = k.shift();
    while (f)
      if (
        (a.responseFields[f] && (c[a.responseFields[f]] = b),
        !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)),
        (i = f),
        (f = k.shift()))
      )
        if ("*" === f) f = i;
        else if ("*" !== i && i !== f) {
          if (((g = j[i + " " + f] || j["* " + f]), !g))
            for (e in j)
              if (
                ((h = e.split(" ")),
                h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]]))
              ) {
                g === !0
                  ? (g = j[e])
                  : j[e] !== !0 && ((f = h[0]), k.unshift(h[1]));
                break;
              }
          if (g !== !0)
            if (g && a["throws"]) b = g(b);
            else
              try {
                b = g(b);
              } catch (l) {
                return {
                  state: "parsererror",
                  error: g ? l : "No conversion from " + i + " to " + f,
                };
              }
        }
    return {
      state: "success",
      data: b,
    };
  }
  n.extend({
    active: 0,
    lastModified: {},
    etag: {},
    ajaxSettings: {
      url: fc,
      type: "GET",
      isLocal: jc.test(ec[1]),
      global: !0,
      processData: !0,
      async: !0,
      contentType: "application/x-www-form-urlencoded; charset=UTF-8",
      accepts: {
        "*": pc,
        text: "text/plain",
        html: "text/html",
        xml: "application/xml, text/xml",
        json: "application/json, text/javascript",
      },
      contents: {
        xml: /xml/,
        html: /html/,
        json: /json/,
      },
      responseFields: {
        xml: "responseXML",
        text: "responseText",
        json: "responseJSON",
      },
      converters: {
        "* text": String,
        "text html": !0,
        "text json": n.parseJSON,
        "text xml": n.parseXML,
      },
      flatOptions: {
        url: !0,
        context: !0,
      },
    },
    ajaxSetup: function (a, b) {
      return b ? tc(tc(a, n.ajaxSettings), b) : tc(n.ajaxSettings, a);
    },
    ajaxPrefilter: rc(nc),
    ajaxTransport: rc(oc),
    ajax: function (a, b) {
      "object" == typeof a && ((b = a), (a = void 0)), (b = b || {});
      var c,
        d,
        e,
        f,
        g,
        h,
        i,
        j,
        k = n.ajaxSetup({}, b),
        l = k.context || k,
        m = k.context && (l.nodeType || l.jquery) ? n(l) : n.event,
        o = n.Deferred(),
        p = n.Callbacks("once memory"),
        q = k.statusCode || {},
        r = {},
        s = {},
        t = 0,
        u = "canceled",
        v = {
          readyState: 0,
          getResponseHeader: function (a) {
            var b;
            if (2 === t) {
              if (!f) {
                f = {};
                while ((b = ic.exec(e))) f[b[1].toLowerCase()] = b[2];
              }
              b = f[a.toLowerCase()];
            }
            return null == b ? null : b;
          },
          getAllResponseHeaders: function () {
            return 2 === t ? e : null;
          },
          setRequestHeader: function (a, b) {
            var c = a.toLowerCase();
            return t || ((a = s[c] = s[c] || a), (r[a] = b)), this;
          },
          overrideMimeType: function (a) {
            return t || (k.mimeType = a), this;
          },
          statusCode: function (a) {
            var b;
            if (a)
              if (2 > t) for (b in a) q[b] = [q[b], a[b]];
              else v.always(a[v.status]);
            return this;
          },
          abort: function (a) {
            var b = a || u;
            return c && c.abort(b), x(0, b), this;
          },
        };
      if (
        ((o.promise(v).complete = p.add),
        (v.success = v.done),
        (v.error = v.fail),
        (k.url = ((a || k.url || fc) + "")
          .replace(gc, "")
          .replace(lc, ec[1] + "//")),
        (k.type = b.method || b.type || k.method || k.type),
        (k.dataTypes = n
          .trim(k.dataType || "*")
          .toLowerCase()
          .match(E) || [""]),
        null == k.crossDomain &&
          ((h = mc.exec(k.url.toLowerCase())),
          (k.crossDomain = !(
            !h ||
            (h[1] === ec[1] &&
              h[2] === ec[2] &&
              (h[3] || ("http:" === h[1] ? "80" : "443")) ===
                (ec[3] || ("http:" === ec[1] ? "80" : "443")))
          ))),
        k.data &&
          k.processData &&
          "string" != typeof k.data &&
          (k.data = n.param(k.data, k.traditional)),
        sc(nc, k, b, v),
        2 === t)
      )
        return v;
      (i = k.global),
        i && 0 === n.active++ && n.event.trigger("ajaxStart"),
        (k.type = k.type.toUpperCase()),
        (k.hasContent = !kc.test(k.type)),
        (d = k.url),
        k.hasContent ||
          (k.data &&
            ((d = k.url += (dc.test(d) ? "&" : "?") + k.data), delete k.data),
          k.cache === !1 &&
            (k.url = hc.test(d)
              ? d.replace(hc, "$1_=" + cc++)
              : d + (dc.test(d) ? "&" : "?") + "_=" + cc++)),
        k.ifModified &&
          (n.lastModified[d] &&
            v.setRequestHeader("If-Modified-Since", n.lastModified[d]),
          n.etag[d] && v.setRequestHeader("If-None-Match", n.etag[d])),
        ((k.data && k.hasContent && k.contentType !== !1) || b.contentType) &&
          v.setRequestHeader("Content-Type", k.contentType),
        v.setRequestHeader(
          "Accept",
          k.dataTypes[0] && k.accepts[k.dataTypes[0]]
            ? k.accepts[k.dataTypes[0]] +
                ("*" !== k.dataTypes[0] ? ", " + pc + "; q=0.01" : "")
            : k.accepts["*"]
        );
      for (j in k.headers) v.setRequestHeader(j, k.headers[j]);
      if (k.beforeSend && (k.beforeSend.call(l, v, k) === !1 || 2 === t))
        return v.abort();
      u = "abort";
      for (j in {
        success: 1,
        error: 1,
        complete: 1,
      })
        v[j](k[j]);
      if ((c = sc(oc, k, b, v))) {
        (v.readyState = 1),
          i && m.trigger("ajaxSend", [v, k]),
          k.async &&
            k.timeout > 0 &&
            (g = setTimeout(function () {
              v.abort("timeout");
            }, k.timeout));
        try {
          (t = 1), c.send(r, x);
        } catch (w) {
          if (!(2 > t)) throw w;
          x(-1, w);
        }
      } else x(-1, "No Transport");

      function x(a, b, f, h) {
        var j,
          r,
          s,
          u,
          w,
          x = b;
        2 !== t &&
          ((t = 2),
          g && clearTimeout(g),
          (c = void 0),
          (e = h || ""),
          (v.readyState = a > 0 ? 4 : 0),
          (j = (a >= 200 && 300 > a) || 304 === a),
          f && (u = uc(k, v, f)),
          (u = vc(k, u, v, j)),
          j
            ? (k.ifModified &&
                ((w = v.getResponseHeader("Last-Modified")),
                w && (n.lastModified[d] = w),
                (w = v.getResponseHeader("etag")),
                w && (n.etag[d] = w)),
              204 === a || "HEAD" === k.type
                ? (x = "nocontent")
                : 304 === a
                ? (x = "notmodified")
                : ((x = u.state), (r = u.data), (s = u.error), (j = !s)))
            : ((s = x), (a || !x) && ((x = "error"), 0 > a && (a = 0))),
          (v.status = a),
          (v.statusText = (b || x) + ""),
          j ? o.resolveWith(l, [r, x, v]) : o.rejectWith(l, [v, x, s]),
          v.statusCode(q),
          (q = void 0),
          i && m.trigger(j ? "ajaxSuccess" : "ajaxError", [v, k, j ? r : s]),
          p.fireWith(l, [v, x]),
          i &&
            (m.trigger("ajaxComplete", [v, k]),
            --n.active || n.event.trigger("ajaxStop")));
      }
      return v;
    },
    getJSON: function (a, b, c) {
      return n.get(a, b, c, "json");
    },
    getScript: function (a, b) {
      return n.get(a, void 0, b, "script");
    },
  }),
    n.each(["get", "post"], function (a, b) {
      n[b] = function (a, c, d, e) {
        return (
          n.isFunction(c) && ((e = e || d), (d = c), (c = void 0)),
          n.ajax({
            url: a,
            type: b,
            dataType: e,
            data: c,
            success: d,
          })
        );
      };
    }),
    n.each(
      [
        "ajaxStart",
        "ajaxStop",
        "ajaxComplete",
        "ajaxError",
        "ajaxSuccess",
        "ajaxSend",
      ],
      function (a, b) {
        n.fn[b] = function (a) {
          return this.on(b, a);
        };
      }
    ),
    (n._evalUrl = function (a) {
      return n.ajax({
        url: a,
        type: "GET",
        dataType: "script",
        async: !1,
        global: !1,
        throws: !0,
      });
    }),
    n.fn.extend({
      wrapAll: function (a) {
        var b;
        return n.isFunction(a)
          ? this.each(function (b) {
              n(this).wrapAll(a.call(this, b));
            })
          : (this[0] &&
              ((b = n(a, this[0].ownerDocument).eq(0).clone(!0)),
              this[0].parentNode && b.insertBefore(this[0]),
              b
                .map(function () {
                  var a = this;
                  while (a.firstElementChild) a = a.firstElementChild;
                  return a;
                })
                .append(this)),
            this);
      },
      wrapInner: function (a) {
        return this.each(
          n.isFunction(a)
            ? function (b) {
                n(this).wrapInner(a.call(this, b));
              }
            : function () {
                var b = n(this),
                  c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a);
              }
        );
      },
      wrap: function (a) {
        var b = n.isFunction(a);
        return this.each(function (c) {
          n(this).wrapAll(b ? a.call(this, c) : a);
        });
      },
      unwrap: function () {
        return this.parent()
          .each(function () {
            n.nodeName(this, "body") || n(this).replaceWith(this.childNodes);
          })
          .end();
      },
    }),
    (n.expr.filters.hidden = function (a) {
      return a.offsetWidth <= 0 && a.offsetHeight <= 0;
    }),
    (n.expr.filters.visible = function (a) {
      return !n.expr.filters.hidden(a);
    });
  var wc = /%20/g,
    xc = /\[\]$/,
    yc = /\r?\n/g,
    zc = /^(?:submit|button|image|reset|file)$/i,
    Ac = /^(?:input|select|textarea|keygen)/i;

  function Bc(a, b, c, d) {
    var e;
    if (n.isArray(b))
      n.each(b, function (b, e) {
        c || xc.test(a)
          ? d(a, e)
          : Bc(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d);
      });
    else if (c || "object" !== n.type(b)) d(a, b);
    else for (e in b) Bc(a + "[" + e + "]", b[e], c, d);
  }
  (n.param = function (a, b) {
    var c,
      d = [],
      e = function (a, b) {
        (b = n.isFunction(b) ? b() : null == b ? "" : b),
          (d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b));
      };
    if (
      (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional),
      n.isArray(a) || (a.jquery && !n.isPlainObject(a)))
    )
      n.each(a, function () {
        e(this.name, this.value);
      });
    else for (c in a) Bc(c, a[c], b, e);
    return d.join("&").replace(wc, "+");
  }),
    n.fn.extend({
      serialize: function () {
        return n.param(this.serializeArray());
      },
      serializeArray: function () {
        return this.map(function () {
          var a = n.prop(this, "elements");
          return a ? n.makeArray(a) : this;
        })
          .filter(function () {
            var a = this.type;
            return (
              this.name &&
              !n(this).is(":disabled") &&
              Ac.test(this.nodeName) &&
              !zc.test(a) &&
              (this.checked || !T.test(a))
            );
          })
          .map(function (a, b) {
            var c = n(this).val();
            return null == c
              ? null
              : n.isArray(c)
              ? n.map(c, function (a) {
                  return {
                    name: b.name,
                    value: a.replace(yc, "\r\n"),
                  };
                })
              : {
                  name: b.name,
                  value: c.replace(yc, "\r\n"),
                };
          })
          .get();
      },
    }),
    (n.ajaxSettings.xhr = function () {
      try {
        return new XMLHttpRequest();
      } catch (a) {}
    });
  var Cc = 0,
    Dc = {},
    Ec = {
      0: 200,
      1223: 204,
    },
    Fc = n.ajaxSettings.xhr();
  a.ActiveXObject &&
    n(a).on("unload", function () {
      for (var a in Dc) Dc[a]();
    }),
    (k.cors = !!Fc && "withCredentials" in Fc),
    (k.ajax = Fc = !!Fc),
    n.ajaxTransport(function (a) {
      var b;
      return k.cors || (Fc && !a.crossDomain)
        ? {
            send: function (c, d) {
              var e,
                f = a.xhr(),
                g = ++Cc;
              if (
                (f.open(a.type, a.url, a.async, a.username, a.password),
                a.xhrFields)
              )
                for (e in a.xhrFields) f[e] = a.xhrFields[e];
              a.mimeType &&
                f.overrideMimeType &&
                f.overrideMimeType(a.mimeType),
                a.crossDomain ||
                  c["X-Requested-With"] ||
                  (c["X-Requested-With"] = "XMLHttpRequest");
              for (e in c) f.setRequestHeader(e, c[e]);
              (b = function (a) {
                return function () {
                  b &&
                    (delete Dc[g],
                    (b = f.onload = f.onerror = null),
                    "abort" === a
                      ? f.abort()
                      : "error" === a
                      ? d(f.status, f.statusText)
                      : d(
                          Ec[f.status] || f.status,
                          f.statusText,
                          "string" == typeof f.responseText
                            ? {
                                text: f.responseText,
                              }
                            : void 0,
                          f.getAllResponseHeaders()
                        ));
                };
              }),
                (f.onload = b()),
                (f.onerror = b("error")),
                (b = Dc[g] = b("abort"));
              try {
                f.send((a.hasContent && a.data) || null);
              } catch (h) {
                if (b) throw h;
              }
            },
            abort: function () {
              b && b();
            },
          }
        : void 0;
    }),
    n.ajaxSetup({
      accepts: {
        script:
          "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
      },
      contents: {
        script: /(?:java|ecma)script/,
      },
      converters: {
        "text script": function (a) {
          return n.globalEval(a), a;
        },
      },
    }),
    n.ajaxPrefilter("script", function (a) {
      void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET");
    }),
    n.ajaxTransport("script", function (a) {
      if (a.crossDomain) {
        var b, c;
        return {
          send: function (d, e) {
            (b = n("<script>")
              .prop({
                async: !0,
                charset: a.scriptCharset,
                src: a.url,
              })
              .on(
                "load error",
                (c = function (a) {
                  b.remove(),
                    (c = null),
                    a && e("error" === a.type ? 404 : 200, a.type);
                })
              )),
              l.head.appendChild(b[0]);
          },
          abort: function () {
            c && c();
          },
        };
      }
    });
  var Gc = [],
    Hc = /(=)\?(?=&|$)|\?\?/;
  n.ajaxSetup({
    jsonp: "callback",
    jsonpCallback: function () {
      var a = Gc.pop() || n.expando + "_" + cc++;
      return (this[a] = !0), a;
    },
  }),
    n.ajaxPrefilter("json jsonp", function (b, c, d) {
      var e,
        f,
        g,
        h =
          b.jsonp !== !1 &&
          (Hc.test(b.url)
            ? "url"
            : "string" == typeof b.data &&
              !(b.contentType || "").indexOf(
                "application/x-www-form-urlencoded"
              ) &&
              Hc.test(b.data) &&
              "data");
      return h || "jsonp" === b.dataTypes[0]
        ? ((e = b.jsonpCallback =
            n.isFunction(b.jsonpCallback)
              ? b.jsonpCallback()
              : b.jsonpCallback),
          h
            ? (b[h] = b[h].replace(Hc, "$1" + e))
            : b.jsonp !== !1 &&
              (b.url += (dc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e),
          (b.converters["script json"] = function () {
            return g || n.error(e + " was not called"), g[0];
          }),
          (b.dataTypes[0] = "json"),
          (f = a[e]),
          (a[e] = function () {
            g = arguments;
          }),
          d.always(function () {
            (a[e] = f),
              b[e] && ((b.jsonpCallback = c.jsonpCallback), Gc.push(e)),
              g && n.isFunction(f) && f(g[0]),
              (g = f = void 0);
          }),
          "script")
        : void 0;
    }),
    (n.parseHTML = function (a, b, c) {
      if (!a || "string" != typeof a) return null;
      "boolean" == typeof b && ((c = b), (b = !1)), (b = b || l);
      var d = v.exec(a),
        e = !c && [];
      return d
        ? [b.createElement(d[1])]
        : ((d = n.buildFragment([a], b, e)),
          e && e.length && n(e).remove(),
          n.merge([], d.childNodes));
    });
  var Ic = n.fn.load;
  (n.fn.load = function (a, b, c) {
    if ("string" != typeof a && Ic) return Ic.apply(this, arguments);
    var d,
      e,
      f,
      g = this,
      h = a.indexOf(" ");
    return (
      h >= 0 && ((d = n.trim(a.slice(h))), (a = a.slice(0, h))),
      n.isFunction(b)
        ? ((c = b), (b = void 0))
        : b && "object" == typeof b && (e = "POST"),
      g.length > 0 &&
        n
          .ajax({
            url: a,
            type: e,
            dataType: "html",
            data: b,
          })
          .done(function (a) {
            (f = arguments),
              g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a);
          })
          .complete(
            c &&
              function (a, b) {
                g.each(c, f || [a.responseText, b, a]);
              }
          ),
      this
    );
  }),
    (n.expr.filters.animated = function (a) {
      return n.grep(n.timers, function (b) {
        return a === b.elem;
      }).length;
    });
  var Jc = a.document.documentElement;

  function Kc(a) {
    return n.isWindow(a) ? a : 9 === a.nodeType && a.defaultView;
  }
  (n.offset = {
    setOffset: function (a, b, c) {
      var d,
        e,
        f,
        g,
        h,
        i,
        j,
        k = n.css(a, "position"),
        l = n(a),
        m = {};
      "static" === k && (a.style.position = "relative"),
        (h = l.offset()),
        (f = n.css(a, "top")),
        (i = n.css(a, "left")),
        (j =
          ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1),
        j
          ? ((d = l.position()), (g = d.top), (e = d.left))
          : ((g = parseFloat(f) || 0), (e = parseFloat(i) || 0)),
        n.isFunction(b) && (b = b.call(a, c, h)),
        null != b.top && (m.top = b.top - h.top + g),
        null != b.left && (m.left = b.left - h.left + e),
        "using" in b ? b.using.call(a, m) : l.css(m);
    },
  }),
    n.fn.extend({
      offset: function (a) {
        if (arguments.length)
          return void 0 === a
            ? this
            : this.each(function (b) {
                n.offset.setOffset(this, a, b);
              });
        var b,
          c,
          d = this[0],
          e = {
            top: 0,
            left: 0,
          },
          f = d && d.ownerDocument;
        if (f)
          return (
            (b = f.documentElement),
            n.contains(b, d)
              ? (typeof d.getBoundingClientRect !== U &&
                  (e = d.getBoundingClientRect()),
                (c = Kc(f)),
                {
                  top: e.top + c.pageYOffset - b.clientTop,
                  left: e.left + c.pageXOffset - b.clientLeft,
                })
              : e
          );
      },
      position: function () {
        if (this[0]) {
          var a,
            b,
            c = this[0],
            d = {
              top: 0,
              left: 0,
            };
          return (
            "fixed" === n.css(c, "position")
              ? (b = c.getBoundingClientRect())
              : ((a = this.offsetParent()),
                (b = this.offset()),
                n.nodeName(a[0], "html") || (d = a.offset()),
                (d.top += n.css(a[0], "borderTopWidth", !0)),
                (d.left += n.css(a[0], "borderLeftWidth", !0))),
            {
              top: b.top - d.top - n.css(c, "marginTop", !0),
              left: b.left - d.left - n.css(c, "marginLeft", !0),
            }
          );
        }
      },
      offsetParent: function () {
        return this.map(function () {
          var a = this.offsetParent || Jc;
          while (
            a &&
            !n.nodeName(a, "html") &&
            "static" === n.css(a, "position")
          )
            a = a.offsetParent;
          return a || Jc;
        });
      },
    }),
    n.each(
      {
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset",
      },
      function (b, c) {
        var d = "pageYOffset" === c;
        n.fn[b] = function (e) {
          return J(
            this,
            function (b, e, f) {
              var g = Kc(b);
              return void 0 === f
                ? g
                  ? g[c]
                  : b[e]
                : void (g
                    ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset)
                    : (b[e] = f));
            },
            b,
            e,
            arguments.length,
            null
          );
        };
      }
    ),
    n.each(["top", "left"], function (a, b) {
      n.cssHooks[b] = yb(k.pixelPosition, function (a, c) {
        return c
          ? ((c = xb(a, b)), vb.test(c) ? n(a).position()[b] + "px" : c)
          : void 0;
      });
    }),
    n.each(
      {
        Height: "height",
        Width: "width",
      },
      function (a, b) {
        n.each(
          {
            padding: "inner" + a,
            content: b,
            "": "outer" + a,
          },
          function (c, d) {
            n.fn[d] = function (d, e) {
              var f = arguments.length && (c || "boolean" != typeof d),
                g = c || (d === !0 || e === !0 ? "margin" : "border");
              return J(
                this,
                function (b, c, d) {
                  var e;
                  return n.isWindow(b)
                    ? b.document.documentElement["client" + a]
                    : 9 === b.nodeType
                    ? ((e = b.documentElement),
                      Math.max(
                        b.body["scroll" + a],
                        e["scroll" + a],
                        b.body["offset" + a],
                        e["offset" + a],
                        e["client" + a]
                      ))
                    : void 0 === d
                    ? n.css(b, c, g)
                    : n.style(b, c, d, g);
                },
                b,
                f ? d : void 0,
                f,
                null
              );
            };
          }
        );
      }
    ),
    (n.fn.size = function () {
      return this.length;
    }),
    (n.fn.andSelf = n.fn.addBack),
    "function" == typeof define &&
      define.amd &&
      define("jquery", [], function () {
        return n;
      });
  var Lc = a.jQuery,
    Mc = a.$;
  return (
    (n.noConflict = function (b) {
      return a.$ === n && (a.$ = Mc), b && a.jQuery === n && (a.jQuery = Lc), n;
    }),
    typeof b === U && (a.jQuery = a.$ = n),
    n
  );
});
/**
 * @license
 * lodash 3.8.0 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 * Build: `lodash modern -o ./lodash.js`
 */
(function () {
  function n(n, t) {
    if (n !== t) {
      var r = n === n,
        e = t === t;
      if (n > t || !r || (n === w && e)) return 1;
      if (n < t || !e || (t === w && r)) return -1;
    }
    return 0;
  }
  function t(n, t, r) {
    for (var e = n.length, u = r ? e : -1; r ? u-- : ++u < e; )
      if (t(n[u], u, n)) return u;
    return -1;
  }
  function r(n, t, r) {
    if (t !== t) return p(n, r);
    r -= 1;
    for (var e = n.length; ++r < e; ) if (n[r] === t) return r;
    return -1;
  }
  function e(n) {
    return typeof n == "function" || false;
  }
  function u(n) {
    return typeof n == "string" ? n : null == n ? "" : n + "";
  }
  function o(n) {
    return n.charCodeAt(0);
  }
  function i(n, t) {
    for (var r = -1, e = n.length; ++r < e && -1 < t.indexOf(n.charAt(r)); );
    return r;
  }
  function f(n, t) {
    for (var r = n.length; r-- && -1 < t.indexOf(n.charAt(r)); );
    return r;
  }
  function a(t, r) {
    return n(t.a, r.a) || t.b - r.b;
  }
  function c(n) {
    return $n[n];
  }
  function l(n) {
    return Ln[n];
  }
  function s(n) {
    return "\\" + Mn[n];
  }
  function p(n, t, r) {
    var e = n.length;
    for (t += r ? 0 : -1; r ? t-- : ++t < e; ) {
      var u = n[t];
      if (u !== u) return t;
    }
    return -1;
  }
  function h(n) {
    return !!n && typeof n == "object";
  }
  function _(n) {
    return (
      (160 >= n && 9 <= n && 13 >= n) ||
      32 == n ||
      160 == n ||
      5760 == n ||
      6158 == n ||
      (8192 <= n &&
        (8202 >= n ||
          8232 == n ||
          8233 == n ||
          8239 == n ||
          8287 == n ||
          12288 == n ||
          65279 == n))
    );
  }
  function v(n, t) {
    for (var r = -1, e = n.length, u = -1, o = []; ++r < e; )
      n[r] === t && ((n[r] = z), (o[++u] = r));
    return o;
  }
  function g(n) {
    for (var t = -1, r = n.length; ++t < r && _(n.charCodeAt(t)); );
    return t;
  }
  function y(n) {
    for (var t = n.length; t-- && _(n.charCodeAt(t)); );
    return t;
  }
  function d(n) {
    return zn[n];
  }
  function m(_) {
    function $n(n) {
      if (h(n) && !(To(n) || n instanceof Bn)) {
        if (n instanceof zn) return n;
        if (Ge.call(n, "__chain__") && Ge.call(n, "__wrapped__")) return Lr(n);
      }
      return new zn(n);
    }
    function Ln() {}
    function zn(n, t, r) {
      (this.__wrapped__ = n),
        (this.__actions__ = r || []),
        (this.__chain__ = !!t);
    }
    function Bn(n) {
      (this.__wrapped__ = n),
        (this.__actions__ = null),
        (this.__dir__ = 1),
        (this.__filtered__ = false),
        (this.__iteratees__ = null),
        (this.__takeCount__ = Iu),
        (this.__views__ = null);
    }
    function Mn() {
      this.__data__ = {};
    }
    function Dn(n) {
      var t = n ? n.length : 0;
      for (this.data = { hash: du(null), set: new lu() }; t--; )
        this.push(n[t]);
    }
    function Pn(n, t) {
      var r = n.data;
      return (typeof t == "string" || se(t) ? r.set.has(t) : r.hash[t])
        ? 0
        : -1;
    }
    function qn(n, t) {
      var r = -1,
        e = n.length;
      for (t || (t = Ue(e)); ++r < e; ) t[r] = n[r];
      return t;
    }
    function Kn(n, t) {
      for (var r = -1, e = n.length; ++r < e && false !== t(n[r], r, n); );
      return n;
    }
    function Vn(n, t) {
      for (var r = -1, e = n.length; ++r < e; )
        if (!t(n[r], r, n)) return false;
      return true;
    }
    function Gn(n, t) {
      for (var r = -1, e = n.length, u = -1, o = []; ++r < e; ) {
        var i = n[r];
        t(i, r, n) && (o[++u] = i);
      }
      return o;
    }
    function Jn(n, t) {
      for (var r = -1, e = n.length, u = Ue(e); ++r < e; ) u[r] = t(n[r], r, n);
      return u;
    }
    function Xn(n, t, r, e) {
      var u = -1,
        o = n.length;
      for (e && o && (r = n[++u]); ++u < o; ) r = t(r, n[u], u, n);
      return r;
    }
    function Hn(n, t) {
      for (var r = -1, e = n.length; ++r < e; ) if (t(n[r], r, n)) return true;
      return false;
    }
    function Qn(n, t) {
      return n === w ? t : n;
    }
    function nt(n, t, r, e) {
      return n !== w && Ge.call(e, r) ? n : t;
    }
    function tt(n, t, r) {
      var e = Ko(t);
      fu.apply(e, Zu(t));
      for (var u = -1, o = e.length; ++u < o; ) {
        var i = e[u],
          f = n[i],
          a = r(f, t[i], i, n, t);
        ((a === a ? a === f : f !== f) && (f !== w || i in n)) || (n[i] = a);
      }
      return n;
    }
    function rt(n, t) {
      for (
        var r = -1,
          e = null == n,
          u = !e && jr(n),
          o = u && n.length,
          i = t.length,
          f = Ue(i);
        ++r < i;

      ) {
        var a = t[r];
        f[r] = u ? (kr(a, o) ? n[a] : w) : e ? w : n[a];
      }
      return f;
    }
    function et(n, t, r) {
      r || (r = {});
      for (var e = -1, u = t.length; ++e < u; ) {
        var o = t[e];
        r[o] = n[o];
      }
      return r;
    }
    function ut(n, t, r) {
      var e = typeof n;
      return "function" == e
        ? t === w
          ? n
          : zt(n, t, r)
        : null == n
        ? Re
        : "object" == e
        ? wt(n)
        : t === w
        ? Te(n)
        : bt(n, t);
    }
    function ot(n, t, r, e, u, o, i) {
      var f;
      if ((r && (f = u ? r(n, e, u) : r(n)), f !== w)) return f;
      if (!se(n)) return n;
      if ((e = To(n))) {
        if (((f = wr(n)), !t)) return qn(n, f);
      } else {
        var a = Xe.call(n),
          c = a == K;
        if (a != Y && a != B && (!c || u))
          return Nn[a] ? xr(n, a, t) : u ? n : {};
        if (((f = br(c ? {} : n)), !t)) return $u(f, n);
      }
      for (o || (o = []), i || (i = []), u = o.length; u--; )
        if (o[u] == n) return i[u];
      return (
        o.push(n),
        i.push(f),
        (e ? Kn : ht)(n, function (e, u) {
          f[u] = ot(e, t, r, u, n, o, i);
        }),
        f
      );
    }
    function it(n, t, r) {
      if (typeof n != "function") throw new Pe(L);
      return su(function () {
        n.apply(w, r);
      }, t);
    }
    function ft(n, t) {
      var e = n ? n.length : 0,
        u = [];
      if (!e) return u;
      var o = -1,
        i = mr(),
        f = i == r,
        a = f && 200 <= t.length ? qu(t) : null,
        c = t.length;
      a && ((i = Pn), (f = false), (t = a));
      n: for (; ++o < e; )
        if (((a = n[o]), f && a === a)) {
          for (var l = c; l--; ) if (t[l] === a) continue n;
          u.push(a);
        } else 0 > i(t, a, 0) && u.push(a);
      return u;
    }
    function at(n, t) {
      var r = true;
      return (
        zu(n, function (n, e, u) {
          return (r = !!t(n, e, u));
        }),
        r
      );
    }
    function ct(n, t) {
      var r = [];
      return (
        zu(n, function (n, e, u) {
          t(n, e, u) && r.push(n);
        }),
        r
      );
    }
    function lt(n, t, r, e) {
      var u;
      return (
        r(n, function (n, r, o) {
          return t(n, r, o) ? ((u = e ? r : n), false) : void 0;
        }),
        u
      );
    }
    function st(n, t, r) {
      for (var e = -1, u = n.length, o = -1, i = []; ++e < u; ) {
        var f = n[e];
        if (h(f) && jr(f) && (r || To(f) || ae(f))) {
          t && (f = st(f, t, r));
          for (var a = -1, c = f.length; ++a < c; ) i[++o] = f[a];
        } else r || (i[++o] = f);
      }
      return i;
    }
    function pt(n, t) {
      Mu(n, t, me);
    }
    function ht(n, t) {
      return Mu(n, t, Ko);
    }
    function _t(n, t) {
      return Du(n, t, Ko);
    }
    function vt(n, t) {
      for (var r = -1, e = t.length, u = -1, o = []; ++r < e; ) {
        var i = t[r];
        No(n[i]) && (o[++u] = i);
      }
      return o;
    }
    function gt(n, t, r) {
      if (null != n) {
        r !== w && r in Fr(n) && (t = [r]), (r = -1);
        for (var e = t.length; null != n && ++r < e; ) n = n[t[r]];
        return r && r == e ? n : w;
      }
    }
    function yt(n, t, r, e, u, o) {
      if (n === t) return true;
      var i = typeof n,
        f = typeof t;
      if (
        ("function" != i &&
          "object" != i &&
          "function" != f &&
          "object" != f) ||
        null == n ||
        null == t
      )
        n = n !== n && t !== t;
      else
        n: {
          var i = yt,
            f = To(n),
            a = To(t),
            c = M,
            l = M;
          f || ((c = Xe.call(n)), c == B ? (c = Y) : c != Y && (f = ge(n))),
            a || ((l = Xe.call(t)), l == B ? (l = Y) : l != Y && ge(t));
          var s = c == Y,
            a = l == Y,
            l = c == l;
          if (!l || f || s) {
            if (
              !e &&
              ((c = s && Ge.call(n, "__wrapped__")),
              (a = a && Ge.call(t, "__wrapped__")),
              c || a)
            ) {
              n = i(c ? n.value() : n, a ? t.value() : t, r, e, u, o);
              break n;
            }
            if (l) {
              for (u || (u = []), o || (o = []), c = u.length; c--; )
                if (u[c] == n) {
                  n = o[c] == t;
                  break n;
                }
              u.push(n),
                o.push(t),
                (n = (f ? _r : gr)(n, t, i, r, e, u, o)),
                u.pop(),
                o.pop();
            } else n = false;
          } else n = vr(n, t, c);
        }
      return n;
    }
    function dt(n, t, r, e, u) {
      for (var o = -1, i = t.length, f = !u; ++o < i; )
        if (f && e[o] ? r[o] !== n[t[o]] : !(t[o] in n)) return false;
      for (o = -1; ++o < i; ) {
        var a = t[o],
          c = n[a],
          l = r[o];
        if (
          (f && e[o]
            ? (a = c !== w || a in n)
            : ((a = u ? u(c, l, a) : w), a === w && (a = yt(l, c, u, true))),
          !a)
        )
          return false;
      }
      return true;
    }
    function mt(n, t) {
      var r = -1,
        e = jr(n) ? Ue(n.length) : [];
      return (
        zu(n, function (n, u, o) {
          e[++r] = t(n, u, o);
        }),
        e
      );
    }
    function wt(n) {
      var t = Ko(n),
        r = t.length;
      if (!r) return Ie(true);

      if (1 == r) {
        var e = t[0],
          u = n[e];
        if (Cr(u))
          return function (n) {
            return null == n ? false : n[e] === u && (u !== w || e in Fr(n));
          };
      }
      for (var o = Ue(r), i = Ue(r); r--; )
        (u = n[t[r]]), (o[r] = u), (i[r] = Cr(u));
      return function (n) {
        return null != n && dt(Fr(n), t, o, i);
      };
    }
    function bt(n, t) {
      var r = To(n),
        e = Er(n) && Cr(t),
        u = n + "";
      return (
        (n = $r(n)),
        function (o) {
          if (null == o) return false;
          var i = u;
          if (((o = Fr(o)), !((!r && e) || i in o))) {
            if (((o = 1 == n.length ? o : gt(o, It(n, 0, -1))), null == o))
              return false;
            (i = Pr(n)), (o = Fr(o));
          }
          return o[i] === t ? t !== w || i in o : yt(t, o[i], null, true);
        }
      );
    }
    function xt(n, t, r, e, u) {
      if (!se(n)) return n;

      var o = jr(t) && (To(t) || ge(t));
      if (!o) {
        var i = Ko(t);
        fu.apply(i, Zu(t));
      }
      return (
        Kn(i || t, function (f, a) {
          if ((i && ((a = f), (f = t[a])), h(f))) {
            e || (e = []), u || (u = []);
            n: {
              for (var c = a, l = e, s = u, p = l.length, _ = t[c]; p--; )
                if (l[p] == _) {
                  n[c] = s[p];
                  break n;
                }
              var p = n[c],
                v = r ? r(p, _, c, n, t) : w,
                g = v === w;
              g &&
                ((v = _),
                jr(_) && (To(_) || ge(_))
                  ? (v = To(p) ? p : jr(p) ? qn(p) : [])
                  : Fo(_) || ae(_)
                  ? (v = ae(p) ? ye(p) : Fo(p) ? p : {})
                  : (g = false)),
                l.push(_),
                s.push(v),
                g
                  ? (n[c] = xt(v, _, r, l, s))
                  : (v === v ? v !== p : p === p) && (n[c] = v);
            }
          } else (c = n[a]), (l = r ? r(c, f, a, n, t) : w), (s = l === w) && (l = f), (!o && l === w) || (!s && (l === l ? l === c : c !== c)) || (n[a] = l);
        }),
        n
      );
    }
    function At(n) {
      return function (t) {
        return null == t ? w : t[n];
      };
    }
    function jt(n) {
      var t = n + "";
      return (
        (n = $r(n)),
        function (r) {
          return gt(r, n, t);
        }
      );
    }
    function kt(n, t) {
      for (var r = n ? t.length : 0; r--; ) {
        var e = parseFloat(t[r]);
        if (e != u && kr(e)) {
          var u = e;
          pu.call(n, e, 1);
        }
      }
    }
    function Ot(n, t) {
      return n + uu(Ou() * (t - n + 1));
    }
    function Et(n, t, r, e, u) {
      return (
        u(n, function (n, u, o) {
          r = e ? ((e = false), n) : t(r, n, u, o);
        }),
        r
      );
    }
    function It(n, t, r) {
      var e = -1,
        u = n.length;
      for (
        t = null == t ? 0 : +t || 0,
          0 > t && (t = -t > u ? 0 : u + t),
          r = r === w || r > u ? u : +r || 0,
          0 > r && (r += u),
          u = t > r ? 0 : (r - t) >>> 0,
          t >>>= 0,
          r = Ue(u);
        ++e < u;

      )
        r[e] = n[e + t];
      return r;
    }
    function Rt(n, t) {
      var r;
      return (
        zu(n, function (n, e, u) {
          return (r = t(n, e, u)), !r;
        }),
        !!r
      );
    }
    function Ct(n, t) {
      var r = n.length;
      for (n.sort(t); r--; ) n[r] = n[r].c;
      return n;
    }
    function Wt(t, r, e) {
      var u = dr(),
        o = -1;
      return (
        (r = Jn(r, function (n) {
          return u(n);
        })),
        (t = mt(t, function (n) {
          return {
            a: Jn(r, function (t) {
              return t(n);
            }),
            b: ++o,
            c: n,
          };
        })),
        Ct(t, function (t, r) {
          var u;
          n: {
            u = -1;
            for (var o = t.a, i = r.a, f = o.length, a = e.length; ++u < f; ) {
              var c = n(o[u], i[u]);
              if (c) {
                u = u < a ? c * (e[u] ? 1 : -1) : c;
                break n;
              }
            }
            u = t.b - r.b;
          }
          return u;
        })
      );
    }
    function St(n, t) {
      var r = 0;
      return (
        zu(n, function (n, e, u) {
          r += +t(n, e, u) || 0;
        }),
        r
      );
    }
    function Tt(n, t) {
      var e = -1,
        u = mr(),
        o = n.length,
        i = u == r,
        f = i && 200 <= o,
        a = f ? qu() : null,
        c = [];
      a ? ((u = Pn), (i = false)) : ((f = false), (a = t ? [] : c));
      n: for (; ++e < o; ) {
        var l = n[e],
          s = t ? t(l, e, n) : l;
        if (i && l === l) {
          for (var p = a.length; p--; ) if (a[p] === s) continue n;
          t && a.push(s), c.push(l);
        } else 0 > u(a, s, 0) && ((t || f) && a.push(s), c.push(l));
      }
      return c;
    }
    function Ut(n, t) {
      for (var r = -1, e = t.length, u = Ue(e); ++r < e; ) u[r] = n[t[r]];
      return u;
    }
    function Nt(n, t, r, e) {
      for (
        var u = n.length, o = e ? u : -1;
        (e ? o-- : ++o < u) && t(n[o], o, n);

      );
      return r
        ? It(n, e ? 0 : o, e ? o + 1 : u)
        : It(n, e ? o + 1 : 0, e ? u : o);
    }
    function Ft(n, t) {
      var r = n;
      r instanceof Bn && (r = r.value());
      for (var e = -1, u = t.length; ++e < u; ) {
        var r = [r],
          o = t[e];
        fu.apply(r, o.args), (r = o.func.apply(o.thisArg, r));
      }
      return r;
    }
    function $t(n, t, r) {
      var e = 0,
        u = n ? n.length : e;
      if (typeof t == "number" && t === t && u <= Wu) {
        for (; e < u; ) {
          var o = (e + u) >>> 1,
            i = n[o];
          (r ? i <= t : i < t) ? (e = o + 1) : (u = o);
        }
        return u;
      }
      return Lt(n, t, Re, r);
    }
    function Lt(n, t, r, e) {
      t = r(t);
      for (var u = 0, o = n ? n.length : 0, i = t !== t, f = t === w; u < o; ) {
        var a = uu((u + o) / 2),
          c = r(n[a]),
          l = c === c;
        (i ? l || e : f ? l && (e || c !== w) : e ? c <= t : c < t)
          ? (u = a + 1)
          : (o = a);
      }
      return xu(o, Cu);
    }
    function zt(n, t, r) {
      if (typeof n != "function") return Re;
      if (t === w) return n;
      switch (r) {
        case 1:
          return function (r) {
            return n.call(t, r);
          };
        case 3:
          return function (r, e, u) {
            return n.call(t, r, e, u);
          };
        case 4:
          return function (r, e, u, o) {
            return n.call(t, r, e, u, o);
          };
        case 5:
          return function (r, e, u, o, i) {
            return n.call(t, r, e, u, o, i);
          };
      }
      return function () {
        return n.apply(t, arguments);
      };
    }
    function Bt(n) {
      return tu.call(n, 0);
    }
    function Mt(n, t, r) {
      for (
        var e = r.length,
          u = -1,
          o = bu(n.length - e, 0),
          i = -1,
          f = t.length,
          a = Ue(o + f);
        ++i < f;

      )
        a[i] = t[i];

      for (; ++u < e; ) a[r[u]] = n[u];
      for (; o--; ) a[i++] = n[u++];
      return a;
    }
    function Dt(n, t, r) {
      for (
        var e = -1,
          u = r.length,
          o = -1,
          i = bu(n.length - u, 0),
          f = -1,
          a = t.length,
          c = Ue(i + a);
        ++o < i;

      )
        c[o] = n[o];
      for (i = o; ++f < a; ) c[i + f] = t[f];
      for (; ++e < u; ) c[i + r[e]] = n[o++];
      return c;
    }
    function Pt(n, t) {
      return function (r, e, u) {
        var o = t ? t() : {};
        if (((e = dr(e, u, 3)), To(r))) {
          u = -1;
          for (var i = r.length; ++u < i; ) {
            var f = r[u];
            n(o, f, e(f, u, r), r);
          }
        } else
          zu(r, function (t, r, u) {
            n(o, t, e(t, r, u), u);
          });
        return o;
      };
    }
    function qt(n) {
      return fe(function (t, r) {
        var e = -1,
          u = null == t ? 0 : r.length,
          o = 2 < u && r[u - 2],
          i = 2 < u && r[2],
          f = 1 < u && r[u - 1];

        for (
          typeof o == "function"
            ? ((o = zt(o, f, 5)), (u -= 2))
            : ((o = typeof f == "function" ? f : null), (u -= o ? 1 : 0)),
            i && Or(r[0], r[1], i) && ((o = 3 > u ? null : o), (u = 1));
          ++e < u;

        )
          (i = r[e]) && n(t, i, o);
        return t;
      });
    }
    function Kt(n, t) {
      return function (r, e) {
        var u = r ? Yu(r) : 0;
        if (!Rr(u)) return n(r, e);
        for (
          var o = t ? u : -1, i = Fr(r);
          (t ? o-- : ++o < u) && false !== e(i[o], o, i);

        );
        return r;
      };
    }
    function Vt(n) {
      return function (t, r, e) {
        var u = Fr(t);
        e = e(t);
        for (var o = e.length, i = n ? o : -1; n ? i-- : ++i < o; ) {
          var f = e[i];
          if (false === r(u[f], f, u)) break;
        }
        return t;
      };
    }
    function Yt(n, t) {
      function r() {
        return (this && this !== Yn && this instanceof r ? e : n).apply(
          t,
          arguments
        );
      }
      var e = Gt(n);
      return r;
    }
    function Zt(n) {
      return function (t) {
        var r = -1;
        t = Oe(be(t));
        for (var e = t.length, u = ""; ++r < e; ) u = n(u, t[r], r);
        return u;
      };
    }
    function Gt(n) {
      return function () {
        var t = Lu(n.prototype),
          r = n.apply(t, arguments);
        return se(r) ? r : t;
      };
    }
    function Jt(n) {
      function t(r, e, u) {
        return (
          u && Or(r, e, u) && (e = null),
          (r = hr(r, n, null, null, null, null, null, e)),
          (r.placeholder = t.placeholder),
          r
        );
      }
      return t;
    }
    function Xt(n, t) {
      return function (r, e, u) {
        u && Or(r, e, u) && (e = null);
        var i = dr(),
          f = null == e;
        if (((i === ut && f) || ((f = false), (e = i(e, u, 3))), f)) {
          if (((e = To(r)), e || !ve(r))) return n(e ? r : Nr(r));

          e = o;
        }
        return yr(r, e, t);
      };
    }
    function Ht(n, r) {
      return function (e, u, o) {
        return (
          (u = dr(u, o, 3)),
          To(e) ? ((u = t(e, u, r)), -1 < u ? e[u] : w) : lt(e, u, n)
        );
      };
    }
    function Qt(n) {
      return function (r, e, u) {
        return r && r.length ? ((e = dr(e, u, 3)), t(r, e, n)) : -1;
      };
    }
    function nr(n) {
      return function (t, r, e) {
        return (r = dr(r, e, 3)), lt(t, r, n, true);
      };
    }
    function tr(n) {
      return function () {
        var t = arguments.length;
        if (!t)
          return function () {
            return arguments[0];
          };
        for (var r, e = n ? t : -1, u = 0, o = Ue(t); n ? e-- : ++e < t; ) {
          var i = (o[u++] = arguments[e]);
          if (typeof i != "function") throw new Pe(L);
          var f = r ? "" : Vu(i);

          r = "wrapper" == f ? new zn([]) : r;
        }
        for (e = r ? -1 : t; ++e < t; )
          (i = o[e]),
            (f = Vu(i)),
            (r =
              (u = "wrapper" == f ? Ku(i) : null) &&
              Ir(u[0]) &&
              u[1] == (R | k | E | C) &&
              !u[4].length &&
              1 == u[9]
                ? r[Vu(u[0])].apply(r, u[3])
                : 1 == i.length && Ir(i)
                ? r[f]()
                : r.thru(i));
        return function () {
          var n = arguments;
          if (r && 1 == n.length && To(n[0])) return r.plant(n[0]).value();
          for (var e = 0, n = o[e].apply(this, n); ++e < t; )
            n = o[e].call(this, n);
          return n;
        };
      };
    }
    function rr(n, t) {
      return function (r, e, u) {
        return typeof e == "function" && u === w && To(r)
          ? n(r, e)
          : t(r, zt(e, u, 3));
      };
    }
    function er(n) {
      return function (t, r, e) {
        return (
          (typeof r != "function" || e !== w) && (r = zt(r, e, 3)), n(t, r, me)
        );
      };
    }
    function ur(n) {
      return function (t, r, e) {
        return (
          (typeof r != "function" || e !== w) && (r = zt(r, e, 3)), n(t, r)
        );
      };
    }
    function or(n) {
      return function (t, r, e) {
        var u = {};
        return (
          (r = dr(r, e, 3)),
          ht(t, function (t, e, o) {
            (o = r(t, e, o)), (e = n ? o : e), (t = n ? t : o), (u[e] = t);
          }),
          u
        );
      };
    }
    function ir(n) {
      return function (t, r, e) {
        return (t = u(t)), (n ? t : "") + lr(t, r, e) + (n ? "" : t);
      };
    }
    function fr(n) {
      var t = fe(function (r, e) {
        var u = v(e, t.placeholder);
        return hr(r, n, null, e, u);
      });
      return t;
    }
    function ar(n, t) {
      return function (r, e, u, o) {
        var i = 3 > arguments.length;
        return typeof e == "function" && o === w && To(r)
          ? n(r, e, u, i)
          : Et(r, dr(e, o, 4), u, i, t);
      };
    }
    function cr(n, t, r, e, u, o, i, f, a, c) {
      function l() {
        for (var b = arguments.length, j = b, k = Ue(b); j--; )
          k[j] = arguments[j];
        if ((e && (k = Mt(k, e, u)), o && (k = Dt(k, o, i)), _ || y)) {
          var j = l.placeholder,
            O = v(k, j),
            b = b - O.length;
          if (b < c) {
            var R = f ? qn(f) : null,
              b = bu(c - b, 0),
              C = _ ? O : null,
              O = _ ? null : O,
              W = _ ? k : null,
              k = _ ? null : k;
            return (
              (t |= _ ? E : I),
              (t &= ~(_ ? I : E)),
              g || (t &= ~(x | A)),
              (k = [n, t, r, W, C, k, O, R, a, b]),
              (R = cr.apply(w, k)),
              Ir(n) && Gu(R, k),
              (R.placeholder = j),
              R
            );
          }
        }
        if (((j = p ? r : this), h && (n = j[m]), f))
          for (R = k.length, b = xu(f.length, R), C = qn(k); b--; )
            (O = f[b]), (k[b] = kr(O, R) ? C[O] : w);
        return (
          s && a < k.length && (k.length = a),
          (this && this !== Yn && this instanceof l ? d || Gt(n) : n).apply(
            j,
            k
          )
        );
      }
      var s = t & R,
        p = t & x,
        h = t & A,
        _ = t & k,
        g = t & j,
        y = t & O,
        d = !h && Gt(n),
        m = n;
      return l;
    }
    function lr(n, t, r) {
      return (
        (n = n.length),
        (t = +t),
        n < t && mu(t)
          ? ((t -= n),
            (r = null == r ? " " : r + ""),
            je(r, ru(t / r.length)).slice(0, t))
          : ""
      );
    }
    function sr(n, t, r, e) {
      function u() {
        for (
          var t = -1, f = arguments.length, a = -1, c = e.length, l = Ue(f + c);
          ++a < c;

        )
          l[a] = e[a];
        for (; f--; ) l[a++] = arguments[++t];
        return (this && this !== Yn && this instanceof u ? i : n).apply(
          o ? r : this,
          l
        );
      }
      var o = t & x,
        i = Gt(n);
      return u;
    }
    function pr(n) {
      return function (t, r, e, u) {
        var o = dr(e);
        return o === ut && null == e ? $t(t, r, n) : Lt(t, r, o(e, u, 1), n);
      };
    }
    function hr(n, t, r, e, u, o, i, f) {
      var a = t & A;
      if (!a && typeof n != "function") throw new Pe(L);
      var c = e ? e.length : 0;
      if (
        (c || ((t &= ~(E | I)), (e = u = null)), (c -= u ? u.length : 0), t & I)
      ) {
        var l = e,
          s = u;
        e = u = null;
      }
      var p = a ? null : Ku(n);
      return (
        (r = [n, t, r, e, u, l, s, o, i, f]),
        p &&
          ((e = r[1]),
          (t = p[1]),
          (f = e | t),
          (u =
            (t == R && e == k) ||
            (t == R && e == C && r[7].length <= p[8]) ||
            (t == (R | C) && e == k)),
          (f < R || u) &&
            (t & x && ((r[2] = p[2]), (f |= e & x ? 0 : j)),
            (e = p[3]) &&
              ((u = r[3]),
              (r[3] = u ? Mt(u, e, p[4]) : qn(e)),
              (r[4] = u ? v(r[3], z) : qn(p[4]))),
            (e = p[5]) &&
              ((u = r[5]),
              (r[5] = u ? Dt(u, e, p[6]) : qn(e)),
              (r[6] = u ? v(r[5], z) : qn(p[6]))),
            (e = p[7]) && (r[7] = qn(e)),
            t & R && (r[8] = null == r[8] ? p[8] : xu(r[8], p[8])),
            null == r[9] && (r[9] = p[9]),
            (r[0] = p[0]),
            (r[1] = f)),
          (t = r[1]),
          (f = r[9])),
        (r[9] = null == f ? (a ? 0 : n.length) : bu(f - c, 0) || 0),
        (p ? Pu : Gu)(
          t == x
            ? Yt(r[0], r[2])
            : (t != E && t != (x | E)) || r[4].length
            ? cr.apply(w, r)
            : sr.apply(w, r),
          r
        )
      );
    }
    function _r(n, t, r, e, u, o, i) {
      var f = -1,
        a = n.length,
        c = t.length,
        l = true;
      if (a != c && (!u || c <= a)) return false;
      for (; l && ++f < a; ) {
        var s = n[f],
          p = t[f],
          l = w;
        if ((e && (l = u ? e(p, s, f) : e(s, p, f)), l === w))
          if (u)
            for (
              var h = c;
              h-- && ((p = t[h]), !(l = (s && s === p) || r(s, p, e, u, o, i)));

            );
          else l = (s && s === p) || r(s, p, e, u, o, i);
      }
      return !!l;
    }
    function vr(n, t, r) {
      switch (r) {
        case D:
        case P:
          return +n == +t;
        case q:
          return n.name == t.name && n.message == t.message;
        case V:
          return n != +n ? t != +t : n == +t;
        case Z:
        case G:
          return n == t + "";
      }
      return false;
    }
    function gr(n, t, r, e, u, o, i) {
      var f = Ko(n),
        a = f.length,
        c = Ko(t).length;
      if (a != c && !u) return false;
      for (var c = u, l = -1; ++l < a; ) {
        var s = f[l],
          p = u ? s in t : Ge.call(t, s);
        if (p) {
          var h = n[s],
            _ = t[s],
            p = w;
          e && (p = u ? e(_, h, s) : e(h, _, s)),
            p === w && (p = (h && h === _) || r(h, _, e, u, o, i));
        }
        if (!p) return false;
        c || (c = "constructor" == s);
      }
      return c ||
        ((r = n.constructor),
        (e = t.constructor),
        !(r != e && "constructor" in n && "constructor" in t) ||
          (typeof r == "function" &&
            r instanceof r &&
            typeof e == "function" &&
            e instanceof e))
        ? true
        : false;
    }
    function yr(n, t, r) {
      var e = r ? Iu : Eu,
        u = e,
        o = u;
      return (
        zu(n, function (n, i, f) {
          (i = t(n, i, f)),
            ((r ? i < u : i > u) || (i === e && i === o)) && ((u = i), (o = n));
        }),
        o
      );
    }
    function dr(n, t, r) {
      var e = $n.callback || Ee,
        e = e === Ee ? ut : e;
      return r ? e(n, t, r) : e;
    }
    function mr(n, t, e) {
      var u = $n.indexOf || Dr,
        u = u === Dr ? r : u;
      return n ? u(n, t, e) : u;
    }
    function wr(n) {
      var t = n.length,
        r = new n.constructor(t);

      return (
        t &&
          "string" == typeof n[0] &&
          Ge.call(n, "index") &&
          ((r.index = n.index), (r.input = n.input)),
        r
      );
    }
    function br(n) {
      return (
        (n = n.constructor),
        (typeof n == "function" && n instanceof n) || (n = Be),
        new n()
      );
    }
    function xr(n, t, r) {
      var e = n.constructor;
      switch (t) {
        case J:
          return Bt(n);
        case D:
        case P:
          return new e(+n);
        case X:
        case H:
        case Q:
        case nn:
        case tn:
        case rn:
        case en:
        case un:
        case on:
          return (t = n.buffer), new e(r ? Bt(t) : t, n.byteOffset, n.length);
        case V:
        case G:
          return new e(n);
        case Z:
          var u = new e(n.source, kn.exec(n));
          u.lastIndex = n.lastIndex;
      }
      return u;
    }
    function Ar(n, t, r) {
      return (
        null == n ||
          Er(t, n) ||
          ((t = $r(t)),
          (n = 1 == t.length ? n : gt(n, It(t, 0, -1))),
          (t = Pr(t))),
        (t = null == n ? n : n[t]),
        null == t ? w : t.apply(n, r)
      );
    }
    function jr(n) {
      return null != n && Rr(Yu(n));
    }
    function kr(n, t) {
      return (n = +n), (t = null == t ? Tu : t), -1 < n && 0 == n % 1 && n < t;
    }
    function Or(n, t, r) {
      if (!se(r)) return false;
      var e = typeof t;
      return (
        "number" == e ? jr(r) && kr(t, r.length) : "string" == e && t in r
      )
        ? ((t = r[t]), n === n ? n === t : t !== t)
        : false;
    }
    function Er(n, t) {
      var r = typeof n;
      return ("string" == r && dn.test(n)) || "number" == r
        ? true
        : To(n)
        ? false
        : !yn.test(n) || (null != t && n in Fr(t));
    }
    function Ir(n) {
      var t = Vu(n);
      return !!t && n === $n[t] && t in Bn.prototype;
    }
    function Rr(n) {
      return typeof n == "number" && -1 < n && 0 == n % 1 && n <= Tu;
    }
    function Cr(n) {
      return n === n && !se(n);
    }
    function Wr(n, t) {
      n = Fr(n);
      for (var r = -1, e = t.length, u = {}; ++r < e; ) {
        var o = t[r];
        o in n && (u[o] = n[o]);
      }
      return u;
    }
    function Sr(n, t) {
      var r = {};
      return (
        pt(n, function (n, e, u) {
          t(n, e, u) && (r[e] = n);
        }),
        r
      );
    }
    function Tr(n) {
      var t;
      if (
        !h(n) ||
        Xe.call(n) != Y ||
        !(
          Ge.call(n, "constructor") ||
          ((t = n.constructor), typeof t != "function" || t instanceof t)
        )
      )
        return false;
      var r;
      return (
        pt(n, function (n, t) {
          r = t;
        }),
        r === w || Ge.call(n, r)
      );
    }
    function Ur(n) {
      for (
        var t = me(n),
          r = t.length,
          e = r && n.length,
          u = $n.support,
          u = e && Rr(e) && (To(n) || (u.nonEnumArgs && ae(n))),
          o = -1,
          i = [];
        ++o < r;

      ) {
        var f = t[o];
        ((u && kr(f, e)) || Ge.call(n, f)) && i.push(f);
      }
      return i;
    }
    function Nr(n) {
      return null == n ? [] : jr(n) ? (se(n) ? n : Be(n)) : we(n);
    }
    function Fr(n) {
      return se(n) ? n : Be(n);
    }
    function $r(n) {
      if (To(n)) return n;
      var t = [];
      return (
        u(n).replace(mn, function (n, r, e, u) {
          t.push(e ? u.replace(An, "$1") : r || n);
        }),
        t
      );
    }
    function Lr(n) {
      return n instanceof Bn
        ? n.clone()
        : new zn(n.__wrapped__, n.__chain__, qn(n.__actions__));
    }
    function zr(n, t, r) {
      return n && n.length
        ? ((r ? Or(n, t, r) : null == t) && (t = 1), It(n, 0 > t ? 0 : t))
        : [];
    }
    function Br(n, t, r) {
      var e = n ? n.length : 0;
      return e
        ? ((r ? Or(n, t, r) : null == t) && (t = 1),
          (t = e - (+t || 0)),
          It(n, 0, 0 > t ? 0 : t))
        : [];
    }
    function Mr(n) {
      return n ? n[0] : w;
    }
    function Dr(n, t, e) {
      var u = n ? n.length : 0;
      if (!u) return -1;
      if (typeof e == "number") e = 0 > e ? bu(u + e, 0) : e;
      else if (e)
        return (
          (e = $t(n, t)), (n = n[e]), (t === t ? t === n : n !== n) ? e : -1
        );
      return r(n, t, e || 0);
    }
    function Pr(n) {
      var t = n ? n.length : 0;
      return t ? n[t - 1] : w;
    }
    function qr(n) {
      return zr(n, 1);
    }
    function Kr(n, t, e, u) {
      if (!n || !n.length) return [];
      null != t &&
        typeof t != "boolean" &&
        ((u = e), (e = Or(n, t, u) ? null : t), (t = false));
      var o = dr();
      if (((o !== ut || null != e) && (e = o(e, u, 3)), t && mr() == r)) {
        t = e;
        var i;
        (e = -1), (u = n.length);
        for (var o = -1, f = []; ++e < u; ) {
          var a = n[e],
            c = t ? t(a, e, n) : a;
          (e && i === c) || ((i = c), (f[++o] = a));
        }
        n = f;
      } else n = Tt(n, e);
      return n;
    }
    function Vr(n) {
      if (!n || !n.length) return [];
      var t = -1,
        r = 0;
      n = Gn(n, function (n) {
        return jr(n) ? ((r = bu(n.length, r)), true) : void 0;
      });
      for (var e = Ue(r); ++t < r; ) e[t] = Jn(n, At(t));
      return e;
    }
    function Yr(n, t, r) {
      return n && n.length
        ? ((n = Vr(n)),
          null == t
            ? n
            : ((t = zt(t, r, 4)),
              Jn(n, function (n) {
                return Xn(n, t, w, true);
              })))
        : [];
    }
    function Zr(n, t) {
      var r = -1,
        e = n ? n.length : 0,
        u = {};
      for (!e || t || To(n[0]) || (t = []); ++r < e; ) {
        var o = n[r];
        t ? (u[o] = t[r]) : o && (u[o[0]] = o[1]);
      }
      return u;
    }
    function Gr(n) {
      return (n = $n(n)), (n.__chain__ = true), n;
    }
    function Jr(n, t, r) {
      return t.call(r, n);
    }
    function Xr(n, t, r) {
      var e = To(n) ? Vn : at;
      return (
        r && Or(n, t, r) && (t = null),
        (typeof t != "function" || r !== w) && (t = dr(t, r, 3)),
        e(n, t)
      );
    }
    function Hr(n, t, r) {
      var e = To(n) ? Gn : ct;
      return (t = dr(t, r, 3)), e(n, t);
    }
    function Qr(n, t, r, e) {
      var u = n ? Yu(n) : 0;
      return (
        Rr(u) || ((n = we(n)), (u = n.length)),
        u
          ? ((r =
              typeof r != "number" || (e && Or(t, r, e))
                ? 0
                : 0 > r
                ? bu(u + r, 0)
                : r || 0),
            typeof n == "string" || (!To(n) && ve(n))
              ? r < u && -1 < n.indexOf(t, r)
              : -1 < mr(n, t, r))
          : false
      );
    }
    function ne(n, t, r) {
      var e = To(n) ? Jn : mt;
      return (t = dr(t, r, 3)), e(n, t);
    }
    function te(n, t, r) {
      return (r ? Or(n, t, r) : null == t)
        ? ((n = Nr(n)), (t = n.length), 0 < t ? n[Ot(0, t - 1)] : w)
        : ((n = re(n)), (n.length = xu(0 > t ? 0 : +t || 0, n.length)), n);
    }
    function re(n) {
      n = Nr(n);
      for (var t = -1, r = n.length, e = Ue(r); ++t < r; ) {
        var u = Ot(0, t);
        t != u && (e[t] = e[u]), (e[u] = n[t]);
      }
      return e;
    }
    function ee(n, t, r) {
      var e = To(n) ? Hn : Rt;
      return (
        r && Or(n, t, r) && (t = null),
        (typeof t != "function" || r !== w) && (t = dr(t, r, 3)),
        e(n, t)
      );
    }
    function ue(n, t) {
      var r;
      if (typeof t != "function") {
        if (typeof n != "function") throw new Pe(L);
        var e = n;
        (n = t), (t = e);
      }
      return function () {
        return (
          0 < --n && (r = t.apply(this, arguments)), 1 >= n && (t = null), r
        );
      };
    }
    function oe(n, t, r) {
      function e() {
        var r = t - (wo() - c);
        0 >= r || r > t
          ? (f && eu(f),
            (r = p),
            (f = s = p = w),
            r && ((h = wo()), (a = n.apply(l, i)), s || f || (i = l = null)))
          : (s = su(e, r));
      }
      function u() {
        s && eu(s),
          (f = s = p = w),
          (v || _ !== t) &&
            ((h = wo()), (a = n.apply(l, i)), s || f || (i = l = null));
      }
      function o() {
        if (
          ((i = arguments),
          (c = wo()),
          (l = this),
          (p = v && (s || !g)),
          !1 === _)
        )
          var r = g && !s;
        else {
          f || g || (h = c);
          var o = _ - (c - h),
            y = 0 >= o || o > _;
          y
            ? (f && (f = eu(f)), (h = c), (a = n.apply(l, i)))
            : f || (f = su(u, o));
        }
        return (
          y && s ? (s = eu(s)) : s || t === _ || (s = su(e, t)),
          r && ((y = true), (a = n.apply(l, i))),
          !y || s || f || (i = l = null),
          a
        );
      }
      var i,
        f,
        a,
        c,
        l,
        s,
        p,
        h = 0,
        _ = false,
        v = true;
      if (typeof n != "function") throw new Pe(L);
      if (((t = 0 > t ? 0 : +t || 0), true === r))
        var g = true,
          v = false;
      else
        se(r) &&
          ((g = r.leading),
          (_ = "maxWait" in r && bu(+r.maxWait || 0, t)),
          (v = "trailing" in r ? r.trailing : v));
      return (
        (o.cancel = function () {
          s && eu(s), f && eu(f), (f = s = p = w);
        }),
        o
      );
    }
    function ie(n, t) {
      function r() {
        var e = arguments,
          u = r.cache,
          o = t ? t.apply(this, e) : e[0];

        return u.has(o) ? u.get(o) : ((e = n.apply(this, e)), u.set(o, e), e);
      }
      if (typeof n != "function" || (t && typeof t != "function"))
        throw new Pe(L);
      return (r.cache = new ie.Cache()), r;
    }
    function fe(n, t) {
      if (typeof n != "function") throw new Pe(L);
      return (
        (t = bu(t === w ? n.length - 1 : +t || 0, 0)),
        function () {
          for (
            var r = arguments, e = -1, u = bu(r.length - t, 0), o = Ue(u);
            ++e < u;

          )
            o[e] = r[t + e];
          switch (t) {
            case 0:
              return n.call(this, o);
            case 1:
              return n.call(this, r[0], o);
            case 2:
              return n.call(this, r[0], r[1], o);
          }
          for (u = Ue(t + 1), e = -1; ++e < t; ) u[e] = r[e];
          return (u[t] = o), n.apply(this, u);
        }
      );
    }
    function ae(n) {
      return h(n) && jr(n) && Xe.call(n) == B;
    }
    function ce(n) {
      return (
        !!n && 1 === n.nodeType && h(n) && -1 < Xe.call(n).indexOf("Element")
      );
    }
    function le(n) {
      return h(n) && typeof n.message == "string" && Xe.call(n) == q;
    }
    function se(n) {
      var t = typeof n;
      return "function" == t || (!!n && "object" == t);
    }
    function pe(n) {
      return null == n
        ? false
        : Xe.call(n) == K
        ? Qe.test(Ze.call(n))
        : h(n) && En.test(n);
    }
    function he(n) {
      return typeof n == "number" || (h(n) && Xe.call(n) == V);
    }
    function _e(n) {
      return h(n) && Xe.call(n) == Z;
    }
    function ve(n) {
      return typeof n == "string" || (h(n) && Xe.call(n) == G);
    }
    function ge(n) {
      return h(n) && Rr(n.length) && !!Un[Xe.call(n)];
    }
    function ye(n) {
      return et(n, me(n));
    }
    function de(n) {
      return vt(n, me(n));
    }
    function me(n) {
      if (null == n) return [];
      se(n) || (n = Be(n));
      for (
        var t = n.length,
          t = (t && Rr(t) && (To(n) || (Fu.nonEnumArgs && ae(n))) && t) || 0,
          r = n.constructor,
          e = -1,
          r = typeof r == "function" && r.prototype === n,
          u = Ue(t),
          o = 0 < t;
        ++e < t;

      )
        u[e] = e + "";
      for (var i in n)
        (o && kr(i, t)) ||
          ("constructor" == i && (r || !Ge.call(n, i))) ||
          u.push(i);
      return u;
    }
    function we(n) {
      return Ut(n, Ko(n));
    }
    function be(n) {
      return (n = u(n)) && n.replace(In, c).replace(xn, "");
    }
    function xe(n) {
      return (n = u(n)) && bn.test(n) ? n.replace(wn, "\\$&") : n;
    }
    function Ae(n, t, r) {
      return r && Or(n, t, r) && (t = 0), ku(n, t);
    }
    function je(n, t) {
      var r = "";
      if (((n = u(n)), (t = +t), 1 > t || !n || !mu(t))) return r;
      do t % 2 && (r += n), (t = uu(t / 2)), (n += n);
      while (t);
      return r;
    }
    function ke(n, t, r) {
      var e = n;
      return (n = u(n))
        ? (r ? Or(e, t, r) : null == t)
          ? n.slice(g(n), y(n) + 1)
          : ((t += ""), n.slice(i(n, t), f(n, t) + 1))
        : n;
    }
    function Oe(n, t, r) {
      return r && Or(n, t, r) && (t = null), (n = u(n)), n.match(t || Wn) || [];
    }
    function Ee(n, t, r) {
      return r && Or(n, t, r) && (t = null), h(n) ? Ce(n) : ut(n, t);
    }
    function Ie(n) {
      return function () {
        return n;
      };
    }
    function Re(n) {
      return n;
    }
    function Ce(n) {
      return wt(ot(n, true));
    }
    function We(n, t, r) {
      if (null == r) {
        var e = se(t),
          u = e && Ko(t);
        ((u = u && u.length && vt(t, u)) ? u.length : e) ||
          ((u = false), (r = t), (t = n), (n = this));
      }
      u || (u = vt(t, Ko(t)));
      var o = true,
        e = -1,
        i = No(n),
        f = u.length;
      false === r ? (o = false) : se(r) && "chain" in r && (o = r.chain);
      for (; ++e < f; ) {
        r = u[e];
        var a = t[r];
        (n[r] = a),
          i &&
            (n.prototype[r] = (function (t) {
              return function () {
                var r = this.__chain__;
                if (o || r) {
                  var e = n(this.__wrapped__);
                  return (
                    (e.__actions__ = qn(this.__actions__)).push({
                      func: t,
                      args: arguments,
                      thisArg: n,
                    }),
                    (e.__chain__ = r),
                    e
                  );
                }
                return (
                  (r = [this.value()]), fu.apply(r, arguments), t.apply(n, r)
                );
              };
            })(a));
      }
      return n;
    }
    function Se() {}
    function Te(n) {
      return Er(n) ? At(n) : jt(n);
    }
    _ = _ ? Zn.defaults(Yn.Object(), _, Zn.pick(Yn, Tn)) : Yn;
    var Ue = _.Array,
      Ne = _.Date,
      Fe = _.Error,
      $e = _.Function,
      Le = _.Math,
      ze = _.Number,
      Be = _.Object,
      Me = _.RegExp,
      De = _.String,
      Pe = _.TypeError,
      qe = Ue.prototype,
      Ke = Be.prototype,
      Ve = De.prototype,
      Ye = (Ye = _.window) && Ye.document,
      Ze = $e.prototype.toString,
      Ge = Ke.hasOwnProperty,
      Je = 0,
      Xe = Ke.toString,
      He = _._,
      Qe = Me(
        "^" +
          xe(Xe).replace(
            /toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,
            "$1.*?"
          ) +
          "$"
      ),
      nu = pe((nu = _.ArrayBuffer)) && nu,
      tu = pe((tu = nu && new nu(0).slice)) && tu,
      ru = Le.ceil,
      eu = _.clearTimeout,
      uu = Le.floor,
      ou = pe((ou = Be.getOwnPropertySymbols)) && ou,
      iu = pe((iu = Be.getPrototypeOf)) && iu,
      fu = qe.push,
      au = pe((au = Be.preventExtensions)) && au,
      cu = Ke.propertyIsEnumerable,
      lu = pe((lu = _.Set)) && lu,
      su = _.setTimeout,
      pu = qe.splice,
      hu = pe((hu = _.Uint8Array)) && hu,
      _u = pe((_u = _.WeakMap)) && _u,
      vu = (function () {
        try {
          var n = pe((n = _.Float64Array)) && n,
            t = new n(new nu(10), 0, 1) && n;
        } catch (r) {}
        return t;
      })(),
      gu = (function () {
        var n = au && pe((n = Be.assign)) && n;
        try {
          if (n) {
            var t = au({ 1: 0 });
            t[0] = 1;
          }
        } catch (r) {
          try {
            n(t, "xo");
          } catch (e) {}
          return !t[1] && n;
        }
        return false;
      })(),
      yu = pe((yu = Ue.isArray)) && yu,
      du = pe((du = Be.create)) && du,
      mu = _.isFinite,
      wu = pe((wu = Be.keys)) && wu,
      bu = Le.max,
      xu = Le.min,
      Au = pe((Au = Ne.now)) && Au,
      ju = pe((ju = ze.isFinite)) && ju,
      ku = _.parseInt,
      Ou = Le.random,
      Eu = ze.NEGATIVE_INFINITY,
      Iu = ze.POSITIVE_INFINITY,
      Ru = Le.pow(2, 32) - 1,
      Cu = Ru - 1,
      Wu = Ru >>> 1,
      Su = vu ? vu.BYTES_PER_ELEMENT : 0,
      Tu = Le.pow(2, 53) - 1,
      Uu = _u && new _u(),
      Nu = {},
      Fu = ($n.support = {});

    !(function (n) {
      function t() {
        this.x = n;
      }
      var r = arguments,
        e = [];
      t.prototype = { valueOf: n, y: n };
      for (var u in new t()) e.push(u);
      (Fu.funcDecomp = /\bthis\b/.test(function () {
        return this;
      })),
        (Fu.funcNames = typeof $e.name == "string");
      try {
        Fu.dom = 11 === Ye.createDocumentFragment().nodeType;
      } catch (o) {
        Fu.dom = false;
      }
      try {
        Fu.nonEnumArgs = !cu.call(r, 1);
      } catch (i) {
        Fu.nonEnumArgs = true;
      }
    })(1, 0),
      ($n.templateSettings = {
        escape: _n,
        evaluate: vn,
        interpolate: gn,
        variable: "",
        imports: { _: $n },
      });
    var $u =
        gu ||
        function (n, t) {
          return null == t ? n : et(t, Zu(t), et(t, Ko(t), n));
        },
      Lu = (function () {
        function n() {}
        return function (t) {
          if (se(t)) {
            n.prototype = t;
            var r = new n();
            n.prototype = null;
          }
          return r || _.Object();
        };
      })(),
      zu = Kt(ht),
      Bu = Kt(_t, true),
      Mu = Vt(),
      Du = Vt(true),
      Pu = Uu
        ? function (n, t) {
            return Uu.set(n, t), n;
          }
        : Re;
    tu ||
      (Bt =
        nu && hu
          ? function (n) {
              var t = n.byteLength,
                r = vu ? uu(t / Su) : 0,
                e = r * Su,
                u = new nu(t);
              if (r) {
                var o = new vu(u, 0, r);
                o.set(new vu(n, 0, r));
              }
              return t != e && ((o = new hu(u, e)), o.set(new hu(n, e))), u;
            }
          : Ie(null));
    var qu =
        du && lu
          ? function (n) {
              return new Dn(n);
            }
          : Ie(null),
      Ku = Uu
        ? function (n) {
            return Uu.get(n);
          }
        : Se,
      Vu = (function () {
        return Fu.funcNames
          ? "constant" == Ie.name
            ? At("name")
            : function (n) {
                for (var t = n.name, r = Nu[t], e = r ? r.length : 0; e--; ) {
                  var u = r[e],
                    o = u.func;
                  if (null == o || o == n) return u.name;
                }
                return t;
              }
          : Ie("");
      })(),
      Yu = At("length"),
      Zu = ou
        ? function (n) {
            return ou(Fr(n));
          }
        : Ie([]),
      Gu = (function () {
        var n = 0,
          t = 0;
        return function (r, e) {
          var u = wo(),
            o = U - (u - t);
          if (((t = u), 0 < o)) {
            if (++n >= T) return r;
          } else n = 0;
          return Pu(r, e);
        };
      })(),
      Ju = fe(function (n, t) {
        return jr(n) ? ft(n, st(t, false, true)) : [];
      }),
      Xu = Qt(),
      Hu = Qt(true),
      Qu = fe(function (t, r) {
        r = st(r);
        var e = rt(t, r);
        return kt(t, r.sort(n)), e;
      }),
      no = pr(),
      to = pr(true),
      ro = fe(function (n) {
        return Tt(st(n, false, true));
      }),
      eo = fe(function (n, t) {
        return jr(n) ? ft(n, t) : [];
      }),
      uo = fe(Vr),
      oo = fe(function (n) {
        var t = n.length,
          r = n[t - 2],
          e = n[t - 1];
        return (
          2 < t && typeof r == "function"
            ? (t -= 2)
            : ((r = 1 < t && typeof e == "function" ? (--t, e) : w), (e = w)),
          (n.length = t),
          Yr(n, r, e)
        );
      }),
      io = fe(function (n, t) {
        return rt(n, st(t));
      }),
      fo = Pt(function (n, t, r) {
        Ge.call(n, r) ? ++n[r] : (n[r] = 1);
      }),
      ao = Ht(zu),
      co = Ht(Bu, true),
      lo = rr(Kn, zu),
      so = rr(function (n, t) {
        for (var r = n.length; r-- && false !== t(n[r], r, n); );
        return n;
      }, Bu),
      po = Pt(function (n, t, r) {
        Ge.call(n, r) ? n[r].push(t) : (n[r] = [t]);
      }),
      ho = Pt(function (n, t, r) {
        n[r] = t;
      }),
      _o = fe(function (n, t, r) {
        var e = -1,
          u = typeof t == "function",
          o = Er(t),
          i = jr(n) ? Ue(n.length) : [];
        return (
          zu(n, function (n) {
            var f = u ? t : o && null != n && n[t];
            i[++e] = f ? f.apply(n, r) : Ar(n, t, r);
          }),
          i
        );
      }),
      vo = Pt(
        function (n, t, r) {
          n[r ? 0 : 1].push(t);
        },
        function () {
          return [[], []];
        }
      ),
      go = ar(Xn, zu),
      yo = ar(function (n, t, r, e) {
        var u = n.length;
        for (e && u && (r = n[--u]); u--; ) r = t(r, n[u], u, n);
        return r;
      }, Bu),
      mo = fe(function (n, t) {
        if (null == n) return [];
        var r = t[2];
        return r && Or(t[0], t[1], r) && (t.length = 1), Wt(n, st(t), []);
      }),
      wo =
        Au ||
        function () {
          return new Ne().getTime();
        },
      bo = fe(function (n, t, r) {
        var e = x;
        if (r.length)
          var u = v(r, bo.placeholder),
            e = e | E;
        return hr(n, e, t, r, u);
      }),
      xo = fe(function (n, t) {
        t = t.length ? st(t) : de(n);
        for (var r = -1, e = t.length; ++r < e; ) {
          var u = t[r];
          n[u] = hr(n[u], x, n);
        }
        return n;
      }),
      Ao = fe(function (n, t, r) {
        var e = x | A;
        if (r.length)
          var u = v(r, Ao.placeholder),
            e = e | E;
        return hr(t, e, n, r, u);
      }),
      jo = Jt(k),
      ko = Jt(O),
      Oo = fe(function (n, t) {
        return it(n, 1, t);
      }),
      Eo = fe(function (n, t, r) {
        return it(n, t, r);
      }),
      Io = tr(),
      Ro = tr(true),
      Co = fr(E),
      Wo = fr(I),
      So = fe(function (n, t) {
        return hr(n, C, null, null, null, st(t));
      }),
      To =
        yu ||
        function (n) {
          return h(n) && Rr(n.length) && Xe.call(n) == M;
        };
    Fu.dom ||
      (ce = function (n) {
        return !!n && 1 === n.nodeType && h(n) && !Fo(n);
      });
    var Uo =
        ju ||
        function (n) {
          return typeof n == "number" && mu(n);
        },
      No =
        e(/x/) || (hu && !e(hu))
          ? function (n) {
              return Xe.call(n) == K;
            }
          : e,
      Fo = iu
        ? function (n) {
            if (!n || Xe.call(n) != Y) return false;
            var t = n.valueOf,
              r = pe(t) && (r = iu(t)) && iu(r);
            return r ? n == r || iu(n) == r : Tr(n);
          }
        : Tr,
      $o = qt(function (n, t, r) {
        return r ? tt(n, t, r) : $u(n, t);
      }),
      Lo = fe(function (n) {
        var t = n[0];
        return null == t ? t : (n.push(Qn), $o.apply(w, n));
      }),
      zo = nr(ht),
      Bo = nr(_t),
      Mo = er(Mu),
      Do = er(Du),
      Po = ur(ht),
      qo = ur(_t),
      Ko = wu
        ? function (n) {
            var t = null != n && n.constructor;
            return (typeof t == "function" && t.prototype === n) ||
              (typeof n != "function" && jr(n))
              ? Ur(n)
              : se(n)
              ? wu(n)
              : [];
          }
        : Ur,
      Vo = or(true),
      Yo = or(),
      Zo = qt(xt),
      Go = fe(function (n, t) {
        if (null == n) return {};
        if ("function" != typeof t[0])
          return (t = Jn(st(t), De)), Wr(n, ft(me(n), t));
        var r = zt(t[0], t[1], 3);
        return Sr(n, function (n, t, e) {
          return !r(n, t, e);
        });
      }),
      Jo = fe(function (n, t) {
        return null == n
          ? {}
          : "function" == typeof t[0]
          ? Sr(n, zt(t[0], t[1], 3))
          : Wr(n, st(t));
      }),
      Xo = Zt(function (n, t, r) {
        return (
          (t = t.toLowerCase()),
          n + (r ? t.charAt(0).toUpperCase() + t.slice(1) : t)
        );
      }),
      Ho = Zt(function (n, t, r) {
        return n + (r ? "-" : "") + t.toLowerCase();
      }),
      Qo = ir(),
      ni = ir(true);
    8 != ku(Sn + "08") &&
      (Ae = function (n, t, r) {
        return (
          (r ? Or(n, t, r) : null == t) ? (t = 0) : t && (t = +t),
          (n = ke(n)),
          ku(n, t || (On.test(n) ? 16 : 10))
        );
      });
    var ti = Zt(function (n, t, r) {
        return n + (r ? "_" : "") + t.toLowerCase();
      }),
      ri = Zt(function (n, t, r) {
        return n + (r ? " " : "") + (t.charAt(0).toUpperCase() + t.slice(1));
      }),
      ei = fe(function (n, t) {
        try {
          return n.apply(w, t);
        } catch (r) {
          return le(r) ? r : new Fe(r);
        }
      }),
      ui = fe(function (n, t) {
        return function (r) {
          return Ar(r, n, t);
        };
      }),
      oi = fe(function (n, t) {
        return function (r) {
          return Ar(n, r, t);
        };
      }),
      ii = Xt(function (n) {
        for (var t = -1, r = n.length, e = Eu; ++t < r; ) {
          var u = n[t];
          u > e && (e = u);
        }
        return e;
      }),
      fi = Xt(function (n) {
        for (var t = -1, r = n.length, e = Iu; ++t < r; ) {
          var u = n[t];
          u < e && (e = u);
        }
        return e;
      }, true);
    return (
      ($n.prototype = Ln.prototype),
      (zn.prototype = Lu(Ln.prototype)),
      (zn.prototype.constructor = zn),
      (Bn.prototype = Lu(Ln.prototype)),
      (Bn.prototype.constructor = Bn),
      (Mn.prototype["delete"] = function (n) {
        return this.has(n) && delete this.__data__[n];
      }),
      (Mn.prototype.get = function (n) {
        return "__proto__" == n ? w : this.__data__[n];
      }),
      (Mn.prototype.has = function (n) {
        return "__proto__" != n && Ge.call(this.__data__, n);
      }),
      (Mn.prototype.set = function (n, t) {
        return "__proto__" != n && (this.__data__[n] = t), this;
      }),
      (Dn.prototype.push = function (n) {
        var t = this.data;
        typeof n == "string" || se(n) ? t.set.add(n) : (t.hash[n] = true);
      }),
      (ie.Cache = Mn),
      ($n.after = function (n, t) {
        if (typeof t != "function") {
          if (typeof n != "function") throw new Pe(L);
          var r = n;
          (n = t), (t = r);
        }
        return (
          (n = mu((n = +n)) ? n : 0),
          function () {
            return 1 > --n ? t.apply(this, arguments) : void 0;
          }
        );
      }),
      ($n.ary = function (n, t, r) {
        return (
          r && Or(n, t, r) && (t = null),
          (t = n && null == t ? n.length : bu(+t || 0, 0)),
          hr(n, R, null, null, null, null, t)
        );
      }),
      ($n.assign = $o),
      ($n.at = io),
      ($n.before = ue),
      ($n.bind = bo),
      ($n.bindAll = xo),
      ($n.bindKey = Ao),
      ($n.callback = Ee),
      ($n.chain = Gr),
      ($n.chunk = function (n, t, r) {
        (t = (r ? Or(n, t, r) : null == t) ? 1 : bu(+t || 1, 1)), (r = 0);
        for (var e = n ? n.length : 0, u = -1, o = Ue(ru(e / t)); r < e; )
          o[++u] = It(n, r, (r += t));
        return o;
      }),
      ($n.compact = function (n) {
        for (var t = -1, r = n ? n.length : 0, e = -1, u = []; ++t < r; ) {
          var o = n[t];
          o && (u[++e] = o);
        }
        return u;
      }),
      ($n.constant = Ie),
      ($n.countBy = fo),
      ($n.create = function (n, t, r) {
        var e = Lu(n);
        return r && Or(n, t, r) && (t = null), t ? $u(e, t) : e;
      }),
      ($n.curry = jo),
      ($n.curryRight = ko),
      ($n.debounce = oe),
      ($n.defaults = Lo),
      ($n.defer = Oo),
      ($n.delay = Eo),
      ($n.difference = Ju),
      ($n.drop = zr),
      ($n.dropRight = Br),
      ($n.dropRightWhile = function (n, t, r) {
        return n && n.length ? Nt(n, dr(t, r, 3), true, true) : [];
      }),
      ($n.dropWhile = function (n, t, r) {
        return n && n.length ? Nt(n, dr(t, r, 3), true) : [];
      }),
      ($n.fill = function (n, t, r, e) {
        var u = n ? n.length : 0;
        if (!u) return [];
        for (
          r && typeof r != "number" && Or(n, t, r) && ((r = 0), (e = u)),
            u = n.length,
            r = null == r ? 0 : +r || 0,
            0 > r && (r = -r > u ? 0 : u + r),
            e = e === w || e > u ? u : +e || 0,
            0 > e && (e += u),
            u = r > e ? 0 : e >>> 0,
            r >>>= 0;
          r < u;

        )
          n[r++] = t;

        return n;
      }),
      ($n.filter = Hr),
      ($n.flatten = function (n, t, r) {
        var e = n ? n.length : 0;
        return r && Or(n, t, r) && (t = false), e ? st(n, t) : [];
      }),
      ($n.flattenDeep = function (n) {
        return n && n.length ? st(n, true) : [];
      }),
      ($n.flow = Io),
      ($n.flowRight = Ro),
      ($n.forEach = lo),
      ($n.forEachRight = so),
      ($n.forIn = Mo),
      ($n.forInRight = Do),
      ($n.forOwn = Po),
      ($n.forOwnRight = qo),
      ($n.functions = de),
      ($n.groupBy = po),
      ($n.indexBy = ho),
      ($n.initial = function (n) {
        return Br(n, 1);
      }),
      ($n.intersection = function () {
        for (
          var n = [],
            t = -1,
            e = arguments.length,
            u = [],
            o = mr(),
            i = o == r,
            f = [];
          ++t < e;

        ) {
          var a = arguments[t];
          jr(a) &&
            (n.push(a), u.push(i && 120 <= a.length ? qu(t && a) : null));
        }
        if (((e = n.length), 2 > e)) return f;
        var i = n[0],
          c = -1,
          l = i ? i.length : 0,
          s = u[0];
        n: for (; ++c < l; )
          if (((a = i[c]), 0 > (s ? Pn(s, a) : o(f, a, 0)))) {
            for (t = e; --t; ) {
              var p = u[t];
              if (0 > (p ? Pn(p, a) : o(n[t], a, 0))) continue n;
            }
            s && s.push(a), f.push(a);
          }
        return f;
      }),
      ($n.invert = function (n, t, r) {
        r && Or(n, t, r) && (t = null), (r = -1);
        for (var e = Ko(n), u = e.length, o = {}; ++r < u; ) {
          var i = e[r],
            f = n[i];
          t ? (Ge.call(o, f) ? o[f].push(i) : (o[f] = [i])) : (o[f] = i);
        }
        return o;
      }),
      ($n.invoke = _o),
      ($n.keys = Ko),
      ($n.keysIn = me),
      ($n.map = ne),
      ($n.mapKeys = Vo),
      ($n.mapValues = Yo),
      ($n.matches = Ce),
      ($n.matchesProperty = function (n, t) {
        return bt(n, ot(t, true));
      }),
      ($n.memoize = ie),
      ($n.merge = Zo),
      ($n.method = ui),
      ($n.methodOf = oi),
      ($n.mixin = We),
      ($n.negate = function (n) {
        if (typeof n != "function") throw new Pe(L);
        return function () {
          return !n.apply(this, arguments);
        };
      }),
      ($n.omit = Go),
      ($n.once = function (n) {
        return ue(2, n);
      }),
      ($n.pairs = function (n) {
        for (var t = -1, r = Ko(n), e = r.length, u = Ue(e); ++t < e; ) {
          var o = r[t];
          u[t] = [o, n[o]];
        }
        return u;
      }),
      ($n.partial = Co),
      ($n.partialRight = Wo),
      ($n.partition = vo),
      ($n.pick = Jo),
      ($n.pluck = function (n, t) {
        return ne(n, Te(t));
      }),
      ($n.property = Te),
      ($n.propertyOf = function (n) {
        return function (t) {
          return gt(n, $r(t), t + "");
        };
      }),
      ($n.pull = function () {
        var n = arguments,
          t = n[0];
        if (!t || !t.length) return t;
        for (var r = 0, e = mr(), u = n.length; ++r < u; )
          for (var o = 0, i = n[r]; -1 < (o = e(t, i, o)); ) pu.call(t, o, 1);
        return t;
      }),
      ($n.pullAt = Qu),
      ($n.range = function (n, t, r) {
        r && Or(n, t, r) && (t = r = null),
          (n = +n || 0),
          (r = null == r ? 1 : +r || 0),
          null == t ? ((t = n), (n = 0)) : (t = +t || 0);
        var e = -1;
        t = bu(ru((t - n) / (r || 1)), 0);
        for (var u = Ue(t); ++e < t; ) (u[e] = n), (n += r);
        return u;
      }),
      ($n.rearg = So),
      ($n.reject = function (n, t, r) {
        var e = To(n) ? Gn : ct;
        return (
          (t = dr(t, r, 3)),
          e(n, function (n, r, e) {
            return !t(n, r, e);
          })
        );
      }),
      ($n.remove = function (n, t, r) {
        var e = [];
        if (!n || !n.length) return e;
        var u = -1,
          o = [],
          i = n.length;
        for (t = dr(t, r, 3); ++u < i; )
          (r = n[u]), t(r, u, n) && (e.push(r), o.push(u));
        return kt(n, o), e;
      }),
      ($n.rest = qr),
      ($n.restParam = fe),
      ($n.set = function (n, t, r) {
        if (null == n) return n;
        var e = t + "";
        t = null != n[e] || Er(t, n) ? [e] : $r(t);
        for (
          var e = -1, u = t.length, o = u - 1, i = n;
          null != i && ++e < u;

        ) {
          var f = t[e];
          se(i) &&
            (e == o
              ? (i[f] = r)
              : null == i[f] && (i[f] = kr(t[e + 1]) ? [] : {})),
            (i = i[f]);
        }
        return n;
      }),
      ($n.shuffle = re),
      ($n.slice = function (n, t, r) {
        var e = n ? n.length : 0;

        return e
          ? (r && typeof r != "number" && Or(n, t, r) && ((t = 0), (r = e)),
            It(n, t, r))
          : [];
      }),
      ($n.sortBy = function (n, t, r) {
        if (null == n) return [];
        r && Or(n, t, r) && (t = null);
        var e = -1;
        return (
          (t = dr(t, r, 3)),
          (n = mt(n, function (n, r, u) {
            return { a: t(n, r, u), b: ++e, c: n };
          })),
          Ct(n, a)
        );
      }),
      ($n.sortByAll = mo),
      ($n.sortByOrder = function (n, t, r, e) {
        return null == n
          ? []
          : (e && Or(t, r, e) && (r = null),
            To(t) || (t = null == t ? [] : [t]),
            To(r) || (r = null == r ? [] : [r]),
            Wt(n, t, r));
      }),
      ($n.spread = function (n) {
        if (typeof n != "function") throw new Pe(L);
        return function (t) {
          return n.apply(this, t);
        };
      }),
      ($n.take = function (n, t, r) {
        return n && n.length
          ? ((r ? Or(n, t, r) : null == t) && (t = 1), It(n, 0, 0 > t ? 0 : t))
          : [];
      }),
      ($n.takeRight = function (n, t, r) {
        var e = n ? n.length : 0;
        return e
          ? ((r ? Or(n, t, r) : null == t) && (t = 1),
            (t = e - (+t || 0)),
            It(n, 0 > t ? 0 : t))
          : [];
      }),
      ($n.takeRightWhile = function (n, t, r) {
        return n && n.length ? Nt(n, dr(t, r, 3), false, true) : [];
      }),
      ($n.takeWhile = function (n, t, r) {
        return n && n.length ? Nt(n, dr(t, r, 3)) : [];
      }),
      ($n.tap = function (n, t, r) {
        return t.call(r, n), n;
      }),
      ($n.throttle = function (n, t, r) {
        var e = true,
          u = true;
        if (typeof n != "function") throw new Pe(L);
        return (
          false === r
            ? (e = false)
            : se(r) &&
              ((e = "leading" in r ? !!r.leading : e),
              (u = "trailing" in r ? !!r.trailing : u)),
          (Fn.leading = e),
          (Fn.maxWait = +t),
          (Fn.trailing = u),
          oe(n, t, Fn)
        );
      }),
      ($n.thru = Jr),
      ($n.times = function (n, t, r) {
        if (((n = uu(n)), 1 > n || !mu(n))) return [];
        var e = -1,
          u = Ue(xu(n, Ru));
        for (t = zt(t, r, 1); ++e < n; ) e < Ru ? (u[e] = t(e)) : t(e);
        return u;
      }),
      ($n.toArray = function (n) {
        var t = n ? Yu(n) : 0;
        return Rr(t) ? (t ? qn(n) : []) : we(n);
      }),
      ($n.toPlainObject = ye),
      ($n.transform = function (n, t, r, e) {
        var u = To(n) || ge(n);
        return (
          (t = dr(t, e, 4)),
          null == r &&
            (u || se(n)
              ? ((e = n.constructor),
                (r = u ? (To(n) ? new e() : []) : Lu(No(e) && e.prototype)))
              : (r = {})),
          (u ? Kn : ht)(n, function (n, e, u) {
            return t(r, n, e, u);
          }),
          r
        );
      }),
      ($n.union = ro),
      ($n.uniq = Kr),
      ($n.unzip = Vr),
      ($n.unzipWith = Yr),
      ($n.values = we),
      ($n.valuesIn = function (n) {
        return Ut(n, me(n));
      }),
      ($n.where = function (n, t) {
        return Hr(n, wt(t));
      }),
      ($n.without = eo),
      ($n.wrap = function (n, t) {
        return (t = null == t ? Re : t), hr(t, E, null, [n], []);
      }),
      ($n.xor = function () {
        for (var n = -1, t = arguments.length; ++n < t; ) {
          var r = arguments[n];
          if (jr(r)) var e = e ? ft(e, r).concat(ft(r, e)) : r;
        }
        return e ? Tt(e) : [];
      }),
      ($n.zip = uo),
      ($n.zipObject = Zr),
      ($n.zipWith = oo),
      ($n.backflow = Ro),
      ($n.collect = ne),
      ($n.compose = Ro),
      ($n.each = lo),
      ($n.eachRight = so),
      ($n.extend = $o),
      ($n.iteratee = Ee),
      ($n.methods = de),
      ($n.object = Zr),
      ($n.select = Hr),
      ($n.tail = qr),
      ($n.unique = Kr),
      We($n, $n),
      ($n.add = function (n, t) {
        return (+n || 0) + (+t || 0);
      }),
      ($n.attempt = ei),
      ($n.camelCase = Xo),
      ($n.capitalize = function (n) {
        return (n = u(n)) && n.charAt(0).toUpperCase() + n.slice(1);
      }),
      ($n.clone = function (n, t, r, e) {
        return (
          t && typeof t != "boolean" && Or(n, t, r)
            ? (t = false)
            : typeof t == "function" && ((e = r), (r = t), (t = false)),
          (r = typeof r == "function" && zt(r, e, 1)),
          ot(n, t, r)
        );
      }),
      ($n.cloneDeep = function (n, t, r) {
        return (t = typeof t == "function" && zt(t, r, 1)), ot(n, true, t);
      }),
      ($n.deburr = be),
      ($n.endsWith = function (n, t, r) {
        (n = u(n)), (t += "");
        var e = n.length;
        return (
          (r = r === w ? e : xu(0 > r ? 0 : +r || 0, e)),
          (r -= t.length),
          0 <= r && n.indexOf(t, r) == r
        );
      }),
      ($n.escape = function (n) {
        return (n = u(n)) && hn.test(n) ? n.replace(sn, l) : n;
      }),
      ($n.escapeRegExp = xe),
      ($n.every = Xr),
      ($n.find = ao),
      ($n.findIndex = Xu),
      ($n.findKey = zo),
      ($n.findLast = co),
      ($n.findLastIndex = Hu),
      ($n.findLastKey = Bo),
      ($n.findWhere = function (n, t) {
        return ao(n, wt(t));
      }),
      ($n.first = Mr),
      ($n.get = function (n, t, r) {
        return (n = null == n ? w : gt(n, $r(t), t + "")), n === w ? r : n;
      }),
      ($n.has = function (n, t) {
        if (null == n) return false;
        var r = Ge.call(n, t);

        return (
          r ||
            Er(t) ||
            ((t = $r(t)),
            (n = 1 == t.length ? n : gt(n, It(t, 0, -1))),
            (t = Pr(t)),
            (r = null != n && Ge.call(n, t))),
          r
        );
      }),
      ($n.identity = Re),
      ($n.includes = Qr),
      ($n.indexOf = Dr),
      ($n.inRange = function (n, t, r) {
        return (
          (t = +t || 0),
          "undefined" === typeof r ? ((r = t), (t = 0)) : (r = +r || 0),
          n >= xu(t, r) && n < bu(t, r)
        );
      }),
      ($n.isArguments = ae),
      ($n.isArray = To),
      ($n.isBoolean = function (n) {
        return true === n || false === n || (h(n) && Xe.call(n) == D);
      }),
      ($n.isDate = function (n) {
        return h(n) && Xe.call(n) == P;
      }),
      ($n.isElement = ce),
      ($n.isEmpty = function (n) {
        return null == n
          ? true
          : jr(n) && (To(n) || ve(n) || ae(n) || (h(n) && No(n.splice)))
          ? !n.length
          : !Ko(n).length;
      }),
      ($n.isEqual = function (n, t, r, e) {
        return (
          (r = typeof r == "function" && zt(r, e, 3)),
          !r && Cr(n) && Cr(t)
            ? n === t
            : ((e = r ? r(n, t) : w), e === w ? yt(n, t, r) : !!e)
        );
      }),
      ($n.isError = le),
      ($n.isFinite = Uo),
      ($n.isFunction = No),
      ($n.isMatch = function (n, t, r, e) {
        var u = Ko(t),
          o = u.length;
        if (!o) return true;
        if (null == n) return false;
        if (
          ((r = typeof r == "function" && zt(r, e, 3)),
          (n = Fr(n)),
          !r && 1 == o)
        ) {
          var i = u[0];
          if (((e = t[i]), Cr(e))) return e === n[i] && (e !== w || i in n);
        }
        for (var i = Ue(o), f = Ue(o); o--; )
          (e = i[o] = t[u[o]]), (f[o] = Cr(e));
        return dt(n, u, i, f, r);
      }),
      ($n.isNaN = function (n) {
        return he(n) && n != +n;
      }),
      ($n.isNative = pe),
      ($n.isNull = function (n) {
        return null === n;
      }),
      ($n.isNumber = he),
      ($n.isObject = se),
      ($n.isPlainObject = Fo),
      ($n.isRegExp = _e),
      ($n.isString = ve),
      ($n.isTypedArray = ge),
      ($n.isUndefined = function (n) {
        return n === w;
      }),
      ($n.kebabCase = Ho),
      ($n.last = Pr),
      ($n.lastIndexOf = function (n, t, r) {
        var e = n ? n.length : 0;
        if (!e) return -1;
        var u = e;
        if (typeof r == "number")
          u = (0 > r ? bu(e + r, 0) : xu(r || 0, e - 1)) + 1;
        else if (r)
          return (
            (u = $t(n, t, true) - 1),
            (n = n[u]),
            (t === t ? t === n : n !== n) ? u : -1
          );
        if (t !== t) return p(n, u, true);
        for (; u--; ) if (n[u] === t) return u;
        return -1;
      }),
      ($n.max = ii),
      ($n.min = fi),
      ($n.noConflict = function () {
        return (_._ = He), this;
      }),
      ($n.noop = Se),
      ($n.now = wo),
      ($n.pad = function (n, t, r) {
        (n = u(n)), (t = +t);
        var e = n.length;
        return e < t && mu(t)
          ? ((e = (t - e) / 2),
            (t = uu(e)),
            (e = ru(e)),
            (r = lr("", e, r)),
            r.slice(0, t) + n + r)
          : n;
      }),
      ($n.padLeft = Qo),
      ($n.padRight = ni),
      ($n.parseInt = Ae),
      ($n.random = function (n, t, r) {
        r && Or(n, t, r) && (t = r = null);
        var e = null == n,
          u = null == t;
        return (
          null == r &&
            (u && typeof n == "boolean"
              ? ((r = n), (n = 1))
              : typeof t == "boolean" && ((r = t), (u = true))),
          e && u && ((t = 1), (u = false)),
          (n = +n || 0),
          u ? ((t = n), (n = 0)) : (t = +t || 0),
          r || n % 1 || t % 1
            ? ((r = Ou()),
              xu(
                n + r * (t - n + parseFloat("1e-" + ((r + "").length - 1))),
                t
              ))
            : Ot(n, t)
        );
      }),
      ($n.reduce = go),
      ($n.reduceRight = yo),
      ($n.repeat = je),
      ($n.result = function (n, t, r) {
        var e = null == n ? w : n[t];
        return (
          e === w &&
            (null == n ||
              Er(t, n) ||
              ((t = $r(t)),
              (n = 1 == t.length ? n : gt(n, It(t, 0, -1))),
              (e = null == n ? w : n[Pr(t)])),
            (e = e === w ? r : e)),
          No(e) ? e.call(n) : e
        );
      }),
      ($n.runInContext = m),
      ($n.size = function (n) {
        var t = n ? Yu(n) : 0;
        return Rr(t) ? t : Ko(n).length;
      }),
      ($n.snakeCase = ti),
      ($n.some = ee),
      ($n.sortedIndex = no),
      ($n.sortedLastIndex = to),
      ($n.startCase = ri),
      ($n.startsWith = function (n, t, r) {
        return (
          (n = u(n)),
          (r = null == r ? 0 : xu(0 > r ? 0 : +r || 0, n.length)),
          n.lastIndexOf(t, r) == r
        );
      }),
      ($n.sum = function (n, t, r) {
        r && Or(n, t, r) && (t = null);

        var e = dr(),
          u = null == t;
        if (((e === ut && u) || ((u = false), (t = e(t, r, 3))), u)) {
          for (n = To(n) ? n : Nr(n), t = n.length, r = 0; t--; )
            r += +n[t] || 0;
          n = r;
        } else n = St(n, t);
        return n;
      }),
      ($n.template = function (n, t, r) {
        var e = $n.templateSettings;
        r && Or(n, t, r) && (t = r = null),
          (n = u(n)),
          (t = tt($u({}, r || t), e, nt)),
          (r = tt($u({}, t.imports), e.imports, nt));
        var o,
          i,
          f = Ko(r),
          a = Ut(r, f),
          c = 0;
        r = t.interpolate || Rn;
        var l = "__p+='";
        r = Me(
          (t.escape || Rn).source +
            "|" +
            r.source +
            "|" +
            (r === gn ? jn : Rn).source +
            "|" +
            (t.evaluate || Rn).source +
            "|$",
          "g"
        );
        var p = "sourceURL" in t ? "//# sourceURL=" + t.sourceURL + "\n" : "";

        if (
          (n.replace(r, function (t, r, e, u, f, a) {
            return (
              e || (e = u),
              (l += n.slice(c, a).replace(Cn, s)),
              r && ((o = true), (l += "'+__e(" + r + ")+'")),
              f && ((i = true), (l += "';" + f + ";\n__p+='")),
              e && (l += "'+((__t=(" + e + "))==null?'':__t)+'"),
              (c = a + t.length),
              t
            );
          }),
          (l += "';"),
          (t = t.variable) || (l = "with(obj){" + l + "}"),
          (l = (i ? l.replace(fn, "") : l)
            .replace(an, "$1")
            .replace(cn, "$1;")),
          (l =
            "function(" +
            (t || "obj") +
            "){" +
            (t ? "" : "obj||(obj={});") +
            "var __t,__p=''" +
            (o ? ",__e=_.escape" : "") +
            (i
              ? ",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}"
              : ";") +
            l +
            "return __p}"),
          (t = ei(function () {
            return $e(f, p + "return " + l).apply(w, a);
          })),
          (t.source = l),
          le(t))
        )
          throw t;
        return t;
      }),
      ($n.trim = ke),
      ($n.trimLeft = function (n, t, r) {
        var e = n;
        return (n = u(n))
          ? n.slice((r ? Or(e, t, r) : null == t) ? g(n) : i(n, t + ""))
          : n;
      }),
      ($n.trimRight = function (n, t, r) {
        var e = n;
        return (n = u(n))
          ? (r ? Or(e, t, r) : null == t)
            ? n.slice(0, y(n) + 1)
            : n.slice(0, f(n, t + "") + 1)
          : n;
      }),
      ($n.trunc = function (n, t, r) {
        r && Or(n, t, r) && (t = null);
        var e = W;
        if (((r = S), null != t))
          if (se(t)) {
            var o = "separator" in t ? t.separator : o,
              e = "length" in t ? +t.length || 0 : e;
            r = "omission" in t ? u(t.omission) : r;
          } else e = +t || 0;

        if (((n = u(n)), e >= n.length)) return n;
        if (((e -= r.length), 1 > e)) return r;
        if (((t = n.slice(0, e)), null == o)) return t + r;
        if (_e(o)) {
          if (n.slice(e).search(o)) {
            var i,
              f = n.slice(0, e);
            for (
              o.global || (o = Me(o.source, (kn.exec(o) || "") + "g")),
                o.lastIndex = 0;
              (n = o.exec(f));

            )
              i = n.index;
            t = t.slice(0, null == i ? e : i);
          }
        } else
          n.indexOf(o, e) != e &&
            ((o = t.lastIndexOf(o)), -1 < o && (t = t.slice(0, o)));
        return t + r;
      }),
      ($n.unescape = function (n) {
        return (n = u(n)) && pn.test(n) ? n.replace(ln, d) : n;
      }),
      ($n.uniqueId = function (n) {
        var t = ++Je;
        return u(n) + t;
      }),
      ($n.words = Oe),
      ($n.all = Xr),
      ($n.any = ee),
      ($n.contains = Qr),
      ($n.detect = ao),
      ($n.foldl = go),
      ($n.foldr = yo),
      ($n.head = Mr),
      ($n.include = Qr),
      ($n.inject = go),
      We(
        $n,
        (function () {
          var n = {};
          return (
            ht($n, function (t, r) {
              $n.prototype[r] || (n[r] = t);
            }),
            n
          );
        })(),
        false
      ),
      ($n.sample = te),
      ($n.prototype.sample = function (n) {
        return this.__chain__ || null != n
          ? this.thru(function (t) {
              return te(t, n);
            })
          : te(this.value());
      }),
      ($n.VERSION = b),
      Kn(
        "bind bindKey curry curryRight partial partialRight".split(" "),
        function (n) {
          $n[n].placeholder = $n;
        }
      ),
      Kn(["dropWhile", "filter", "map", "takeWhile"], function (n, t) {
        var r = t != $,
          e = t == N;
        Bn.prototype[n] = function (n, u) {
          var o = this.__filtered__,
            i = o && e ? new Bn(this) : this.clone();
          return (
            (i.__iteratees__ || (i.__iteratees__ = [])).push({
              done: false,
              count: 0,
              index: 0,
              iteratee: dr(n, u, 1),
              limit: -1,
              type: t,
            }),
            (i.__filtered__ = o || r),
            i
          );
        };
      }),
      Kn(["drop", "take"], function (n, t) {
        var r = n + "While";
        (Bn.prototype[n] = function (r) {
          var e = this.__filtered__,
            u = e && !t ? this.dropWhile() : this.clone();
          return (
            (r = null == r ? 1 : bu(uu(r) || 0, 0)),
            e
              ? t
                ? (u.__takeCount__ = xu(u.__takeCount__, r))
                : (Pr(u.__iteratees__).limit = r)
              : (u.__views__ || (u.__views__ = [])).push({
                  size: r,
                  type: n + (0 > u.__dir__ ? "Right" : ""),
                }),
            u
          );
        }),
          (Bn.prototype[n + "Right"] = function (t) {
            return this.reverse()[n](t).reverse();
          }),
          (Bn.prototype[n + "RightWhile"] = function (n, t) {
            return this.reverse()[r](n, t).reverse();
          });
      }),
      Kn(["first", "last"], function (n, t) {
        var r = "take" + (t ? "Right" : "");
        Bn.prototype[n] = function () {
          return this[r](1).value()[0];
        };
      }),
      Kn(["initial", "rest"], function (n, t) {
        var r = "drop" + (t ? "" : "Right");
        Bn.prototype[n] = function () {
          return this[r](1);
        };
      }),
      Kn(["pluck", "where"], function (n, t) {
        var r = t ? "filter" : "map",
          e = t ? wt : Te;
        Bn.prototype[n] = function (n) {
          return this[r](e(n));
        };
      }),
      (Bn.prototype.compact = function () {
        return this.filter(Re);
      }),
      (Bn.prototype.reject = function (n, t) {
        return (
          (n = dr(n, t, 1)),
          this.filter(function (t) {
            return !n(t);
          })
        );
      }),
      (Bn.prototype.slice = function (n, t) {
        n = null == n ? 0 : +n || 0;
        var r = this;
        return (
          0 > n ? (r = this.takeRight(-n)) : n && (r = this.drop(n)),
          t !== w &&
            ((t = +t || 0), (r = 0 > t ? r.dropRight(-t) : r.take(t - n))),
          r
        );
      }),
      (Bn.prototype.toArray = function () {
        return this.drop(0);
      }),
      ht(Bn.prototype, function (n, t) {
        var r = $n[t];
        if (r) {
          var e = /^(?:filter|map|reject)|While$/.test(t),
            u = /^(?:first|last)$/.test(t);
          $n.prototype[t] = function () {
            function t(n) {
              return (n = [n]), fu.apply(n, o), r.apply($n, n);
            }
            var o = arguments,
              i = this.__chain__,
              f = this.__wrapped__,
              a = !!this.__actions__.length,
              c = f instanceof Bn,
              l = o[0],
              s = c || To(f);
            return (
              s &&
                e &&
                typeof l == "function" &&
                1 != l.length &&
                (c = s = false),
              (c = c && !a),
              u && !i
                ? c
                  ? n.call(f)
                  : r.call($n, this.value())
                : s
                ? ((f = n.apply(c ? f : new Bn(this), o)),
                  u ||
                    (!a && !f.__actions__) ||
                    (f.__actions__ || (f.__actions__ = [])).push({
                      func: Jr,
                      args: [t],
                      thisArg: $n,
                    }),
                  new zn(f, i))
                : this.thru(t)
            );
          };
        }
      }),
      Kn(
        "concat join pop push replace shift sort splice split unshift".split(
          " "
        ),
        function (n) {
          var t = (/^(?:replace|split)$/.test(n) ? Ve : qe)[n],
            r = /^(?:push|sort|unshift)$/.test(n) ? "tap" : "thru",
            e = /^(?:join|pop|replace|shift)$/.test(n);
          $n.prototype[n] = function () {
            var n = arguments;
            return e && !this.__chain__
              ? t.apply(this.value(), n)
              : this[r](function (r) {
                  return t.apply(r, n);
                });
          };
        }
      ),
      ht(Bn.prototype, function (n, t) {
        var r = $n[t];
        if (r) {
          var e = r.name;
          (Nu[e] || (Nu[e] = [])).push({ name: t, func: r });
        }
      }),
      (Nu[cr(null, A).name] = [{ name: "wrapper", func: null }]),
      (Bn.prototype.clone = function () {
        var n = this.__actions__,
          t = this.__iteratees__,
          r = this.__views__,
          e = new Bn(this.__wrapped__);

        return (
          (e.__actions__ = n ? qn(n) : null),
          (e.__dir__ = this.__dir__),
          (e.__filtered__ = this.__filtered__),
          (e.__iteratees__ = t ? qn(t) : null),
          (e.__takeCount__ = this.__takeCount__),
          (e.__views__ = r ? qn(r) : null),
          e
        );
      }),
      (Bn.prototype.reverse = function () {
        if (this.__filtered__) {
          var n = new Bn(this);
          (n.__dir__ = -1), (n.__filtered__ = true);
        } else (n = this.clone()), (n.__dir__ *= -1);
        return n;
      }),
      (Bn.prototype.value = function () {
        var n = this.__wrapped__.value();
        if (!To(n)) return Ft(n, this.__actions__);
        var t,
          r = this.__dir__,
          e = 0 > r;
        t = n.length;
        for (
          var u = this.__views__, o = 0, i = -1, f = u ? u.length : 0;
          ++i < f;

        ) {
          var a = u[i],
            c = a.size;
          switch (a.type) {
            case "drop":
              o += c;
              break;
            case "dropRight":
              t -= c;
              break;
            case "take":
              t = xu(t, o + c);
              break;
            case "takeRight":
              o = bu(o, t - c);
          }
        }
        (t = { start: o, end: t }),
          (u = t.start),
          (o = t.end),
          (t = o - u),
          (u = e ? o : u - 1),
          (o = xu(t, this.__takeCount__)),
          (f = (i = this.__iteratees__) ? i.length : 0),
          (a = 0),
          (c = []);
        n: for (; t-- && a < o; ) {
          for (var u = u + r, l = -1, s = n[u]; ++l < f; ) {
            var p = i[l],
              h = p.iteratee,
              _ = p.type;
            if (_ == N) {
              if (
                (p.done &&
                  (e ? u > p.index : u < p.index) &&
                  ((p.count = 0), (p.done = false)),
                (p.index = u),
                !(
                  p.done ||
                  ((_ = p.limit), (p.done = -1 < _ ? p.count++ >= _ : !h(s)))
                ))
              )
                continue n;
            } else if (((p = h(s)), _ == $)) s = p;
            else if (!p) {
              if (_ == F) continue n;
              break n;
            }
          }
          c[a++] = s;
        }
        return c;
      }),
      ($n.prototype.chain = function () {
        return Gr(this);
      }),
      ($n.prototype.commit = function () {
        return new zn(this.value(), this.__chain__);
      }),
      ($n.prototype.plant = function (n) {
        for (var t, r = this; r instanceof Ln; ) {
          var e = Lr(r);
          t ? (u.__wrapped__ = e) : (t = e);
          var u = e,
            r = r.__wrapped__;
        }
        return (u.__wrapped__ = n), t;
      }),
      ($n.prototype.reverse = function () {
        var n = this.__wrapped__;
        return n instanceof Bn
          ? (this.__actions__.length && (n = new Bn(this)),
            new zn(n.reverse(), this.__chain__))
          : this.thru(function (n) {
              return n.reverse();
            });
      }),
      ($n.prototype.toString = function () {
        return this.value() + "";
      }),
      ($n.prototype.run =
        $n.prototype.toJSON =
        $n.prototype.valueOf =
        $n.prototype.value =
          function () {
            return Ft(this.__wrapped__, this.__actions__);
          }),
      ($n.prototype.collect = $n.prototype.map),
      ($n.prototype.head = $n.prototype.first),
      ($n.prototype.select = $n.prototype.filter),
      ($n.prototype.tail = $n.prototype.rest),
      $n
    );
  }
  var w,
    b = "3.8.0",
    x = 1,
    A = 2,
    j = 4,
    k = 8,
    O = 16,
    E = 32,
    I = 64,
    R = 128,
    C = 256,
    W = 30,
    S = "...",
    T = 150,
    U = 16,
    N = 0,
    F = 1,
    $ = 2,
    L = "Expected a function",
    z = "__lodash_placeholder__",
    B = "[object Arguments]",
    M = "[object Array]",
    D = "[object Boolean]",
    P = "[object Date]",
    q = "[object Error]",
    K = "[object Function]",
    V = "[object Number]",
    Y = "[object Object]",
    Z = "[object RegExp]",
    G = "[object String]",
    J = "[object ArrayBuffer]",
    X = "[object Float32Array]",
    H = "[object Float64Array]",
    Q = "[object Int8Array]",
    nn = "[object Int16Array]",
    tn = "[object Int32Array]",
    rn = "[object Uint8Array]",
    en = "[object Uint8ClampedArray]",
    un = "[object Uint16Array]",
    on = "[object Uint32Array]",
    fn = /\b__p\+='';/g,
    an = /\b(__p\+=)''\+/g,
    cn = /(__e\(.*?\)|\b__t\))\+'';/g,
    ln = /&(?:amp|lt|gt|quot|#39|#96);/g,
    sn = /[&<>"'`]/g,
    pn = RegExp(ln.source),
    hn = RegExp(sn.source),
    _n = /<%-([\s\S]+?)%>/g,
    vn = /<%([\s\S]+?)%>/g,
    gn = /<%=([\s\S]+?)%>/g,
    yn = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,
    dn = /^\w*$/,
    mn =
      /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
    wn = /[.*+?^${}()|[\]\/\\]/g,
    bn = RegExp(wn.source),
    xn = /[\u0300-\u036f\ufe20-\ufe23]/g,
    An = /\\(\\)?/g,
    jn = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
    kn = /\w*$/,
    On = /^0[xX]/,
    En = /^\[object .+?Constructor\]$/,
    In = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,
    Rn = /($^)/,
    Cn = /['\n\r\u2028\u2029\\]/g,
    Wn = RegExp(
      "[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+",
      "g"
    ),
    Sn =
      " \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
    Tn =
      "Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(
        " "
      ),
    Un = {};

  (Un[X] =
    Un[H] =
    Un[Q] =
    Un[nn] =
    Un[tn] =
    Un[rn] =
    Un[en] =
    Un[un] =
    Un[on] =
      true),
    (Un[B] =
      Un[M] =
      Un[J] =
      Un[D] =
      Un[P] =
      Un[q] =
      Un[K] =
      Un["[object Map]"] =
      Un[V] =
      Un[Y] =
      Un[Z] =
      Un["[object Set]"] =
      Un[G] =
      Un["[object WeakMap]"] =
        false);
  var Nn = {};
  (Nn[B] =
    Nn[M] =
    Nn[J] =
    Nn[D] =
    Nn[P] =
    Nn[X] =
    Nn[H] =
    Nn[Q] =
    Nn[nn] =
    Nn[tn] =
    Nn[V] =
    Nn[Y] =
    Nn[Z] =
    Nn[G] =
    Nn[rn] =
    Nn[en] =
    Nn[un] =
    Nn[on] =
      true),
    (Nn[q] =
      Nn[K] =
      Nn["[object Map]"] =
      Nn["[object Set]"] =
      Nn["[object WeakMap]"] =
        false);
  var Fn = { leading: false, maxWait: 0, trailing: false },
    $n = {
      "\xc0": "A",
      "\xc1": "A",
      "\xc2": "A",
      "\xc3": "A",
      "\xc4": "A",
      "\xc5": "A",
      "\xe0": "a",
      "\xe1": "a",
      "\xe2": "a",
      "\xe3": "a",
      "\xe4": "a",
      "\xe5": "a",
      "\xc7": "C",
      "\xe7": "c",
      "\xd0": "D",
      "\xf0": "d",
      "\xc8": "E",
      "\xc9": "E",
      "\xca": "E",
      "\xcb": "E",
      "\xe8": "e",
      "\xe9": "e",
      "\xea": "e",
      "\xeb": "e",
      "\xcc": "I",
      "\xcd": "I",
      "\xce": "I",
      "\xcf": "I",
      "\xec": "i",
      "\xed": "i",
      "\xee": "i",
      "\xef": "i",
      "\xd1": "N",
      "\xf1": "n",
      "\xd2": "O",
      "\xd3": "O",
      "\xd4": "O",
      "\xd5": "O",
      "\xd6": "O",
      "\xd8": "O",
      "\xf2": "o",
      "\xf3": "o",
      "\xf4": "o",
      "\xf5": "o",
      "\xf6": "o",
      "\xf8": "o",
      "\xd9": "U",
      "\xda": "U",
      "\xdb": "U",
      "\xdc": "U",
      "\xf9": "u",
      "\xfa": "u",
      "\xfb": "u",
      "\xfc": "u",
      "\xdd": "Y",
      "\xfd": "y",
      "\xff": "y",
      "\xc6": "Ae",
      "\xe6": "ae",
      "\xde": "Th",
      "\xfe": "th",
      "\xdf": "ss",
    },
    Ln = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#39;",
      "`": "&#96;",
    },
    zn = {
      "&amp;": "&",
      "&lt;": "<",
      "&gt;": ">",
      "&quot;": '"',
      "&#39;": "'",
      "&#96;": "`",
    },
    Bn = { function: true, object: true },
    Mn = {
      "\\": "\\",
      "'": "'",
      "\n": "n",
      "\r": "r",
      "\u2028": "u2028",
      "\u2029": "u2029",
    },
    Dn = Bn[typeof exports] && exports && !exports.nodeType && exports,
    Pn = Bn[typeof module] && module && !module.nodeType && module,
    qn = Bn[typeof self] && self && self.Object && self,
    Kn = Bn[typeof window] && window && window.Object && window,
    Vn = Pn && Pn.exports === Dn && Dn,
    Yn =
      (Dn &&
        Pn &&
        typeof global == "object" &&
        global &&
        global.Object &&
        global) ||
      (Kn !== (this && this.window) && Kn) ||
      qn ||
      this,
    Zn = m();

  typeof define == "function" && typeof define.amd == "object" && define.amd
    ? ((Yn._ = Zn),
      define(function () {
        return Zn;
      }))
    : Dn && Pn
    ? Vn
      ? ((Pn.exports = Zn)._ = Zn)
      : (Dn._ = Zn)
    : (Yn._ = Zn);
}.call(this)); /*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.6.0
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
!(function (a) {
  "use strict";
  "function" == typeof define && define.amd
    ? define(["jquery"], a)
    : "undefined" != typeof exports
    ? (module.exports = a(require("jquery")))
    : a(jQuery);
})(function (a) {
  "use strict";
  var b = window.Slick || {};
  (b = (function () {
    function c(c, d) {
      var f,
        e = this;
      (e.defaults = {
        accessibility: !0,
        adaptiveHeight: !1,
        appendArrows: a(c),
        appendDots: a(c),
        arrows: !0,
        asNavFor: null,
        prevArrow:
          '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
        nextArrow:
          '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
        autoplay: !1,
        autoplaySpeed: 3e3,
        centerMode: !1,
        centerPadding: "50px",
        cssEase: "ease",
        customPaging: function (b, c) {
          return a(
            '<button type="button" data-role="none" role="button" tabindex="0" />'
          ).text(c + 1);
        },
        dots: !1,
        dotsClass: "slick-dots",
        draggable: !0,
        easing: "linear",
        edgeFriction: 0.35,
        fade: !1,
        focusOnSelect: !1,
        infinite: !0,
        initialSlide: 0,
        lazyLoad: "ondemand",
        mobileFirst: !1,
        pauseOnHover: !0,
        pauseOnFocus: !0,
        pauseOnDotsHover: !1,
        respondTo: "window",
        responsive: null,
        rows: 1,
        rtl: !1,
        slide: "",
        slidesPerRow: 1,
        slidesToShow: 1,
        slidesToScroll: 1,
        speed: 500,
        swipe: !0,
        swipeToSlide: !1,
        touchMove: !0,
        touchThreshold: 5,
        useCSS: !0,
        useTransform: !0,
        variableWidth: !1,
        vertical: !1,
        verticalSwiping: !1,
        waitForAnimate: !0,
        zIndex: 1e3,
      }),
        (e.initials = {
          animating: !1,
          dragging: !1,
          autoPlayTimer: null,
          currentDirection: 0,
          currentLeft: null,
          currentSlide: 0,
          direction: 1,
          $dots: null,
          listWidth: null,
          listHeight: null,
          loadIndex: 0,
          $nextArrow: null,
          $prevArrow: null,
          slideCount: null,
          slideWidth: null,
          $slideTrack: null,
          $slides: null,
          sliding: !1,
          slideOffset: 0,
          swipeLeft: null,
          $list: null,
          touchObject: {},
          transformsEnabled: !1,
          unslicked: !1,
        }),
        a.extend(e, e.initials),
        (e.activeBreakpoint = null),
        (e.animType = null),
        (e.animProp = null),
        (e.breakpoints = []),
        (e.breakpointSettings = []),
        (e.cssTransitions = !1),
        (e.focussed = !1),
        (e.interrupted = !1),
        (e.hidden = "hidden"),
        (e.paused = !0),
        (e.positionProp = null),
        (e.respondTo = null),
        (e.rowCount = 1),
        (e.shouldClick = !0),
        (e.$slider = a(c)),
        (e.$slidesCache = null),
        (e.transformType = null),
        (e.transitionType = null),
        (e.visibilityChange = "visibilitychange"),
        (e.windowWidth = 0),
        (e.windowTimer = null),
        (f = a(c).data("slick") || {}),
        (e.options = a.extend({}, e.defaults, d, f)),
        (e.currentSlide = e.options.initialSlide),
        (e.originalSettings = e.options),
        "undefined" != typeof document.mozHidden
          ? ((e.hidden = "mozHidden"),
            (e.visibilityChange = "mozvisibilitychange"))
          : "undefined" != typeof document.webkitHidden &&
            ((e.hidden = "webkitHidden"),
            (e.visibilityChange = "webkitvisibilitychange")),
        (e.autoPlay = a.proxy(e.autoPlay, e)),
        (e.autoPlayClear = a.proxy(e.autoPlayClear, e)),
        (e.autoPlayIterator = a.proxy(e.autoPlayIterator, e)),
        (e.changeSlide = a.proxy(e.changeSlide, e)),
        (e.clickHandler = a.proxy(e.clickHandler, e)),
        (e.selectHandler = a.proxy(e.selectHandler, e)),
        (e.setPosition = a.proxy(e.setPosition, e)),
        (e.swipeHandler = a.proxy(e.swipeHandler, e)),
        (e.dragHandler = a.proxy(e.dragHandler, e)),
        (e.keyHandler = a.proxy(e.keyHandler, e)),
        (e.instanceUid = b++),
        (e.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/),
        e.registerBreakpoints(),
        e.init(!0);
    }
    var b = 0;
    return c;
  })()),
    (b.prototype.activateADA = function () {
      var a = this;
      a.$slideTrack
        .find(".slick-active")
        .attr({ "aria-hidden": "false" })
        .find("a, input, button, select")
        .attr({ tabindex: "0" });
    }),
    (b.prototype.addSlide = b.prototype.slickAdd =
      function (b, c, d) {
        var e = this;
        if ("boolean" == typeof c) (d = c), (c = null);
        else if (0 > c || c >= e.slideCount) return !1;
        e.unload(),
          "number" == typeof c
            ? 0 === c && 0 === e.$slides.length
              ? a(b).appendTo(e.$slideTrack)
              : d
              ? a(b).insertBefore(e.$slides.eq(c))
              : a(b).insertAfter(e.$slides.eq(c))
            : d === !0
            ? a(b).prependTo(e.$slideTrack)
            : a(b).appendTo(e.$slideTrack),
          (e.$slides = e.$slideTrack.children(this.options.slide)),
          e.$slideTrack.children(this.options.slide).detach(),
          e.$slideTrack.append(e.$slides),
          e.$slides.each(function (b, c) {
            a(c).attr("data-slick-index", b);
          }),
          (e.$slidesCache = e.$slides),
          e.reinit();
      }),
    (b.prototype.animateHeight = function () {
      var a = this;
      if (
        1 === a.options.slidesToShow &&
        a.options.adaptiveHeight === !0 &&
        a.options.vertical === !1
      ) {
        var b = a.$slides.eq(a.currentSlide).outerHeight(!0);
        a.$list.animate({ height: b }, a.options.speed);
      }
    }),
    (b.prototype.animateSlide = function (b, c) {
      var d = {},
        e = this;
      e.animateHeight(),
        e.options.rtl === !0 && e.options.vertical === !1 && (b = -b),
        e.transformsEnabled === !1
          ? e.options.vertical === !1
            ? e.$slideTrack.animate(
                { left: b },
                e.options.speed,
                e.options.easing,
                c
              )
            : e.$slideTrack.animate(
                { top: b },
                e.options.speed,
                e.options.easing,
                c
              )
          : e.cssTransitions === !1
          ? (e.options.rtl === !0 && (e.currentLeft = -e.currentLeft),
            a({ animStart: e.currentLeft }).animate(
              { animStart: b },
              {
                duration: e.options.speed,
                easing: e.options.easing,
                step: function (a) {
                  (a = Math.ceil(a)),
                    e.options.vertical === !1
                      ? ((d[e.animType] = "translate(" + a + "px, 0px)"),
                        e.$slideTrack.css(d))
                      : ((d[e.animType] = "translate(0px," + a + "px)"),
                        e.$slideTrack.css(d));
                },
                complete: function () {
                  c && c.call();
                },
              }
            ))
          : (e.applyTransition(),
            (b = Math.ceil(b)),
            e.options.vertical === !1
              ? (d[e.animType] = "translate3d(" + b + "px, 0px, 0px)")
              : (d[e.animType] = "translate3d(0px," + b + "px, 0px)"),
            e.$slideTrack.css(d),
            c &&
              setTimeout(function () {
                e.disableTransition(), c.call();
              }, e.options.speed));
    }),
    (b.prototype.getNavTarget = function () {
      var b = this,
        c = b.options.asNavFor;
      return c && null !== c && (c = a(c).not(b.$slider)), c;
    }),
    (b.prototype.asNavFor = function (b) {
      var c = this,
        d = c.getNavTarget();
      null !== d &&
        "object" == typeof d &&
        d.each(function () {
          var c = a(this).slick("getSlick");
          c.unslicked || c.slideHandler(b, !0);
        });
    }),
    (b.prototype.applyTransition = function (a) {
      var b = this,
        c = {};
      b.options.fade === !1
        ? (c[b.transitionType] =
            b.transformType + " " + b.options.speed + "ms " + b.options.cssEase)
        : (c[b.transitionType] =
            "opacity " + b.options.speed + "ms " + b.options.cssEase),
        b.options.fade === !1 ? b.$slideTrack.css(c) : b.$slides.eq(a).css(c);
    }),
    (b.prototype.autoPlay = function () {
      var a = this;
      a.autoPlayClear(),
        a.slideCount > a.options.slidesToShow &&
          (a.autoPlayTimer = setInterval(
            a.autoPlayIterator,
            a.options.autoplaySpeed
          ));
    }),
    (b.prototype.autoPlayClear = function () {
      var a = this;
      a.autoPlayTimer && clearInterval(a.autoPlayTimer);
    }),
    (b.prototype.autoPlayIterator = function () {
      var a = this,
        b = a.currentSlide + a.options.slidesToScroll;
      a.paused ||
        a.interrupted ||
        a.focussed ||
        (a.options.infinite === !1 &&
          (1 === a.direction && a.currentSlide + 1 === a.slideCount - 1
            ? (a.direction = 0)
            : 0 === a.direction &&
              ((b = a.currentSlide - a.options.slidesToScroll),
              a.currentSlide - 1 === 0 && (a.direction = 1))),
        a.slideHandler(b));
    }),
    (b.prototype.buildArrows = function () {
      var b = this;
      b.options.arrows === !0 &&
        ((b.$prevArrow = a(b.options.prevArrow).addClass("slick-arrow")),
        (b.$nextArrow = a(b.options.nextArrow).addClass("slick-arrow")),
        b.slideCount > b.options.slidesToShow
          ? (b.$prevArrow
              .removeClass("slick-hidden")
              .removeAttr("aria-hidden tabindex"),
            b.$nextArrow
              .removeClass("slick-hidden")
              .removeAttr("aria-hidden tabindex"),
            b.htmlExpr.test(b.options.prevArrow) &&
              b.$prevArrow.prependTo(b.options.appendArrows),
            b.htmlExpr.test(b.options.nextArrow) &&
              b.$nextArrow.appendTo(b.options.appendArrows),
            b.options.infinite !== !0 &&
              b.$prevArrow
                .addClass("slick-disabled")
                .attr("aria-disabled", "true"))
          : b.$prevArrow
              .add(b.$nextArrow)
              .addClass("slick-hidden")
              .attr({ "aria-disabled": "true", tabindex: "-1" }));
    }),
    (b.prototype.buildDots = function () {
      var c,
        d,
        b = this;
      if (b.options.dots === !0 && b.slideCount > b.options.slidesToShow) {
        for (
          b.$slider.addClass("slick-dotted"),
            d = a("<ul />").addClass(b.options.dotsClass),
            c = 0;
          c <= b.getDotCount();
          c += 1
        )
          d.append(a("<li />").append(b.options.customPaging.call(this, b, c)));
        (b.$dots = d.appendTo(b.options.appendDots)),
          b.$dots
            .find("li")
            .first()
            .addClass("slick-active")
            .attr("aria-hidden", "false");
      }
    }),
    (b.prototype.buildOut = function () {
      var b = this;
      (b.$slides = b.$slider
        .children(b.options.slide + ":not(.slick-cloned)")
        .addClass("slick-slide")),
        (b.slideCount = b.$slides.length),
        b.$slides.each(function (b, c) {
          a(c)
            .attr("data-slick-index", b)
            .data("originalStyling", a(c).attr("style") || "");
        }),
        b.$slider.addClass("slick-slider"),
        (b.$slideTrack =
          0 === b.slideCount
            ? a('<div class="slick-track"/>').appendTo(b.$slider)
            : b.$slides.wrapAll('<div class="slick-track"/>').parent()),
        (b.$list = b.$slideTrack
          .wrap('<div aria-live="polite" class="slick-list"/>')
          .parent()),
        b.$slideTrack.css("opacity", 0),
        (b.options.centerMode === !0 || b.options.swipeToSlide === !0) &&
          (b.options.slidesToScroll = 1),
        a("img[data-lazy]", b.$slider).not("[src]").addClass("slick-loading"),
        b.setupInfinite(),
        b.buildArrows(),
        b.buildDots(),
        b.updateDots(),
        b.setSlideClasses(
          "number" == typeof b.currentSlide ? b.currentSlide : 0
        ),
        b.options.draggable === !0 && b.$list.addClass("draggable");
    }),
    (b.prototype.buildRows = function () {
      var b,
        c,
        d,
        e,
        f,
        g,
        h,
        a = this;
      if (
        ((e = document.createDocumentFragment()),
        (g = a.$slider.children()),
        a.options.rows > 1)
      ) {
        for (
          h = a.options.slidesPerRow * a.options.rows,
            f = Math.ceil(g.length / h),
            b = 0;
          f > b;
          b++
        ) {
          var i = document.createElement("div");
          for (c = 0; c < a.options.rows; c++) {
            var j = document.createElement("div");
            for (d = 0; d < a.options.slidesPerRow; d++) {
              var k = b * h + (c * a.options.slidesPerRow + d);
              g.get(k) && j.appendChild(g.get(k));
            }
            i.appendChild(j);
          }
          e.appendChild(i);
        }
        a.$slider.empty().append(e),
          a.$slider
            .children()
            .children()
            .children()
            .css({
              width: 100 / a.options.slidesPerRow + "%",
              display: "inline-block",
            });
      }
    }),
    (b.prototype.checkResponsive = function (b, c) {
      var e,
        f,
        g,
        d = this,
        h = !1,
        i = d.$slider.width(),
        j = window.innerWidth || a(window).width();
      if (
        ("window" === d.respondTo
          ? (g = j)
          : "slider" === d.respondTo
          ? (g = i)
          : "min" === d.respondTo && (g = Math.min(j, i)),
        d.options.responsive &&
          d.options.responsive.length &&
          null !== d.options.responsive)
      ) {
        f = null;
        for (e in d.breakpoints)
          d.breakpoints.hasOwnProperty(e) &&
            (d.originalSettings.mobileFirst === !1
              ? g < d.breakpoints[e] && (f = d.breakpoints[e])
              : g > d.breakpoints[e] && (f = d.breakpoints[e]));
        null !== f
          ? null !== d.activeBreakpoint
            ? (f !== d.activeBreakpoint || c) &&
              ((d.activeBreakpoint = f),
              "unslick" === d.breakpointSettings[f]
                ? d.unslick(f)
                : ((d.options = a.extend(
                    {},
                    d.originalSettings,
                    d.breakpointSettings[f]
                  )),
                  b === !0 && (d.currentSlide = d.options.initialSlide),
                  d.refresh(b)),
              (h = f))
            : ((d.activeBreakpoint = f),
              "unslick" === d.breakpointSettings[f]
                ? d.unslick(f)
                : ((d.options = a.extend(
                    {},
                    d.originalSettings,
                    d.breakpointSettings[f]
                  )),
                  b === !0 && (d.currentSlide = d.options.initialSlide),
                  d.refresh(b)),
              (h = f))
          : null !== d.activeBreakpoint &&
            ((d.activeBreakpoint = null),
            (d.options = d.originalSettings),
            b === !0 && (d.currentSlide = d.options.initialSlide),
            d.refresh(b),
            (h = f)),
          b || h === !1 || d.$slider.trigger("breakpoint", [d, h]);
      }
    }),
    (b.prototype.changeSlide = function (b, c) {
      var f,
        g,
        h,
        d = this,
        e = a(b.currentTarget);
      switch (
        (e.is("a") && b.preventDefault(),
        e.is("li") || (e = e.closest("li")),
        (h = d.slideCount % d.options.slidesToScroll !== 0),
        (f = h
          ? 0
          : (d.slideCount - d.currentSlide) % d.options.slidesToScroll),
        b.data.message)
      ) {
        case "previous":
          (g = 0 === f ? d.options.slidesToScroll : d.options.slidesToShow - f),
            d.slideCount > d.options.slidesToShow &&
              d.slideHandler(d.currentSlide - g, !1, c);
          break;
        case "next":
          (g = 0 === f ? d.options.slidesToScroll : f),
            d.slideCount > d.options.slidesToShow &&
              d.slideHandler(d.currentSlide + g, !1, c);
          break;
        case "index":
          var i =
            0 === b.data.index
              ? 0
              : b.data.index || e.index() * d.options.slidesToScroll;
          d.slideHandler(d.checkNavigable(i), !1, c),
            e.children().trigger("focus");
          break;
        default:
          return;
      }
    }),
    (b.prototype.checkNavigable = function (a) {
      var c,
        d,
        b = this;
      if (((c = b.getNavigableIndexes()), (d = 0), a > c[c.length - 1]))
        a = c[c.length - 1];
      else
        for (var e in c) {
          if (a < c[e]) {
            a = d;
            break;
          }
          d = c[e];
        }
      return a;
    }),
    (b.prototype.cleanUpEvents = function () {
      var b = this;
      b.options.dots &&
        null !== b.$dots &&
        a("li", b.$dots)
          .off("click.slick", b.changeSlide)
          .off("mouseenter.slick", a.proxy(b.interrupt, b, !0))
          .off("mouseleave.slick", a.proxy(b.interrupt, b, !1)),
        b.$slider.off("focus.slick blur.slick"),
        b.options.arrows === !0 &&
          b.slideCount > b.options.slidesToShow &&
          (b.$prevArrow && b.$prevArrow.off("click.slick", b.changeSlide),
          b.$nextArrow && b.$nextArrow.off("click.slick", b.changeSlide)),
        b.$list.off("touchstart.slick mousedown.slick", b.swipeHandler),
        b.$list.off("touchmove.slick mousemove.slick", b.swipeHandler),
        b.$list.off("touchend.slick mouseup.slick", b.swipeHandler),
        b.$list.off("touchcancel.slick mouseleave.slick", b.swipeHandler),
        b.$list.off("click.slick", b.clickHandler),
        a(document).off(b.visibilityChange, b.visibility),
        b.cleanUpSlideEvents(),
        b.options.accessibility === !0 &&
          b.$list.off("keydown.slick", b.keyHandler),
        b.options.focusOnSelect === !0 &&
          a(b.$slideTrack).children().off("click.slick", b.selectHandler),
        a(window).off(
          "orientationchange.slick.slick-" + b.instanceUid,
          b.orientationChange
        ),
        a(window).off("resize.slick.slick-" + b.instanceUid, b.resize),
        a("[draggable!=true]", b.$slideTrack).off(
          "dragstart",
          b.preventDefault
        ),
        a(window).off("load.slick.slick-" + b.instanceUid, b.setPosition),
        a(document).off("ready.slick.slick-" + b.instanceUid, b.setPosition);
    }),
    (b.prototype.cleanUpSlideEvents = function () {
      var b = this;
      b.$list.off("mouseenter.slick", a.proxy(b.interrupt, b, !0)),
        b.$list.off("mouseleave.slick", a.proxy(b.interrupt, b, !1));
    }),
    (b.prototype.cleanUpRows = function () {
      var b,
        a = this;
      a.options.rows > 1 &&
        ((b = a.$slides.children().children()),
        b.removeAttr("style"),
        a.$slider.empty().append(b));
    }),
    (b.prototype.clickHandler = function (a) {
      var b = this;
      b.shouldClick === !1 &&
        (a.stopImmediatePropagation(), a.stopPropagation(), a.preventDefault());
    }),
    (b.prototype.destroy = function (b) {
      var c = this;
      c.autoPlayClear(),
        (c.touchObject = {}),
        c.cleanUpEvents(),
        a(".slick-cloned", c.$slider).detach(),
        c.$dots && c.$dots.remove(),
        c.$prevArrow &&
          c.$prevArrow.length &&
          (c.$prevArrow
            .removeClass("slick-disabled slick-arrow slick-hidden")
            .removeAttr("aria-hidden aria-disabled tabindex")
            .css("display", ""),
          c.htmlExpr.test(c.options.prevArrow) && c.$prevArrow.remove()),
        c.$nextArrow &&
          c.$nextArrow.length &&
          (c.$nextArrow
            .removeClass("slick-disabled slick-arrow slick-hidden")
            .removeAttr("aria-hidden aria-disabled tabindex")
            .css("display", ""),
          c.htmlExpr.test(c.options.nextArrow) && c.$nextArrow.remove()),
        c.$slides &&
          (c.$slides
            .removeClass(
              "slick-slide slick-active slick-center slick-visible slick-current"
            )
            .removeAttr("aria-hidden")
            .removeAttr("data-slick-index")
            .each(function () {
              a(this).attr("style", a(this).data("originalStyling"));
            }),
          c.$slideTrack.children(this.options.slide).detach(),
          c.$slideTrack.detach(),
          c.$list.detach(),
          c.$slider.append(c.$slides)),
        c.cleanUpRows(),
        c.$slider.removeClass("slick-slider"),
        c.$slider.removeClass("slick-initialized"),
        c.$slider.removeClass("slick-dotted"),
        (c.unslicked = !0),
        b || c.$slider.trigger("destroy", [c]);
    }),
    (b.prototype.disableTransition = function (a) {
      var b = this,
        c = {};
      (c[b.transitionType] = ""),
        b.options.fade === !1 ? b.$slideTrack.css(c) : b.$slides.eq(a).css(c);
    }),
    (b.prototype.fadeSlide = function (a, b) {
      var c = this;
      c.cssTransitions === !1
        ? (c.$slides.eq(a).css({ zIndex: c.options.zIndex }),
          c.$slides
            .eq(a)
            .animate({ opacity: 1 }, c.options.speed, c.options.easing, b))
        : (c.applyTransition(a),
          c.$slides.eq(a).css({ opacity: 1, zIndex: c.options.zIndex }),
          b &&
            setTimeout(function () {
              c.disableTransition(a), b.call();
            }, c.options.speed));
    }),
    (b.prototype.fadeSlideOut = function (a) {
      var b = this;
      b.cssTransitions === !1
        ? b.$slides
            .eq(a)
            .animate(
              { opacity: 0, zIndex: b.options.zIndex - 2 },
              b.options.speed,
              b.options.easing
            )
        : (b.applyTransition(a),
          b.$slides.eq(a).css({ opacity: 0, zIndex: b.options.zIndex - 2 }));
    }),
    (b.prototype.filterSlides = b.prototype.slickFilter =
      function (a) {
        var b = this;
        null !== a &&
          ((b.$slidesCache = b.$slides),
          b.unload(),
          b.$slideTrack.children(this.options.slide).detach(),
          b.$slidesCache.filter(a).appendTo(b.$slideTrack),
          b.reinit());
      }),
    (b.prototype.focusHandler = function () {
      var b = this;
      b.$slider
        .off("focus.slick blur.slick")
        .on("focus.slick blur.slick", "*:not(.slick-arrow)", function (c) {
          c.stopImmediatePropagation();
          var d = a(this);
          setTimeout(function () {
            b.options.pauseOnFocus &&
              ((b.focussed = d.is(":focus")), b.autoPlay());
          }, 0);
        });
    }),
    (b.prototype.getCurrent = b.prototype.slickCurrentSlide =
      function () {
        var a = this;
        return a.currentSlide;
      }),
    (b.prototype.getDotCount = function () {
      var a = this,
        b = 0,
        c = 0,
        d = 0;
      if (a.options.infinite === !0)
        for (; b < a.slideCount; )
          ++d,
            (b = c + a.options.slidesToScroll),
            (c +=
              a.options.slidesToScroll <= a.options.slidesToShow
                ? a.options.slidesToScroll
                : a.options.slidesToShow);
      else if (a.options.centerMode === !0) d = a.slideCount;
      else if (a.options.asNavFor)
        for (; b < a.slideCount; )
          ++d,
            (b = c + a.options.slidesToScroll),
            (c +=
              a.options.slidesToScroll <= a.options.slidesToShow
                ? a.options.slidesToScroll
                : a.options.slidesToShow);
      else
        d =
          1 +
          Math.ceil(
            (a.slideCount - a.options.slidesToShow) / a.options.slidesToScroll
          );
      return d - 1;
    }),
    (b.prototype.getLeft = function (a) {
      var c,
        d,
        f,
        b = this,
        e = 0;
      return (
        (b.slideOffset = 0),
        (d = b.$slides.first().outerHeight(!0)),
        b.options.infinite === !0
          ? (b.slideCount > b.options.slidesToShow &&
              ((b.slideOffset = b.slideWidth * b.options.slidesToShow * -1),
              (e = d * b.options.slidesToShow * -1)),
            b.slideCount % b.options.slidesToScroll !== 0 &&
              a + b.options.slidesToScroll > b.slideCount &&
              b.slideCount > b.options.slidesToShow &&
              (a > b.slideCount
                ? ((b.slideOffset =
                    (b.options.slidesToShow - (a - b.slideCount)) *
                    b.slideWidth *
                    -1),
                  (e = (b.options.slidesToShow - (a - b.slideCount)) * d * -1))
                : ((b.slideOffset =
                    (b.slideCount % b.options.slidesToScroll) *
                    b.slideWidth *
                    -1),
                  (e = (b.slideCount % b.options.slidesToScroll) * d * -1))))
          : a + b.options.slidesToShow > b.slideCount &&
            ((b.slideOffset =
              (a + b.options.slidesToShow - b.slideCount) * b.slideWidth),
            (e = (a + b.options.slidesToShow - b.slideCount) * d)),
        b.slideCount <= b.options.slidesToShow &&
          ((b.slideOffset = 0), (e = 0)),
        b.options.centerMode === !0 && b.options.infinite === !0
          ? (b.slideOffset +=
              b.slideWidth * Math.floor(b.options.slidesToShow / 2) -
              b.slideWidth)
          : b.options.centerMode === !0 &&
            ((b.slideOffset = 0),
            (b.slideOffset +=
              b.slideWidth * Math.floor(b.options.slidesToShow / 2))),
        (c =
          b.options.vertical === !1
            ? a * b.slideWidth * -1 + b.slideOffset
            : a * d * -1 + e),
        b.options.variableWidth === !0 &&
          ((f =
            b.slideCount <= b.options.slidesToShow || b.options.infinite === !1
              ? b.$slideTrack.children(".slick-slide").eq(a)
              : b.$slideTrack
                  .children(".slick-slide")
                  .eq(a + b.options.slidesToShow)),
          (c =
            b.options.rtl === !0
              ? f[0]
                ? -1 * (b.$slideTrack.width() - f[0].offsetLeft - f.width())
                : 0
              : f[0]
              ? -1 * f[0].offsetLeft
              : 0),
          b.options.centerMode === !0 &&
            ((f =
              b.slideCount <= b.options.slidesToShow ||
              b.options.infinite === !1
                ? b.$slideTrack.children(".slick-slide").eq(a)
                : b.$slideTrack
                    .children(".slick-slide")
                    .eq(a + b.options.slidesToShow + 1)),
            (c =
              b.options.rtl === !0
                ? f[0]
                  ? -1 * (b.$slideTrack.width() - f[0].offsetLeft - f.width())
                  : 0
                : f[0]
                ? -1 * f[0].offsetLeft
                : 0),
            (c += (b.$list.width() - f.outerWidth()) / 2))),
        c
      );
    }),
    (b.prototype.getOption = b.prototype.slickGetOption =
      function (a) {
        var b = this;
        return b.options[a];
      }),
    (b.prototype.getNavigableIndexes = function () {
      var e,
        a = this,
        b = 0,
        c = 0,
        d = [];
      for (
        a.options.infinite === !1
          ? (e = a.slideCount)
          : ((b = -1 * a.options.slidesToScroll),
            (c = -1 * a.options.slidesToScroll),
            (e = 2 * a.slideCount));
        e > b;

      )
        d.push(b),
          (b = c + a.options.slidesToScroll),
          (c +=
            a.options.slidesToScroll <= a.options.slidesToShow
              ? a.options.slidesToScroll
              : a.options.slidesToShow);
      return d;
    }),
    (b.prototype.getSlick = function () {
      return this;
    }),
    (b.prototype.getSlideCount = function () {
      var c,
        d,
        e,
        b = this;
      return (
        (e =
          b.options.centerMode === !0
            ? b.slideWidth * Math.floor(b.options.slidesToShow / 2)
            : 0),
        b.options.swipeToSlide === !0
          ? (b.$slideTrack.find(".slick-slide").each(function (c, f) {
              return f.offsetLeft - e + a(f).outerWidth() / 2 > -1 * b.swipeLeft
                ? ((d = f), !1)
                : void 0;
            }),
            (c = Math.abs(a(d).attr("data-slick-index") - b.currentSlide) || 1))
          : b.options.slidesToScroll
      );
    }),
    (b.prototype.goTo = b.prototype.slickGoTo =
      function (a, b) {
        var c = this;
        c.changeSlide({ data: { message: "index", index: parseInt(a) } }, b);
      }),
    (b.prototype.init = function (b) {
      var c = this;
      a(c.$slider).hasClass("slick-initialized") ||
        (a(c.$slider).addClass("slick-initialized"),
        c.buildRows(),
        c.buildOut(),
        c.setProps(),
        c.startLoad(),
        c.loadSlider(),
        c.initializeEvents(),
        c.updateArrows(),
        c.updateDots(),
        c.checkResponsive(!0),
        c.focusHandler()),
        b && c.$slider.trigger("init", [c]),
        c.options.accessibility === !0 && c.initADA(),
        c.options.autoplay && ((c.paused = !1), c.autoPlay());
    }),
    (b.prototype.initADA = function () {
      var b = this;
      b.$slides
        .add(b.$slideTrack.find(".slick-cloned"))
        .attr({ "aria-hidden": "true", tabindex: "-1" })
        .find("a, input, button, select")
        .attr({ tabindex: "-1" }),
        b.$slideTrack.attr("role", "listbox"),
        b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function (c) {
          a(this).attr({
            role: "option",
            "aria-describedby": "slick-slide" + b.instanceUid + c,
          });
        }),
        null !== b.$dots &&
          b.$dots
            .attr("role", "tablist")
            .find("li")
            .each(function (c) {
              a(this).attr({
                role: "presentation",
                "aria-selected": "false",
                "aria-controls": "navigation" + b.instanceUid + c,
                id: "slick-slide" + b.instanceUid + c,
              });
            })
            .first()
            .attr("aria-selected", "true")
            .end()
            .find("button")
            .attr("role", "button")
            .end()
            .closest("div")
            .attr("role", "toolbar"),
        b.activateADA();
    }),
    (b.prototype.initArrowEvents = function () {
      var a = this;
      a.options.arrows === !0 &&
        a.slideCount > a.options.slidesToShow &&
        (a.$prevArrow
          .off("click.slick")
          .on("click.slick", { message: "previous" }, a.changeSlide),
        a.$nextArrow
          .off("click.slick")
          .on("click.slick", { message: "next" }, a.changeSlide));
    }),
    (b.prototype.initDotEvents = function () {
      var b = this;
      b.options.dots === !0 &&
        b.slideCount > b.options.slidesToShow &&
        a("li", b.$dots).on("click.slick", { message: "index" }, b.changeSlide),
        b.options.dots === !0 &&
          b.options.pauseOnDotsHover === !0 &&
          a("li", b.$dots)
            .on("mouseenter.slick", a.proxy(b.interrupt, b, !0))
            .on("mouseleave.slick", a.proxy(b.interrupt, b, !1));
    }),
    (b.prototype.initSlideEvents = function () {
      var b = this;
      b.options.pauseOnHover &&
        (b.$list.on("mouseenter.slick", a.proxy(b.interrupt, b, !0)),
        b.$list.on("mouseleave.slick", a.proxy(b.interrupt, b, !1)));
    }),
    (b.prototype.initializeEvents = function () {
      var b = this;
      b.initArrowEvents(),
        b.initDotEvents(),
        b.initSlideEvents(),
        b.$list.on(
          "touchstart.slick mousedown.slick",
          { action: "start" },
          b.swipeHandler
        ),
        b.$list.on(
          "touchmove.slick mousemove.slick",
          { action: "move" },
          b.swipeHandler
        ),
        b.$list.on(
          "touchend.slick mouseup.slick",
          { action: "end" },
          b.swipeHandler
        ),
        b.$list.on(
          "touchcancel.slick mouseleave.slick",
          { action: "end" },
          b.swipeHandler
        ),
        b.$list.on("click.slick", b.clickHandler),
        a(document).on(b.visibilityChange, a.proxy(b.visibility, b)),
        b.options.accessibility === !0 &&
          b.$list.on("keydown.slick", b.keyHandler),
        b.options.focusOnSelect === !0 &&
          a(b.$slideTrack).children().on("click.slick", b.selectHandler),
        a(window).on(
          "orientationchange.slick.slick-" + b.instanceUid,
          a.proxy(b.orientationChange, b)
        ),
        a(window).on(
          "resize.slick.slick-" + b.instanceUid,
          a.proxy(b.resize, b)
        ),
        a("[draggable!=true]", b.$slideTrack).on("dragstart", b.preventDefault),
        a(window).on("load.slick.slick-" + b.instanceUid, b.setPosition),
        a(document).on("ready.slick.slick-" + b.instanceUid, b.setPosition);
    }),
    (b.prototype.initUI = function () {
      var a = this;
      a.options.arrows === !0 &&
        a.slideCount > a.options.slidesToShow &&
        (a.$prevArrow.show(), a.$nextArrow.show()),
        a.options.dots === !0 &&
          a.slideCount > a.options.slidesToShow &&
          a.$dots.show();
    }),
    (b.prototype.keyHandler = function (a) {
      var b = this;
      a.target.tagName.match("TEXTAREA|INPUT|SELECT") ||
        (37 === a.keyCode && b.options.accessibility === !0
          ? b.changeSlide({
              data: { message: b.options.rtl === !0 ? "next" : "previous" },
            })
          : 39 === a.keyCode &&
            b.options.accessibility === !0 &&
            b.changeSlide({
              data: { message: b.options.rtl === !0 ? "previous" : "next" },
            }));
    }),
    (b.prototype.lazyLoad = function () {
      function g(c) {
        a("img[data-lazy]", c).each(function () {
          var c = a(this),
            d = a(this).attr("data-lazy"),
            e = document.createElement("img");
          (e.onload = function () {
            c.animate({ opacity: 0 }, 100, function () {
              c.attr("src", d).animate({ opacity: 1 }, 200, function () {
                c.removeAttr("data-lazy").removeClass("slick-loading");
              }),
                b.$slider.trigger("lazyLoaded", [b, c, d]);
            });
          }),
            (e.onerror = function () {
              c
                .removeAttr("data-lazy")
                .removeClass("slick-loading")
                .addClass("slick-lazyload-error"),
                b.$slider.trigger("lazyLoadError", [b, c, d]);
            }),
            (e.src = d);
        });
      }
      var c,
        d,
        e,
        f,
        b = this;
      b.options.centerMode === !0
        ? b.options.infinite === !0
          ? ((e = b.currentSlide + (b.options.slidesToShow / 2 + 1)),
            (f = e + b.options.slidesToShow + 2))
          : ((e = Math.max(
              0,
              b.currentSlide - (b.options.slidesToShow / 2 + 1)
            )),
            (f = 2 + (b.options.slidesToShow / 2 + 1) + b.currentSlide))
        : ((e = b.options.infinite
            ? b.options.slidesToShow + b.currentSlide
            : b.currentSlide),
          (f = Math.ceil(e + b.options.slidesToShow)),
          b.options.fade === !0 && (e > 0 && e--, f <= b.slideCount && f++)),
        (c = b.$slider.find(".slick-slide").slice(e, f)),
        g(c),
        b.slideCount <= b.options.slidesToShow
          ? ((d = b.$slider.find(".slick-slide")), g(d))
          : b.currentSlide >= b.slideCount - b.options.slidesToShow
          ? ((d = b.$slider
              .find(".slick-cloned")
              .slice(0, b.options.slidesToShow)),
            g(d))
          : 0 === b.currentSlide &&
            ((d = b.$slider
              .find(".slick-cloned")
              .slice(-1 * b.options.slidesToShow)),
            g(d));
    }),
    (b.prototype.loadSlider = function () {
      var a = this;
      a.setPosition(),
        a.$slideTrack.css({ opacity: 1 }),
        a.$slider.removeClass("slick-loading"),
        a.initUI(),
        "progressive" === a.options.lazyLoad && a.progressiveLazyLoad();
    }),
    (b.prototype.next = b.prototype.slickNext =
      function () {
        var a = this;
        a.changeSlide({ data: { message: "next" } });
      }),
    (b.prototype.orientationChange = function () {
      var a = this;
      a.checkResponsive(), a.setPosition();
    }),
    (b.prototype.pause = b.prototype.slickPause =
      function () {
        var a = this;
        a.autoPlayClear(), (a.paused = !0);
      }),
    (b.prototype.play = b.prototype.slickPlay =
      function () {
        var a = this;
        a.autoPlay(),
          (a.options.autoplay = !0),
          (a.paused = !1),
          (a.focussed = !1),
          (a.interrupted = !1);
      }),
    (b.prototype.postSlide = function (a) {
      var b = this;
      b.unslicked ||
        (b.$slider.trigger("afterChange", [b, a]),
        (b.animating = !1),
        b.setPosition(),
        (b.swipeLeft = null),
        b.options.autoplay && b.autoPlay(),
        b.options.accessibility === !0 && b.initADA());
    }),
    (b.prototype.prev = b.prototype.slickPrev =
      function () {
        var a = this;
        a.changeSlide({ data: { message: "previous" } });
      }),
    (b.prototype.preventDefault = function (a) {
      a.preventDefault();
    }),
    (b.prototype.progressiveLazyLoad = function (b) {
      b = b || 1;
      var e,
        f,
        g,
        c = this,
        d = a("img[data-lazy]", c.$slider);
      d.length
        ? ((e = d.first()),
          (f = e.attr("data-lazy")),
          (g = document.createElement("img")),
          (g.onload = function () {
            e
              .attr("src", f)
              .removeAttr("data-lazy")
              .removeClass("slick-loading"),
              c.options.adaptiveHeight === !0 && c.setPosition(),
              c.$slider.trigger("lazyLoaded", [c, e, f]),
              c.progressiveLazyLoad();
          }),
          (g.onerror = function () {
            3 > b
              ? setTimeout(function () {
                  c.progressiveLazyLoad(b + 1);
                }, 500)
              : (e
                  .removeAttr("data-lazy")
                  .removeClass("slick-loading")
                  .addClass("slick-lazyload-error"),
                c.$slider.trigger("lazyLoadError", [c, e, f]),
                c.progressiveLazyLoad());
          }),
          (g.src = f))
        : c.$slider.trigger("allImagesLoaded", [c]);
    }),
    (b.prototype.refresh = function (b) {
      var d,
        e,
        c = this;
      (e = c.slideCount - c.options.slidesToShow),
        !c.options.infinite && c.currentSlide > e && (c.currentSlide = e),
        c.slideCount <= c.options.slidesToShow && (c.currentSlide = 0),
        (d = c.currentSlide),
        c.destroy(!0),
        a.extend(c, c.initials, { currentSlide: d }),
        c.init(),
        b || c.changeSlide({ data: { message: "index", index: d } }, !1);
    }),
    (b.prototype.registerBreakpoints = function () {
      var c,
        d,
        e,
        b = this,
        f = b.options.responsive || null;
      if ("array" === a.type(f) && f.length) {
        b.respondTo = b.options.respondTo || "window";
        for (c in f)
          if (
            ((e = b.breakpoints.length - 1),
            (d = f[c].breakpoint),
            f.hasOwnProperty(c))
          ) {
            for (; e >= 0; )
              b.breakpoints[e] &&
                b.breakpoints[e] === d &&
                b.breakpoints.splice(e, 1),
                e--;
            b.breakpoints.push(d), (b.breakpointSettings[d] = f[c].settings);
          }
        b.breakpoints.sort(function (a, c) {
          return b.options.mobileFirst ? a - c : c - a;
        });
      }
    }),
    (b.prototype.reinit = function () {
      var b = this;
      (b.$slides = b.$slideTrack
        .children(b.options.slide)
        .addClass("slick-slide")),
        (b.slideCount = b.$slides.length),
        b.currentSlide >= b.slideCount &&
          0 !== b.currentSlide &&
          (b.currentSlide = b.currentSlide - b.options.slidesToScroll),
        b.slideCount <= b.options.slidesToShow && (b.currentSlide = 0),
        b.registerBreakpoints(),
        b.setProps(),
        b.setupInfinite(),
        b.buildArrows(),
        b.updateArrows(),
        b.initArrowEvents(),
        b.buildDots(),
        b.updateDots(),
        b.initDotEvents(),
        b.cleanUpSlideEvents(),
        b.initSlideEvents(),
        b.checkResponsive(!1, !0),
        b.options.focusOnSelect === !0 &&
          a(b.$slideTrack).children().on("click.slick", b.selectHandler),
        b.setSlideClasses(
          "number" == typeof b.currentSlide ? b.currentSlide : 0
        ),
        b.setPosition(),
        b.focusHandler(),
        (b.paused = !b.options.autoplay),
        b.autoPlay(),
        b.$slider.trigger("reInit", [b]);
    }),
    (b.prototype.resize = function () {
      var b = this;
      a(window).width() !== b.windowWidth &&
        (clearTimeout(b.windowDelay),
        (b.windowDelay = window.setTimeout(function () {
          (b.windowWidth = a(window).width()),
            b.checkResponsive(),
            b.unslicked || b.setPosition();
        }, 50)));
    }),
    (b.prototype.removeSlide = b.prototype.slickRemove =
      function (a, b, c) {
        var d = this;
        return (
          "boolean" == typeof a
            ? ((b = a), (a = b === !0 ? 0 : d.slideCount - 1))
            : (a = b === !0 ? --a : a),
          d.slideCount < 1 || 0 > a || a > d.slideCount - 1
            ? !1
            : (d.unload(),
              c === !0
                ? d.$slideTrack.children().remove()
                : d.$slideTrack.children(this.options.slide).eq(a).remove(),
              (d.$slides = d.$slideTrack.children(this.options.slide)),
              d.$slideTrack.children(this.options.slide).detach(),
              d.$slideTrack.append(d.$slides),
              (d.$slidesCache = d.$slides),
              void d.reinit())
        );
      }),
    (b.prototype.setCSS = function (a) {
      var d,
        e,
        b = this,
        c = {};
      b.options.rtl === !0 && (a = -a),
        (d = "left" == b.positionProp ? Math.ceil(a) + "px" : "0px"),
        (e = "top" == b.positionProp ? Math.ceil(a) + "px" : "0px"),
        (c[b.positionProp] = a),
        b.transformsEnabled === !1
          ? b.$slideTrack.css(c)
          : ((c = {}),
            b.cssTransitions === !1
              ? ((c[b.animType] = "translate(" + d + ", " + e + ")"),
                b.$slideTrack.css(c))
              : ((c[b.animType] = "translate3d(" + d + ", " + e + ", 0px)"),
                b.$slideTrack.css(c)));
    }),
    (b.prototype.setDimensions = function () {
      var a = this;
      a.options.vertical === !1
        ? a.options.centerMode === !0 &&
          a.$list.css({ padding: "0px " + a.options.centerPadding })
        : (a.$list.height(
            a.$slides.first().outerHeight(!0) * a.options.slidesToShow
          ),
          a.options.centerMode === !0 &&
            a.$list.css({ padding: a.options.centerPadding + " 0px" })),
        (a.listWidth = a.$list.width()),
        (a.listHeight = a.$list.height()),
        a.options.vertical === !1 && a.options.variableWidth === !1
          ? ((a.slideWidth = Math.ceil(a.listWidth / a.options.slidesToShow)),
            a.$slideTrack.width(
              Math.ceil(
                a.slideWidth * a.$slideTrack.children(".slick-slide").length
              )
            ))
          : a.options.variableWidth === !0
          ? a.$slideTrack.width(5e3 * a.slideCount)
          : ((a.slideWidth = Math.ceil(a.listWidth)),
            a.$slideTrack.height(
              Math.ceil(
                a.$slides.first().outerHeight(!0) *
                  a.$slideTrack.children(".slick-slide").length
              )
            ));
      var b = a.$slides.first().outerWidth(!0) - a.$slides.first().width();
      a.options.variableWidth === !1 &&
        a.$slideTrack.children(".slick-slide").width(a.slideWidth - b);
    }),
    (b.prototype.setFade = function () {
      var c,
        b = this;
      b.$slides.each(function (d, e) {
        (c = b.slideWidth * d * -1),
          b.options.rtl === !0
            ? a(e).css({
                position: "relative",
                right: c,
                top: 0,
                zIndex: b.options.zIndex - 2,
                opacity: 0,
              })
            : a(e).css({
                position: "relative",
                left: c,
                top: 0,
                zIndex: b.options.zIndex - 2,
                opacity: 0,
              });
      }),
        b.$slides
          .eq(b.currentSlide)
          .css({ zIndex: b.options.zIndex - 1, opacity: 1 });
    }),
    (b.prototype.setHeight = function () {
      var a = this;
      if (
        1 === a.options.slidesToShow &&
        a.options.adaptiveHeight === !0 &&
        a.options.vertical === !1
      ) {
        var b = a.$slides.eq(a.currentSlide).outerHeight(!0);
        a.$list.css("height", b);
      }
    }),
    (b.prototype.setOption = b.prototype.slickSetOption =
      function () {
        var c,
          d,
          e,
          f,
          h,
          b = this,
          g = !1;
        if (
          ("object" === a.type(arguments[0])
            ? ((e = arguments[0]), (g = arguments[1]), (h = "multiple"))
            : "string" === a.type(arguments[0]) &&
              ((e = arguments[0]),
              (f = arguments[1]),
              (g = arguments[2]),
              "responsive" === arguments[0] && "array" === a.type(arguments[1])
                ? (h = "responsive")
                : "undefined" != typeof arguments[1] && (h = "single")),
          "single" === h)
        )
          b.options[e] = f;
        else if ("multiple" === h)
          a.each(e, function (a, c) {
            b.options[a] = c;
          });
        else if ("responsive" === h)
          for (d in f)
            if ("array" !== a.type(b.options.responsive))
              b.options.responsive = [f[d]];
            else {
              for (c = b.options.responsive.length - 1; c >= 0; )
                b.options.responsive[c].breakpoint === f[d].breakpoint &&
                  b.options.responsive.splice(c, 1),
                  c--;
              b.options.responsive.push(f[d]);
            }
        g && (b.unload(), b.reinit());
      }),
    (b.prototype.setPosition = function () {
      var a = this;
      a.setDimensions(),
        a.setHeight(),
        a.options.fade === !1
          ? a.setCSS(a.getLeft(a.currentSlide))
          : a.setFade(),
        a.$slider.trigger("setPosition", [a]);
    }),
    (b.prototype.setProps = function () {
      var a = this,
        b = document.body.style;
      (a.positionProp = a.options.vertical === !0 ? "top" : "left"),
        "top" === a.positionProp
          ? a.$slider.addClass("slick-vertical")
          : a.$slider.removeClass("slick-vertical"),
        (void 0 !== b.WebkitTransition ||
          void 0 !== b.MozTransition ||
          void 0 !== b.msTransition) &&
          a.options.useCSS === !0 &&
          (a.cssTransitions = !0),
        a.options.fade &&
          ("number" == typeof a.options.zIndex
            ? a.options.zIndex < 3 && (a.options.zIndex = 3)
            : (a.options.zIndex = a.defaults.zIndex)),
        void 0 !== b.OTransform &&
          ((a.animType = "OTransform"),
          (a.transformType = "-o-transform"),
          (a.transitionType = "OTransition"),
          void 0 === b.perspectiveProperty &&
            void 0 === b.webkitPerspective &&
            (a.animType = !1)),
        void 0 !== b.MozTransform &&
          ((a.animType = "MozTransform"),
          (a.transformType = "-moz-transform"),
          (a.transitionType = "MozTransition"),
          void 0 === b.perspectiveProperty &&
            void 0 === b.MozPerspective &&
            (a.animType = !1)),
        void 0 !== b.webkitTransform &&
          ((a.animType = "webkitTransform"),
          (a.transformType = "-webkit-transform"),
          (a.transitionType = "webkitTransition"),
          void 0 === b.perspectiveProperty &&
            void 0 === b.webkitPerspective &&
            (a.animType = !1)),
        void 0 !== b.msTransform &&
          ((a.animType = "msTransform"),
          (a.transformType = "-ms-transform"),
          (a.transitionType = "msTransition"),
          void 0 === b.msTransform && (a.animType = !1)),
        void 0 !== b.transform &&
          a.animType !== !1 &&
          ((a.animType = "transform"),
          (a.transformType = "transform"),
          (a.transitionType = "transition")),
        (a.transformsEnabled =
          a.options.useTransform && null !== a.animType && a.animType !== !1);
    }),
    (b.prototype.setSlideClasses = function (a) {
      var c,
        d,
        e,
        f,
        b = this;
      (d = b.$slider
        .find(".slick-slide")
        .removeClass("slick-active slick-center slick-current")
        .attr("aria-hidden", "true")),
        b.$slides.eq(a).addClass("slick-current"),
        b.options.centerMode === !0
          ? ((c = Math.floor(b.options.slidesToShow / 2)),
            b.options.infinite === !0 &&
              (a >= c && a <= b.slideCount - 1 - c
                ? b.$slides
                    .slice(a - c, a + c + 1)
                    .addClass("slick-active")
                    .attr("aria-hidden", "false")
                : ((e = b.options.slidesToShow + a),
                  d
                    .slice(e - c + 1, e + c + 2)
                    .addClass("slick-active")
                    .attr("aria-hidden", "false")),
              0 === a
                ? d
                    .eq(d.length - 1 - b.options.slidesToShow)
                    .addClass("slick-center")
                : a === b.slideCount - 1 &&
                  d.eq(b.options.slidesToShow).addClass("slick-center")),
            b.$slides.eq(a).addClass("slick-center"))
          : a >= 0 && a <= b.slideCount - b.options.slidesToShow
          ? b.$slides
              .slice(a, a + b.options.slidesToShow)
              .addClass("slick-active")
              .attr("aria-hidden", "false")
          : d.length <= b.options.slidesToShow
          ? d.addClass("slick-active").attr("aria-hidden", "false")
          : ((f = b.slideCount % b.options.slidesToShow),
            (e = b.options.infinite === !0 ? b.options.slidesToShow + a : a),
            b.options.slidesToShow == b.options.slidesToScroll &&
            b.slideCount - a < b.options.slidesToShow
              ? d
                  .slice(e - (b.options.slidesToShow - f), e + f)
                  .addClass("slick-active")
                  .attr("aria-hidden", "false")
              : d
                  .slice(e, e + b.options.slidesToShow)
                  .addClass("slick-active")
                  .attr("aria-hidden", "false")),
        "ondemand" === b.options.lazyLoad && b.lazyLoad();
    }),
    (b.prototype.setupInfinite = function () {
      var c,
        d,
        e,
        b = this;
      if (
        (b.options.fade === !0 && (b.options.centerMode = !1),
        b.options.infinite === !0 &&
          b.options.fade === !1 &&
          ((d = null), b.slideCount > b.options.slidesToShow))
      ) {
        for (
          e =
            b.options.centerMode === !0
              ? b.options.slidesToShow + 1
              : b.options.slidesToShow,
            c = b.slideCount;
          c > b.slideCount - e;
          c -= 1
        )
          (d = c - 1),
            a(b.$slides[d])
              .clone(!0)
              .attr("id", "")
              .attr("data-slick-index", d - b.slideCount)
              .prependTo(b.$slideTrack)
              .addClass("slick-cloned");
        for (c = 0; e > c; c += 1)
          (d = c),
            a(b.$slides[d])
              .clone(!0)
              .attr("id", "")
              .attr("data-slick-index", d + b.slideCount)
              .appendTo(b.$slideTrack)
              .addClass("slick-cloned");
        b.$slideTrack
          .find(".slick-cloned")
          .find("[id]")
          .each(function () {
            a(this).attr("id", "");
          });
      }
    }),
    (b.prototype.interrupt = function (a) {
      var b = this;
      a || b.autoPlay(), (b.interrupted = a);
    }),
    (b.prototype.selectHandler = function (b) {
      var c = this,
        d = a(b.target).is(".slick-slide")
          ? a(b.target)
          : a(b.target).parents(".slick-slide"),
        e = parseInt(d.attr("data-slick-index"));
      return (
        e || (e = 0),
        c.slideCount <= c.options.slidesToShow
          ? (c.setSlideClasses(e), void c.asNavFor(e))
          : void c.slideHandler(e)
      );
    }),
    (b.prototype.slideHandler = function (a, b, c) {
      var d,
        e,
        f,
        g,
        j,
        h = null,
        i = this;
      return (
        (b = b || !1),
        (i.animating === !0 && i.options.waitForAnimate === !0) ||
        (i.options.fade === !0 && i.currentSlide === a) ||
        i.slideCount <= i.options.slidesToShow
          ? void 0
          : (b === !1 && i.asNavFor(a),
            (d = a),
            (h = i.getLeft(d)),
            (g = i.getLeft(i.currentSlide)),
            (i.currentLeft = null === i.swipeLeft ? g : i.swipeLeft),
            i.options.infinite === !1 &&
            i.options.centerMode === !1 &&
            (0 > a || a > i.getDotCount() * i.options.slidesToScroll)
              ? void (
                  i.options.fade === !1 &&
                  ((d = i.currentSlide),
                  c !== !0
                    ? i.animateSlide(g, function () {
                        i.postSlide(d);
                      })
                    : i.postSlide(d))
                )
              : i.options.infinite === !1 &&
                i.options.centerMode === !0 &&
                (0 > a || a > i.slideCount - i.options.slidesToScroll)
              ? void (
                  i.options.fade === !1 &&
                  ((d = i.currentSlide),
                  c !== !0
                    ? i.animateSlide(g, function () {
                        i.postSlide(d);
                      })
                    : i.postSlide(d))
                )
              : (i.options.autoplay && clearInterval(i.autoPlayTimer),
                (e =
                  0 > d
                    ? i.slideCount % i.options.slidesToScroll !== 0
                      ? i.slideCount - (i.slideCount % i.options.slidesToScroll)
                      : i.slideCount + d
                    : d >= i.slideCount
                    ? i.slideCount % i.options.slidesToScroll !== 0
                      ? 0
                      : d - i.slideCount
                    : d),
                (i.animating = !0),
                i.$slider.trigger("beforeChange", [i, i.currentSlide, e]),
                (f = i.currentSlide),
                (i.currentSlide = e),
                i.setSlideClasses(i.currentSlide),
                i.options.asNavFor &&
                  ((j = i.getNavTarget()),
                  (j = j.slick("getSlick")),
                  j.slideCount <= j.options.slidesToShow &&
                    j.setSlideClasses(i.currentSlide)),
                i.updateDots(),
                i.updateArrows(),
                i.options.fade === !0
                  ? (c !== !0
                      ? (i.fadeSlideOut(f),
                        i.fadeSlide(e, function () {
                          i.postSlide(e);
                        }))
                      : i.postSlide(e),
                    void i.animateHeight())
                  : void (c !== !0
                      ? i.animateSlide(h, function () {
                          i.postSlide(e);
                        })
                      : i.postSlide(e))))
      );
    }),
    (b.prototype.startLoad = function () {
      var a = this;
      a.options.arrows === !0 &&
        a.slideCount > a.options.slidesToShow &&
        (a.$prevArrow.hide(), a.$nextArrow.hide()),
        a.options.dots === !0 &&
          a.slideCount > a.options.slidesToShow &&
          a.$dots.hide(),
        a.$slider.addClass("slick-loading");
    }),
    (b.prototype.swipeDirection = function () {
      var a,
        b,
        c,
        d,
        e = this;
      return (
        (a = e.touchObject.startX - e.touchObject.curX),
        (b = e.touchObject.startY - e.touchObject.curY),
        (c = Math.atan2(b, a)),
        (d = Math.round((180 * c) / Math.PI)),
        0 > d && (d = 360 - Math.abs(d)),
        45 >= d && d >= 0
          ? e.options.rtl === !1
            ? "left"
            : "right"
          : 360 >= d && d >= 315
          ? e.options.rtl === !1
            ? "left"
            : "right"
          : d >= 135 && 225 >= d
          ? e.options.rtl === !1
            ? "right"
            : "left"
          : e.options.verticalSwiping === !0
          ? d >= 35 && 135 >= d
            ? "down"
            : "up"
          : "vertical"
      );
    }),
    (b.prototype.swipeEnd = function (a) {
      var c,
        d,
        b = this;
      if (
        ((b.dragging = !1),
        (b.interrupted = !1),
        (b.shouldClick = b.touchObject.swipeLength > 10 ? !1 : !0),
        void 0 === b.touchObject.curX)
      )
        return !1;
      if (
        (b.touchObject.edgeHit === !0 &&
          b.$slider.trigger("edge", [b, b.swipeDirection()]),
        b.touchObject.swipeLength >= b.touchObject.minSwipe)
      ) {
        switch ((d = b.swipeDirection())) {
          case "left":
          case "down":
            (c = b.options.swipeToSlide
              ? b.checkNavigable(b.currentSlide + b.getSlideCount())
              : b.currentSlide + b.getSlideCount()),
              (b.currentDirection = 0);
            break;
          case "right":
          case "up":
            (c = b.options.swipeToSlide
              ? b.checkNavigable(b.currentSlide - b.getSlideCount())
              : b.currentSlide - b.getSlideCount()),
              (b.currentDirection = 1);
        }
        "vertical" != d &&
          (b.slideHandler(c),
          (b.touchObject = {}),
          b.$slider.trigger("swipe", [b, d]));
      } else
        b.touchObject.startX !== b.touchObject.curX &&
          (b.slideHandler(b.currentSlide), (b.touchObject = {}));
    }),
    (b.prototype.swipeHandler = function (a) {
      var b = this;
      if (
        !(
          b.options.swipe === !1 ||
          ("ontouchend" in document && b.options.swipe === !1) ||
          (b.options.draggable === !1 && -1 !== a.type.indexOf("mouse"))
        )
      )
        switch (
          ((b.touchObject.fingerCount =
            a.originalEvent && void 0 !== a.originalEvent.touches
              ? a.originalEvent.touches.length
              : 1),
          (b.touchObject.minSwipe = b.listWidth / b.options.touchThreshold),
          b.options.verticalSwiping === !0 &&
            (b.touchObject.minSwipe = b.listHeight / b.options.touchThreshold),
          a.data.action)
        ) {
          case "start":
            b.swipeStart(a);
            break;
          case "move":
            b.swipeMove(a);
            break;
          case "end":
            b.swipeEnd(a);
        }
    }),
    (b.prototype.swipeMove = function (a) {
      var d,
        e,
        f,
        g,
        h,
        b = this;
      return (
        (h = void 0 !== a.originalEvent ? a.originalEvent.touches : null),
        !b.dragging || (h && 1 !== h.length)
          ? !1
          : ((d = b.getLeft(b.currentSlide)),
            (b.touchObject.curX = void 0 !== h ? h[0].pageX : a.clientX),
            (b.touchObject.curY = void 0 !== h ? h[0].pageY : a.clientY),
            (b.touchObject.swipeLength = Math.round(
              Math.sqrt(Math.pow(b.touchObject.curX - b.touchObject.startX, 2))
            )),
            b.options.verticalSwiping === !0 &&
              (b.touchObject.swipeLength = Math.round(
                Math.sqrt(
                  Math.pow(b.touchObject.curY - b.touchObject.startY, 2)
                )
              )),
            (e = b.swipeDirection()),
            "vertical" !== e
              ? (void 0 !== a.originalEvent &&
                  b.touchObject.swipeLength > 4 &&
                  a.preventDefault(),
                (g =
                  (b.options.rtl === !1 ? 1 : -1) *
                  (b.touchObject.curX > b.touchObject.startX ? 1 : -1)),
                b.options.verticalSwiping === !0 &&
                  (g = b.touchObject.curY > b.touchObject.startY ? 1 : -1),
                (f = b.touchObject.swipeLength),
                (b.touchObject.edgeHit = !1),
                b.options.infinite === !1 &&
                  ((0 === b.currentSlide && "right" === e) ||
                    (b.currentSlide >= b.getDotCount() && "left" === e)) &&
                  ((f = b.touchObject.swipeLength * b.options.edgeFriction),
                  (b.touchObject.edgeHit = !0)),
                b.options.vertical === !1
                  ? (b.swipeLeft = d + f * g)
                  : (b.swipeLeft =
                      d + f * (b.$list.height() / b.listWidth) * g),
                b.options.verticalSwiping === !0 && (b.swipeLeft = d + f * g),
                b.options.fade === !0 || b.options.touchMove === !1
                  ? !1
                  : b.animating === !0
                  ? ((b.swipeLeft = null), !1)
                  : void b.setCSS(b.swipeLeft))
              : void 0)
      );
    }),
    (b.prototype.swipeStart = function (a) {
      var c,
        b = this;
      return (
        (b.interrupted = !0),
        1 !== b.touchObject.fingerCount ||
        b.slideCount <= b.options.slidesToShow
          ? ((b.touchObject = {}), !1)
          : (void 0 !== a.originalEvent &&
              void 0 !== a.originalEvent.touches &&
              (c = a.originalEvent.touches[0]),
            (b.touchObject.startX = b.touchObject.curX =
              void 0 !== c ? c.pageX : a.clientX),
            (b.touchObject.startY = b.touchObject.curY =
              void 0 !== c ? c.pageY : a.clientY),
            void (b.dragging = !0))
      );
    }),
    (b.prototype.unfilterSlides = b.prototype.slickUnfilter =
      function () {
        var a = this;
        null !== a.$slidesCache &&
          (a.unload(),
          a.$slideTrack.children(this.options.slide).detach(),
          a.$slidesCache.appendTo(a.$slideTrack),
          a.reinit());
      }),
    (b.prototype.unload = function () {
      var b = this;
      a(".slick-cloned", b.$slider).remove(),
        b.$dots && b.$dots.remove(),
        b.$prevArrow &&
          b.htmlExpr.test(b.options.prevArrow) &&
          b.$prevArrow.remove(),
        b.$nextArrow &&
          b.htmlExpr.test(b.options.nextArrow) &&
          b.$nextArrow.remove(),
        b.$slides
          .removeClass("slick-slide slick-active slick-visible slick-current")
          .attr("aria-hidden", "true")
          .css("width", "");
    }),
    (b.prototype.unslick = function (a) {
      var b = this;
      b.$slider.trigger("unslick", [b, a]), b.destroy();
    }),
    (b.prototype.updateArrows = function () {
      var b,
        a = this;
      (b = Math.floor(a.options.slidesToShow / 2)),
        a.options.arrows === !0 &&
          a.slideCount > a.options.slidesToShow &&
          !a.options.infinite &&
          (a.$prevArrow
            .removeClass("slick-disabled")
            .attr("aria-disabled", "false"),
          a.$nextArrow
            .removeClass("slick-disabled")
            .attr("aria-disabled", "false"),
          0 === a.currentSlide
            ? (a.$prevArrow
                .addClass("slick-disabled")
                .attr("aria-disabled", "true"),
              a.$nextArrow
                .removeClass("slick-disabled")
                .attr("aria-disabled", "false"))
            : a.currentSlide >= a.slideCount - a.options.slidesToShow &&
              a.options.centerMode === !1
            ? (a.$nextArrow
                .addClass("slick-disabled")
                .attr("aria-disabled", "true"),
              a.$prevArrow
                .removeClass("slick-disabled")
                .attr("aria-disabled", "false"))
            : a.currentSlide >= a.slideCount - 1 &&
              a.options.centerMode === !0 &&
              (a.$nextArrow
                .addClass("slick-disabled")
                .attr("aria-disabled", "true"),
              a.$prevArrow
                .removeClass("slick-disabled")
                .attr("aria-disabled", "false")));
    }),
    (b.prototype.updateDots = function () {
      var a = this;
      null !== a.$dots &&
        (a.$dots
          .find("li")
          .removeClass("slick-active")
          .attr("aria-hidden", "true"),
        a.$dots
          .find("li")
          .eq(Math.floor(a.currentSlide / a.options.slidesToScroll))
          .addClass("slick-active")
          .attr("aria-hidden", "false"));
    }),
    (b.prototype.visibility = function () {
      var a = this;
      a.options.autoplay &&
        (document[a.hidden] ? (a.interrupted = !0) : (a.interrupted = !1));
    }),
    (a.fn.slick = function () {
      var f,
        g,
        a = this,
        c = arguments[0],
        d = Array.prototype.slice.call(arguments, 1),
        e = a.length;
      for (f = 0; e > f; f++)
        if (
          ("object" == typeof c || "undefined" == typeof c
            ? (a[f].slick = new b(a[f], c))
            : (g = a[f].slick[c].apply(a[f].slick, d)),
          "undefined" != typeof g)
        )
          return g;
      return a;
    });
}); //! moment.js
//! version : 2.8.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function (a) {
  function b(a, b, c) {
    switch (arguments.length) {
      case 2:
        return null != a ? a : b;
      case 3:
        return null != a ? a : null != b ? b : c;
      default:
        throw new Error("Implement me");
    }
  }
  function c() {
    return {
      empty: !1,
      unusedTokens: [],
      unusedInput: [],
      overflow: -2,
      charsLeftOver: 0,
      nullInput: !1,
      invalidMonth: null,
      invalidFormat: !1,
      userInvalidated: !1,
      iso: !1,
    };
  }
  function d(a) {
    rb.suppressDeprecationWarnings === !1 &&
      "undefined" != typeof console &&
      console.warn &&
      console.warn("Deprecation warning: " + a);
  }
  function e(a, b) {
    var c = !0;
    return l(function () {
      return c && (d(a), (c = !1)), b.apply(this, arguments);
    }, b);
  }
  function f(a, b) {
    nc[a] || (d(b), (nc[a] = !0));
  }
  function g(a, b) {
    return function (c) {
      return o(a.call(this, c), b);
    };
  }
  function h(a, b) {
    return function (c) {
      return this.localeData().ordinal(a.call(this, c), b);
    };
  }
  function i() {}
  function j(a, b) {
    b !== !1 && E(a), m(this, a), (this._d = new Date(+a._d));
  }
  function k(a) {
    var b = x(a),
      c = b.year || 0,
      d = b.quarter || 0,
      e = b.month || 0,
      f = b.week || 0,
      g = b.day || 0,
      h = b.hour || 0,
      i = b.minute || 0,
      j = b.second || 0,
      k = b.millisecond || 0;
    (this._milliseconds = +k + 1e3 * j + 6e4 * i + 36e5 * h),
      (this._days = +g + 7 * f),
      (this._months = +e + 3 * d + 12 * c),
      (this._data = {}),
      (this._locale = rb.localeData()),
      this._bubble();
  }
  function l(a, b) {
    for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]);
    return (
      b.hasOwnProperty("toString") && (a.toString = b.toString),
      b.hasOwnProperty("valueOf") && (a.valueOf = b.valueOf),
      a
    );
  }
  function m(a, b) {
    var c, d, e;
    if (
      ("undefined" != typeof b._isAMomentObject &&
        (a._isAMomentObject = b._isAMomentObject),
      "undefined" != typeof b._i && (a._i = b._i),
      "undefined" != typeof b._f && (a._f = b._f),
      "undefined" != typeof b._l && (a._l = b._l),
      "undefined" != typeof b._strict && (a._strict = b._strict),
      "undefined" != typeof b._tzm && (a._tzm = b._tzm),
      "undefined" != typeof b._isUTC && (a._isUTC = b._isUTC),
      "undefined" != typeof b._offset && (a._offset = b._offset),
      "undefined" != typeof b._pf && (a._pf = b._pf),
      "undefined" != typeof b._locale && (a._locale = b._locale),
      Fb.length > 0)
    )
      for (c in Fb)
        (d = Fb[c]), (e = b[d]), "undefined" != typeof e && (a[d] = e);
    return a;
  }
  function n(a) {
    return 0 > a ? Math.ceil(a) : Math.floor(a);
  }
  function o(a, b, c) {
    for (var d = "" + Math.abs(a), e = a >= 0; d.length < b; ) d = "0" + d;
    return (e ? (c ? "+" : "") : "-") + d;
  }
  function p(a, b) {
    var c = { milliseconds: 0, months: 0 };
    return (
      (c.months = b.month() - a.month() + 12 * (b.year() - a.year())),
      a.clone().add(c.months, "M").isAfter(b) && --c.months,
      (c.milliseconds = +b - +a.clone().add(c.months, "M")),
      c
    );
  }
  function q(a, b) {
    var c;
    return (
      (b = J(b, a)),
      a.isBefore(b)
        ? (c = p(a, b))
        : ((c = p(b, a)),
          (c.milliseconds = -c.milliseconds),
          (c.months = -c.months)),
      c
    );
  }
  function r(a, b) {
    return function (c, d) {
      var e, g;
      return (
        null === d ||
          isNaN(+d) ||
          (f(
            b,
            "moment()." +
              b +
              "(period, number) is deprecated. Please use moment()." +
              b +
              "(number, period)."
          ),
          (g = c),
          (c = d),
          (d = g)),
        (c = "string" == typeof c ? +c : c),
        (e = rb.duration(c, d)),
        s(this, e, a),
        this
      );
    };
  }
  function s(a, b, c, d) {
    var e = b._milliseconds,
      f = b._days,
      g = b._months;
    (d = null == d ? !0 : d),
      e && a._d.setTime(+a._d + e * c),
      f && lb(a, "Date", kb(a, "Date") + f * c),
      g && jb(a, kb(a, "Month") + g * c),
      d && rb.updateOffset(a, f || g);
  }
  function t(a) {
    return "[object Array]" === Object.prototype.toString.call(a);
  }
  function u(a) {
    return (
      "[object Date]" === Object.prototype.toString.call(a) || a instanceof Date
    );
  }
  function v(a, b, c) {
    var d,
      e = Math.min(a.length, b.length),
      f = Math.abs(a.length - b.length),
      g = 0;
    for (d = 0; e > d; d++)
      ((c && a[d] !== b[d]) || (!c && z(a[d]) !== z(b[d]))) && g++;
    return g + f;
  }
  function w(a) {
    if (a) {
      var b = a.toLowerCase().replace(/(.)s$/, "$1");
      a = gc[a] || hc[b] || b;
    }
    return a;
  }
  function x(a) {
    var b,
      c,
      d = {};
    for (c in a) a.hasOwnProperty(c) && ((b = w(c)), b && (d[b] = a[c]));
    return d;
  }
  function y(b) {
    var c, d;
    if (0 === b.indexOf("week")) (c = 7), (d = "day");
    else {
      if (0 !== b.indexOf("month")) return;
      (c = 12), (d = "month");
    }
    rb[b] = function (e, f) {
      var g,
        h,
        i = rb._locale[b],
        j = [];
      if (
        ("number" == typeof e && ((f = e), (e = a)),
        (h = function (a) {
          var b = rb().utc().set(d, a);
          return i.call(rb._locale, b, e || "");
        }),
        null != f)
      )
        return h(f);
      for (g = 0; c > g; g++) j.push(h(g));
      return j;
    };
  }
  function z(a) {
    var b = +a,
      c = 0;
    return (
      0 !== b && isFinite(b) && (c = b >= 0 ? Math.floor(b) : Math.ceil(b)), c
    );
  }
  function A(a, b) {
    return new Date(Date.UTC(a, b + 1, 0)).getUTCDate();
  }
  function B(a, b, c) {
    return fb(rb([a, 11, 31 + b - c]), b, c).week;
  }
  function C(a) {
    return D(a) ? 366 : 365;
  }
  function D(a) {
    return (a % 4 === 0 && a % 100 !== 0) || a % 400 === 0;
  }
  function E(a) {
    var b;
    a._a &&
      -2 === a._pf.overflow &&
      ((b =
        a._a[yb] < 0 || a._a[yb] > 11
          ? yb
          : a._a[zb] < 1 || a._a[zb] > A(a._a[xb], a._a[yb])
          ? zb
          : a._a[Ab] < 0 || a._a[Ab] > 23
          ? Ab
          : a._a[Bb] < 0 || a._a[Bb] > 59
          ? Bb
          : a._a[Cb] < 0 || a._a[Cb] > 59
          ? Cb
          : a._a[Db] < 0 || a._a[Db] > 999
          ? Db
          : -1),
      a._pf._overflowDayOfYear && (xb > b || b > zb) && (b = zb),
      (a._pf.overflow = b));
  }
  function F(a) {
    return (
      null == a._isValid &&
        ((a._isValid =
          !isNaN(a._d.getTime()) &&
          a._pf.overflow < 0 &&
          !a._pf.empty &&
          !a._pf.invalidMonth &&
          !a._pf.nullInput &&
          !a._pf.invalidFormat &&
          !a._pf.userInvalidated),
        a._strict &&
          (a._isValid =
            a._isValid &&
            0 === a._pf.charsLeftOver &&
            0 === a._pf.unusedTokens.length)),
      a._isValid
    );
  }
  function G(a) {
    return a ? a.toLowerCase().replace("_", "-") : a;
  }
  function H(a) {
    for (var b, c, d, e, f = 0; f < a.length; ) {
      for (
        e = G(a[f]).split("-"),
          b = e.length,
          c = G(a[f + 1]),
          c = c ? c.split("-") : null;
        b > 0;

      ) {
        if ((d = I(e.slice(0, b).join("-")))) return d;
        if (c && c.length >= b && v(e, c, !0) >= b - 1) break;
        b--;
      }
      f++;
    }
    return null;
  }
  function I(a) {
    var b = null;
    if (!Eb[a] && Gb)
      try {
        (b = rb.locale()), require("./locale/" + a), rb.locale(b);
      } catch (c) {}
    return Eb[a];
  }
  function J(a, b) {
    return b._isUTC ? rb(a).zone(b._offset || 0) : rb(a).local();
  }
  function K(a) {
    return a.match(/\[[\s\S]/)
      ? a.replace(/^\[|\]$/g, "")
      : a.replace(/\\/g, "");
  }
  function L(a) {
    var b,
      c,
      d = a.match(Kb);
    for (b = 0, c = d.length; c > b; b++) d[b] = mc[d[b]] ? mc[d[b]] : K(d[b]);
    return function (e) {
      var f = "";
      for (b = 0; c > b; b++)
        f += d[b] instanceof Function ? d[b].call(e, a) : d[b];
      return f;
    };
  }
  function M(a, b) {
    return a.isValid()
      ? ((b = N(b, a.localeData())), ic[b] || (ic[b] = L(b)), ic[b](a))
      : a.localeData().invalidDate();
  }
  function N(a, b) {
    function c(a) {
      return b.longDateFormat(a) || a;
    }
    var d = 5;
    for (Lb.lastIndex = 0; d >= 0 && Lb.test(a); )
      (a = a.replace(Lb, c)), (Lb.lastIndex = 0), (d -= 1);
    return a;
  }
  function O(a, b) {
    var c,
      d = b._strict;
    switch (a) {
      case "Q":
        return Wb;
      case "DDDD":
        return Yb;
      case "YYYY":
      case "GGGG":
      case "gggg":
        return d ? Zb : Ob;
      case "Y":
      case "G":
      case "g":
        return _b;
      case "YYYYYY":
      case "YYYYY":
      case "GGGGG":
      case "ggggg":
        return d ? $b : Pb;
      case "S":
        if (d) return Wb;
      case "SS":
        if (d) return Xb;
      case "SSS":
        if (d) return Yb;
      case "DDD":
        return Nb;
      case "MMM":
      case "MMMM":
      case "dd":
      case "ddd":
      case "dddd":
        return Rb;
      case "a":
      case "A":
        return b._locale._meridiemParse;
      case "X":
        return Ub;
      case "Z":
      case "ZZ":
        return Sb;
      case "T":
        return Tb;
      case "SSSS":
        return Qb;
      case "MM":
      case "DD":
      case "YY":
      case "GG":
      case "gg":
      case "HH":
      case "hh":
      case "mm":
      case "ss":
      case "ww":
      case "WW":
        return d ? Xb : Mb;
      case "M":
      case "D":
      case "d":
      case "H":
      case "h":
      case "m":
      case "s":
      case "w":
      case "W":
      case "e":
      case "E":
        return Mb;
      case "Do":
        return Vb;
      default:
        return (c = new RegExp(X(W(a.replace("\\", "")), "i")));
    }
  }
  function P(a) {
    a = a || "";
    var b = a.match(Sb) || [],
      c = b[b.length - 1] || [],
      d = (c + "").match(ec) || ["-", 0, 0],
      e = +(60 * d[1]) + z(d[2]);
    return "+" === d[0] ? -e : e;
  }
  function Q(a, b, c) {
    var d,
      e = c._a;
    switch (a) {
      case "Q":
        null != b && (e[yb] = 3 * (z(b) - 1));
        break;
      case "M":
      case "MM":
        null != b && (e[yb] = z(b) - 1);
        break;
      case "MMM":
      case "MMMM":
        (d = c._locale.monthsParse(b)),
          null != d ? (e[yb] = d) : (c._pf.invalidMonth = b);
        break;
      case "D":
      case "DD":
        null != b && (e[zb] = z(b));
        break;
      case "Do":
        null != b && (e[zb] = z(parseInt(b, 10)));
        break;
      case "DDD":
      case "DDDD":
        null != b && (c._dayOfYear = z(b));
        break;
      case "YY":
        e[xb] = rb.parseTwoDigitYear(b);
        break;
      case "YYYY":
      case "YYYYY":
      case "YYYYYY":
        e[xb] = z(b);
        break;
      case "a":
      case "A":
        c._isPm = c._locale.isPM(b);
        break;
      case "H":
      case "HH":
      case "h":
      case "hh":
        e[Ab] = z(b);
        break;
      case "m":
      case "mm":
        e[Bb] = z(b);
        break;
      case "s":
      case "ss":
        e[Cb] = z(b);
        break;
      case "S":
      case "SS":
      case "SSS":
      case "SSSS":
        e[Db] = z(1e3 * ("0." + b));
        break;
      case "X":
        c._d = new Date(1e3 * parseFloat(b));
        break;
      case "Z":
      case "ZZ":
        (c._useUTC = !0), (c._tzm = P(b));
        break;
      case "dd":
      case "ddd":
      case "dddd":
        (d = c._locale.weekdaysParse(b)),
          null != d
            ? ((c._w = c._w || {}), (c._w.d = d))
            : (c._pf.invalidWeekday = b);
        break;
      case "w":
      case "ww":
      case "W":
      case "WW":
      case "d":
      case "e":
      case "E":
        a = a.substr(0, 1);
      case "gggg":
      case "GGGG":
      case "GGGGG":
        (a = a.substr(0, 2)), b && ((c._w = c._w || {}), (c._w[a] = z(b)));
        break;
      case "gg":
      case "GG":
        (c._w = c._w || {}), (c._w[a] = rb.parseTwoDigitYear(b));
    }
  }
  function R(a) {
    var c, d, e, f, g, h, i;
    (c = a._w),
      null != c.GG || null != c.W || null != c.E
        ? ((g = 1),
          (h = 4),
          (d = b(c.GG, a._a[xb], fb(rb(), 1, 4).year)),
          (e = b(c.W, 1)),
          (f = b(c.E, 1)))
        : ((g = a._locale._week.dow),
          (h = a._locale._week.doy),
          (d = b(c.gg, a._a[xb], fb(rb(), g, h).year)),
          (e = b(c.w, 1)),
          null != c.d
            ? ((f = c.d), g > f && ++e)
            : (f = null != c.e ? c.e + g : g)),
      (i = gb(d, e, f, h, g)),
      (a._a[xb] = i.year),
      (a._dayOfYear = i.dayOfYear);
  }
  function S(a) {
    var c,
      d,
      e,
      f,
      g = [];
    if (!a._d) {
      for (
        e = U(a),
          a._w && null == a._a[zb] && null == a._a[yb] && R(a),
          a._dayOfYear &&
            ((f = b(a._a[xb], e[xb])),
            a._dayOfYear > C(f) && (a._pf._overflowDayOfYear = !0),
            (d = bb(f, 0, a._dayOfYear)),
            (a._a[yb] = d.getUTCMonth()),
            (a._a[zb] = d.getUTCDate())),
          c = 0;
        3 > c && null == a._a[c];
        ++c
      )
        a._a[c] = g[c] = e[c];
      for (; 7 > c; c++)
        a._a[c] = g[c] = null == a._a[c] ? (2 === c ? 1 : 0) : a._a[c];
      (a._d = (a._useUTC ? bb : ab).apply(null, g)),
        null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() + a._tzm);
    }
  }
  function T(a) {
    var b;
    a._d ||
      ((b = x(a._i)),
      (a._a = [
        b.year,
        b.month,
        b.day,
        b.hour,
        b.minute,
        b.second,
        b.millisecond,
      ]),
      S(a));
  }
  function U(a) {
    var b = new Date();
    return a._useUTC
      ? [b.getUTCFullYear(), b.getUTCMonth(), b.getUTCDate()]
      : [b.getFullYear(), b.getMonth(), b.getDate()];
  }
  function V(a) {
    if (a._f === rb.ISO_8601) return void Z(a);
    (a._a = []), (a._pf.empty = !0);
    var b,
      c,
      d,
      e,
      f,
      g = "" + a._i,
      h = g.length,
      i = 0;
    for (d = N(a._f, a._locale).match(Kb) || [], b = 0; b < d.length; b++)
      (e = d[b]),
        (c = (g.match(O(e, a)) || [])[0]),
        c &&
          ((f = g.substr(0, g.indexOf(c))),
          f.length > 0 && a._pf.unusedInput.push(f),
          (g = g.slice(g.indexOf(c) + c.length)),
          (i += c.length)),
        mc[e]
          ? (c ? (a._pf.empty = !1) : a._pf.unusedTokens.push(e), Q(e, c, a))
          : a._strict && !c && a._pf.unusedTokens.push(e);
    (a._pf.charsLeftOver = h - i),
      g.length > 0 && a._pf.unusedInput.push(g),
      a._isPm && a._a[Ab] < 12 && (a._a[Ab] += 12),
      a._isPm === !1 && 12 === a._a[Ab] && (a._a[Ab] = 0),
      S(a),
      E(a);
  }
  function W(a) {
    return a.replace(
      /\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
      function (a, b, c, d, e) {
        return b || c || d || e;
      }
    );
  }
  function X(a) {
    return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
  }
  function Y(a) {
    var b, d, e, f, g;
    if (0 === a._f.length)
      return (a._pf.invalidFormat = !0), void (a._d = new Date(0 / 0));
    for (f = 0; f < a._f.length; f++)
      (g = 0),
        (b = m({}, a)),
        (b._pf = c()),
        (b._f = a._f[f]),
        V(b),
        F(b) &&
          ((g += b._pf.charsLeftOver),
          (g += 10 * b._pf.unusedTokens.length),
          (b._pf.score = g),
          (null == e || e > g) && ((e = g), (d = b)));
    l(a, d || b);
  }
  function Z(a) {
    var b,
      c,
      d = a._i,
      e = ac.exec(d);
    if (e) {
      for (a._pf.iso = !0, b = 0, c = cc.length; c > b; b++)
        if (cc[b][1].exec(d)) {
          a._f = cc[b][0] + (e[6] || " ");
          break;
        }
      for (b = 0, c = dc.length; c > b; b++)
        if (dc[b][1].exec(d)) {
          a._f += dc[b][0];
          break;
        }
      d.match(Sb) && (a._f += "Z"), V(a);
    } else a._isValid = !1;
  }
  function $(a) {
    Z(a),
      a._isValid === !1 && (delete a._isValid, rb.createFromInputFallback(a));
  }
  function _(b) {
    var c,
      d = b._i;
    d === a
      ? (b._d = new Date())
      : u(d)
      ? (b._d = new Date(+d))
      : null !== (c = Hb.exec(d))
      ? (b._d = new Date(+c[1]))
      : "string" == typeof d
      ? $(b)
      : t(d)
      ? ((b._a = d.slice(0)), S(b))
      : "object" == typeof d
      ? T(b)
      : "number" == typeof d
      ? (b._d = new Date(d))
      : rb.createFromInputFallback(b);
  }
  function ab(a, b, c, d, e, f, g) {
    var h = new Date(a, b, c, d, e, f, g);
    return 1970 > a && h.setFullYear(a), h;
  }
  function bb(a) {
    var b = new Date(Date.UTC.apply(null, arguments));
    return 1970 > a && b.setUTCFullYear(a), b;
  }
  function cb(a, b) {
    if ("string" == typeof a)
      if (isNaN(a)) {
        if (((a = b.weekdaysParse(a)), "number" != typeof a)) return null;
      } else a = parseInt(a, 10);
    return a;
  }
  function db(a, b, c, d, e) {
    return e.relativeTime(b || 1, !!c, a, d);
  }
  function eb(a, b, c) {
    var d = rb.duration(a).abs(),
      e = wb(d.as("s")),
      f = wb(d.as("m")),
      g = wb(d.as("h")),
      h = wb(d.as("d")),
      i = wb(d.as("M")),
      j = wb(d.as("y")),
      k = (e < jc.s && ["s", e]) ||
        (1 === f && ["m"]) ||
        (f < jc.m && ["mm", f]) ||
        (1 === g && ["h"]) ||
        (g < jc.h && ["hh", g]) ||
        (1 === h && ["d"]) ||
        (h < jc.d && ["dd", h]) ||
        (1 === i && ["M"]) ||
        (i < jc.M && ["MM", i]) ||
        (1 === j && ["y"]) || ["yy", j];
    return (k[2] = b), (k[3] = +a > 0), (k[4] = c), db.apply({}, k);
  }
  function fb(a, b, c) {
    var d,
      e = c - b,
      f = c - a.day();
    return (
      f > e && (f -= 7),
      e - 7 > f && (f += 7),
      (d = rb(a).add(f, "d")),
      { week: Math.ceil(d.dayOfYear() / 7), year: d.year() }
    );
  }
  function gb(a, b, c, d, e) {
    var f,
      g,
      h = bb(a, 0, 1).getUTCDay();
    return (
      (h = 0 === h ? 7 : h),
      (c = null != c ? c : e),
      (f = e - h + (h > d ? 7 : 0) - (e > h ? 7 : 0)),
      (g = 7 * (b - 1) + (c - e) + f + 1),
      { year: g > 0 ? a : a - 1, dayOfYear: g > 0 ? g : C(a - 1) + g }
    );
  }
  function hb(b) {
    var c = b._i,
      d = b._f;
    return (
      (b._locale = b._locale || rb.localeData(b._l)),
      null === c || (d === a && "" === c)
        ? rb.invalid({ nullInput: !0 })
        : ("string" == typeof c && (b._i = c = b._locale.preparse(c)),
          rb.isMoment(c)
            ? new j(c, !0)
            : (d ? (t(d) ? Y(b) : V(b)) : _(b), new j(b)))
    );
  }
  function ib(a, b) {
    var c, d;
    if ((1 === b.length && t(b[0]) && (b = b[0]), !b.length)) return rb();
    for (c = b[0], d = 1; d < b.length; ++d) b[d][a](c) && (c = b[d]);
    return c;
  }
  function jb(a, b) {
    var c;
    return "string" == typeof b &&
      ((b = a.localeData().monthsParse(b)), "number" != typeof b)
      ? a
      : ((c = Math.min(a.date(), A(a.year(), b))),
        a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c),
        a);
  }
  function kb(a, b) {
    return a._d["get" + (a._isUTC ? "UTC" : "") + b]();
  }
  function lb(a, b, c) {
    return "Month" === b
      ? jb(a, c)
      : a._d["set" + (a._isUTC ? "UTC" : "") + b](c);
  }
  function mb(a, b) {
    return function (c) {
      return null != c
        ? (lb(this, a, c), rb.updateOffset(this, b), this)
        : kb(this, a);
    };
  }
  function nb(a) {
    return (400 * a) / 146097;
  }
  function ob(a) {
    return (146097 * a) / 400;
  }
  function pb(a) {
    rb.duration.fn[a] = function () {
      return this._data[a];
    };
  }
  function qb(a) {
    "undefined" == typeof ender &&
      ((sb = vb.moment),
      (vb.moment = a
        ? e(
            "Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",
            rb
          )
        : rb));
  }
  for (
    var rb,
      sb,
      tb,
      ub = "2.8.1",
      vb = "undefined" != typeof global ? global : this,
      wb = Math.round,
      xb = 0,
      yb = 1,
      zb = 2,
      Ab = 3,
      Bb = 4,
      Cb = 5,
      Db = 6,
      Eb = {},
      Fb = [],
      Gb = "undefined" != typeof module && module.exports,
      Hb = /^\/?Date\((\-?\d+)/i,
      Ib = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,
      Jb =
        /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,
      Kb =
        /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,
      Lb = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,
      Mb = /\d\d?/,
      Nb = /\d{1,3}/,
      Ob = /\d{1,4}/,
      Pb = /[+\-]?\d{1,6}/,
      Qb = /\d+/,
      Rb =
        /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
      Sb = /Z|[\+\-]\d\d:?\d\d/gi,
      Tb = /T/i,
      Ub = /[\+\-]?\d+(\.\d{1,3})?/,
      Vb = /\d{1,2}/,
      Wb = /\d/,
      Xb = /\d\d/,
      Yb = /\d{3}/,
      Zb = /\d{4}/,
      $b = /[+-]?\d{6}/,
      _b = /[+-]?\d+/,
      ac =
        /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
      bc = "YYYY-MM-DDTHH:mm:ssZ",
      cc = [
        ["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/],
        ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/],
        ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/],
        ["GGGG-[W]WW", /\d{4}-W\d{2}/],
        ["YYYY-DDD", /\d{4}-\d{3}/],
      ],
      dc = [
        ["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/],
        ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/],
        ["HH:mm", /(T| )\d\d:\d\d/],
        ["HH", /(T| )\d\d/],
      ],
      ec = /([\+\-]|\d\d)/gi,
      fc =
        ("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),
        {
          Milliseconds: 1,
          Seconds: 1e3,
          Minutes: 6e4,
          Hours: 36e5,
          Days: 864e5,
          Months: 2592e6,
          Years: 31536e6,
        }),
      gc = {
        ms: "millisecond",
        s: "second",
        m: "minute",
        h: "hour",
        d: "day",
        D: "date",
        w: "week",
        W: "isoWeek",
        M: "month",
        Q: "quarter",
        y: "year",
        DDD: "dayOfYear",
        e: "weekday",
        E: "isoWeekday",
        gg: "weekYear",
        GG: "isoWeekYear",
      },
      hc = {
        dayofyear: "dayOfYear",
        isoweekday: "isoWeekday",
        isoweek: "isoWeek",
        weekyear: "weekYear",
        isoweekyear: "isoWeekYear",
      },
      ic = {},
      jc = { s: 45, m: 45, h: 22, d: 26, M: 11 },
      kc = "DDD w W M D d".split(" "),
      lc = "M D H h m s w W".split(" "),
      mc = {
        M: function () {
          return this.month() + 1;
        },
        MMM: function (a) {
          return this.localeData().monthsShort(this, a);
        },
        MMMM: function (a) {
          return this.localeData().months(this, a);
        },
        D: function () {
          return this.date();
        },
        DDD: function () {
          return this.dayOfYear();
        },
        d: function () {
          return this.day();
        },
        dd: function (a) {
          return this.localeData().weekdaysMin(this, a);
        },
        ddd: function (a) {
          return this.localeData().weekdaysShort(this, a);
        },
        dddd: function (a) {
          return this.localeData().weekdays(this, a);
        },
        w: function () {
          return this.week();
        },
        W: function () {
          return this.isoWeek();
        },
        YY: function () {
          return o(this.year() % 100, 2);
        },
        YYYY: function () {
          return o(this.year(), 4);
        },
        YYYYY: function () {
          return o(this.year(), 5);
        },
        YYYYYY: function () {
          var a = this.year(),
            b = a >= 0 ? "+" : "-";
          return b + o(Math.abs(a), 6);
        },
        gg: function () {
          return o(this.weekYear() % 100, 2);
        },
        gggg: function () {
          return o(this.weekYear(), 4);
        },
        ggggg: function () {
          return o(this.weekYear(), 5);
        },
        GG: function () {
          return o(this.isoWeekYear() % 100, 2);
        },
        GGGG: function () {
          return o(this.isoWeekYear(), 4);
        },
        GGGGG: function () {
          return o(this.isoWeekYear(), 5);
        },
        e: function () {
          return this.weekday();
        },
        E: function () {
          return this.isoWeekday();
        },
        a: function () {
          return this.localeData().meridiem(this.hours(), this.minutes(), !0);
        },
        A: function () {
          return this.localeData().meridiem(this.hours(), this.minutes(), !1);
        },
        H: function () {
          return this.hours();
        },
        h: function () {
          return this.hours() % 12 || 12;
        },
        m: function () {
          return this.minutes();
        },
        s: function () {
          return this.seconds();
        },
        S: function () {
          return z(this.milliseconds() / 100);
        },
        SS: function () {
          return o(z(this.milliseconds() / 10), 2);
        },
        SSS: function () {
          return o(this.milliseconds(), 3);
        },
        SSSS: function () {
          return o(this.milliseconds(), 3);
        },
        Z: function () {
          var a = -this.zone(),
            b = "+";
          return (
            0 > a && ((a = -a), (b = "-")),
            b + o(z(a / 60), 2) + ":" + o(z(a) % 60, 2)
          );
        },
        ZZ: function () {
          var a = -this.zone(),
            b = "+";
          return (
            0 > a && ((a = -a), (b = "-")),
            b + o(z(a / 60), 2) + o(z(a) % 60, 2)
          );
        },
        z: function () {
          return this.zoneAbbr();
        },
        zz: function () {
          return this.zoneName();
        },
        X: function () {
          return this.unix();
        },
        Q: function () {
          return this.quarter();
        },
      },
      nc = {},
      oc = [
        "months",
        "monthsShort",
        "weekdays",
        "weekdaysShort",
        "weekdaysMin",
      ];
    kc.length;

  )
    (tb = kc.pop()), (mc[tb + "o"] = h(mc[tb], tb));
  for (; lc.length; ) (tb = lc.pop()), (mc[tb + tb] = g(mc[tb], 2));
  (mc.DDDD = g(mc.DDD, 3)),
    l(i.prototype, {
      set: function (a) {
        var b, c;
        for (c in a)
          (b = a[c]),
            "function" == typeof b ? (this[c] = b) : (this["_" + c] = b);
      },
      _months:
        "January_February_March_April_May_June_July_August_September_October_November_December".split(
          "_"
        ),
      months: function (a) {
        return this._months[a.month()];
      },
      _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split(
        "_"
      ),
      monthsShort: function (a) {
        return this._monthsShort[a.month()];
      },
      monthsParse: function (a) {
        var b, c, d;
        for (this._monthsParse || (this._monthsParse = []), b = 0; 12 > b; b++)
          if (
            (this._monthsParse[b] ||
              ((c = rb.utc([2e3, b])),
              (d = "^" + this.months(c, "") + "|^" + this.monthsShort(c, "")),
              (this._monthsParse[b] = new RegExp(d.replace(".", ""), "i"))),
            this._monthsParse[b].test(a))
          )
            return b;
      },
      _weekdays:
        "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
      weekdays: function (a) {
        return this._weekdays[a.day()];
      },
      _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
      weekdaysShort: function (a) {
        return this._weekdaysShort[a.day()];
      },
      _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
      weekdaysMin: function (a) {
        return this._weekdaysMin[a.day()];
      },
      weekdaysParse: function (a) {
        var b, c, d;
        for (
          this._weekdaysParse || (this._weekdaysParse = []), b = 0;
          7 > b;
          b++
        )
          if (
            (this._weekdaysParse[b] ||
              ((c = rb([2e3, 1]).day(b)),
              (d =
                "^" +
                this.weekdays(c, "") +
                "|^" +
                this.weekdaysShort(c, "") +
                "|^" +
                this.weekdaysMin(c, "")),
              (this._weekdaysParse[b] = new RegExp(d.replace(".", ""), "i"))),
            this._weekdaysParse[b].test(a))
          )
            return b;
      },
      _longDateFormat: {
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY LT",
        LLLL: "dddd, MMMM D, YYYY LT",
      },
      longDateFormat: function (a) {
        var b = this._longDateFormat[a];
        return (
          !b &&
            this._longDateFormat[a.toUpperCase()] &&
            ((b = this._longDateFormat[a.toUpperCase()].replace(
              /MMMM|MM|DD|dddd/g,
              function (a) {
                return a.slice(1);
              }
            )),
            (this._longDateFormat[a] = b)),
          b
        );
      },
      isPM: function (a) {
        return "p" === (a + "").toLowerCase().charAt(0);
      },
      _meridiemParse: /[ap]\.?m?\.?/i,
      meridiem: function (a, b, c) {
        return a > 11 ? (c ? "pm" : "PM") : c ? "am" : "AM";
      },
      _calendar: {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L",
      },
      calendar: function (a, b) {
        var c = this._calendar[a];
        return "function" == typeof c ? c.apply(b) : c;
      },
      _relativeTime: {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years",
      },
      relativeTime: function (a, b, c, d) {
        var e = this._relativeTime[c];
        return "function" == typeof e ? e(a, b, c, d) : e.replace(/%d/i, a);
      },
      pastFuture: function (a, b) {
        var c = this._relativeTime[a > 0 ? "future" : "past"];
        return "function" == typeof c ? c(b) : c.replace(/%s/i, b);
      },
      ordinal: function (a) {
        return this._ordinal.replace("%d", a);
      },
      _ordinal: "%d",
      preparse: function (a) {
        return a;
      },
      postformat: function (a) {
        return a;
      },
      week: function (a) {
        return fb(a, this._week.dow, this._week.doy).week;
      },
      _week: { dow: 0, doy: 6 },
      _invalidDate: "Invalid date",
      invalidDate: function () {
        return this._invalidDate;
      },
    }),
    (rb = function (b, d, e, f) {
      var g;
      return (
        "boolean" == typeof e && ((f = e), (e = a)),
        (g = {}),
        (g._isAMomentObject = !0),
        (g._i = b),
        (g._f = d),
        (g._l = e),
        (g._strict = f),
        (g._isUTC = !1),
        (g._pf = c()),
        hb(g)
      );
    }),
    (rb.suppressDeprecationWarnings = !1),
    (rb.createFromInputFallback = e(
      "moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
      function (a) {
        a._d = new Date(a._i);
      }
    )),
    (rb.min = function () {
      var a = [].slice.call(arguments, 0);
      return ib("isBefore", a);
    }),
    (rb.max = function () {
      var a = [].slice.call(arguments, 0);
      return ib("isAfter", a);
    }),
    (rb.utc = function (b, d, e, f) {
      var g;
      return (
        "boolean" == typeof e && ((f = e), (e = a)),
        (g = {}),
        (g._isAMomentObject = !0),
        (g._useUTC = !0),
        (g._isUTC = !0),
        (g._l = e),
        (g._i = b),
        (g._f = d),
        (g._strict = f),
        (g._pf = c()),
        hb(g).utc()
      );
    }),
    (rb.unix = function (a) {
      return rb(1e3 * a);
    }),
    (rb.duration = function (a, b) {
      var c,
        d,
        e,
        f,
        g = a,
        h = null;
      return (
        rb.isDuration(a)
          ? (g = { ms: a._milliseconds, d: a._days, M: a._months })
          : "number" == typeof a
          ? ((g = {}), b ? (g[b] = a) : (g.milliseconds = a))
          : (h = Ib.exec(a))
          ? ((c = "-" === h[1] ? -1 : 1),
            (g = {
              y: 0,
              d: z(h[zb]) * c,
              h: z(h[Ab]) * c,
              m: z(h[Bb]) * c,
              s: z(h[Cb]) * c,
              ms: z(h[Db]) * c,
            }))
          : (h = Jb.exec(a))
          ? ((c = "-" === h[1] ? -1 : 1),
            (e = function (a) {
              var b = a && parseFloat(a.replace(",", "."));
              return (isNaN(b) ? 0 : b) * c;
            }),
            (g = {
              y: e(h[2]),
              M: e(h[3]),
              d: e(h[4]),
              h: e(h[5]),
              m: e(h[6]),
              s: e(h[7]),
              w: e(h[8]),
            }))
          : "object" == typeof g &&
            ("from" in g || "to" in g) &&
            ((f = q(rb(g.from), rb(g.to))),
            (g = {}),
            (g.ms = f.milliseconds),
            (g.M = f.months)),
        (d = new k(g)),
        rb.isDuration(a) &&
          a.hasOwnProperty("_locale") &&
          (d._locale = a._locale),
        d
      );
    }),
    (rb.version = ub),
    (rb.defaultFormat = bc),
    (rb.ISO_8601 = function () {}),
    (rb.momentProperties = Fb),
    (rb.updateOffset = function () {}),
    (rb.relativeTimeThreshold = function (b, c) {
      return jc[b] === a ? !1 : c === a ? jc[b] : ((jc[b] = c), !0);
    }),
    (rb.lang = e(
      "moment.lang is deprecated. Use moment.locale instead.",
      function (a, b) {
        return rb.locale(a, b);
      }
    )),
    (rb.locale = function (a, b) {
      var c;
      return (
        a &&
          ((c =
            "undefined" != typeof b ? rb.defineLocale(a, b) : rb.localeData(a)),
          c && (rb.duration._locale = rb._locale = c)),
        rb._locale._abbr
      );
    }),
    (rb.defineLocale = function (a, b) {
      return null !== b
        ? ((b.abbr = a),
          Eb[a] || (Eb[a] = new i()),
          Eb[a].set(b),
          rb.locale(a),
          Eb[a])
        : (delete Eb[a], null);
    }),
    (rb.langData = e(
      "moment.langData is deprecated. Use moment.localeData instead.",
      function (a) {
        return rb.localeData(a);
      }
    )),
    (rb.localeData = function (a) {
      var b;
      if ((a && a._locale && a._locale._abbr && (a = a._locale._abbr), !a))
        return rb._locale;
      if (!t(a)) {
        if ((b = I(a))) return b;
        a = [a];
      }
      return H(a);
    }),
    (rb.isMoment = function (a) {
      return (
        a instanceof j || (null != a && a.hasOwnProperty("_isAMomentObject"))
      );
    }),
    (rb.isDuration = function (a) {
      return a instanceof k;
    });
  for (tb = oc.length - 1; tb >= 0; --tb) y(oc[tb]);
  (rb.normalizeUnits = function (a) {
    return w(a);
  }),
    (rb.invalid = function (a) {
      var b = rb.utc(0 / 0);
      return null != a ? l(b._pf, a) : (b._pf.userInvalidated = !0), b;
    }),
    (rb.parseZone = function () {
      return rb.apply(null, arguments).parseZone();
    }),
    (rb.parseTwoDigitYear = function (a) {
      return z(a) + (z(a) > 68 ? 1900 : 2e3);
    }),
    l((rb.fn = j.prototype), {
      clone: function () {
        return rb(this);
      },
      valueOf: function () {
        return +this._d + 6e4 * (this._offset || 0);
      },
      unix: function () {
        return Math.floor(+this / 1e3);
      },
      toString: function () {
        return this.clone()
          .locale("en")
          .format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
      },
      toDate: function () {
        return this._offset ? new Date(+this) : this._d;
      },
      toISOString: function () {
        var a = rb(this).utc();
        return 0 < a.year() && a.year() <= 9999
          ? M(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
          : M(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
      },
      toArray: function () {
        var a = this;
        return [
          a.year(),
          a.month(),
          a.date(),
          a.hours(),
          a.minutes(),
          a.seconds(),
          a.milliseconds(),
        ];
      },
      isValid: function () {
        return F(this);
      },
      isDSTShifted: function () {
        return this._a
          ? this.isValid() &&
              v(
                this._a,
                (this._isUTC ? rb.utc(this._a) : rb(this._a)).toArray()
              ) > 0
          : !1;
      },
      parsingFlags: function () {
        return l({}, this._pf);
      },
      invalidAt: function () {
        return this._pf.overflow;
      },
      utc: function (a) {
        return this.zone(0, a);
      },
      local: function (a) {
        return (
          this._isUTC &&
            (this.zone(0, a),
            (this._isUTC = !1),
            a && this.add(this._d.getTimezoneOffset(), "m")),
          this
        );
      },
      format: function (a) {
        var b = M(this, a || rb.defaultFormat);
        return this.localeData().postformat(b);
      },
      add: r(1, "add"),
      subtract: r(-1, "subtract"),
      diff: function (a, b, c) {
        var d,
          e,
          f = J(a, this),
          g = 6e4 * (this.zone() - f.zone());
        return (
          (b = w(b)),
          "year" === b || "month" === b
            ? ((d = 432e5 * (this.daysInMonth() + f.daysInMonth())),
              (e = 12 * (this.year() - f.year()) + (this.month() - f.month())),
              (e +=
                (this -
                  rb(this).startOf("month") -
                  (f - rb(f).startOf("month"))) /
                d),
              (e -=
                (6e4 *
                  (this.zone() -
                    rb(this).startOf("month").zone() -
                    (f.zone() - rb(f).startOf("month").zone()))) /
                d),
              "year" === b && (e /= 12))
            : ((d = this - f),
              (e =
                "second" === b
                  ? d / 1e3
                  : "minute" === b
                  ? d / 6e4
                  : "hour" === b
                  ? d / 36e5
                  : "day" === b
                  ? (d - g) / 864e5
                  : "week" === b
                  ? (d - g) / 6048e5
                  : d)),
          c ? e : n(e)
        );
      },
      from: function (a, b) {
        return rb
          .duration({ to: this, from: a })
          .locale(this.locale())
          .humanize(!b);
      },
      fromNow: function (a) {
        return this.from(rb(), a);
      },
      calendar: function (a) {
        var b = a || rb(),
          c = J(b, this).startOf("day"),
          d = this.diff(c, "days", !0),
          e =
            -6 > d
              ? "sameElse"
              : -1 > d
              ? "lastWeek"
              : 0 > d
              ? "lastDay"
              : 1 > d
              ? "sameDay"
              : 2 > d
              ? "nextDay"
              : 7 > d
              ? "nextWeek"
              : "sameElse";
        return this.format(this.localeData().calendar(e, this));
      },
      isLeapYear: function () {
        return D(this.year());
      },
      isDST: function () {
        return (
          this.zone() < this.clone().month(0).zone() ||
          this.zone() < this.clone().month(5).zone()
        );
      },
      day: function (a) {
        var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != a
          ? ((a = cb(a, this.localeData())), this.add(a - b, "d"))
          : b;
      },
      month: mb("Month", !0),
      startOf: function (a) {
        switch ((a = w(a))) {
          case "year":
            this.month(0);
          case "quarter":
          case "month":
            this.date(1);
          case "week":
          case "isoWeek":
          case "day":
            this.hours(0);
          case "hour":
            this.minutes(0);
          case "minute":
            this.seconds(0);
          case "second":
            this.milliseconds(0);
        }
        return (
          "week" === a
            ? this.weekday(0)
            : "isoWeek" === a && this.isoWeekday(1),
          "quarter" === a && this.month(3 * Math.floor(this.month() / 3)),
          this
        );
      },
      endOf: function (a) {
        return (
          (a = w(a)),
          this.startOf(a)
            .add(1, "isoWeek" === a ? "week" : a)
            .subtract(1, "ms")
        );
      },
      isAfter: function (a, b) {
        return (
          (b = "undefined" != typeof b ? b : "millisecond"),
          +this.clone().startOf(b) > +rb(a).startOf(b)
        );
      },
      isBefore: function (a, b) {
        return (
          (b = "undefined" != typeof b ? b : "millisecond"),
          +this.clone().startOf(b) < +rb(a).startOf(b)
        );
      },
      isSame: function (a, b) {
        return (
          (b = b || "ms"), +this.clone().startOf(b) === +J(a, this).startOf(b)
        );
      },
      min: e(
        "moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",
        function (a) {
          return (a = rb.apply(null, arguments)), this > a ? this : a;
        }
      ),
      max: e(
        "moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
        function (a) {
          return (a = rb.apply(null, arguments)), a > this ? this : a;
        }
      ),
      zone: function (a, b) {
        var c,
          d = this._offset || 0;
        return null == a
          ? this._isUTC
            ? d
            : this._d.getTimezoneOffset()
          : ("string" == typeof a && (a = P(a)),
            Math.abs(a) < 16 && (a = 60 * a),
            !this._isUTC && b && (c = this._d.getTimezoneOffset()),
            (this._offset = a),
            (this._isUTC = !0),
            null != c && this.subtract(c, "m"),
            d !== a &&
              (!b || this._changeInProgress
                ? s(this, rb.duration(d - a, "m"), 1, !1)
                : this._changeInProgress ||
                  ((this._changeInProgress = !0),
                  rb.updateOffset(this, !0),
                  (this._changeInProgress = null))),
            this);
      },
      zoneAbbr: function () {
        return this._isUTC ? "UTC" : "";
      },
      zoneName: function () {
        return this._isUTC ? "Coordinated Universal Time" : "";
      },
      parseZone: function () {
        return (
          this._tzm
            ? this.zone(this._tzm)
            : "string" == typeof this._i && this.zone(this._i),
          this
        );
      },
      hasAlignedHourOffset: function (a) {
        return (a = a ? rb(a).zone() : 0), (this.zone() - a) % 60 === 0;
      },
      daysInMonth: function () {
        return A(this.year(), this.month());
      },
      dayOfYear: function (a) {
        var b =
          wb((rb(this).startOf("day") - rb(this).startOf("year")) / 864e5) + 1;
        return null == a ? b : this.add(a - b, "d");
      },
      quarter: function (a) {
        return null == a
          ? Math.ceil((this.month() + 1) / 3)
          : this.month(3 * (a - 1) + (this.month() % 3));
      },
      weekYear: function (a) {
        var b = fb(
          this,
          this.localeData()._week.dow,
          this.localeData()._week.doy
        ).year;
        return null == a ? b : this.add(a - b, "y");
      },
      isoWeekYear: function (a) {
        var b = fb(this, 1, 4).year;
        return null == a ? b : this.add(a - b, "y");
      },
      week: function (a) {
        var b = this.localeData().week(this);
        return null == a ? b : this.add(7 * (a - b), "d");
      },
      isoWeek: function (a) {
        var b = fb(this, 1, 4).week;
        return null == a ? b : this.add(7 * (a - b), "d");
      },
      weekday: function (a) {
        var b = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == a ? b : this.add(a - b, "d");
      },
      isoWeekday: function (a) {
        return null == a
          ? this.day() || 7
          : this.day(this.day() % 7 ? a : a - 7);
      },
      isoWeeksInYear: function () {
        return B(this.year(), 1, 4);
      },
      weeksInYear: function () {
        var a = this.localeData()._week;
        return B(this.year(), a.dow, a.doy);
      },
      get: function (a) {
        return (a = w(a)), this[a]();
      },
      set: function (a, b) {
        return (a = w(a)), "function" == typeof this[a] && this[a](b), this;
      },
      locale: function (b) {
        return b === a
          ? this._locale._abbr
          : ((this._locale = rb.localeData(b)), this);
      },
      lang: e(
        "moment().lang() is deprecated. Use moment().localeData() instead.",
        function (b) {
          return b === a
            ? this.localeData()
            : ((this._locale = rb.localeData(b)), this);
        }
      ),
      localeData: function () {
        return this._locale;
      },
    }),
    (rb.fn.millisecond = rb.fn.milliseconds = mb("Milliseconds", !1)),
    (rb.fn.second = rb.fn.seconds = mb("Seconds", !1)),
    (rb.fn.minute = rb.fn.minutes = mb("Minutes", !1)),
    (rb.fn.hour = rb.fn.hours = mb("Hours", !0)),
    (rb.fn.date = mb("Date", !0)),
    (rb.fn.dates = e(
      "dates accessor is deprecated. Use date instead.",
      mb("Date", !0)
    )),
    (rb.fn.year = mb("FullYear", !0)),
    (rb.fn.years = e(
      "years accessor is deprecated. Use year instead.",
      mb("FullYear", !0)
    )),
    (rb.fn.days = rb.fn.day),
    (rb.fn.months = rb.fn.month),
    (rb.fn.weeks = rb.fn.week),
    (rb.fn.isoWeeks = rb.fn.isoWeek),
    (rb.fn.quarters = rb.fn.quarter),
    (rb.fn.toJSON = rb.fn.toISOString),
    l((rb.duration.fn = k.prototype), {
      _bubble: function () {
        var a,
          b,
          c,
          d = this._milliseconds,
          e = this._days,
          f = this._months,
          g = this._data,
          h = 0;
        (g.milliseconds = d % 1e3),
          (a = n(d / 1e3)),
          (g.seconds = a % 60),
          (b = n(a / 60)),
          (g.minutes = b % 60),
          (c = n(b / 60)),
          (g.hours = c % 24),
          (e += n(c / 24)),
          (h = n(nb(e))),
          (e -= n(ob(h))),
          (f += n(e / 30)),
          (e %= 30),
          (h += n(f / 12)),
          (f %= 12),
          (g.days = e),
          (g.months = f),
          (g.years = h);
      },
      abs: function () {
        return (
          (this._milliseconds = Math.abs(this._milliseconds)),
          (this._days = Math.abs(this._days)),
          (this._months = Math.abs(this._months)),
          (this._data.milliseconds = Math.abs(this._data.milliseconds)),
          (this._data.seconds = Math.abs(this._data.seconds)),
          (this._data.minutes = Math.abs(this._data.minutes)),
          (this._data.hours = Math.abs(this._data.hours)),
          (this._data.months = Math.abs(this._data.months)),
          (this._data.years = Math.abs(this._data.years)),
          this
        );
      },
      weeks: function () {
        return n(this.days() / 7);
      },
      valueOf: function () {
        return (
          this._milliseconds +
          864e5 * this._days +
          (this._months % 12) * 2592e6 +
          31536e6 * z(this._months / 12)
        );
      },
      humanize: function (a) {
        var b = eb(this, !a, this.localeData());
        return (
          a && (b = this.localeData().pastFuture(+this, b)),
          this.localeData().postformat(b)
        );
      },
      add: function (a, b) {
        var c = rb.duration(a, b);
        return (
          (this._milliseconds += c._milliseconds),
          (this._days += c._days),
          (this._months += c._months),
          this._bubble(),
          this
        );
      },
      subtract: function (a, b) {
        var c = rb.duration(a, b);
        return (
          (this._milliseconds -= c._milliseconds),
          (this._days -= c._days),
          (this._months -= c._months),
          this._bubble(),
          this
        );
      },
      get: function (a) {
        return (a = w(a)), this[a.toLowerCase() + "s"]();
      },
      as: function (a) {
        var b, c;
        if (
          ((a = w(a)),
          (b = this._days + this._milliseconds / 864e5),
          "month" === a || "year" === a)
        )
          return (c = this._months + 12 * nb(b)), "month" === a ? c : c / 12;
        switch (((b += ob(this._months / 12)), a)) {
          case "week":
            return b / 7;
          case "day":
            return b;
          case "hour":
            return 24 * b;
          case "minute":
            return 24 * b * 60;
          case "second":
            return 24 * b * 60 * 60;
          case "millisecond":
            return 24 * b * 60 * 60 * 1e3;
          default:
            throw new Error("Unknown unit " + a);
        }
      },
      lang: rb.fn.lang,
      locale: rb.fn.locale,
      toIsoString: e(
        "toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
        function () {
          return this.toISOString();
        }
      ),
      toISOString: function () {
        var a = Math.abs(this.years()),
          b = Math.abs(this.months()),
          c = Math.abs(this.days()),
          d = Math.abs(this.hours()),
          e = Math.abs(this.minutes()),
          f = Math.abs(this.seconds() + this.milliseconds() / 1e3);
        return this.asSeconds()
          ? (this.asSeconds() < 0 ? "-" : "") +
              "P" +
              (a ? a + "Y" : "") +
              (b ? b + "M" : "") +
              (c ? c + "D" : "") +
              (d || e || f ? "T" : "") +
              (d ? d + "H" : "") +
              (e ? e + "M" : "") +
              (f ? f + "S" : "")
          : "P0D";
      },
      localeData: function () {
        return this._locale;
      },
    });
  for (tb in fc) fc.hasOwnProperty(tb) && pb(tb.toLowerCase());
  (rb.duration.fn.asMilliseconds = function () {
    return this.as("ms");
  }),
    (rb.duration.fn.asSeconds = function () {
      return this.as("s");
    }),
    (rb.duration.fn.asMinutes = function () {
      return this.as("m");
    }),
    (rb.duration.fn.asHours = function () {
      return this.as("h");
    }),
    (rb.duration.fn.asDays = function () {
      return this.as("d");
    }),
    (rb.duration.fn.asWeeks = function () {
      return this.as("weeks");
    }),
    (rb.duration.fn.asMonths = function () {
      return this.as("M");
    }),
    (rb.duration.fn.asYears = function () {
      return this.as("y");
    }),
    rb.locale("en", {
      ordinal: function (a) {
        var b = a % 10,
          c =
            1 === z((a % 100) / 10)
              ? "th"
              : 1 === b
              ? "st"
              : 2 === b
              ? "nd"
              : 3 === b
              ? "rd"
              : "th";
        return a + c;
      },
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("af", {
        months:
          "Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split(
            "_"
          ),
        monthsShort: "Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split(
          "_"
        ),
        weekdays:
          "Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split(
            "_"
          ),
        weekdaysShort: "Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),
        weekdaysMin: "So_Ma_Di_Wo_Do_Vr_Sa".split("_"),
        meridiem: function (a, b, c) {
          return 12 > a ? (c ? "vm" : "VM") : c ? "nm" : "NM";
        },
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Vandag om] LT",
          nextDay: "[Mre om] LT",
          nextWeek: "dddd [om] LT",
          lastDay: "[Gister om] LT",
          lastWeek: "[Laas] dddd [om] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "oor %s",
          past: "%s gelede",
          s: "'n paar sekondes",
          m: "'n minuut",
          mm: "%d minute",
          h: "'n uur",
          hh: "%d ure",
          d: "'n dag",
          dd: "%d dae",
          M: "'n maand",
          MM: "%d maande",
          y: "'n jaar",
          yy: "%d jaar",
        },
        ordinal: function (a) {
          return a + (1 === a || 8 === a || a >= 20 ? "ste" : "de");
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("ar-ma", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[  ] LT",
          nextDay: "[  ] LT",
          nextWeek: "dddd [ ] LT",
          lastDay: "[  ] LT",
          lastWeek: "dddd [ ] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: " %s",
          s: "",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        week: { dow: 6, doy: 12 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("ar-sa", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        meridiem: function (a) {
          return 12 > a ? "" : "";
        },
        calendar: {
          sameDay: "[  ] LT",
          nextDay: "[  ] LT",
          nextWeek: "dddd [ ] LT",
          lastDay: "[  ] LT",
          lastWeek: "dddd [ ] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: " %s",
          s: "",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        preparse: function (a) {
          return a
            .replace(/[-]/g, function (a) {
              return c[a];
            })
            .replace(//g, ",");
        },
        postformat: function (a) {
          return a
            .replace(/\d/g, function (a) {
              return b[a];
            })
            .replace(/,/g, "");
        },
        week: { dow: 6, doy: 12 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("ar", {
        months:
          "/  _/ _/ _/ _/ _/ _/ _/ _/ _/  _/  _/  ".split(
            "_"
          ),
        monthsShort:
          "/  _/ _/ _/ _/ _/ _/ _/ _/ _/  _/  _/  ".split(
            "_"
          ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        meridiem: function (a) {
          return 12 > a ? "" : "";
        },
        calendar: {
          sameDay: "[  ] LT",
          nextDay: "[  ] LT",
          nextWeek: "dddd [ ] LT",
          lastDay: "[  ] LT",
          lastWeek: "dddd [ ] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: " %s",
          s: "",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        preparse: function (a) {
          return a
            .replace(/[-]/g, function (a) {
              return c[a];
            })
            .replace(//g, ",");
        },
        postformat: function (a) {
          return a
            .replace(/\d/g, function (a) {
              return b[a];
            })
            .replace(/,/g, "");
        },
        week: { dow: 6, doy: 12 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
        1: "-inci",
        5: "-inci",
        8: "-inci",
        70: "-inci",
        80: "-inci",
        2: "-nci",
        7: "-nci",
        20: "-nci",
        50: "-nci",
        3: "-nc",
        4: "-nc",
        100: "-nc",
        6: "-nc",
        9: "-uncu",
        10: "-uncu",
        30: "-uncu",
        60: "-nc",
        90: "-nc",
      };
      return a.defineLocale("az", {
        months:
          "yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split(
            "_"
          ),
        monthsShort: "yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split(
          "_"
        ),
        weekdays:
          "Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split(
            "_"
          ),
        weekdaysShort: "Baz_BzE_Ax_r_CAx_Cm_n".split("_"),
        weekdaysMin: "Bz_BE_A__CA_C_".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[bugn saat] LT",
          nextDay: "[sabah saat] LT",
          nextWeek: "[gln hft] dddd [saat] LT",
          lastDay: "[dnn] LT",
          lastWeek: "[ken hft] dddd [saat] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s sonra",
          past: "%s vvl",
          s: "birne saniyy",
          m: "bir dqiq",
          mm: "%d dqiq",
          h: "bir saat",
          hh: "%d saat",
          d: "bir gn",
          dd: "%d gn",
          M: "bir ay",
          MM: "%d ay",
          y: "bir il",
          yy: "%d il",
        },
        meridiem: function (a) {
          return 4 > a
            ? "gec"
            : 12 > a
            ? "shr"
            : 17 > a
            ? "gndz"
            : "axam";
        },
        ordinal: function (a) {
          if (0 === a) return a + "-nc";
          var c = a % 10,
            d = (a % 100) - c,
            e = a >= 100 ? 100 : null;
          return a + (b[c] || b[d] || b[e]);
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b) {
        var c = a.split("_");
        return b % 10 === 1 && b % 100 !== 11
          ? c[0]
          : b % 10 >= 2 && 4 >= b % 10 && (10 > b % 100 || b % 100 >= 20)
          ? c[1]
          : c[2];
      }
      function c(a, c, d) {
        var e = {
          mm: c ? "__" : "__",
          hh: c ? "__" : "__",
          dd: "__",
          MM: "__",
          yy: "__",
        };
        return "m" === d
          ? c
            ? ""
            : ""
          : "h" === d
          ? c
            ? ""
            : ""
          : a + " " + b(e[d], +a);
      }
      function d(a, b) {
        var c = {
            nominative:
              "___________".split(
                "_"
              ),
            accusative:
              "___________".split(
                "_"
              ),
          },
          d = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)
            ? "accusative"
            : "nominative";
        return c[d][a.month()];
      }
      function e(a, b) {
        var c = {
            nominative:
              "______".split(
                "_"
              ),
            accusative:
              "______".split(
                "_"
              ),
          },
          d = /\[ ?[] ?(?:|)? ?\] ?dddd/.test(b)
            ? "accusative"
            : "nominative";
        return c[d][a.day()];
      }
      return a.defineLocale("be", {
        months: d,
        monthsShort:
          "___________".split("_"),
        weekdays: e,
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY .",
          LLL: "D MMMM YYYY ., LT",
          LLLL: "dddd, D MMMM YYYY ., LT",
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          lastDay: "[ ] LT",
          nextWeek: function () {
            return "[] dddd [] LT";
          },
          lastWeek: function () {
            switch (this.day()) {
              case 0:
              case 3:
              case 5:
              case 6:
                return "[ ] dddd [] LT";
              case 1:
              case 2:
              case 4:
                return "[ ] dddd [] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: "%s ",
          s: " ",
          m: c,
          mm: c,
          h: c,
          hh: c,
          d: "",
          dd: c,
          M: "",
          MM: c,
          y: "",
          yy: c,
        },
        meridiem: function (a) {
          return 4 > a ? "" : 12 > a ? "" : 17 > a ? "" : "";
        },
        ordinal: function (a, b) {
          switch (b) {
            case "M":
            case "d":
            case "DDD":
            case "w":
            case "W":
              return (a % 10 !== 2 && a % 10 !== 3) ||
                a % 100 === 12 ||
                a % 100 === 13
                ? a + "-"
                : a + "-";
            case "D":
              return a + "-";
            default:
              return a;
          }
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("bg", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort: "___________".split(
          "_"
        ),
        weekdays:
          "______".split("_"),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "D.MM.YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          nextWeek: "dddd [] LT",
          lastDay: "[ ] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 0:
              case 3:
              case 6:
                return "[ ] dddd [] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[ ] dddd [] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: " %s",
          s: " ",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        ordinal: function (a) {
          var b = a % 10,
            c = a % 100;
          return 0 === a
            ? a + "-"
            : 0 === c
            ? a + "-"
            : c > 10 && 20 > c
            ? a + "-"
            : 1 === b
            ? a + "-"
            : 2 === b
            ? a + "-"
            : 7 === b || 8 === b
            ? a + "-"
            : a + "-";
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("bn", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split("_"),
        weekdays:
          "______".split(
            "_"
          ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "A h:mm ",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY, LT",
          LLLL: "dddd, D MMMM YYYY, LT",
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          nextWeek: "dddd, LT",
          lastDay: "[] LT",
          lastWeek: "[] dddd, LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ",
          past: "%s ",
          s: " ",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        preparse: function (a) {
          return a.replace(/[]/g, function (a) {
            return c[a];
          });
        },
        postformat: function (a) {
          return a.replace(/\d/g, function (a) {
            return b[a];
          });
        },
        meridiem: function (a) {
          return 4 > a
            ? ""
            : 10 > a
            ? ""
            : 17 > a
            ? ""
            : 20 > a
            ? ""
            : "";
        },
        week: { dow: 0, doy: 6 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("bo", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays:
          "______".split(
            "_"
          ),
        weekdaysShort:
          "______".split("_"),
        weekdaysMin: "______".split(
          "_"
        ),
        longDateFormat: {
          LT: "A h:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY, LT",
          LLLL: "dddd, D MMMM YYYY, LT",
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          nextWeek: "[], LT",
          lastDay: "[] LT",
          lastWeek: "[] dddd, LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ",
          past: "%s ",
          s: "",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        preparse: function (a) {
          return a.replace(/[]/g, function (a) {
            return c[a];
          });
        },
        postformat: function (a) {
          return a.replace(/\d/g, function (a) {
            return b[a];
          });
        },
        meridiem: function (a) {
          return 4 > a
            ? ""
            : 10 > a
            ? ""
            : 17 > a
            ? ""
            : 20 > a
            ? ""
            : "";
        },
        week: { dow: 0, doy: 6 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (b) {
      function c(a, b, c) {
        var d = { mm: "munutenn", MM: "miz", dd: "devezh" };
        return a + " " + f(d[c], a);
      }
      function d(a) {
        switch (e(a)) {
          case 1:
          case 3:
          case 4:
          case 5:
          case 9:
            return a + " bloaz";
          default:
            return a + " vloaz";
        }
      }
      function e(a) {
        return a > 9 ? e(a % 10) : a;
      }
      function f(a, b) {
        return 2 === b ? g(a) : a;
      }
      function g(b) {
        var c = { m: "v", b: "v", d: "z" };
        return c[b.charAt(0)] === a ? b : c[b.charAt(0)] + b.substring(1);
      }
      return b.defineLocale("br", {
        months:
          "Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split(
            "_"
          ),
        monthsShort: "Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split(
          "_"
        ),
        weekdays: "Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),
        weekdaysShort: "Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),
        weekdaysMin: "Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),
        longDateFormat: {
          LT: "h[e]mm A",
          L: "DD/MM/YYYY",
          LL: "D [a viz] MMMM YYYY",
          LLL: "D [a viz] MMMM YYYY LT",
          LLLL: "dddd, D [a viz] MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Hiziv da] LT",
          nextDay: "[Warc'hoazh da] LT",
          nextWeek: "dddd [da] LT",
          lastDay: "[Dec'h da] LT",
          lastWeek: "dddd [paset da] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "a-benn %s",
          past: "%s 'zo",
          s: "un nebeud segondenno",
          m: "ur vunutenn",
          mm: c,
          h: "un eur",
          hh: "%d eur",
          d: "un devezh",
          dd: c,
          M: "ur miz",
          MM: c,
          y: "ur bloaz",
          yy: d,
        },
        ordinal: function (a) {
          var b = 1 === a ? "a" : "vet";
          return a + b;
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c) {
        var d = a + " ";
        switch (c) {
          case "m":
            return b ? "jedna minuta" : "jedne minute";
          case "mm":
            return (d +=
              1 === a
                ? "minuta"
                : 2 === a || 3 === a || 4 === a
                ? "minute"
                : "minuta");
          case "h":
            return b ? "jedan sat" : "jednog sata";
          case "hh":
            return (d +=
              1 === a
                ? "sat"
                : 2 === a || 3 === a || 4 === a
                ? "sata"
                : "sati");
          case "dd":
            return (d += 1 === a ? "dan" : "dana");
          case "MM":
            return (d +=
              1 === a
                ? "mjesec"
                : 2 === a || 3 === a || 4 === a
                ? "mjeseca"
                : "mjeseci");
          case "yy":
            return (d +=
              1 === a
                ? "godina"
                : 2 === a || 3 === a || 4 === a
                ? "godine"
                : "godina");
        }
      }
      return a.defineLocale("bs", {
        months:
          "januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split(
            "_"
          ),
        monthsShort:
          "jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split(
            "_"
          ),
        weekdays:
          "nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split(
            "_"
          ),
        weekdaysShort: "ned._pon._uto._sri._et._pet._sub.".split("_"),
        weekdaysMin: "ne_po_ut_sr_e_pe_su".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD. MM. YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[danas u] LT",
          nextDay: "[sutra u] LT",
          nextWeek: function () {
            switch (this.day()) {
              case 0:
                return "[u] [nedjelju] [u] LT";
              case 3:
                return "[u] [srijedu] [u] LT";
              case 6:
                return "[u] [subotu] [u] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[u] dddd [u] LT";
            }
          },
          lastDay: "[juer u] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 0:
              case 3:
                return "[prolu] dddd [u] LT";
              case 6:
                return "[prole] [subote] [u] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[proli] dddd [u] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "za %s",
          past: "prije %s",
          s: "par sekundi",
          m: b,
          mm: b,
          h: b,
          hh: b,
          d: "dan",
          dd: b,
          M: "mjesec",
          MM: b,
          y: "godinu",
          yy: b,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("ca", {
        months:
          "gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split(
            "_"
          ),
        monthsShort:
          "gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split(
            "_"
          ),
        weekdays:
          "diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split(
            "_"
          ),
        weekdaysShort: "dg._dl._dt._dc._dj._dv._ds.".split("_"),
        weekdaysMin: "Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: function () {
            return "[avui a " + (1 !== this.hours() ? "les" : "la") + "] LT";
          },
          nextDay: function () {
            return "[dem a " + (1 !== this.hours() ? "les" : "la") + "] LT";
          },
          nextWeek: function () {
            return "dddd [a " + (1 !== this.hours() ? "les" : "la") + "] LT";
          },
          lastDay: function () {
            return "[ahir a " + (1 !== this.hours() ? "les" : "la") + "] LT";
          },
          lastWeek: function () {
            return (
              "[el] dddd [passat a " +
              (1 !== this.hours() ? "les" : "la") +
              "] LT"
            );
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "en %s",
          past: "fa %s",
          s: "uns segons",
          m: "un minut",
          mm: "%d minuts",
          h: "una hora",
          hh: "%d hores",
          d: "un dia",
          dd: "%d dies",
          M: "un mes",
          MM: "%d mesos",
          y: "un any",
          yy: "%d anys",
        },
        ordinal: "%d",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a) {
        return a > 1 && 5 > a && 1 !== ~~(a / 10);
      }
      function c(a, c, d, e) {
        var f = a + " ";
        switch (d) {
          case "s":
            return c || e ? "pr sekund" : "pr sekundami";
          case "m":
            return c ? "minuta" : e ? "minutu" : "minutou";
          case "mm":
            return c || e ? f + (b(a) ? "minuty" : "minut") : f + "minutami";
            break;
          case "h":
            return c ? "hodina" : e ? "hodinu" : "hodinou";
          case "hh":
            return c || e ? f + (b(a) ? "hodiny" : "hodin") : f + "hodinami";
            break;
          case "d":
            return c || e ? "den" : "dnem";
          case "dd":
            return c || e ? f + (b(a) ? "dny" : "dn") : f + "dny";
            break;
          case "M":
            return c || e ? "msc" : "mscem";
          case "MM":
            return c || e ? f + (b(a) ? "msce" : "msc") : f + "msci";
            break;
          case "y":
            return c || e ? "rok" : "rokem";
          case "yy":
            return c || e ? f + (b(a) ? "roky" : "let") : f + "lety";
        }
      }
      var d =
          "leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split(
            "_"
          ),
        e = "led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");
      return a.defineLocale("cs", {
        months: d,
        monthsShort: e,
        monthsParse: (function (a, b) {
          var c,
            d = [];
          for (c = 0; 12 > c; c++)
            d[c] = new RegExp("^" + a[c] + "$|^" + b[c] + "$", "i");
          return d;
        })(d, e),
        weekdays: "nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),
        weekdaysShort: "ne_po_t_st_t_p_so".split("_"),
        weekdaysMin: "ne_po_t_st_t_p_so".split("_"),
        longDateFormat: {
          LT: "H.mm",
          L: "DD.MM.YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[dnes v] LT",
          nextDay: "[ztra v] LT",
          nextWeek: function () {
            switch (this.day()) {
              case 0:
                return "[v nedli v] LT";
              case 1:
              case 2:
                return "[v] dddd [v] LT";
              case 3:
                return "[ve stedu v] LT";
              case 4:
                return "[ve tvrtek v] LT";
              case 5:
                return "[v ptek v] LT";
              case 6:
                return "[v sobotu v] LT";
            }
          },
          lastDay: "[vera v] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 0:
                return "[minulou nedli v] LT";
              case 1:
              case 2:
                return "[minul] dddd [v] LT";
              case 3:
                return "[minulou stedu v] LT";
              case 4:
              case 5:
                return "[minul] dddd [v] LT";
              case 6:
                return "[minulou sobotu v] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "za %s",
          past: "ped %s",
          s: c,
          m: c,
          mm: c,
          h: c,
          hh: c,
          d: c,
          dd: c,
          M: c,
          MM: c,
          y: c,
          yy: c,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("cv", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort: "___________".split(
          "_"
        ),
        weekdays:
          "______".split(
            "_"
          ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD-MM-YYYY",
          LL: "YYYY [] MMMM [] D[-]",
          LLL: "YYYY [] MMMM [] D[-], LT",
          LLLL: "dddd, YYYY [] MMMM [] D[-], LT",
        },
        calendar: {
          sameDay: "[] LT []",
          nextDay: "[] LT []",
          lastDay: "[] LT []",
          nextWeek: "[] dddd LT []",
          lastWeek: "[] dddd LT []",
          sameElse: "L",
        },
        relativeTime: {
          future: function (a) {
            var b = /$/i.exec(a) ? "" : /$/i.exec(a) ? "" : "";
            return a + b;
          },
          past: "%s ",
          s: "- ",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        ordinal: "%d-",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("cy", {
        months:
          "Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split(
            "_"
          ),
        monthsShort: "Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split(
          "_"
        ),
        weekdays:
          "Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split(
            "_"
          ),
        weekdaysShort: "Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),
        weekdaysMin: "Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Heddiw am] LT",
          nextDay: "[Yfory am] LT",
          nextWeek: "dddd [am] LT",
          lastDay: "[Ddoe am] LT",
          lastWeek: "dddd [diwethaf am] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "mewn %s",
          past: "%s yn l",
          s: "ychydig eiliadau",
          m: "munud",
          mm: "%d munud",
          h: "awr",
          hh: "%d awr",
          d: "diwrnod",
          dd: "%d diwrnod",
          M: "mis",
          MM: "%d mis",
          y: "blwyddyn",
          yy: "%d flynedd",
        },
        ordinal: function (a) {
          var b = a,
            c = "",
            d = [
              "",
              "af",
              "il",
              "ydd",
              "ydd",
              "ed",
              "ed",
              "ed",
              "fed",
              "fed",
              "fed",
              "eg",
              "fed",
              "eg",
              "eg",
              "fed",
              "eg",
              "eg",
              "fed",
              "eg",
              "fed",
            ];
          return (
            b > 20
              ? (c =
                  40 === b || 50 === b || 60 === b || 80 === b || 100 === b
                    ? "fed"
                    : "ain")
              : b > 0 && (c = d[b]),
            a + c
          );
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("da", {
        months:
          "januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split(
            "_"
          ),
        monthsShort: "jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split(
          "_"
        ),
        weekdays: "sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split(
          "_"
        ),
        weekdaysShort: "sn_man_tir_ons_tor_fre_lr".split("_"),
        weekdaysMin: "s_ma_ti_on_to_fr_l".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd [d.] D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[I dag kl.] LT",
          nextDay: "[I morgen kl.] LT",
          nextWeek: "dddd [kl.] LT",
          lastDay: "[I gr kl.] LT",
          lastWeek: "[sidste] dddd [kl] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "om %s",
          past: "%s siden",
          s: "f sekunder",
          m: "et minut",
          mm: "%d minutter",
          h: "en time",
          hh: "%d timer",
          d: "en dag",
          dd: "%d dage",
          M: "en mned",
          MM: "%d mneder",
          y: "et r",
          yy: "%d r",
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c) {
        var d = {
          m: ["eine Minute", "einer Minute"],
          h: ["eine Stunde", "einer Stunde"],
          d: ["ein Tag", "einem Tag"],
          dd: [a + " Tage", a + " Tagen"],
          M: ["ein Monat", "einem Monat"],
          MM: [a + " Monate", a + " Monaten"],
          y: ["ein Jahr", "einem Jahr"],
          yy: [a + " Jahre", a + " Jahren"],
        };
        return b ? d[c][0] : d[c][1];
      }
      return a.defineLocale("de-at", {
        months:
          "Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split(
            "_"
          ),
        monthsShort:
          "Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split(
            "_"
          ),
        weekdays:
          "Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split(
            "_"
          ),
        weekdaysShort: "So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),
        weekdaysMin: "So_Mo_Di_Mi_Do_Fr_Sa".split("_"),
        longDateFormat: {
          LT: "HH:mm [Uhr]",
          L: "DD.MM.YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Heute um] LT",
          sameElse: "L",
          nextDay: "[Morgen um] LT",
          nextWeek: "dddd [um] LT",
          lastDay: "[Gestern um] LT",
          lastWeek: "[letzten] dddd [um] LT",
        },
        relativeTime: {
          future: "in %s",
          past: "vor %s",
          s: "ein paar Sekunden",
          m: b,
          mm: "%d Minuten",
          h: b,
          hh: "%d Stunden",
          d: b,
          dd: b,
          M: b,
          MM: b,
          y: b,
          yy: b,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c) {
        var d = {
          m: ["eine Minute", "einer Minute"],
          h: ["eine Stunde", "einer Stunde"],
          d: ["ein Tag", "einem Tag"],
          dd: [a + " Tage", a + " Tagen"],
          M: ["ein Monat", "einem Monat"],
          MM: [a + " Monate", a + " Monaten"],
          y: ["ein Jahr", "einem Jahr"],
          yy: [a + " Jahre", a + " Jahren"],
        };
        return b ? d[c][0] : d[c][1];
      }
      return a.defineLocale("de", {
        months:
          "Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split(
            "_"
          ),
        monthsShort:
          "Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split(
            "_"
          ),
        weekdays:
          "Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split(
            "_"
          ),
        weekdaysShort: "So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),
        weekdaysMin: "So_Mo_Di_Mi_Do_Fr_Sa".split("_"),
        longDateFormat: {
          LT: "HH:mm [Uhr]",
          L: "DD.MM.YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Heute um] LT",
          sameElse: "L",
          nextDay: "[Morgen um] LT",
          nextWeek: "dddd [um] LT",
          lastDay: "[Gestern um] LT",
          lastWeek: "[letzten] dddd [um] LT",
        },
        relativeTime: {
          future: "in %s",
          past: "vor %s",
          s: "ein paar Sekunden",
          m: b,
          mm: "%d Minuten",
          h: b,
          hh: "%d Stunden",
          d: b,
          dd: b,
          M: b,
          MM: b,
          y: b,
          yy: b,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("el", {
        monthsNominativeEl:
          "___________".split(
            "_"
          ),
        monthsGenitiveEl:
          "___________".split(
            "_"
          ),
        months: function (a, b) {
          return /D/.test(b.substring(0, b.indexOf("MMMM")))
            ? this._monthsGenitiveEl[a.month()]
            : this._monthsNominativeEl[a.month()];
        },
        monthsShort: "___________".split(
          "_"
        ),
        weekdays:
          "______".split("_"),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        meridiem: function (a, b, c) {
          return a > 11 ? (c ? "" : "") : c ? "" : "";
        },
        longDateFormat: {
          LT: "h:mm A",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendarEl: {
          sameDay: "[ {}] LT",
          nextDay: "[ {}] LT",
          nextWeek: "dddd [{}] LT",
          lastDay: "[ {}] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 6:
                return "[ ] dddd [{}] LT";
              default:
                return "[ ] dddd [{}] LT";
            }
          },
          sameElse: "L",
        },
        calendar: function (a, b) {
          var c = this._calendarEl[a],
            d = b && b.hours();
          return (
            "function" == typeof c && (c = c.apply(b)),
            c.replace("{}", d % 12 === 1 ? "" : "")
          );
        },
        relativeTime: {
          future: " %s",
          past: "%s ",
          s: "",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        ordinal: function (a) {
          return a + "";
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("en-au", {
        months:
          "January_February_March_April_May_June_July_August_September_October_November_December".split(
            "_"
          ),
        monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split(
          "_"
        ),
        weekdays:
          "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        longDateFormat: {
          LT: "h:mm A",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Today at] LT",
          nextDay: "[Tomorrow at] LT",
          nextWeek: "dddd [at] LT",
          lastDay: "[Yesterday at] LT",
          lastWeek: "[Last] dddd [at] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "in %s",
          past: "%s ago",
          s: "a few seconds",
          m: "a minute",
          mm: "%d minutes",
          h: "an hour",
          hh: "%d hours",
          d: "a day",
          dd: "%d days",
          M: "a month",
          MM: "%d months",
          y: "a year",
          yy: "%d years",
        },
        ordinal: function (a) {
          var b = a % 10,
            c =
              1 === ~~((a % 100) / 10)
                ? "th"
                : 1 === b
                ? "st"
                : 2 === b
                ? "nd"
                : 3 === b
                ? "rd"
                : "th";
          return a + c;
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("en-ca", {
        months:
          "January_February_March_April_May_June_July_August_September_October_November_December".split(
            "_"
          ),
        monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split(
          "_"
        ),
        weekdays:
          "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        longDateFormat: {
          LT: "h:mm A",
          L: "YYYY-MM-DD",
          LL: "D MMMM, YYYY",
          LLL: "D MMMM, YYYY LT",
          LLLL: "dddd, D MMMM, YYYY LT",
        },
        calendar: {
          sameDay: "[Today at] LT",
          nextDay: "[Tomorrow at] LT",
          nextWeek: "dddd [at] LT",
          lastDay: "[Yesterday at] LT",
          lastWeek: "[Last] dddd [at] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "in %s",
          past: "%s ago",
          s: "a few seconds",
          m: "a minute",
          mm: "%d minutes",
          h: "an hour",
          hh: "%d hours",
          d: "a day",
          dd: "%d days",
          M: "a month",
          MM: "%d months",
          y: "a year",
          yy: "%d years",
        },
        ordinal: function (a) {
          var b = a % 10,
            c =
              1 === ~~((a % 100) / 10)
                ? "th"
                : 1 === b
                ? "st"
                : 2 === b
                ? "nd"
                : 3 === b
                ? "rd"
                : "th";
          return a + c;
        },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("en-gb", {
        months:
          "January_February_March_April_May_June_July_August_September_October_November_December".split(
            "_"
          ),
        monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split(
          "_"
        ),
        weekdays:
          "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Today at] LT",
          nextDay: "[Tomorrow at] LT",
          nextWeek: "dddd [at] LT",
          lastDay: "[Yesterday at] LT",
          lastWeek: "[Last] dddd [at] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "in %s",
          past: "%s ago",
          s: "a few seconds",
          m: "a minute",
          mm: "%d minutes",
          h: "an hour",
          hh: "%d hours",
          d: "a day",
          dd: "%d days",
          M: "a month",
          MM: "%d months",
          y: "a year",
          yy: "%d years",
        },
        ordinal: function (a) {
          var b = a % 10,
            c =
              1 === ~~((a % 100) / 10)
                ? "th"
                : 1 === b
                ? "st"
                : 2 === b
                ? "nd"
                : 3 === b
                ? "rd"
                : "th";
          return a + c;
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("eo", {
        months:
          "januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split(
            "_"
          ),
        monthsShort: "jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split(
          "_"
        ),
        weekdays: "Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split(
          "_"
        ),
        weekdaysShort: "Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),
        weekdaysMin: "Di_Lu_Ma_Me_a_Ve_Sa".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "YYYY-MM-DD",
          LL: "D[-an de] MMMM, YYYY",
          LLL: "D[-an de] MMMM, YYYY LT",
          LLLL: "dddd, [la] D[-an de] MMMM, YYYY LT",
        },
        meridiem: function (a, b, c) {
          return a > 11 ? (c ? "p.t.m." : "P.T.M.") : c ? "a.t.m." : "A.T.M.";
        },
        calendar: {
          sameDay: "[Hodia je] LT",
          nextDay: "[Morga je] LT",
          nextWeek: "dddd [je] LT",
          lastDay: "[Hiera je] LT",
          lastWeek: "[pasinta] dddd [je] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "je %s",
          past: "anta %s",
          s: "sekundoj",
          m: "minuto",
          mm: "%d minutoj",
          h: "horo",
          hh: "%d horoj",
          d: "tago",
          dd: "%d tagoj",
          M: "monato",
          MM: "%d monatoj",
          y: "jaro",
          yy: "%d jaroj",
        },
        ordinal: "%da",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b =
          "ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split(
            "_"
          ),
        c = "ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");
      return a.defineLocale("es", {
        months:
          "enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split(
            "_"
          ),
        monthsShort: function (a, d) {
          return /-MMM-/.test(d) ? c[a.month()] : b[a.month()];
        },
        weekdays: "domingo_lunes_martes_mircoles_jueves_viernes_sbado".split(
          "_"
        ),
        weekdaysShort: "dom._lun._mar._mi._jue._vie._sb.".split("_"),
        weekdaysMin: "Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD/MM/YYYY",
          LL: "D [de] MMMM [del] YYYY",
          LLL: "D [de] MMMM [del] YYYY LT",
          LLLL: "dddd, D [de] MMMM [del] YYYY LT",
        },
        calendar: {
          sameDay: function () {
            return "[hoy a la" + (1 !== this.hours() ? "s" : "") + "] LT";
          },
          nextDay: function () {
            return "[maana a la" + (1 !== this.hours() ? "s" : "") + "] LT";
          },
          nextWeek: function () {
            return "dddd [a la" + (1 !== this.hours() ? "s" : "") + "] LT";
          },
          lastDay: function () {
            return "[ayer a la" + (1 !== this.hours() ? "s" : "") + "] LT";
          },
          lastWeek: function () {
            return (
              "[el] dddd [pasado a la" +
              (1 !== this.hours() ? "s" : "") +
              "] LT"
            );
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "en %s",
          past: "hace %s",
          s: "unos segundos",
          m: "un minuto",
          mm: "%d minutos",
          h: "una hora",
          hh: "%d horas",
          d: "un da",
          dd: "%d das",
          M: "un mes",
          MM: "%d meses",
          y: "un ao",
          yy: "%d aos",
        },
        ordinal: "%d",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c, d) {
        var e = {
          s: ["mne sekundi", "mni sekund", "paar sekundit"],
          m: ["he minuti", "ks minut"],
          mm: [a + " minuti", a + " minutit"],
          h: ["he tunni", "tund aega", "ks tund"],
          hh: [a + " tunni", a + " tundi"],
          d: ["he peva", "ks pev"],
          M: ["kuu aja", "kuu aega", "ks kuu"],
          MM: [a + " kuu", a + " kuud"],
          y: ["he aasta", "aasta", "ks aasta"],
          yy: [a + " aasta", a + " aastat"],
        };
        return b ? (e[c][2] ? e[c][2] : e[c][1]) : d ? e[c][0] : e[c][1];
      }
      return a.defineLocale("et", {
        months:
          "jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split(
            "_"
          ),
        monthsShort:
          "jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split(
            "_"
          ),
        weekdays:
          "phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split(
            "_"
          ),
        weekdaysShort: "P_E_T_K_N_R_L".split("_"),
        weekdaysMin: "P_E_T_K_N_R_L".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD.MM.YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Tna,] LT",
          nextDay: "[Homme,] LT",
          nextWeek: "[Jrgmine] dddd LT",
          lastDay: "[Eile,] LT",
          lastWeek: "[Eelmine] dddd LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s prast",
          past: "%s tagasi",
          s: b,
          m: b,
          mm: b,
          h: b,
          hh: b,
          d: b,
          dd: "%d peva",
          M: b,
          MM: b,
          y: b,
          yy: b,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("eu", {
        months:
          "urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split(
            "_"
          ),
        monthsShort:
          "urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split(
            "_"
          ),
        weekdays:
          "igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split(
            "_"
          ),
        weekdaysShort: "ig._al._ar._az._og._ol._lr.".split("_"),
        weekdaysMin: "ig_al_ar_az_og_ol_lr".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "YYYY-MM-DD",
          LL: "YYYY[ko] MMMM[ren] D[a]",
          LLL: "YYYY[ko] MMMM[ren] D[a] LT",
          LLLL: "dddd, YYYY[ko] MMMM[ren] D[a] LT",
          l: "YYYY-M-D",
          ll: "YYYY[ko] MMM D[a]",
          lll: "YYYY[ko] MMM D[a] LT",
          llll: "ddd, YYYY[ko] MMM D[a] LT",
        },
        calendar: {
          sameDay: "[gaur] LT[etan]",
          nextDay: "[bihar] LT[etan]",
          nextWeek: "dddd LT[etan]",
          lastDay: "[atzo] LT[etan]",
          lastWeek: "[aurreko] dddd LT[etan]",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s barru",
          past: "duela %s",
          s: "segundo batzuk",
          m: "minutu bat",
          mm: "%d minutu",
          h: "ordu bat",
          hh: "%d ordu",
          d: "egun bat",
          dd: "%d egun",
          M: "hilabete bat",
          MM: "%d hilabete",
          y: "urte bat",
          yy: "%d urte",
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("fa", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort:
          "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        meridiem: function (a) {
          return 12 > a ? "  " : "  ";
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          nextWeek: "dddd [] LT",
          lastDay: "[ ] LT",
          lastWeek: "dddd [] [] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: "%s ",
          s: " ",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        preparse: function (a) {
          return a
            .replace(/[-]/g, function (a) {
              return c[a];
            })
            .replace(//g, ",");
        },
        postformat: function (a) {
          return a
            .replace(/\d/g, function (a) {
              return b[a];
            })
            .replace(/,/g, "");
        },
        ordinal: "%d",
        week: { dow: 6, doy: 12 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, d, e) {
        var f = "";
        switch (d) {
          case "s":
            return e ? "muutaman sekunnin" : "muutama sekunti";
          case "m":
            return e ? "minuutin" : "minuutti";
          case "mm":
            f = e ? "minuutin" : "minuuttia";
            break;
          case "h":
            return e ? "tunnin" : "tunti";
          case "hh":
            f = e ? "tunnin" : "tuntia";
            break;
          case "d":
            return e ? "pivn" : "piv";
          case "dd":
            f = e ? "pivn" : "piv";
            break;
          case "M":
            return e ? "kuukauden" : "kuukausi";
          case "MM":
            f = e ? "kuukauden" : "kuukautta";
            break;
          case "y":
            return e ? "vuoden" : "vuosi";
          case "yy":
            f = e ? "vuoden" : "vuotta";
        }
        return (f = c(a, e) + " " + f);
      }
      function c(a, b) {
        return 10 > a ? (b ? e[a] : d[a]) : a;
      }
      var d =
          "nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(
            " "
          ),
        e = [
          "nolla",
          "yhden",
          "kahden",
          "kolmen",
          "neljn",
          "viiden",
          "kuuden",
          d[7],
          d[8],
          d[9],
        ];
      return a.defineLocale("fi", {
        months:
          "tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split(
            "_"
          ),
        monthsShort:
          "tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split(
            "_"
          ),
        weekdays:
          "sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split(
            "_"
          ),
        weekdaysShort: "su_ma_ti_ke_to_pe_la".split("_"),
        weekdaysMin: "su_ma_ti_ke_to_pe_la".split("_"),
        longDateFormat: {
          LT: "HH.mm",
          L: "DD.MM.YYYY",
          LL: "Do MMMM[ta] YYYY",
          LLL: "Do MMMM[ta] YYYY, [klo] LT",
          LLLL: "dddd, Do MMMM[ta] YYYY, [klo] LT",
          l: "D.M.YYYY",
          ll: "Do MMM YYYY",
          lll: "Do MMM YYYY, [klo] LT",
          llll: "ddd, Do MMM YYYY, [klo] LT",
        },
        calendar: {
          sameDay: "[tnn] [klo] LT",
          nextDay: "[huomenna] [klo] LT",
          nextWeek: "dddd [klo] LT",
          lastDay: "[eilen] [klo] LT",
          lastWeek: "[viime] dddd[na] [klo] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s pst",
          past: "%s sitten",
          s: b,
          m: b,
          mm: b,
          h: b,
          hh: b,
          d: b,
          dd: b,
          M: b,
          MM: b,
          y: b,
          yy: b,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("fo", {
        months:
          "januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split(
            "_"
          ),
        monthsShort: "jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split(
          "_"
        ),
        weekdays:
          "sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split(
            "_"
          ),
        weekdaysShort: "sun_mn_ts_mik_hs_fr_ley".split("_"),
        weekdaysMin: "su_m_t_mi_h_fr_le".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D. MMMM, YYYY LT",
        },
        calendar: {
          sameDay: "[ dag kl.] LT",
          nextDay: "[ morgin kl.] LT",
          nextWeek: "dddd [kl.] LT",
          lastDay: "[ gjr kl.] LT",
          lastWeek: "[sstu] dddd [kl] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "um %s",
          past: "%s sani",
          s: "f sekund",
          m: "ein minutt",
          mm: "%d minuttir",
          h: "ein tmi",
          hh: "%d tmar",
          d: "ein dagur",
          dd: "%d dagar",
          M: "ein mnai",
          MM: "%d mnair",
          y: "eitt r",
          yy: "%d r",
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("fr-ca", {
        months:
          "janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split(
            "_"
          ),
        monthsShort:
          "janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split(
            "_"
          ),
        weekdays: "dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split(
          "_"
        ),
        weekdaysShort: "dim._lun._mar._mer._jeu._ven._sam.".split("_"),
        weekdaysMin: "Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "YYYY-MM-DD",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Aujourd'hui ] LT",
          nextDay: "[Demain ] LT",
          nextWeek: "dddd [] LT",
          lastDay: "[Hier ] LT",
          lastWeek: "dddd [dernier ] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "dans %s",
          past: "il y a %s",
          s: "quelques secondes",
          m: "une minute",
          mm: "%d minutes",
          h: "une heure",
          hh: "%d heures",
          d: "un jour",
          dd: "%d jours",
          M: "un mois",
          MM: "%d mois",
          y: "un an",
          yy: "%d ans",
        },
        ordinal: function (a) {
          return a + (1 === a ? "er" : "");
        },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("fr", {
        months:
          "janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split(
            "_"
          ),
        monthsShort:
          "janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split(
            "_"
          ),
        weekdays: "dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split(
          "_"
        ),
        weekdaysShort: "dim._lun._mar._mer._jeu._ven._sam.".split("_"),
        weekdaysMin: "Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Aujourd'hui ] LT",
          nextDay: "[Demain ] LT",
          nextWeek: "dddd [] LT",
          lastDay: "[Hier ] LT",
          lastWeek: "dddd [dernier ] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "dans %s",
          past: "il y a %s",
          s: "quelques secondes",
          m: "une minute",
          mm: "%d minutes",
          h: "une heure",
          hh: "%d heures",
          d: "un jour",
          dd: "%d jours",
          M: "un mois",
          MM: "%d mois",
          y: "un an",
          yy: "%d ans",
        },
        ordinal: function (a) {
          return a + (1 === a ? "er" : "");
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("gl", {
        months:
          "Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split(
            "_"
          ),
        monthsShort:
          "Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split(
            "_"
          ),
        weekdays: "Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),
        weekdaysShort: "Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),
        weekdaysMin: "Do_Lu_Ma_M_Xo_Ve_S".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: function () {
            return "[hoxe " + (1 !== this.hours() ? "s" : "") + "] LT";
          },
          nextDay: function () {
            return "[ma " + (1 !== this.hours() ? "s" : "") + "] LT";
          },
          nextWeek: function () {
            return "dddd [" + (1 !== this.hours() ? "s" : "a") + "] LT";
          },
          lastDay: function () {
            return "[onte " + (1 !== this.hours() ? "" : "a") + "] LT";
          },
          lastWeek: function () {
            return (
              "[o] dddd [pasado " + (1 !== this.hours() ? "s" : "a") + "] LT"
            );
          },
          sameElse: "L",
        },
        relativeTime: {
          future: function (a) {
            return "uns segundos" === a ? "nuns segundos" : "en " + a;
          },
          past: "hai %s",
          s: "uns segundos",
          m: "un minuto",
          mm: "%d minutos",
          h: "unha hora",
          hh: "%d horas",
          d: "un da",
          dd: "%d das",
          M: "un mes",
          MM: "%d meses",
          y: "un ano",
          yy: "%d anos",
        },
        ordinal: "%d",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("he", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays: "______".split("_"),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D []MMMM YYYY",
          LLL: "D []MMMM YYYY LT",
          LLLL: "dddd, D []MMMM YYYY LT",
          l: "D/M/YYYY",
          ll: "D MMM YYYY",
          lll: "D MMM YYYY LT",
          llll: "ddd, D MMM YYYY LT",
        },
        calendar: {
          sameDay: "[ ]LT",
          nextDay: "[ ]LT",
          nextWeek: "dddd [] LT",
          lastDay: "[ ]LT",
          lastWeek: "[] dddd [ ] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: " %s",
          s: " ",
          m: "",
          mm: "%d ",
          h: "",
          hh: function (a) {
            return 2 === a ? "" : a + " ";
          },
          d: "",
          dd: function (a) {
            return 2 === a ? "" : a + " ";
          },
          M: "",
          MM: function (a) {
            return 2 === a ? "" : a + " ";
          },
          y: "",
          yy: function (a) {
            return 2 === a ? "" : a + " ";
          },
        },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("hi", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "._.__.___._._._._._.".split(
            "_"
          ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "A h:mm ",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY, LT",
          LLLL: "dddd, D MMMM YYYY, LT",
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          nextWeek: "dddd, LT",
          lastDay: "[] LT",
          lastWeek: "[] dddd, LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ",
          past: "%s ",
          s: "  ",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        preparse: function (a) {
          return a.replace(/[]/g, function (a) {
            return c[a];
          });
        },
        postformat: function (a) {
          return a.replace(/\d/g, function (a) {
            return b[a];
          });
        },
        meridiem: function (a) {
          return 4 > a
            ? ""
            : 10 > a
            ? ""
            : 17 > a
            ? ""
            : 20 > a
            ? ""
            : "";
        },
        week: { dow: 0, doy: 6 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c) {
        var d = a + " ";
        switch (c) {
          case "m":
            return b ? "jedna minuta" : "jedne minute";
          case "mm":
            return (d +=
              1 === a
                ? "minuta"
                : 2 === a || 3 === a || 4 === a
                ? "minute"
                : "minuta");
          case "h":
            return b ? "jedan sat" : "jednog sata";
          case "hh":
            return (d +=
              1 === a
                ? "sat"
                : 2 === a || 3 === a || 4 === a
                ? "sata"
                : "sati");
          case "dd":
            return (d += 1 === a ? "dan" : "dana");
          case "MM":
            return (d +=
              1 === a
                ? "mjesec"
                : 2 === a || 3 === a || 4 === a
                ? "mjeseca"
                : "mjeseci");
          case "yy":
            return (d +=
              1 === a
                ? "godina"
                : 2 === a || 3 === a || 4 === a
                ? "godine"
                : "godina");
        }
      }
      return a.defineLocale("hr", {
        months:
          "sjeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split(
            "_"
          ),
        monthsShort:
          "sje._vel._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split(
            "_"
          ),
        weekdays:
          "nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split(
            "_"
          ),
        weekdaysShort: "ned._pon._uto._sri._et._pet._sub.".split("_"),
        weekdaysMin: "ne_po_ut_sr_e_pe_su".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD. MM. YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[danas u] LT",
          nextDay: "[sutra u] LT",
          nextWeek: function () {
            switch (this.day()) {
              case 0:
                return "[u] [nedjelju] [u] LT";
              case 3:
                return "[u] [srijedu] [u] LT";
              case 6:
                return "[u] [subotu] [u] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[u] dddd [u] LT";
            }
          },
          lastDay: "[juer u] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 0:
              case 3:
                return "[prolu] dddd [u] LT";
              case 6:
                return "[prole] [subote] [u] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[proli] dddd [u] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "za %s",
          past: "prije %s",
          s: "par sekundi",
          m: b,
          mm: b,
          h: b,
          hh: b,
          d: "dan",
          dd: b,
          M: "mjesec",
          MM: b,
          y: "godinu",
          yy: b,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c, d) {
        var e = a;
        switch (c) {
          case "s":
            return d || b ? "nhny msodperc" : "nhny msodperce";
          case "m":
            return "egy" + (d || b ? " perc" : " perce");
          case "mm":
            return e + (d || b ? " perc" : " perce");
          case "h":
            return "egy" + (d || b ? " ra" : " rja");
          case "hh":
            return e + (d || b ? " ra" : " rja");
          case "d":
            return "egy" + (d || b ? " nap" : " napja");
          case "dd":
            return e + (d || b ? " nap" : " napja");
          case "M":
            return "egy" + (d || b ? " hnap" : " hnapja");
          case "MM":
            return e + (d || b ? " hnap" : " hnapja");
          case "y":
            return "egy" + (d || b ? " v" : " ve");
          case "yy":
            return e + (d || b ? " v" : " ve");
        }
        return "";
      }
      function c(a) {
        return (a ? "" : "[mlt] ") + "[" + d[this.day()] + "] LT[-kor]";
      }
      var d =
        "vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(
          " "
        );
      return a.defineLocale("hu", {
        months:
          "janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split(
            "_"
          ),
        monthsShort: "jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split(
          "_"
        ),
        weekdays: "vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split(
          "_"
        ),
        weekdaysShort: "vas_ht_kedd_sze_cst_pn_szo".split("_"),
        weekdaysMin: "v_h_k_sze_cs_p_szo".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "YYYY.MM.DD.",
          LL: "YYYY. MMMM D.",
          LLL: "YYYY. MMMM D., LT",
          LLLL: "YYYY. MMMM D., dddd LT",
        },
        meridiem: function (a, b, c) {
          return 12 > a ? (c === !0 ? "de" : "DE") : c === !0 ? "du" : "DU";
        },
        calendar: {
          sameDay: "[ma] LT[-kor]",
          nextDay: "[holnap] LT[-kor]",
          nextWeek: function () {
            return c.call(this, !0);
          },
          lastDay: "[tegnap] LT[-kor]",
          lastWeek: function () {
            return c.call(this, !1);
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "%s mlva",
          past: "%s",
          s: b,
          m: b,
          mm: b,
          h: b,
          hh: b,
          d: b,
          dd: b,
          M: b,
          MM: b,
          y: b,
          yy: b,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b) {
        var c = {
            nominative:
              "___________".split(
                "_"
              ),
            accusative:
              "___________".split(
                "_"
              ),
          },
          d = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)
            ? "accusative"
            : "nominative";
        return c[d][a.month()];
      }
      function c(a) {
        var b = "___________".split("_");
        return b[a.month()];
      }
      function d(a) {
        var b =
          "______".split(
            "_"
          );
        return b[a.day()];
      }
      return a.defineLocale("hy-am", {
        months: b,
        monthsShort: c,
        weekdays: d,
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY .",
          LLL: "D MMMM YYYY ., LT",
          LLLL: "dddd, D MMMM YYYY ., LT",
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          lastDay: "[] LT",
          nextWeek: function () {
            return "dddd [ ] LT";
          },
          lastWeek: function () {
            return "[] dddd [ ] LT";
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ",
          past: "%s ",
          s: "  ",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        meridiem: function (a) {
          return 4 > a
            ? ""
            : 12 > a
            ? ""
            : 17 > a
            ? ""
            : "";
        },
        ordinal: function (a, b) {
          switch (b) {
            case "DDD":
            case "w":
            case "W":
            case "DDDo":
              return 1 === a ? a + "-" : a + "-";
            default:
              return a;
          }
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("id", {
        months:
          "Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split(
            "_"
          ),
        monthsShort: "Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split(
          "_"
        ),
        weekdays: "Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),
        weekdaysShort: "Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),
        weekdaysMin: "Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),
        longDateFormat: {
          LT: "HH.mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY [pukul] LT",
          LLLL: "dddd, D MMMM YYYY [pukul] LT",
        },
        meridiem: function (a) {
          return 11 > a ? "pagi" : 15 > a ? "siang" : 19 > a ? "sore" : "malam";
        },
        calendar: {
          sameDay: "[Hari ini pukul] LT",
          nextDay: "[Besok pukul] LT",
          nextWeek: "dddd [pukul] LT",
          lastDay: "[Kemarin pukul] LT",
          lastWeek: "dddd [lalu pukul] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "dalam %s",
          past: "%s yang lalu",
          s: "beberapa detik",
          m: "semenit",
          mm: "%d menit",
          h: "sejam",
          hh: "%d jam",
          d: "sehari",
          dd: "%d hari",
          M: "sebulan",
          MM: "%d bulan",
          y: "setahun",
          yy: "%d tahun",
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a) {
        return a % 100 === 11 ? !0 : a % 10 === 1 ? !1 : !0;
      }
      function c(a, c, d, e) {
        var f = a + " ";
        switch (d) {
          case "s":
            return c || e ? "nokkrar sekndur" : "nokkrum sekndum";
          case "m":
            return c ? "mnta" : "mntu";
          case "mm":
            return b(a)
              ? f + (c || e ? "mntur" : "mntum")
              : c
              ? f + "mnta"
              : f + "mntu";
          case "hh":
            return b(a)
              ? f + (c || e ? "klukkustundir" : "klukkustundum")
              : f + "klukkustund";
          case "d":
            return c ? "dagur" : e ? "dag" : "degi";
          case "dd":
            return b(a)
              ? c
                ? f + "dagar"
                : f + (e ? "daga" : "dgum")
              : c
              ? f + "dagur"
              : f + (e ? "dag" : "degi");
          case "M":
            return c ? "mnuur" : e ? "mnu" : "mnui";
          case "MM":
            return b(a)
              ? c
                ? f + "mnuir"
                : f + (e ? "mnui" : "mnuum")
              : c
              ? f + "mnuur"
              : f + (e ? "mnu" : "mnui");
          case "y":
            return c || e ? "r" : "ri";
          case "yy":
            return b(a)
              ? f + (c || e ? "r" : "rum")
              : f + (c || e ? "r" : "ri");
        }
      }
      return a.defineLocale("is", {
        months:
          "janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split(
            "_"
          ),
        monthsShort: "jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split(
          "_"
        ),
        weekdays:
          "sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split(
            "_"
          ),
        weekdaysShort: "sun_mn_ri_mi_fim_fs_lau".split("_"),
        weekdaysMin: "Su_M_r_Mi_Fi_F_La".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD/MM/YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY [kl.] LT",
          LLLL: "dddd, D. MMMM YYYY [kl.] LT",
        },
        calendar: {
          sameDay: "[ dag kl.] LT",
          nextDay: "[ morgun kl.] LT",
          nextWeek: "dddd [kl.] LT",
          lastDay: "[ gr kl.] LT",
          lastWeek: "[sasta] dddd [kl.] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "eftir %s",
          past: "fyrir %s san",
          s: c,
          m: c,
          mm: c,
          h: "klukkustund",
          hh: c,
          d: c,
          dd: c,
          M: c,
          MM: c,
          y: c,
          yy: c,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("it", {
        months:
          "gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split(
            "_"
          ),
        monthsShort: "gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split(
          "_"
        ),
        weekdays:
          "Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),
        weekdaysShort: "Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),
        weekdaysMin: "D_L_Ma_Me_G_V_S".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Oggi alle] LT",
          nextDay: "[Domani alle] LT",
          nextWeek: "dddd [alle] LT",
          lastDay: "[Ieri alle] LT",
          lastWeek: "[lo scorso] dddd [alle] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: function (a) {
            return (/^[0-9].+$/.test(a) ? "tra" : "in") + " " + a;
          },
          past: "%s fa",
          s: "alcuni secondi",
          m: "un minuto",
          mm: "%d minuti",
          h: "un'ora",
          hh: "%d ore",
          d: "un giorno",
          dd: "%d giorni",
          M: "un mese",
          MM: "%d mesi",
          y: "un anno",
          yy: "%d anni",
        },
        ordinal: "%d",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("ja", {
        months: "1_2_3_4_5_6_7_8_9_10_11_12".split("_"),
        monthsShort: "1_2_3_4_5_6_7_8_9_10_11_12".split(
          "_"
        ),
        weekdays: "______".split("_"),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "Ahm",
          L: "YYYY/MM/DD",
          LL: "YYYYMD",
          LLL: "YYYYMDLT",
          LLLL: "YYYYMDLT dddd",
        },
        meridiem: function (a) {
          return 12 > a ? "" : "";
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          nextWeek: "[]dddd LT",
          lastDay: "[] LT",
          lastWeek: "[]dddd LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s",
          past: "%s",
          s: "",
          m: "1",
          mm: "%d",
          h: "1",
          hh: "%d",
          d: "1",
          dd: "%d",
          M: "1",
          MM: "%d",
          y: "1",
          yy: "%d",
        },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b) {
        var c = {
            nominative:
              "___________".split(
                "_"
              ),
            accusative:
              "___________".split(
                "_"
              ),
          },
          d = /D[oD] *MMMM?/.test(b) ? "accusative" : "nominative";
        return c[d][a.month()];
      }
      function c(a, b) {
        var c = {
            nominative:
              "______".split(
                "_"
              ),
            accusative:
              "______".split(
                "_"
              ),
          },
          d = /(|)/.test(b) ? "accusative" : "nominative";
        return c[d][a.day()];
      }
      return a.defineLocale("ka", {
        months: b,
        monthsShort: "___________".split(
          "_"
        ),
        weekdays: c,
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "h:mm A",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[] LT[-]",
          nextDay: "[] LT[-]",
          lastDay: "[] LT[-]",
          nextWeek: "[] dddd LT[-]",
          lastWeek: "[] dddd LT-",
          sameElse: "L",
        },
        relativeTime: {
          future: function (a) {
            return /(|||)/.test(a)
              ? a.replace(/$/, "")
              : a + "";
          },
          past: function (a) {
            return /(||||)/.test(a)
              ? a.replace(/(|)$/, " ")
              : //.test(a)
              ? a.replace(/$/, " ")
              : void 0;
          },
          s: " ",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        ordinal: function (a) {
          return 0 === a
            ? a
            : 1 === a
            ? a + "-"
            : 20 > a || (100 >= a && a % 20 === 0) || a % 100 === 0
            ? "-" + a
            : a + "-";
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("km", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays: "______".split("_"),
        weekdaysShort: "______".split(
          "_"
        ),
        weekdaysMin: "______".split(
          "_"
        ),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          nextWeek: "dddd [] LT",
          lastDay: "[ ] LT",
          lastWeek: "dddd [] [] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s",
          past: "%s",
          s: "",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("ko", {
        months: "1_2_3_4_5_6_7_8_9_10_11_12".split("_"),
        monthsShort: "1_2_3_4_5_6_7_8_9_10_11_12".split(
          "_"
        ),
        weekdays: "______".split("_"),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "A h mm",
          L: "YYYY.MM.DD",
          LL: "YYYY MMMM D",
          LLL: "YYYY MMMM D LT",
          LLLL: "YYYY MMMM D dddd LT",
        },
        meridiem: function (a) {
          return 12 > a ? "" : "";
        },
        calendar: {
          sameDay: " LT",
          nextDay: " LT",
          nextWeek: "dddd LT",
          lastDay: " LT",
          lastWeek: " dddd LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ",
          past: "%s ",
          s: "",
          ss: "%d",
          m: "",
          mm: "%d",
          h: "",
          hh: "%d",
          d: "",
          dd: "%d",
          M: "",
          MM: "%d",
          y: "",
          yy: "%d",
        },
        ordinal: "%d",
        meridiemParse: /(|)/,
        isPM: function (a) {
          return "" === a;
        },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c) {
        var d = {
          m: ["eng Minutt", "enger Minutt"],
          h: ["eng Stonn", "enger Stonn"],
          d: ["een Dag", "engem Dag"],
          M: ["ee Mount", "engem Mount"],
          y: ["ee Joer", "engem Joer"],
        };
        return b ? d[c][0] : d[c][1];
      }
      function c(a) {
        var b = a.substr(0, a.indexOf(" "));
        return e(b) ? "a " + a : "an " + a;
      }
      function d(a) {
        var b = a.substr(0, a.indexOf(" "));
        return e(b) ? "viru " + a : "virun " + a;
      }
      function e(a) {
        if (((a = parseInt(a, 10)), isNaN(a))) return !1;
        if (0 > a) return !0;
        if (10 > a) return a >= 4 && 7 >= a ? !0 : !1;
        if (100 > a) {
          var b = a % 10,
            c = a / 10;
          return e(0 === b ? c : b);
        }
        if (1e4 > a) {
          for (; a >= 10; ) a /= 10;
          return e(a);
        }
        return (a /= 1e3), e(a);
      }
      return a.defineLocale("lb", {
        months:
          "Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split(
            "_"
          ),
        monthsShort:
          "Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split(
            "_"
          ),
        weekdays:
          "Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split(
            "_"
          ),
        weekdaysShort: "So._M._D._M._Do._Fr._Sa.".split("_"),
        weekdaysMin: "So_M_D_M_Do_Fr_Sa".split("_"),
        longDateFormat: {
          LT: "H:mm [Auer]",
          L: "DD.MM.YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Haut um] LT",
          sameElse: "L",
          nextDay: "[Muer um] LT",
          nextWeek: "dddd [um] LT",
          lastDay: "[Gschter um] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 2:
              case 4:
                return "[Leschten] dddd [um] LT";
              default:
                return "[Leschte] dddd [um] LT";
            }
          },
        },
        relativeTime: {
          future: c,
          past: d,
          s: "e puer Sekonnen",
          m: b,
          mm: "%d Minutten",
          h: b,
          hh: "%d Stonnen",
          d: b,
          dd: "%d Deeg",
          M: b,
          MM: "%d Mint",
          y: b,
          yy: "%d Joer",
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c, d) {
        return b
          ? "kelios sekunds"
          : d
          ? "keli sekundi"
          : "kelias sekundes";
      }
      function c(a, b, c, d) {
        return b ? e(c)[0] : d ? e(c)[1] : e(c)[2];
      }
      function d(a) {
        return a % 10 === 0 || (a > 10 && 20 > a);
      }
      function e(a) {
        return h[a].split("_");
      }
      function f(a, b, f, g) {
        var h = a + " ";
        return 1 === a
          ? h + c(a, b, f[0], g)
          : b
          ? h + (d(a) ? e(f)[1] : e(f)[0])
          : g
          ? h + e(f)[1]
          : h + (d(a) ? e(f)[1] : e(f)[2]);
      }
      function g(a, b) {
        var c = -1 === b.indexOf("dddd HH:mm"),
          d = i[a.day()];
        return c ? d : d.substring(0, d.length - 2) + "";
      }
      var h = {
          m: "minut_minuts_minut",
          mm: "minuts_minui_minutes",
          h: "valanda_valandos_valand",
          hh: "valandos_valand_valandas",
          d: "diena_dienos_dien",
          dd: "dienos_dien_dienas",
          M: "mnuo_mnesio_mnes",
          MM: "mnesiai_mnesi_mnesius",
          y: "metai_met_metus",
          yy: "metai_met_metus",
        },
        i =
          "sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split(
            "_"
          );
      return a.defineLocale("lt", {
        months:
          "sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split(
            "_"
          ),
        monthsShort: "sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split(
          "_"
        ),
        weekdays: g,
        weekdaysShort: "Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),
        weekdaysMin: "S_P_A_T_K_Pn_".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "YYYY-MM-DD",
          LL: "YYYY [m.] MMMM D [d.]",
          LLL: "YYYY [m.] MMMM D [d.], LT [val.]",
          LLLL: "YYYY [m.] MMMM D [d.], dddd, LT [val.]",
          l: "YYYY-MM-DD",
          ll: "YYYY [m.] MMMM D [d.]",
          lll: "YYYY [m.] MMMM D [d.], LT [val.]",
          llll: "YYYY [m.] MMMM D [d.], ddd, LT [val.]",
        },
        calendar: {
          sameDay: "[iandien] LT",
          nextDay: "[Rytoj] LT",
          nextWeek: "dddd LT",
          lastDay: "[Vakar] LT",
          lastWeek: "[Prajus] dddd LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "po %s",
          past: "prie %s",
          s: b,
          m: c,
          mm: f,
          h: c,
          hh: f,
          d: c,
          dd: f,
          M: c,
          MM: f,
          y: c,
          yy: f,
        },
        ordinal: function (a) {
          return a + "-oji";
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c) {
        var d = a.split("_");
        return c
          ? b % 10 === 1 && 11 !== b
            ? d[2]
            : d[3]
          : b % 10 === 1 && 11 !== b
          ? d[0]
          : d[1];
      }
      function c(a, c, e) {
        return a + " " + b(d[e], a, c);
      }
      var d = {
        mm: "minti_mintes_minte_mintes",
        hh: "stundu_stundas_stunda_stundas",
        dd: "dienu_dienas_diena_dienas",
        MM: "mnesi_mneus_mnesis_mnei",
        yy: "gadu_gadus_gads_gadi",
      };
      return a.defineLocale("lv", {
        months:
          "janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split(
            "_"
          ),
        monthsShort: "jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split(
          "_"
        ),
        weekdays:
          "svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split(
            "_"
          ),
        weekdaysShort: "Sv_P_O_T_C_Pk_S".split("_"),
        weekdaysMin: "Sv_P_O_T_C_Pk_S".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "YYYY. [gada] D. MMMM",
          LLL: "YYYY. [gada] D. MMMM, LT",
          LLLL: "YYYY. [gada] D. MMMM, dddd, LT",
        },
        calendar: {
          sameDay: "[odien pulksten] LT",
          nextDay: "[Rt pulksten] LT",
          nextWeek: "dddd [pulksten] LT",
          lastDay: "[Vakar pulksten] LT",
          lastWeek: "[Pagju] dddd [pulksten] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s vlk",
          past: "%s agrk",
          s: "daas sekundes",
          m: "minti",
          mm: c,
          h: "stundu",
          hh: c,
          d: "dienu",
          dd: c,
          M: "mnesi",
          MM: c,
          y: "gadu",
          yy: c,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("mk", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort: "___________".split(
          "_"
        ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "e_o_____a".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "D.MM.YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          nextWeek: "dddd [] LT",
          lastDay: "[ ] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 0:
              case 3:
              case 6:
                return "[ ] dddd [] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[ ] dddd [] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: " %s",
          s: " ",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        ordinal: function (a) {
          var b = a % 10,
            c = a % 100;
          return 0 === a
            ? a + "-"
            : 0 === c
            ? a + "-"
            : c > 10 && 20 > c
            ? a + "-"
            : 1 === b
            ? a + "-"
            : 2 === b
            ? a + "-"
            : 7 === b || 8 === b
            ? a + "-"
            : a + "-";
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("ml", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "._._._.___._._._._._.".split(
            "_"
          ),
        weekdays:
          "______".split(
            "_"
          ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "A h:mm -",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY, LT",
          LLLL: "dddd, D MMMM YYYY, LT",
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          nextWeek: "dddd, LT",
          lastDay: "[] LT",
          lastWeek: "[] dddd, LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ",
          past: "%s ",
          s: " ",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        meridiem: function (a) {
          return 4 > a
            ? ""
            : 12 > a
            ? ""
            : 17 > a
            ? " "
            : 20 > a
            ? ""
            : "";
        },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("mr", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "._._._._._._._._._._._.".split(
            "_"
          ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "A h:mm ",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY, LT",
          LLLL: "dddd, D MMMM YYYY, LT",
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          nextWeek: "dddd, LT",
          lastDay: "[] LT",
          lastWeek: "[] dddd, LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ",
          past: "%s ",
          s: "",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        preparse: function (a) {
          return a.replace(/[]/g, function (a) {
            return c[a];
          });
        },
        postformat: function (a) {
          return a.replace(/\d/g, function (a) {
            return b[a];
          });
        },
        meridiem: function (a) {
          return 4 > a
            ? ""
            : 10 > a
            ? ""
            : 17 > a
            ? ""
            : 20 > a
            ? ""
            : "";
        },
        week: { dow: 0, doy: 6 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("ms-my", {
        months:
          "Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split(
            "_"
          ),
        monthsShort: "Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split(
          "_"
        ),
        weekdays: "Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),
        weekdaysShort: "Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),
        weekdaysMin: "Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),
        longDateFormat: {
          LT: "HH.mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY [pukul] LT",
          LLLL: "dddd, D MMMM YYYY [pukul] LT",
        },
        meridiem: function (a) {
          return 11 > a
            ? "pagi"
            : 15 > a
            ? "tengahari"
            : 19 > a
            ? "petang"
            : "malam";
        },
        calendar: {
          sameDay: "[Hari ini pukul] LT",
          nextDay: "[Esok pukul] LT",
          nextWeek: "dddd [pukul] LT",
          lastDay: "[Kelmarin pukul] LT",
          lastWeek: "dddd [lepas pukul] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "dalam %s",
          past: "%s yang lepas",
          s: "beberapa saat",
          m: "seminit",
          mm: "%d minit",
          h: "sejam",
          hh: "%d jam",
          d: "sehari",
          dd: "%d hari",
          M: "sebulan",
          MM: "%d bulan",
          y: "setahun",
          yy: "%d tahun",
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("my", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort: "___________".split(
          "_"
        ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[.] LT []",
          nextDay: "[] LT []",
          nextWeek: "dddd LT []",
          lastDay: "[.] LT []",
          lastWeek: "[] dddd LT []",
          sameElse: "L",
        },
        relativeTime: {
          future: " %s ",
          past: " %s ",
          s: ".",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d ",
          M: "",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        preparse: function (a) {
          return a.replace(/[]/g, function (a) {
            return c[a];
          });
        },
        postformat: function (a) {
          return a.replace(/\d/g, function (a) {
            return b[a];
          });
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("nb", {
        months:
          "januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split(
            "_"
          ),
        monthsShort:
          "jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split(
            "_"
          ),
        weekdays: "sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split(
          "_"
        ),
        weekdaysShort: "s._ma._ti._on._to._fr._l.".split("_"),
        weekdaysMin: "s_ma_ti_on_to_fr_l".split("_"),
        longDateFormat: {
          LT: "H.mm",
          L: "DD.MM.YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY [kl.] LT",
          LLLL: "dddd D. MMMM YYYY [kl.] LT",
        },
        calendar: {
          sameDay: "[i dag kl.] LT",
          nextDay: "[i morgen kl.] LT",
          nextWeek: "dddd [kl.] LT",
          lastDay: "[i gr kl.] LT",
          lastWeek: "[forrige] dddd [kl.] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "om %s",
          past: "for %s siden",
          s: "noen sekunder",
          m: "ett minutt",
          mm: "%d minutter",
          h: "en time",
          hh: "%d timer",
          d: "en dag",
          dd: "%d dager",
          M: "en mned",
          MM: "%d mneder",
          y: "ett r",
          yy: "%d r",
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
          1: "",
          2: "",
          3: "",
          4: "",
          5: "",
          6: "",
          7: "",
          8: "",
          9: "",
          0: "",
        },
        c = {
          "": "1",
          "": "2",
          "": "3",
          "": "4",
          "": "5",
          "": "6",
          "": "7",
          "": "8",
          "": "9",
          "": "0",
        };
      return a.defineLocale("ne", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "._.__.___._._._._._.".split(
            "_"
          ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "._._._._._._.".split("_"),
        weekdaysMin: "._.__._._._.".split("_"),
        longDateFormat: {
          LT: "A h:mm ",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY, LT",
          LLLL: "dddd, D MMMM YYYY, LT",
        },
        preparse: function (a) {
          return a.replace(/[]/g, function (a) {
            return c[a];
          });
        },
        postformat: function (a) {
          return a.replace(/\d/g, function (a) {
            return b[a];
          });
        },
        meridiem: function (a) {
          return 3 > a
            ? ""
            : 10 > a
            ? ""
            : 15 > a
            ? ""
            : 18 > a
            ? ""
            : 20 > a
            ? ""
            : "";
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          nextWeek: "[] dddd[,] LT",
          lastDay: "[] LT",
          lastWeek: "[] dddd[,] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s",
          past: "%s ",
          s: " ",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b =
          "jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split(
            "_"
          ),
        c = "jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");
      return a.defineLocale("nl", {
        months:
          "januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split(
            "_"
          ),
        monthsShort: function (a, d) {
          return /-MMM-/.test(d) ? c[a.month()] : b[a.month()];
        },
        weekdays:
          "zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split(
            "_"
          ),
        weekdaysShort: "zo._ma._di._wo._do._vr._za.".split("_"),
        weekdaysMin: "Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD-MM-YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[vandaag om] LT",
          nextDay: "[morgen om] LT",
          nextWeek: "dddd [om] LT",
          lastDay: "[gisteren om] LT",
          lastWeek: "[afgelopen] dddd [om] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "over %s",
          past: "%s geleden",
          s: "een paar seconden",
          m: "n minuut",
          mm: "%d minuten",
          h: "n uur",
          hh: "%d uur",
          d: "n dag",
          dd: "%d dagen",
          M: "n maand",
          MM: "%d maanden",
          y: "n jaar",
          yy: "%d jaar",
        },
        ordinal: function (a) {
          return a + (1 === a || 8 === a || a >= 20 ? "ste" : "de");
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("nn", {
        months:
          "januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split(
            "_"
          ),
        monthsShort: "jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split(
          "_"
        ),
        weekdays: "sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split(
          "_"
        ),
        weekdaysShort: "sun_mn_tys_ons_tor_fre_lau".split("_"),
        weekdaysMin: "su_m_ty_on_to_fr_l".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[I dag klokka] LT",
          nextDay: "[I morgon klokka] LT",
          nextWeek: "dddd [klokka] LT",
          lastDay: "[I gr klokka] LT",
          lastWeek: "[Fregande] dddd [klokka] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "om %s",
          past: "for %s sidan",
          s: "nokre sekund",
          m: "eit minutt",
          mm: "%d minutt",
          h: "ein time",
          hh: "%d timar",
          d: "ein dag",
          dd: "%d dagar",
          M: "ein mnad",
          MM: "%d mnader",
          y: "eit r",
          yy: "%d r",
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a) {
        return 5 > a % 10 && a % 10 > 1 && ~~(a / 10) % 10 !== 1;
      }
      function c(a, c, d) {
        var e = a + " ";
        switch (d) {
          case "m":
            return c ? "minuta" : "minut";
          case "mm":
            return e + (b(a) ? "minuty" : "minut");
          case "h":
            return c ? "godzina" : "godzin";
          case "hh":
            return e + (b(a) ? "godziny" : "godzin");
          case "MM":
            return e + (b(a) ? "miesice" : "miesicy");
          case "yy":
            return e + (b(a) ? "lata" : "lat");
        }
      }
      var d =
          "stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split(
            "_"
          ),
        e =
          "stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split(
            "_"
          );
      return a.defineLocale("pl", {
        months: function (a, b) {
          return /D MMMM/.test(b) ? e[a.month()] : d[a.month()];
        },
        monthsShort: "sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split(
          "_"
        ),
        weekdays:
          "niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split(
            "_"
          ),
        weekdaysShort: "nie_pon_wt_r_czw_pt_sb".split("_"),
        weekdaysMin: "N_Pn_Wt_r_Cz_Pt_So".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Dzi o] LT",
          nextDay: "[Jutro o] LT",
          nextWeek: "[W] dddd [o] LT",
          lastDay: "[Wczoraj o] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 0:
                return "[W zesz niedziel o] LT";
              case 3:
                return "[W zesz rod o] LT";
              case 6:
                return "[W zesz sobot o] LT";
              default:
                return "[W zeszy] dddd [o] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "za %s",
          past: "%s temu",
          s: "kilka sekund",
          m: c,
          mm: c,
          h: c,
          hh: c,
          d: "1 dzie",
          dd: "%d dni",
          M: "miesic",
          MM: c,
          y: "rok",
          yy: c,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("pt-br", {
        months:
          "janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split(
            "_"
          ),
        monthsShort: "jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split(
          "_"
        ),
        weekdays:
          "domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split(
            "_"
          ),
        weekdaysShort: "dom_seg_ter_qua_qui_sex_sb".split("_"),
        weekdaysMin: "dom_2_3_4_5_6_sb".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D [de] MMMM [de] YYYY",
          LLL: "D [de] MMMM [de] YYYY [s] LT",
          LLLL: "dddd, D [de] MMMM [de] YYYY [s] LT",
        },
        calendar: {
          sameDay: "[Hoje s] LT",
          nextDay: "[Amanh s] LT",
          nextWeek: "dddd [s] LT",
          lastDay: "[Ontem s] LT",
          lastWeek: function () {
            return 0 === this.day() || 6 === this.day()
              ? "[ltimo] dddd [s] LT"
              : "[ltima] dddd [s] LT";
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "em %s",
          past: "%s atrs",
          s: "segundos",
          m: "um minuto",
          mm: "%d minutos",
          h: "uma hora",
          hh: "%d horas",
          d: "um dia",
          dd: "%d dias",
          M: "um ms",
          MM: "%d meses",
          y: "um ano",
          yy: "%d anos",
        },
        ordinal: "%d",
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("pt", {
        months:
          "janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split(
            "_"
          ),
        monthsShort: "jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split(
          "_"
        ),
        weekdays:
          "domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split(
            "_"
          ),
        weekdaysShort: "dom_seg_ter_qua_qui_sex_sb".split("_"),
        weekdaysMin: "dom_2_3_4_5_6_sb".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D [de] MMMM [de] YYYY",
          LLL: "D [de] MMMM [de] YYYY LT",
          LLLL: "dddd, D [de] MMMM [de] YYYY LT",
        },
        calendar: {
          sameDay: "[Hoje s] LT",
          nextDay: "[Amanh s] LT",
          nextWeek: "dddd [s] LT",
          lastDay: "[Ontem s] LT",
          lastWeek: function () {
            return 0 === this.day() || 6 === this.day()
              ? "[ltimo] dddd [s] LT"
              : "[ltima] dddd [s] LT";
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "em %s",
          past: "h %s",
          s: "segundos",
          m: "um minuto",
          mm: "%d minutos",
          h: "uma hora",
          hh: "%d horas",
          d: "um dia",
          dd: "%d dias",
          M: "um ms",
          MM: "%d meses",
          y: "um ano",
          yy: "%d anos",
        },
        ordinal: "%d",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c) {
        var d = { mm: "minute", hh: "ore", dd: "zile", MM: "luni", yy: "ani" },
          e = " ";
        return (
          (a % 100 >= 20 || (a >= 100 && a % 100 === 0)) && (e = " de "),
          a + e + d[c]
        );
      }
      return a.defineLocale("ro", {
        months:
          "ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split(
            "_"
          ),
        monthsShort:
          "ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split(
            "_"
          ),
        weekdays: "duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),
        weekdaysShort: "Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),
        weekdaysMin: "Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY H:mm",
          LLLL: "dddd, D MMMM YYYY H:mm",
        },
        calendar: {
          sameDay: "[azi la] LT",
          nextDay: "[mine la] LT",
          nextWeek: "dddd [la] LT",
          lastDay: "[ieri la] LT",
          lastWeek: "[fosta] dddd [la] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "peste %s",
          past: "%s n urm",
          s: "cteva secunde",
          m: "un minut",
          mm: b,
          h: "o or",
          hh: b,
          d: "o zi",
          dd: b,
          M: "o lun",
          MM: b,
          y: "un an",
          yy: b,
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b) {
        var c = a.split("_");
        return b % 10 === 1 && b % 100 !== 11
          ? c[0]
          : b % 10 >= 2 && 4 >= b % 10 && (10 > b % 100 || b % 100 >= 20)
          ? c[1]
          : c[2];
      }
      function c(a, c, d) {
        var e = {
          mm: c ? "__" : "__",
          hh: "__",
          dd: "__",
          MM: "__",
          yy: "__",
        };
        return "m" === d ? (c ? "" : "") : a + " " + b(e[d], +a);
      }
      function d(a, b) {
        var c = {
            nominative:
              "___________".split(
                "_"
              ),
            accusative:
              "___________".split(
                "_"
              ),
          },
          d = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)
            ? "accusative"
            : "nominative";
        return c[d][a.month()];
      }
      function e(a, b) {
        var c = {
            nominative:
              "___________".split("_"),
            accusative:
              "___________".split("_"),
          },
          d = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)
            ? "accusative"
            : "nominative";
        return c[d][a.month()];
      }
      function f(a, b) {
        var c = {
            nominative:
              "______".split(
                "_"
              ),
            accusative:
              "______".split(
                "_"
              ),
          },
          d = /\[ ?[] ?(?:|)? ?\] ?dddd/.test(b)
            ? "accusative"
            : "nominative";
        return c[d][a.day()];
      }
      return a.defineLocale("ru", {
        months: d,
        monthsShort: e,
        weekdays: f,
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        monthsParse: [
          /^/i,
          /^/i,
          /^/i,
          /^/i,
          /^[|]/i,
          /^/i,
          /^/i,
          /^/i,
          /^/i,
          /^/i,
          /^/i,
          /^/i,
        ],
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY .",
          LLL: "D MMMM YYYY ., LT",
          LLLL: "dddd, D MMMM YYYY ., LT",
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          lastDay: "[ ] LT",
          nextWeek: function () {
            return 2 === this.day() ? "[] dddd [] LT" : "[] dddd [] LT";
          },
          lastWeek: function () {
            switch (this.day()) {
              case 0:
                return "[ ] dddd [] LT";
              case 1:
              case 2:
              case 4:
                return "[ ] dddd [] LT";
              case 3:
              case 5:
              case 6:
                return "[ ] dddd [] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: "%s ",
          s: " ",
          m: c,
          mm: c,
          h: "",
          hh: c,
          d: "",
          dd: c,
          M: "",
          MM: c,
          y: "",
          yy: c,
        },
        meridiemParse: /|||/i,
        isPM: function (a) {
          return /^(|)$/.test(a);
        },
        meridiem: function (a) {
          return 4 > a ? "" : 12 > a ? "" : 17 > a ? "" : "";
        },
        ordinal: function (a, b) {
          switch (b) {
            case "M":
            case "d":
            case "DDD":
              return a + "-";
            case "D":
              return a + "-";
            case "w":
            case "W":
              return a + "-";
            default:
              return a;
          }
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a) {
        return a > 1 && 5 > a;
      }
      function c(a, c, d, e) {
        var f = a + " ";
        switch (d) {
          case "s":
            return c || e ? "pr seknd" : "pr sekundami";
          case "m":
            return c ? "minta" : e ? "mintu" : "mintou";
          case "mm":
            return c || e ? f + (b(a) ? "minty" : "mint") : f + "mintami";
            break;
          case "h":
            return c ? "hodina" : e ? "hodinu" : "hodinou";
          case "hh":
            return c || e ? f + (b(a) ? "hodiny" : "hodn") : f + "hodinami";
            break;
          case "d":
            return c || e ? "de" : "dom";
          case "dd":
            return c || e ? f + (b(a) ? "dni" : "dn") : f + "dami";
            break;
          case "M":
            return c || e ? "mesiac" : "mesiacom";
          case "MM":
            return c || e
              ? f + (b(a) ? "mesiace" : "mesiacov")
              : f + "mesiacmi";
            break;
          case "y":
            return c || e ? "rok" : "rokom";
          case "yy":
            return c || e ? f + (b(a) ? "roky" : "rokov") : f + "rokmi";
        }
      }
      var d =
          "janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split(
            "_"
          ),
        e = "jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");
      return a.defineLocale("sk", {
        months: d,
        monthsShort: e,
        monthsParse: (function (a, b) {
          var c,
            d = [];
          for (c = 0; 12 > c; c++)
            d[c] = new RegExp("^" + a[c] + "$|^" + b[c] + "$", "i");
          return d;
        })(d, e),
        weekdays: "nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split(
          "_"
        ),
        weekdaysShort: "ne_po_ut_st_t_pi_so".split("_"),
        weekdaysMin: "ne_po_ut_st_t_pi_so".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD.MM.YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[dnes o] LT",
          nextDay: "[zajtra o] LT",
          nextWeek: function () {
            switch (this.day()) {
              case 0:
                return "[v nedeu o] LT";
              case 1:
              case 2:
                return "[v] dddd [o] LT";
              case 3:
                return "[v stredu o] LT";
              case 4:
                return "[vo tvrtok o] LT";
              case 5:
                return "[v piatok o] LT";
              case 6:
                return "[v sobotu o] LT";
            }
          },
          lastDay: "[vera o] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 0:
                return "[minul nedeu o] LT";
              case 1:
              case 2:
                return "[minul] dddd [o] LT";
              case 3:
                return "[minul stredu o] LT";
              case 4:
              case 5:
                return "[minul] dddd [o] LT";
              case 6:
                return "[minul sobotu o] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "za %s",
          past: "pred %s",
          s: c,
          m: c,
          mm: c,
          h: c,
          hh: c,
          d: c,
          dd: c,
          M: c,
          MM: c,
          y: c,
          yy: c,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b, c) {
        var d = a + " ";
        switch (c) {
          case "m":
            return b ? "ena minuta" : "eno minuto";
          case "mm":
            return (d +=
              1 === a
                ? "minuta"
                : 2 === a
                ? "minuti"
                : 3 === a || 4 === a
                ? "minute"
                : "minut");
          case "h":
            return b ? "ena ura" : "eno uro";
          case "hh":
            return (d +=
              1 === a
                ? "ura"
                : 2 === a
                ? "uri"
                : 3 === a || 4 === a
                ? "ure"
                : "ur");
          case "dd":
            return (d += 1 === a ? "dan" : "dni");
          case "MM":
            return (d +=
              1 === a
                ? "mesec"
                : 2 === a
                ? "meseca"
                : 3 === a || 4 === a
                ? "mesece"
                : "mesecev");
          case "yy":
            return (d +=
              1 === a
                ? "leto"
                : 2 === a
                ? "leti"
                : 3 === a || 4 === a
                ? "leta"
                : "let");
        }
      }
      return a.defineLocale("sl", {
        months:
          "januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split(
            "_"
          ),
        monthsShort:
          "jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split(
            "_"
          ),
        weekdays: "nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split(
          "_"
        ),
        weekdaysShort: "ned._pon._tor._sre._et._pet._sob.".split("_"),
        weekdaysMin: "ne_po_to_sr_e_pe_so".split("_"),
        longDateFormat: {
          LT: "H:mm",
          L: "DD. MM. YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[danes ob] LT",
          nextDay: "[jutri ob] LT",
          nextWeek: function () {
            switch (this.day()) {
              case 0:
                return "[v] [nedeljo] [ob] LT";
              case 3:
                return "[v] [sredo] [ob] LT";
              case 6:
                return "[v] [soboto] [ob] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[v] dddd [ob] LT";
            }
          },
          lastDay: "[veraj ob] LT",
          lastWeek: function () {
            switch (this.day()) {
              case 0:
              case 3:
              case 6:
                return "[prejnja] dddd [ob] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[prejnji] dddd [ob] LT";
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "ez %s",
          past: "%s nazaj",
          s: "nekaj sekund",
          m: b,
          mm: b,
          h: b,
          hh: b,
          d: "en dan",
          dd: b,
          M: "en mesec",
          MM: b,
          y: "eno leto",
          yy: b,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("sq", {
        months:
          "Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split(
            "_"
          ),
        monthsShort: "Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split(
          "_"
        ),
        weekdays:
          "E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split(
            "_"
          ),
        weekdaysShort: "Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),
        weekdaysMin: "D_H_Ma_M_E_P_Sh".split("_"),
        meridiem: function (a) {
          return 12 > a ? "PD" : "MD";
        },
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Sot n] LT",
          nextDay: "[Nesr n] LT",
          nextWeek: "dddd [n] LT",
          lastDay: "[Dje n] LT",
          lastWeek: "dddd [e kaluar n] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "n %s",
          past: "%s m par",
          s: "disa sekonda",
          m: "nj minut",
          mm: "%d minuta",
          h: "nj or",
          hh: "%d or",
          d: "nj dit",
          dd: "%d dit",
          M: "nj muaj",
          MM: "%d muaj",
          y: "nj vit",
          yy: "%d vite",
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
        words: {
          m: [" ", " "],
          mm: ["", "", ""],
          h: [" ", " "],
          hh: ["", "", ""],
          dd: ["", "", ""],
          MM: ["", "", ""],
          yy: ["", "", ""],
        },
        correctGrammaticalCase: function (a, b) {
          return 1 === a ? b[0] : a >= 2 && 4 >= a ? b[1] : b[2];
        },
        translate: function (a, c, d) {
          var e = b.words[d];
          return 1 === d.length
            ? c
              ? e[0]
              : e[1]
            : a + " " + b.correctGrammaticalCase(a, e);
        },
      };
      return a.defineLocale("sr-cyrl", {
        months: [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
        ],
        monthsShort: [
          ".",
          ".",
          ".",
          ".",
          "",
          "",
          "",
          ".",
          ".",
          ".",
          ".",
          ".",
        ],
        weekdays: [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
        ],
        weekdaysShort: [".", ".", ".", ".", ".", ".", "."],
        weekdaysMin: ["", "", "", "", "", "", ""],
        longDateFormat: {
          LT: "H:mm",
          L: "DD. MM. YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          nextWeek: function () {
            switch (this.day()) {
              case 0:
                return "[] [] [] LT";
              case 3:
                return "[] [] [] LT";
              case 6:
                return "[] [] [] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[] dddd [] LT";
            }
          },
          lastDay: "[ ] LT",
          lastWeek: function () {
            var a = [
              "[] [] [] LT",
              "[] [] [] LT",
              "[] [] [] LT",
              "[] [] [] LT",
              "[] [] [] LT",
              "[] [] [] LT",
              "[] [] [] LT",
            ];
            return a[this.day()];
          },
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: " %s",
          s: " ",
          m: b.translate,
          mm: b.translate,
          h: b.translate,
          hh: b.translate,
          d: "",
          dd: b.translate,
          M: "",
          MM: b.translate,
          y: "",
          yy: b.translate,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
        words: {
          m: ["jedan minut", "jedne minute"],
          mm: ["minut", "minute", "minuta"],
          h: ["jedan sat", "jednog sata"],
          hh: ["sat", "sata", "sati"],
          dd: ["dan", "dana", "dana"],
          MM: ["mesec", "meseca", "meseci"],
          yy: ["godina", "godine", "godina"],
        },
        correctGrammaticalCase: function (a, b) {
          return 1 === a ? b[0] : a >= 2 && 4 >= a ? b[1] : b[2];
        },
        translate: function (a, c, d) {
          var e = b.words[d];
          return 1 === d.length
            ? c
              ? e[0]
              : e[1]
            : a + " " + b.correctGrammaticalCase(a, e);
        },
      };
      return a.defineLocale("sr", {
        months: [
          "januar",
          "februar",
          "mart",
          "april",
          "maj",
          "jun",
          "jul",
          "avgust",
          "septembar",
          "oktobar",
          "novembar",
          "decembar",
        ],
        monthsShort: [
          "jan.",
          "feb.",
          "mar.",
          "apr.",
          "maj",
          "jun",
          "jul",
          "avg.",
          "sep.",
          "okt.",
          "nov.",
          "dec.",
        ],
        weekdays: [
          "nedelja",
          "ponedeljak",
          "utorak",
          "sreda",
          "etvrtak",
          "petak",
          "subota",
        ],
        weekdaysShort: ["ned.", "pon.", "uto.", "sre.", "et.", "pet.", "sub."],
        weekdaysMin: ["ne", "po", "ut", "sr", "e", "pe", "su"],
        longDateFormat: {
          LT: "H:mm",
          L: "DD. MM. YYYY",
          LL: "D. MMMM YYYY",
          LLL: "D. MMMM YYYY LT",
          LLLL: "dddd, D. MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[danas u] LT",
          nextDay: "[sutra u] LT",
          nextWeek: function () {
            switch (this.day()) {
              case 0:
                return "[u] [nedelju] [u] LT";
              case 3:
                return "[u] [sredu] [u] LT";
              case 6:
                return "[u] [subotu] [u] LT";
              case 1:
              case 2:
              case 4:
              case 5:
                return "[u] dddd [u] LT";
            }
          },
          lastDay: "[jue u] LT",
          lastWeek: function () {
            var a = [
              "[prole] [nedelje] [u] LT",
              "[prolog] [ponedeljka] [u] LT",
              "[prolog] [utorka] [u] LT",
              "[prole] [srede] [u] LT",
              "[prolog] [etvrtka] [u] LT",
              "[prolog] [petka] [u] LT",
              "[prole] [subote] [u] LT",
            ];
            return a[this.day()];
          },
          sameElse: "L",
        },
        relativeTime: {
          future: "za %s",
          past: "pre %s",
          s: "nekoliko sekundi",
          m: b.translate,
          mm: b.translate,
          h: b.translate,
          hh: b.translate,
          d: "dan",
          dd: b.translate,
          M: "mesec",
          MM: b.translate,
          y: "godinu",
          yy: b.translate,
        },
        ordinal: "%d.",
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("sv", {
        months:
          "januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split(
            "_"
          ),
        monthsShort: "jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split(
          "_"
        ),
        weekdays: "sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split(
          "_"
        ),
        weekdaysShort: "sn_mn_tis_ons_tor_fre_lr".split("_"),
        weekdaysMin: "s_m_ti_on_to_fr_l".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "YYYY-MM-DD",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[Idag] LT",
          nextDay: "[Imorgon] LT",
          lastDay: "[Igr] LT",
          nextWeek: "dddd LT",
          lastWeek: "[Frra] dddd[en] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "om %s",
          past: "fr %s sedan",
          s: "ngra sekunder",
          m: "en minut",
          mm: "%d minuter",
          h: "en timme",
          hh: "%d timmar",
          d: "en dag",
          dd: "%d dagar",
          M: "en mnad",
          MM: "%d mnader",
          y: "ett r",
          yy: "%d r",
        },
        ordinal: function (a) {
          var b = a % 10,
            c =
              1 === ~~((a % 100) / 10)
                ? "e"
                : 1 === b
                ? "a"
                : 2 === b
                ? "a"
                : 3 === b
                ? "e"
                : "e";
          return a + c;
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("ta", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays:
          "______".split(
            "_"
          ),
        weekdaysShort: "______".split(
          "_"
        ),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY, LT",
          LLLL: "dddd, D MMMM YYYY, LT",
        },
        calendar: {
          sameDay: "[] LT",
          nextDay: "[] LT",
          nextWeek: "dddd, LT",
          lastDay: "[] LT",
          lastWeek: "[ ] dddd, LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ",
          past: "%s ",
          s: "  ",
          m: " ",
          mm: "%d ",
          h: "  ",
          hh: "%d  ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        ordinal: function (a) {
          return a + "";
        },
        meridiem: function (a) {
          return a >= 6 && 10 >= a
            ? " "
            : a >= 10 && 14 >= a
            ? " "
            : a >= 14 && 18 >= a
            ? " "
            : a >= 18 && 20 >= a
            ? " "
            : a >= 20 && 24 >= a
            ? " "
            : a >= 0 && 6 >= a
            ? " "
            : void 0;
        },
        week: { dow: 0, doy: 6 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("th", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays: "______".split("_"),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "._._._._._._.".split("_"),
        longDateFormat: {
          LT: "H  m ",
          L: "YYYY/MM/DD",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY  LT",
          LLLL: "dddd D MMMM YYYY  LT",
        },
        meridiem: function (a) {
          return 12 > a ? "" : "";
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          nextWeek: "dddd[ ] LT",
          lastDay: "[ ] LT",
          lastWeek: "[]dddd[ ] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: "%s",
          s: "",
          m: "1 ",
          mm: "%d ",
          h: "1 ",
          hh: "%d ",
          d: "1 ",
          dd: "%d ",
          M: "1 ",
          MM: "%d ",
          y: "1 ",
          yy: "%d ",
        },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("tl-ph", {
        months:
          "Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split(
            "_"
          ),
        monthsShort: "Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split(
          "_"
        ),
        weekdays:
          "Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),
        weekdaysShort: "Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),
        weekdaysMin: "Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "MM/D/YYYY",
          LL: "MMMM D, YYYY",
          LLL: "MMMM D, YYYY LT",
          LLLL: "dddd, MMMM DD, YYYY LT",
        },
        calendar: {
          sameDay: "[Ngayon sa] LT",
          nextDay: "[Bukas sa] LT",
          nextWeek: "dddd [sa] LT",
          lastDay: "[Kahapon sa] LT",
          lastWeek: "dddd [huling linggo] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "sa loob ng %s",
          past: "%s ang nakalipas",
          s: "ilang segundo",
          m: "isang minuto",
          mm: "%d minuto",
          h: "isang oras",
          hh: "%d oras",
          d: "isang araw",
          dd: "%d araw",
          M: "isang buwan",
          MM: "%d buwan",
          y: "isang taon",
          yy: "%d taon",
        },
        ordinal: function (a) {
          return a;
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      var b = {
        1: "'inci",
        5: "'inci",
        8: "'inci",
        70: "'inci",
        80: "'inci",
        2: "'nci",
        7: "'nci",
        20: "'nci",
        50: "'nci",
        3: "'nc",
        4: "'nc",
        100: "'nc",
        6: "'nc",
        9: "'uncu",
        10: "'uncu",
        30: "'uncu",
        60: "'nc",
        90: "'nc",
      };
      return a.defineLocale("tr", {
        months:
          "Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split(
            "_"
          ),
        monthsShort: "Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split(
          "_"
        ),
        weekdays: "Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split(
          "_"
        ),
        weekdaysShort: "Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),
        weekdaysMin: "Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd, D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[bugn saat] LT",
          nextDay: "[yarn saat] LT",
          nextWeek: "[haftaya] dddd [saat] LT",
          lastDay: "[dn] LT",
          lastWeek: "[geen hafta] dddd [saat] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s sonra",
          past: "%s nce",
          s: "birka saniye",
          m: "bir dakika",
          mm: "%d dakika",
          h: "bir saat",
          hh: "%d saat",
          d: "bir gn",
          dd: "%d gn",
          M: "bir ay",
          MM: "%d ay",
          y: "bir yl",
          yy: "%d yl",
        },
        ordinal: function (a) {
          if (0 === a) return a + "'nc";
          var c = a % 10,
            d = (a % 100) - c,
            e = a >= 100 ? 100 : null;
          return a + (b[c] || b[d] || b[e]);
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("tzm-latn", {
        months:
          "innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split(
            "_"
          ),
        monthsShort:
          "innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split(
            "_"
          ),
        weekdays: "asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),
        weekdaysShort: "asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split(
          "_"
        ),
        weekdaysMin: "asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split(
          "_"
        ),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[asdkh g] LT",
          nextDay: "[aska g] LT",
          nextWeek: "dddd [g] LT",
          lastDay: "[assant g] LT",
          lastWeek: "dddd [g] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "dadkh s yan %s",
          past: "yan %s",
          s: "imik",
          m: "minu",
          mm: "%d minu",
          h: "saa",
          hh: "%d tassain",
          d: "ass",
          dd: "%d ossan",
          M: "ayowr",
          MM: "%d iyyirn",
          y: "asgas",
          yy: "%d isgasn",
        },
        week: { dow: 6, doy: 12 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("tzm", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort:
          "___________".split(
            "_"
          ),
        weekdays: "______".split("_"),
        weekdaysShort: "______".split(
          "_"
        ),
        weekdaysMin: "______".split(
          "_"
        ),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "dddd D MMMM YYYY LT",
        },
        calendar: {
          sameDay: "[ ] LT",
          nextDay: "[ ] LT",
          nextWeek: "dddd [] LT",
          lastDay: "[ ] LT",
          lastWeek: "dddd [] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "   %s",
          past: " %s",
          s: "",
          m: "",
          mm: "%d ",
          h: "",
          hh: "%d ",
          d: "",
          dd: "%d o",
          M: "o",
          MM: "%d ",
          y: "",
          yy: "%d ",
        },
        week: { dow: 6, doy: 12 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      function b(a, b) {
        var c = a.split("_");
        return b % 10 === 1 && b % 100 !== 11
          ? c[0]
          : b % 10 >= 2 && 4 >= b % 10 && (10 > b % 100 || b % 100 >= 20)
          ? c[1]
          : c[2];
      }
      function c(a, c, d) {
        var e = {
          mm: "__",
          hh: "__",
          dd: "__",
          MM: "__",
          yy: "__",
        };
        return "m" === d
          ? c
            ? ""
            : ""
          : "h" === d
          ? c
            ? ""
            : ""
          : a + " " + b(e[d], +a);
      }
      function d(a, b) {
        var c = {
            nominative:
              "___________".split(
                "_"
              ),
            accusative:
              "___________".split(
                "_"
              ),
          },
          d = /D[oD]? *MMMM?/.test(b) ? "accusative" : "nominative";
        return c[d][a.month()];
      }
      function e(a, b) {
        var c = {
            nominative:
              "______".split(
                "_"
              ),
            accusative:
              "______".split(
                "_"
              ),
            genitive:
              "______".split(
                "_"
              ),
          },
          d = /(\[[]\]) ?dddd/.test(b)
            ? "accusative"
            : /\[?(?:|)? ?\] ?dddd/.test(b)
            ? "genitive"
            : "nominative";
        return c[d][a.day()];
      }
      function f(a) {
        return function () {
          return a + "" + (11 === this.hours() ? "" : "") + "] LT";
        };
      }
      return a.defineLocale("uk", {
        months: d,
        monthsShort:
          "___________".split("_"),
        weekdays: e,
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD.MM.YYYY",
          LL: "D MMMM YYYY .",
          LLL: "D MMMM YYYY ., LT",
          LLLL: "dddd, D MMMM YYYY ., LT",
        },
        calendar: {
          sameDay: f("[ "),
          nextDay: f("[ "),
          lastDay: f("[ "),
          nextWeek: f("[] dddd ["),
          lastWeek: function () {
            switch (this.day()) {
              case 0:
              case 3:
              case 5:
              case 6:
                return f("[] dddd [").call(this);
              case 1:
              case 2:
              case 4:
                return f("[] dddd [").call(this);
            }
          },
          sameElse: "L",
        },
        relativeTime: {
          future: " %s",
          past: "%s ",
          s: " ",
          m: c,
          mm: c,
          h: "",
          hh: c,
          d: "",
          dd: c,
          M: "",
          MM: c,
          y: "",
          yy: c,
        },
        meridiem: function (a) {
          return 4 > a ? "" : 12 > a ? "" : 17 > a ? "" : "";
        },
        ordinal: function (a, b) {
          switch (b) {
            case "M":
            case "d":
            case "DDD":
            case "w":
            case "W":
              return a + "-";
            case "D":
              return a + "-";
            default:
              return a;
          }
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("uz", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort: "___________".split(
          "_"
        ),
        weekdays: "______".split(
          "_"
        ),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM YYYY",
          LLL: "D MMMM YYYY LT",
          LLLL: "D MMMM YYYY, dddd LT",
        },
        calendar: {
          sameDay: "[ ] LT []",
          nextDay: "[] LT []",
          nextWeek: "dddd [ ] LT []",
          lastDay: "[ ] LT []",
          lastWeek: "[] dddd [ ] LT []",
          sameElse: "L",
        },
        relativeTime: {
          future: " %s ",
          past: "  %s ",
          s: "",
          m: " ",
          mm: "%d ",
          h: " ",
          hh: "%d ",
          d: " ",
          dd: "%d ",
          M: " ",
          MM: "%d ",
          y: " ",
          yy: "%d ",
        },
        week: { dow: 1, doy: 7 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("vi", {
        months:
          "thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split(
            "_"
          ),
        monthsShort:
          "Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split(
            "_"
          ),
        weekdays:
          "ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),
        weekdaysShort: "CN_T2_T3_T4_T5_T6_T7".split("_"),
        weekdaysMin: "CN_T2_T3_T4_T5_T6_T7".split("_"),
        longDateFormat: {
          LT: "HH:mm",
          L: "DD/MM/YYYY",
          LL: "D MMMM [nm] YYYY",
          LLL: "D MMMM [nm] YYYY LT",
          LLLL: "dddd, D MMMM [nm] YYYY LT",
          l: "DD/M/YYYY",
          ll: "D MMM YYYY",
          lll: "D MMM YYYY LT",
          llll: "ddd, D MMM YYYY LT",
        },
        calendar: {
          sameDay: "[Hm nay lc] LT",
          nextDay: "[Ngy mai lc] LT",
          nextWeek: "dddd [tun ti lc] LT",
          lastDay: "[Hm qua lc] LT",
          lastWeek: "dddd [tun ri lc] LT",
          sameElse: "L",
        },
        relativeTime: {
          future: "%s ti",
          past: "%s trc",
          s: "vi giy",
          m: "mt pht",
          mm: "%d pht",
          h: "mt gi",
          hh: "%d gi",
          d: "mt ngy",
          dd: "%d ngy",
          M: "mt thng",
          MM: "%d thng",
          y: "mt nm",
          yy: "%d nm",
        },
        ordinal: function (a) {
          return a;
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("zh-cn", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort: "1_2_3_4_5_6_7_8_9_10_11_12".split(
          "_"
        ),
        weekdays: "______".split("_"),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "Ahmm",
          L: "YYYY-MM-DD",
          LL: "YYYYMMMD",
          LLL: "YYYYMMMDLT",
          LLLL: "YYYYMMMDddddLT",
          l: "YYYY-MM-DD",
          ll: "YYYYMMMD",
          lll: "YYYYMMMDLT",
          llll: "YYYYMMMDddddLT",
        },
        meridiem: function (a, b) {
          var c = 100 * a + b;
          return 600 > c
            ? ""
            : 900 > c
            ? ""
            : 1130 > c
            ? ""
            : 1230 > c
            ? ""
            : 1800 > c
            ? ""
            : "";
        },
        calendar: {
          sameDay: function () {
            return 0 === this.minutes() ? "[]Ah[]" : "[]LT";
          },
          nextDay: function () {
            return 0 === this.minutes() ? "[]Ah[]" : "[]LT";
          },
          lastDay: function () {
            return 0 === this.minutes() ? "[]Ah[]" : "[]LT";
          },
          nextWeek: function () {
            var b, c;
            return (
              (b = a().startOf("week")),
              (c = this.unix() - b.unix() >= 604800 ? "[]" : "[]"),
              0 === this.minutes() ? c + "dddAh" : c + "dddAhmm"
            );
          },
          lastWeek: function () {
            var b, c;
            return (
              (b = a().startOf("week")),
              (c = this.unix() < b.unix() ? "[]" : "[]"),
              0 === this.minutes() ? c + "dddAh" : c + "dddAhmm"
            );
          },
          sameElse: "LL",
        },
        ordinal: function (a, b) {
          switch (b) {
            case "d":
            case "D":
            case "DDD":
              return a + "";
            case "M":
              return a + "";
            case "w":
            case "W":
              return a + "";
            default:
              return a;
          }
        },
        relativeTime: {
          future: "%s",
          past: "%s",
          s: "",
          m: "1",
          mm: "%d",
          h: "1",
          hh: "%d",
          d: "1",
          dd: "%d",
          M: "1",
          MM: "%d",
          y: "1",
          yy: "%d",
        },
        week: { dow: 1, doy: 4 },
      });
    }),
    (function (a) {
      a(rb);
    })(function (a) {
      return a.defineLocale("zh-tw", {
        months:
          "___________".split(
            "_"
          ),
        monthsShort: "1_2_3_4_5_6_7_8_9_10_11_12".split(
          "_"
        ),
        weekdays: "______".split("_"),
        weekdaysShort: "______".split("_"),
        weekdaysMin: "______".split("_"),
        longDateFormat: {
          LT: "Ahmm",
          L: "YYYYMMMD",
          LL: "YYYYMMMD",
          LLL: "YYYYMMMDLT",
          LLLL: "YYYYMMMDddddLT",
          l: "YYYYMMMD",
          ll: "YYYYMMMD",
          lll: "YYYYMMMDLT",
          llll: "YYYYMMMDddddLT",
        },
        meridiem: function (a, b) {
          var c = 100 * a + b;
          return 900 > c
            ? ""
            : 1130 > c
            ? ""
            : 1230 > c
            ? ""
            : 1800 > c
            ? ""
            : "";
        },
        calendar: {
          sameDay: "[]LT",
          nextDay: "[]LT",
          nextWeek: "[]ddddLT",
          lastDay: "[]LT",
          lastWeek: "[]ddddLT",
          sameElse: "L",
        },
        ordinal: function (a, b) {
          switch (b) {
            case "d":
            case "D":
            case "DDD":
              return a + "";
            case "M":
              return a + "";
            case "w":
            case "W":
              return a + "";
            default:
              return a;
          }
        },
        relativeTime: {
          future: "%s",
          past: "%s",
          s: "",
          m: "",
          mm: "%d",
          h: "",
          hh: "%d",
          d: "",
          dd: "%d",
          M: "",
          MM: "%d",
          y: "",
          yy: "%d",
        },
      });
    }),
    rb.locale("en"),
    Gb
      ? (module.exports = rb)
      : "function" == typeof define && define.amd
      ? (define("moment", function (a, b, c) {
          return (
            c.config &&
              c.config() &&
              c.config().noGlobal === !0 &&
              (vb.moment = sb),
            rb
          );
        }),
        qb(!0))
      : qb();
}.call(this));
(function (a) {
  a.isScrollToFixed = function (b) {
    return !!a(b).data("ScrollToFixed");
  };
  a.ScrollToFixed = function (d, i) {
    var l = this;
    l.$el = a(d);
    l.el = d;
    l.$el.data("ScrollToFixed", l);
    var c = false;
    var G = l.$el;
    var H;
    var E;
    var e;
    var y;
    var D = 0;
    var q = 0;
    var j = -1;
    var f = -1;
    var t = null;
    var z;
    var g;
    function u() {
      G.trigger("preUnfixed.ScrollToFixed");
      k();
      G.trigger("unfixed.ScrollToFixed");
      f = -1;
      D = G.offset().top;
      q = G.offset().left;
      if (l.options.offsets) {
        q += G.offset().left - G.position().left;
      }
      if (j == -1) {
        j = q;
      }
      H = G.css("position");
      c = true;
      if (l.options.bottom != -1) {
        G.trigger("preFixed.ScrollToFixed");
        w();
        G.trigger("fixed.ScrollToFixed");
      }
    }
    function n() {
      var I = l.options.limit;
      if (!I) {
        return 0;
      }
      if (typeof I === "function") {
        return I.apply(G);
      }
      return I;
    }
    function p() {
      return H === "fixed";
    }
    function x() {
      return H === "absolute";
    }
    function h() {
      return !(p() || x());
    }
    function w() {
      if (!p()) {
        t.css({
          display: G.css("display"),
          width: G.outerWidth(true),
          height: G.outerHeight(true),
          float: G.css("float"),
        });
        cssOptions = {
          "z-index": l.options.zIndex,
          position: "fixed",
          top: l.options.bottom == -1 ? s() : "",
          bottom: l.options.bottom == -1 ? "" : l.options.bottom,
          "margin-left": "0px",
        };
        if (!l.options.dontSetWidth) {
          cssOptions.width = G.width();
        }
        G.css(cssOptions);
        G.addClass(l.options.baseClassName);
        if (l.options.className) {
          G.addClass(l.options.className);
        }
        H = "fixed";
      }
    }
    function b() {
      var J = n();
      var I = q;
      if (l.options.removeOffsets) {
        I = "";
        J = J - D;
      }
      cssOptions = {
        position: "absolute",
        top: J,
        left: I,
        "margin-left": "0px",
        bottom: "",
      };
      if (!l.options.dontSetWidth) {
        cssOptions.width = G.width();
      }
      G.css(cssOptions);
      H = "absolute";
    }
    function k() {
      if (!h()) {
        f = -1;
        t.css("display", "none");
        G.css({
          "z-index": y,
          width: "",
          position: E,
          left: "",
          top: e,
          "margin-left": "",
        });
        G.removeClass("scroll-to-fixed-fixed");
        if (l.options.className) {
          G.removeClass(l.options.className);
        }
        H = null;
      }
    }
    function v(I) {
      if (I != f) {
        G.css("left", q - I);
        f = I;
      }
    }
    function s() {
      var I = l.options.marginTop;
      if (!I) {
        return 0;
      }
      if (typeof I === "function") {
        return I.apply(G);
      }
      return I;
    }
    function A() {
      if (!a.isScrollToFixed(G)) {
        return;
      }
      var K = c;
      if (!c) {
        u();
      } else {
        if (h()) {
          D = G.offset().top;
          q = G.offset().left;
        }
      }
      var I = a(window).scrollLeft();
      var L = a(window).scrollTop();
      var J = n();
      if (l.options.minWidth && a(window).width() < l.options.minWidth) {
        if (!h() || !K) {
          o();
          G.trigger("preUnfixed.ScrollToFixed");
          k();
          G.trigger("unfixed.ScrollToFixed");
        }
      } else {
        if (l.options.maxWidth && a(window).width() > l.options.maxWidth) {
          if (!h() || !K) {
            o();
            G.trigger("preUnfixed.ScrollToFixed");
            k();
            G.trigger("unfixed.ScrollToFixed");
          }
        } else {
          if (l.options.bottom == -1) {
            if (J > 0 && L >= J - s()) {
              if (!x() || !K) {
                o();
                G.trigger("preAbsolute.ScrollToFixed");
                b();
                G.trigger("unfixed.ScrollToFixed");
              }
            } else {
              if (L >= D - s()) {
                if (!p() || !K) {
                  o();
                  G.trigger("preFixed.ScrollToFixed");
                  w();
                  f = -1;
                  G.trigger("fixed.ScrollToFixed");
                }
                v(I);
              } else {
                if (!h() || !K) {
                  o();
                  G.trigger("preUnfixed.ScrollToFixed");
                  k();
                  G.trigger("unfixed.ScrollToFixed");
                }
              }
            }
          } else {
            if (J > 0) {
              if (
                L + a(window).height() - G.outerHeight(true) >=
                J - (s() || -m())
              ) {
                if (p()) {
                  o();
                  G.trigger("preUnfixed.ScrollToFixed");
                  if (E === "absolute") {
                    b();
                  } else {
                    k();
                  }
                  G.trigger("unfixed.ScrollToFixed");
                }
              } else {
                if (!p()) {
                  o();
                  G.trigger("preFixed.ScrollToFixed");
                  w();
                }
                v(I);
                G.trigger("fixed.ScrollToFixed");
              }
            } else {
              v(I);
            }
          }
        }
      }
    }
    function m() {
      if (!l.options.bottom) {
        return 0;
      }
      return l.options.bottom;
    }
    function o() {
      var I = G.css("position");
      if (I == "absolute") {
        G.trigger("postAbsolute.ScrollToFixed");
      } else {
        if (I == "fixed") {
          G.trigger("postFixed.ScrollToFixed");
        } else {
          G.trigger("postUnfixed.ScrollToFixed");
        }
      }
    }
    var C = function (I) {
      if (G.is(":visible")) {
        c = false;
        A();
      }
    };
    var F = function (I) {
      !!window.requestAnimationFrame ? requestAnimationFrame(A) : A();
    };
    var B = function () {
      var J = document.body;
      if (document.createElement && J && J.appendChild && J.removeChild) {
        var L = document.createElement("div");
        if (!L.getBoundingClientRect) {
          return null;
        }
        L.innerHTML = "x";
        L.style.cssText = "position:fixed;top:100px;";
        J.appendChild(L);
        var M = J.style.height,
          N = J.scrollTop;
        J.style.height = "3000px";
        J.scrollTop = 500;
        var I = L.getBoundingClientRect().top;
        J.style.height = M;
        var K = I === 100;
        J.removeChild(L);
        J.scrollTop = N;
        return K;
      }
      return null;
    };
    var r = function (I) {
      I = I || window.event;
      if (I.preventDefault) {
        I.preventDefault();
      }
      I.returnValue = false;
    };
    l.init = function () {
      l.options = a.extend({}, a.ScrollToFixed.defaultOptions, i);
      y = G.css("z-index");
      l.$el.css("z-index", l.options.zIndex);
      t = a("<div />");
      H = G.css("position");
      E = G.css("position");
      e = G.css("top");
      if (h()) {
        l.$el.after(t);
      }
      a(window).bind("resize.ScrollToFixed", C);
      a(window).bind("scroll.ScrollToFixed", F);
      if ("ontouchmove" in window) {
        a(window).bind("touchmove.ScrollToFixed", A);
      }
      if (l.options.preFixed) {
        G.bind("preFixed.ScrollToFixed", l.options.preFixed);
      }
      if (l.options.postFixed) {
        G.bind("postFixed.ScrollToFixed", l.options.postFixed);
      }
      if (l.options.preUnfixed) {
        G.bind("preUnfixed.ScrollToFixed", l.options.preUnfixed);
      }
      if (l.options.postUnfixed) {
        G.bind("postUnfixed.ScrollToFixed", l.options.postUnfixed);
      }
      if (l.options.preAbsolute) {
        G.bind("preAbsolute.ScrollToFixed", l.options.preAbsolute);
      }
      if (l.options.postAbsolute) {
        G.bind("postAbsolute.ScrollToFixed", l.options.postAbsolute);
      }
      if (l.options.fixed) {
        G.bind("fixed.ScrollToFixed", l.options.fixed);
      }
      if (l.options.unfixed) {
        G.bind("unfixed.ScrollToFixed", l.options.unfixed);
      }
      if (l.options.spacerClass) {
        t.addClass(l.options.spacerClass);
      }
      G.bind("resize.ScrollToFixed", function () {
        t.height(G.height());
      });
      G.bind("scroll.ScrollToFixed", function () {
        G.trigger("preUnfixed.ScrollToFixed");
        k();
        G.trigger("unfixed.ScrollToFixed");
        A();
      });
      G.bind("detach.ScrollToFixed", function (I) {
        r(I);
        G.trigger("preUnfixed.ScrollToFixed");
        k();
        G.trigger("unfixed.ScrollToFixed");
        a(window).unbind("resize.ScrollToFixed", C);
        a(window).unbind("scroll.ScrollToFixed", F);
        G.unbind(".ScrollToFixed");
        t.remove();
        l.$el.removeData("ScrollToFixed");
      });
      C();
    };
    l.init();
  };
  a.ScrollToFixed.defaultOptions = {
    marginTop: 0,
    limit: 0,
    bottom: -1,
    zIndex: 1000,
    baseClassName: "scroll-to-fixed-fixed",
  };
  a.fn.scrollToFixed = function (b) {
    return this.each(function () {
      new a.ScrollToFixed(this, b);
    });
  };
})(jQuery);
/**
 * jquery.Jcrop.min.js v0.9.12 (build:20130202)
 * jQuery Image Cropping Plugin - released under MIT License
 * Copyright (c) 2008-2013 Tapmodo Interactive LLC
 * https://github.com/tapmodo/Jcrop
 */
(function (a) {
  (a.Jcrop = function (b, c) {
    function i(a) {
      return Math.round(a) + "px";
    }
    function j(a) {
      return d.baseClass + "-" + a;
    }
    function k() {
      return a.fx.step.hasOwnProperty("backgroundColor");
    }
    function l(b) {
      var c = a(b).offset();
      return [c.left, c.top];
    }
    function m(a) {
      return [a.pageX - e[0], a.pageY - e[1]];
    }
    function n(b) {
      typeof b != "object" && (b = {}),
        (d = a.extend(d, b)),
        a.each(
          ["onChange", "onSelect", "onRelease", "onDblClick"],
          function (a, b) {
            typeof d[b] != "function" && (d[b] = function () {});
          }
        );
    }
    function o(a, b, c) {
      (e = l(D)), bc.setCursor(a === "move" ? a : a + "-resize");
      if (a === "move") return bc.activateHandlers(q(b), v, c);
      var d = _.getFixed(),
        f = r(a),
        g = _.getCorner(r(f));
      _.setPressed(_.getCorner(f)),
        _.setCurrent(g),
        bc.activateHandlers(p(a, d), v, c);
    }
    function p(a, b) {
      return function (c) {
        if (!d.aspectRatio)
          switch (a) {
            case "e":
              c[1] = b.y2;
              break;
            case "w":
              c[1] = b.y2;
              break;
            case "n":
              c[0] = b.x2;
              break;
            case "s":
              c[0] = b.x2;
          }
        else
          switch (a) {
            case "e":
              c[1] = b.y + 1;
              break;
            case "w":
              c[1] = b.y + 1;
              break;
            case "n":
              c[0] = b.x + 1;
              break;
            case "s":
              c[0] = b.x + 1;
          }
        _.setCurrent(c), bb.update();
      };
    }
    function q(a) {
      var b = a;
      return (
        bd.watchKeys(),
        function (a) {
          _.moveOffset([a[0] - b[0], a[1] - b[1]]), (b = a), bb.update();
        }
      );
    }
    function r(a) {
      switch (a) {
        case "n":
          return "sw";
        case "s":
          return "nw";
        case "e":
          return "nw";
        case "w":
          return "ne";
        case "ne":
          return "sw";
        case "nw":
          return "se";
        case "se":
          return "nw";
        case "sw":
          return "ne";
      }
    }
    function s(a) {
      return function (b) {
        return d.disabled
          ? !1
          : a === "move" && !d.allowMove
          ? !1
          : ((e = l(D)),
            (W = !0),
            o(a, m(b)),
            b.stopPropagation(),
            b.preventDefault(),
            !1);
      };
    }
    function t(a, b, c) {
      var d = a.width(),
        e = a.height();
      d > b && b > 0 && ((d = b), (e = (b / a.width()) * a.height())),
        e > c && c > 0 && ((e = c), (d = (c / a.height()) * a.width())),
        (T = a.width() / d),
        (U = a.height() / e),
        a.width(d).height(e);
    }
    function u(a) {
      return {
        x: a.x * T,
        y: a.y * U,
        x2: a.x2 * T,
        y2: a.y2 * U,
        w: a.w * T,
        h: a.h * U,
      };
    }
    function v(a) {
      var b = _.getFixed();
      b.w > d.minSelect[0] && b.h > d.minSelect[1]
        ? (bb.enableHandles(), bb.done())
        : bb.release(),
        bc.setCursor(d.allowSelect ? "crosshair" : "default");
    }
    function w(a) {
      if (d.disabled) return !1;
      if (!d.allowSelect) return !1;
      (W = !0), (e = l(D)), bb.disableHandles(), bc.setCursor("crosshair");
      var b = m(a);
      return (
        _.setPressed(b),
        bb.update(),
        bc.activateHandlers(x, v, a.type.substring(0, 5) === "touch"),
        bd.watchKeys(),
        a.stopPropagation(),
        a.preventDefault(),
        !1
      );
    }
    function x(a) {
      _.setCurrent(a), bb.update();
    }
    function y() {
      var b = a("<div></div>").addClass(j("tracker"));
      return g && b.css({ opacity: 0, backgroundColor: "white" }), b;
    }
    function be(a) {
      G.removeClass().addClass(j("holder")).addClass(a);
    }
    function bf(a, b) {
      function t() {
        window.setTimeout(u, l);
      }
      var c = a[0] / T,
        e = a[1] / U,
        f = a[2] / T,
        g = a[3] / U;
      if (X) return;
      var h = _.flipCoords(c, e, f, g),
        i = _.getFixed(),
        j = [i.x, i.y, i.x2, i.y2],
        k = j,
        l = d.animationDelay,
        m = h[0] - j[0],
        n = h[1] - j[1],
        o = h[2] - j[2],
        p = h[3] - j[3],
        q = 0,
        r = d.swingSpeed;
      (c = k[0]), (e = k[1]), (f = k[2]), (g = k[3]), bb.animMode(!0);
      var s,
        u = (function () {
          return function () {
            (q += (100 - q) / r),
              (k[0] = Math.round(c + (q / 100) * m)),
              (k[1] = Math.round(e + (q / 100) * n)),
              (k[2] = Math.round(f + (q / 100) * o)),
              (k[3] = Math.round(g + (q / 100) * p)),
              q >= 99.8 && (q = 100),
              q < 100
                ? (bh(k), t())
                : (bb.done(),
                  bb.animMode(!1),
                  typeof b == "function" && b.call(bs));
          };
        })();
      t();
    }
    function bg(a) {
      bh([a[0] / T, a[1] / U, a[2] / T, a[3] / U]),
        d.onSelect.call(bs, u(_.getFixed())),
        bb.enableHandles();
    }
    function bh(a) {
      _.setPressed([a[0], a[1]]), _.setCurrent([a[2], a[3]]), bb.update();
    }
    function bi() {
      return u(_.getFixed());
    }
    function bj() {
      return _.getFixed();
    }
    function bk(a) {
      n(a), br();
    }
    function bl() {
      (d.disabled = !0),
        bb.disableHandles(),
        bb.setCursor("default"),
        bc.setCursor("default");
    }
    function bm() {
      (d.disabled = !1), br();
    }
    function bn() {
      bb.done(), bc.activateHandlers(null, null);
    }
    function bo() {
      G.remove(),
        A.show(),
        A.css("visibility", "visible"),
        a(b).removeData("Jcrop");
    }
    function bp(a, b) {
      bb.release(), bl();
      var c = new Image();
      (c.onload = function () {
        var e = c.width,
          f = c.height,
          g = d.boxWidth,
          h = d.boxHeight;
        D.width(e).height(f),
          D.attr("src", a),
          H.attr("src", a),
          t(D, g, h),
          (E = D.width()),
          (F = D.height()),
          H.width(E).height(F),
          M.width(E + L * 2).height(F + L * 2),
          G.width(E).height(F),
          ba.resize(E, F),
          bm(),
          typeof b == "function" && b.call(bs);
      }),
        (c.src = a);
    }
    function bq(a, b, c) {
      var e = b || d.bgColor;
      d.bgFade && k() && d.fadeTime && !c
        ? a.animate({ backgroundColor: e }, { queue: !1, duration: d.fadeTime })
        : a.css("backgroundColor", e);
    }
    function br(a) {
      d.allowResize
        ? a
          ? bb.enableOnly()
          : bb.enableHandles()
        : bb.disableHandles(),
        bc.setCursor(d.allowSelect ? "crosshair" : "default"),
        bb.setCursor(d.allowMove ? "move" : "default"),
        d.hasOwnProperty("trueSize") &&
          ((T = d.trueSize[0] / E), (U = d.trueSize[1] / F)),
        d.hasOwnProperty("setSelect") &&
          (bg(d.setSelect), bb.done(), delete d.setSelect),
        ba.refresh(),
        d.bgColor != N &&
          (bq(
            d.shade ? ba.getShades() : G,
            d.shade ? d.shadeColor || d.bgColor : d.bgColor
          ),
          (N = d.bgColor)),
        O != d.bgOpacity &&
          ((O = d.bgOpacity), d.shade ? ba.refresh() : bb.setBgOpacity(O)),
        (P = d.maxSize[0] || 0),
        (Q = d.maxSize[1] || 0),
        (R = d.minSize[0] || 0),
        (S = d.minSize[1] || 0),
        d.hasOwnProperty("outerImage") &&
          (D.attr("src", d.outerImage), delete d.outerImage),
        bb.refresh();
    }
    var d = a.extend({}, a.Jcrop.defaults),
      e,
      f = navigator.userAgent.toLowerCase(),
      g = /msie/.test(f),
      h = /msie [1-6]\./.test(f);
    typeof b != "object" && (b = a(b)[0]),
      typeof c != "object" && (c = {}),
      n(c);
    var z = {
        border: "none",
        visibility: "visible",
        margin: 0,
        padding: 0,
        position: "absolute",
        top: 0,
        left: 0,
      },
      A = a(b),
      B = !0;
    if (b.tagName == "IMG") {
      if (A[0].width != 0 && A[0].height != 0)
        A.width(A[0].width), A.height(A[0].height);
      else {
        var C = new Image();
        (C.src = A[0].src), A.width(C.width), A.height(C.height);
      }
      var D = A.clone().removeAttr("id").css(z).show();
      D.width(A.width()), D.height(A.height()), A.after(D).hide();
    } else (D = A.css(z).show()), (B = !1), d.shade === null && (d.shade = !0);
    t(D, d.boxWidth, d.boxHeight);
    var E = D.width(),
      F = D.height(),
      G = a("<div />")
        .width(E)
        .height(F)
        .addClass(j("holder"))
        .css({ position: "relative", backgroundColor: d.bgColor })
        .insertAfter(A)
        .append(D);
    d.addClass && G.addClass(d.addClass);
    var H = a("<div />"),
      I = a("<div />")
        .width("100%")
        .height("100%")
        .css({ zIndex: 310, position: "absolute", overflow: "hidden" }),
      J = a("<div />").width("100%").height("100%").css("zIndex", 320),
      K = a("<div />")
        .css({ position: "absolute", zIndex: 600 })
        .dblclick(function () {
          var a = _.getFixed();
          d.onDblClick.call(bs, a);
        })
        .insertBefore(D)
        .append(I, J);
    B &&
      ((H = a("<img />").attr("src", D.attr("src")).css(z).width(E).height(F)),
      I.append(H)),
      h && K.css({ overflowY: "hidden" });
    var L = d.boundary,
      M = y()
        .width(E + L * 2)
        .height(F + L * 2)
        .css({ position: "absolute", top: i(-L), left: i(-L), zIndex: 290 })
        .mousedown(w),
      N = d.bgColor,
      O = d.bgOpacity,
      P,
      Q,
      R,
      S,
      T,
      U,
      V = !0,
      W,
      X,
      Y;
    e = l(D);
    var Z = (function () {
        function a() {
          var a = {},
            b = ["touchstart", "touchmove", "touchend"],
            c = document.createElement("div"),
            d;
          try {
            for (d = 0; d < b.length; d++) {
              var e = b[d];
              e = "on" + e;
              var f = e in c;
              f ||
                (c.setAttribute(e, "return;"), (f = typeof c[e] == "function")),
                (a[b[d]] = f);
            }
            return a.touchstart && a.touchend && a.touchmove;
          } catch (g) {
            return !1;
          }
        }
        function b() {
          return d.touchSupport === !0 || d.touchSupport === !1
            ? d.touchSupport
            : a();
        }
        return {
          createDragger: function (a) {
            return function (b) {
              return d.disabled
                ? !1
                : a === "move" && !d.allowMove
                ? !1
                : ((e = l(D)),
                  (W = !0),
                  o(a, m(Z.cfilter(b)), !0),
                  b.stopPropagation(),
                  b.preventDefault(),
                  !1);
            };
          },
          newSelection: function (a) {
            return w(Z.cfilter(a));
          },
          cfilter: function (a) {
            return (
              (a.pageX = a.originalEvent.changedTouches[0].pageX),
              (a.pageY = a.originalEvent.changedTouches[0].pageY),
              a
            );
          },
          isSupported: a,
          support: b(),
        };
      })(),
      _ = (function () {
        function h(d) {
          (d = n(d)), (c = a = d[0]), (e = b = d[1]);
        }
        function i(a) {
          (a = n(a)), (f = a[0] - c), (g = a[1] - e), (c = a[0]), (e = a[1]);
        }
        function j() {
          return [f, g];
        }
        function k(d) {
          var f = d[0],
            g = d[1];
          0 > a + f && (f -= f + a),
            0 > b + g && (g -= g + b),
            F < e + g && (g += F - (e + g)),
            E < c + f && (f += E - (c + f)),
            (a += f),
            (c += f),
            (b += g),
            (e += g);
        }
        function l(a) {
          var b = m();
          switch (a) {
            case "ne":
              return [b.x2, b.y];
            case "nw":
              return [b.x, b.y];
            case "se":
              return [b.x2, b.y2];
            case "sw":
              return [b.x, b.y2];
          }
        }
        function m() {
          if (!d.aspectRatio) return p();
          var f = d.aspectRatio,
            g = d.minSize[0] / T,
            h = d.maxSize[0] / T,
            i = d.maxSize[1] / U,
            j = c - a,
            k = e - b,
            l = Math.abs(j),
            m = Math.abs(k),
            n = l / m,
            r,
            s,
            t,
            u;
          return (
            h === 0 && (h = E * 10),
            i === 0 && (i = F * 10),
            n < f
              ? ((s = e),
                (t = m * f),
                (r = j < 0 ? a - t : t + a),
                r < 0
                  ? ((r = 0),
                    (u = Math.abs((r - a) / f)),
                    (s = k < 0 ? b - u : u + b))
                  : r > E &&
                    ((r = E),
                    (u = Math.abs((r - a) / f)),
                    (s = k < 0 ? b - u : u + b)))
              : ((r = c),
                (u = l / f),
                (s = k < 0 ? b - u : b + u),
                s < 0
                  ? ((s = 0),
                    (t = Math.abs((s - b) * f)),
                    (r = j < 0 ? a - t : t + a))
                  : s > F &&
                    ((s = F),
                    (t = Math.abs(s - b) * f),
                    (r = j < 0 ? a - t : t + a))),
            r > a
              ? (r - a < g ? (r = a + g) : r - a > h && (r = a + h),
                s > b ? (s = b + (r - a) / f) : (s = b - (r - a) / f))
              : r < a &&
                (a - r < g ? (r = a - g) : a - r > h && (r = a - h),
                s > b ? (s = b + (a - r) / f) : (s = b - (a - r) / f)),
            r < 0 ? ((a -= r), (r = 0)) : r > E && ((a -= r - E), (r = E)),
            s < 0 ? ((b -= s), (s = 0)) : s > F && ((b -= s - F), (s = F)),
            q(o(a, b, r, s))
          );
        }
        function n(a) {
          return (
            a[0] < 0 && (a[0] = 0),
            a[1] < 0 && (a[1] = 0),
            a[0] > E && (a[0] = E),
            a[1] > F && (a[1] = F),
            [Math.round(a[0]), Math.round(a[1])]
          );
        }
        function o(a, b, c, d) {
          var e = a,
            f = c,
            g = b,
            h = d;
          return (
            c < a && ((e = c), (f = a)),
            d < b && ((g = d), (h = b)),
            [e, g, f, h]
          );
        }
        function p() {
          var d = c - a,
            f = e - b,
            g;
          return (
            P && Math.abs(d) > P && (c = d > 0 ? a + P : a - P),
            Q && Math.abs(f) > Q && (e = f > 0 ? b + Q : b - Q),
            S / U && Math.abs(f) < S / U && (e = f > 0 ? b + S / U : b - S / U),
            R / T && Math.abs(d) < R / T && (c = d > 0 ? a + R / T : a - R / T),
            a < 0 && ((c -= a), (a -= a)),
            b < 0 && ((e -= b), (b -= b)),
            c < 0 && ((a -= c), (c -= c)),
            e < 0 && ((b -= e), (e -= e)),
            c > E && ((g = c - E), (a -= g), (c -= g)),
            e > F && ((g = e - F), (b -= g), (e -= g)),
            a > E && ((g = a - F), (e -= g), (b -= g)),
            b > F && ((g = b - F), (e -= g), (b -= g)),
            q(o(a, b, c, e))
          );
        }
        function q(a) {
          return {
            x: a[0],
            y: a[1],
            x2: a[2],
            y2: a[3],
            w: a[2] - a[0],
            h: a[3] - a[1],
          };
        }
        var a = 0,
          b = 0,
          c = 0,
          e = 0,
          f,
          g;
        return {
          flipCoords: o,
          setPressed: h,
          setCurrent: i,
          getOffset: j,
          moveOffset: k,
          getCorner: l,
          getFixed: m,
        };
      })(),
      ba = (function () {
        function f(a, b) {
          e.left.css({ height: i(b) }), e.right.css({ height: i(b) });
        }
        function g() {
          return h(_.getFixed());
        }
        function h(a) {
          e.top.css({ left: i(a.x), width: i(a.w), height: i(a.y) }),
            e.bottom.css({
              top: i(a.y2),
              left: i(a.x),
              width: i(a.w),
              height: i(F - a.y2),
            }),
            e.right.css({ left: i(a.x2), width: i(E - a.x2) }),
            e.left.css({ width: i(a.x) });
        }
        function j() {
          return a("<div />")
            .css({
              position: "absolute",
              backgroundColor: d.shadeColor || d.bgColor,
            })
            .appendTo(c);
        }
        function k() {
          b ||
            ((b = !0),
            c.insertBefore(D),
            g(),
            bb.setBgOpacity(1, 0, 1),
            H.hide(),
            l(d.shadeColor || d.bgColor, 1),
            bb.isAwake() ? n(d.bgOpacity, 1) : n(1, 1));
        }
        function l(a, b) {
          bq(p(), a, b);
        }
        function m() {
          b &&
            (c.remove(),
            H.show(),
            (b = !1),
            bb.isAwake()
              ? bb.setBgOpacity(d.bgOpacity, 1, 1)
              : (bb.setBgOpacity(1, 1, 1), bb.disableHandles()),
            bq(G, 0, 1));
        }
        function n(a, e) {
          b &&
            (d.bgFade && !e
              ? c.animate(
                  { opacity: 1 - a },
                  { queue: !1, duration: d.fadeTime }
                )
              : c.css({ opacity: 1 - a }));
        }
        function o() {
          d.shade ? k() : m(), bb.isAwake() && n(d.bgOpacity);
        }
        function p() {
          return c.children();
        }
        var b = !1,
          c = a("<div />").css({
            position: "absolute",
            zIndex: 240,
            opacity: 0,
          }),
          e = {
            top: j(),
            left: j().height(F),
            right: j().height(F),
            bottom: j(),
          };
        return {
          update: g,
          updateRaw: h,
          getShades: p,
          setBgColor: l,
          enable: k,
          disable: m,
          resize: f,
          refresh: o,
          opacity: n,
        };
      })(),
      bb = (function () {
        function k(b) {
          var c = a("<div />")
            .css({ position: "absolute", opacity: d.borderOpacity })
            .addClass(j(b));
          return I.append(c), c;
        }
        function l(b, c) {
          var d = a("<div />")
            .mousedown(s(b))
            .css({ cursor: b + "-resize", position: "absolute", zIndex: c })
            .addClass("ord-" + b);
          return (
            Z.support && d.bind("touchstart.jcrop", Z.createDragger(b)),
            J.append(d),
            d
          );
        }
        function m(a) {
          var b = d.handleSize,
            e = l(a, c++)
              .css({ opacity: d.handleOpacity })
              .addClass(j("handle"));
          return b && e.width(b).height(b), e;
        }
        function n(a) {
          return l(a, c++).addClass("jcrop-dragbar");
        }
        function o(a) {
          var b;
          for (b = 0; b < a.length; b++) g[a[b]] = n(a[b]);
        }
        function p(a) {
          var b, c;
          for (c = 0; c < a.length; c++) {
            switch (a[c]) {
              case "n":
                b = "hline";
                break;
              case "s":
                b = "hline bottom";
                break;
              case "e":
                b = "vline right";
                break;
              case "w":
                b = "vline";
            }
            e[a[c]] = k(b);
          }
        }
        function q(a) {
          var b;
          for (b = 0; b < a.length; b++) f[a[b]] = m(a[b]);
        }
        function r(a, b) {
          d.shade || H.css({ top: i(-b), left: i(-a) }),
            K.css({ top: i(b), left: i(a) });
        }
        function t(a, b) {
          K.width(Math.round(a)).height(Math.round(b));
        }
        function v() {
          var a = _.getFixed();
          _.setPressed([a.x, a.y]), _.setCurrent([a.x2, a.y2]), w();
        }
        function w(a) {
          if (b) return x(a);
        }
        function x(a) {
          var c = _.getFixed();
          t(c.w, c.h),
            r(c.x, c.y),
            d.shade && ba.updateRaw(c),
            b || A(),
            a ? d.onSelect.call(bs, u(c)) : d.onChange.call(bs, u(c));
        }
        function z(a, c, e) {
          if (!b && !c) return;
          d.bgFade && !e
            ? D.animate({ opacity: a }, { queue: !1, duration: d.fadeTime })
            : D.css("opacity", a);
        }
        function A() {
          K.show(), d.shade ? ba.opacity(O) : z(O, !0), (b = !0);
        }
        function B() {
          F(),
            K.hide(),
            d.shade ? ba.opacity(1) : z(1),
            (b = !1),
            d.onRelease.call(bs);
        }
        function C() {
          h && J.show();
        }
        function E() {
          h = !0;
          if (d.allowResize) return J.show(), !0;
        }
        function F() {
          (h = !1), J.hide();
        }
        function G(a) {
          a ? ((X = !0), F()) : ((X = !1), E());
        }
        function L() {
          G(!1), v();
        }
        var b,
          c = 370,
          e = {},
          f = {},
          g = {},
          h = !1;
        d.dragEdges && a.isArray(d.createDragbars) && o(d.createDragbars),
          a.isArray(d.createHandles) && q(d.createHandles),
          d.drawBorders && a.isArray(d.createBorders) && p(d.createBorders),
          a(document).bind("touchstart.jcrop-ios", function (b) {
            a(b.currentTarget).hasClass("jcrop-tracker") && b.stopPropagation();
          });
        var M = y()
          .mousedown(s("move"))
          .css({ cursor: "move", position: "absolute", zIndex: 360 });
        return (
          Z.support && M.bind("touchstart.jcrop", Z.createDragger("move")),
          I.append(M),
          F(),
          {
            updateVisible: w,
            update: x,
            release: B,
            refresh: v,
            isAwake: function () {
              return b;
            },
            setCursor: function (a) {
              M.css("cursor", a);
            },
            enableHandles: E,
            enableOnly: function () {
              h = !0;
            },
            showHandles: C,
            disableHandles: F,
            animMode: G,
            setBgOpacity: z,
            done: L,
          }
        );
      })(),
      bc = (function () {
        function f(b) {
          M.css({ zIndex: 450 }),
            b
              ? a(document).bind("touchmove.jcrop", k).bind("touchend.jcrop", l)
              : e &&
                a(document).bind("mousemove.jcrop", h).bind("mouseup.jcrop", i);
        }
        function g() {
          M.css({ zIndex: 290 }), a(document).unbind(".jcrop");
        }
        function h(a) {
          return b(m(a)), !1;
        }
        function i(a) {
          return (
            a.preventDefault(),
            a.stopPropagation(),
            W &&
              ((W = !1),
              c(m(a)),
              bb.isAwake() && d.onSelect.call(bs, u(_.getFixed())),
              g(),
              (b = function () {}),
              (c = function () {})),
            !1
          );
        }
        function j(a, d, e) {
          return (W = !0), (b = a), (c = d), f(e), !1;
        }
        function k(a) {
          return b(m(Z.cfilter(a))), !1;
        }
        function l(a) {
          return i(Z.cfilter(a));
        }
        function n(a) {
          M.css("cursor", a);
        }
        var b = function () {},
          c = function () {},
          e = d.trackDocument;
        return (
          e || M.mousemove(h).mouseup(i).mouseout(i),
          D.before(M),
          { activateHandlers: j, setCursor: n }
        );
      })(),
      bd = (function () {
        function e() {
          d.keySupport && (b.show(), b.focus());
        }
        function f(a) {
          b.hide();
        }
        function g(a, b, c) {
          d.allowMove && (_.moveOffset([b, c]), bb.updateVisible(!0)),
            a.preventDefault(),
            a.stopPropagation();
        }
        function i(a) {
          if (a.ctrlKey || a.metaKey) return !0;
          Y = a.shiftKey ? !0 : !1;
          var b = Y ? 10 : 1;
          switch (a.keyCode) {
            case 37:
              g(a, -b, 0);
              break;
            case 39:
              g(a, b, 0);
              break;
            case 38:
              g(a, 0, -b);
              break;
            case 40:
              g(a, 0, b);
              break;
            case 27:
              d.allowSelect && bb.release();
              break;
            case 9:
              return !0;
          }
          return !1;
        }
        var b = a('<input type="radio" />')
            .css({ position: "fixed", left: "-120px", width: "12px" })
            .addClass("jcrop-keymgr"),
          c = a("<div />")
            .css({ position: "absolute", overflow: "hidden" })
            .append(b);
        return (
          d.keySupport &&
            (b.keydown(i).blur(f),
            h || !d.fixedSupport
              ? (b.css({ position: "absolute", left: "-20px" }),
                c.append(b).insertBefore(D))
              : b.insertBefore(D)),
          { watchKeys: e }
        );
      })();
    Z.support && M.bind("touchstart.jcrop", Z.newSelection), J.hide(), br(!0);
    var bs = {
      setImage: bp,
      animateTo: bf,
      setSelect: bg,
      setOptions: bk,
      tellSelect: bi,
      tellScaled: bj,
      setClass: be,
      disable: bl,
      enable: bm,
      cancel: bn,
      release: bb.release,
      destroy: bo,
      focus: bd.watchKeys,
      getBounds: function () {
        return [E * T, F * U];
      },
      getWidgetSize: function () {
        return [E, F];
      },
      getScaleFactor: function () {
        return [T, U];
      },
      getOptions: function () {
        return d;
      },
      ui: { holder: G, selection: K },
    };
    return (
      g &&
        G.bind("selectstart", function () {
          return !1;
        }),
      A.data("Jcrop", bs),
      bs
    );
  }),
    (a.fn.Jcrop = function (b, c) {
      var d;
      return (
        this.each(function () {
          if (a(this).data("Jcrop")) {
            if (b === "api") return a(this).data("Jcrop");
            a(this).data("Jcrop").setOptions(b);
          } else
            this.tagName == "IMG"
              ? a.Jcrop.Loader(this, function () {
                  a(this).css({ display: "block", visibility: "hidden" }),
                    (d = a.Jcrop(this, b)),
                    a.isFunction(c) && c.call(d);
                })
              : (a(this).css({ display: "block", visibility: "hidden" }),
                (d = a.Jcrop(this, b)),
                a.isFunction(c) && c.call(d));
        }),
        this
      );
    }),
    (a.Jcrop.Loader = function (b, c, d) {
      function g() {
        f.complete
          ? (e.unbind(".jcloader"), a.isFunction(c) && c.call(f))
          : window.setTimeout(g, 50);
      }
      var e = a(b),
        f = e[0];
      e.bind("load.jcloader", g).bind("error.jcloader", function (b) {
        e.unbind(".jcloader"), a.isFunction(d) && d.call(f);
      }),
        f.complete && a.isFunction(c) && (e.unbind(".jcloader"), c.call(f));
    }),
    (a.Jcrop.defaults = {
      allowSelect: !0,
      allowMove: !0,
      allowResize: !0,
      trackDocument: !0,
      baseClass: "jcrop",
      addClass: null,
      bgColor: "black",
      bgOpacity: 0.6,
      bgFade: !1,
      borderOpacity: 0.4,
      handleOpacity: 0.5,
      handleSize: null,
      aspectRatio: 0,
      keySupport: !0,
      createHandles: ["n", "s", "e", "w", "nw", "ne", "se", "sw"],
      createDragbars: ["n", "s", "e", "w"],
      createBorders: ["n", "s", "e", "w"],
      drawBorders: !0,
      dragEdges: !0,
      fixedSupport: !0,
      touchSupport: null,
      shade: null,
      boxWidth: 0,
      boxHeight: 0,
      boundary: 2,
      fadeTime: 400,
      animationDelay: 20,
      swingSpeed: 3,
      minSelect: [0, 0],
      maxSize: [0, 0],
      minSize: [0, 0],
      onChange: function () {},
      onSelect: function () {},
      onDblClick: function () {},
      onRelease: function () {},
    });
})(jQuery);
/*!
 * jQuery Color Animations v2.0pre
 * http://jquery.org/
 *
 * Copyright 2011 John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */

(function (jQuery, undefined) {
  var stepHooks =
      "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(
        " "
      ),
    // plusequals test for += 100 -= 100
    rplusequals = /^([\-+])=\s*(\d+\.?\d*)/,
    // a set of RE's that can match strings and generate color tuples.
    stringParsers = [
      {
        re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
        parse: function (execResult) {
          return [execResult[1], execResult[2], execResult[3], execResult[4]];
        },
      },
      {
        re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
        parse: function (execResult) {
          return [
            2.55 * execResult[1],
            2.55 * execResult[2],
            2.55 * execResult[3],
            execResult[4],
          ];
        },
      },
      {
        re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
        parse: function (execResult) {
          return [
            parseInt(execResult[1], 16),
            parseInt(execResult[2], 16),
            parseInt(execResult[3], 16),
          ];
        },
      },
      {
        re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,
        parse: function (execResult) {
          return [
            parseInt(execResult[1] + execResult[1], 16),
            parseInt(execResult[2] + execResult[2], 16),
            parseInt(execResult[3] + execResult[3], 16),
          ];
        },
      },
      {
        re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
        space: "hsla",
        parse: function (execResult) {
          return [
            execResult[1],
            execResult[2] / 100,
            execResult[3] / 100,
            execResult[4],
          ];
        },
      },
    ],
    // jQuery.Color( )
    color = (jQuery.Color = function (color, green, blue, alpha) {
      return new jQuery.Color.fn.parse(color, green, blue, alpha);
    }),
    spaces = {
      rgba: {
        cache: "_rgba",
        props: {
          red: {
            idx: 0,
            type: "byte",
            empty: true,
          },
          green: {
            idx: 1,
            type: "byte",
            empty: true,
          },
          blue: {
            idx: 2,
            type: "byte",
            empty: true,
          },
          alpha: {
            idx: 3,
            type: "percent",
            def: 1,
          },
        },
      },
      hsla: {
        cache: "_hsla",
        props: {
          hue: {
            idx: 0,
            type: "degrees",
            empty: true,
          },
          saturation: {
            idx: 1,
            type: "percent",
            empty: true,
          },
          lightness: {
            idx: 2,
            type: "percent",
            empty: true,
          },
        },
      },
    },
    propTypes = {
      byte: {
        floor: true,
        min: 0,
        max: 255,
      },
      percent: {
        min: 0,
        max: 1,
      },
      degrees: {
        mod: 360,
        floor: true,
      },
    },
    rgbaspace = spaces.rgba.props,
    support = (color.support = {}),
    // colors = jQuery.Color.names
    colors,
    // local aliases of functions called often
    each = jQuery.each;

  spaces.hsla.props.alpha = rgbaspace.alpha;

  function clamp(value, prop, alwaysAllowEmpty) {
    var type = propTypes[prop.type] || {},
      allowEmpty = prop.empty || alwaysAllowEmpty;

    if (allowEmpty && value == null) {
      return null;
    }
    if (prop.def && value == null) {
      return prop.def;
    }
    if (type.floor) {
      value = ~~value;
    } else {
      value = parseFloat(value);
    }
    if (value == null || isNaN(value)) {
      return prop.def;
    }
    if (type.mod) {
      value = value % type.mod;
      // -10 -> 350
      return value < 0 ? type.mod + value : value;
    }

    // for now all property types without mod have min and max
    return type.min > value ? type.min : type.max < value ? type.max : value;
  }

  function stringParse(string) {
    var inst = color(),
      rgba = (inst._rgba = []);

    string = string.toLowerCase();

    each(stringParsers, function (i, parser) {
      var match = parser.re.exec(string),
        values = match && parser.parse(match),
        parsed,
        spaceName = parser.space || "rgba",
        cache = spaces[spaceName].cache;

      if (values) {
        parsed = inst[spaceName](values);

        // if this was an rgba parse the assignment might happen twice
        // oh well....
        inst[cache] = parsed[cache];
        rgba = inst._rgba = parsed._rgba;

        // exit each( stringParsers ) here because we matched
        return false;
      }
    });

    // Found a stringParser that handled it
    if (rgba.length !== 0) {
      // if this came from a parsed string, force "transparent" when alpha is 0
      // chrome, (and maybe others) return "transparent" as rgba(0,0,0,0)
      if (Math.max.apply(Math, rgba) === 0) {
        jQuery.extend(rgba, colors.transparent);
      }
      return inst;
    }

    // named colors / default - filter back through parse function
    if ((string = colors[string])) {
      return string;
    }
  }

  color.fn = color.prototype = {
    constructor: color,
    parse: function (red, green, blue, alpha) {
      if (red === undefined) {
        this._rgba = [null, null, null, null];
        return this;
      }
      if (red instanceof jQuery || red.nodeType) {
        red = red instanceof jQuery ? red.css(green) : jQuery(red).css(green);
        green = undefined;
      }

      var inst = this,
        type = jQuery.type(red),
        rgba = (this._rgba = []),
        source;

      // more than 1 argument specified - assume ( red, green, blue, alpha )
      if (green !== undefined) {
        red = [red, green, blue, alpha];
        type = "array";
      }

      if (type === "string") {
        return this.parse(stringParse(red) || colors._default);
      }

      if (type === "array") {
        each(rgbaspace, function (key, prop) {
          rgba[prop.idx] = clamp(red[prop.idx], prop);
        });
        return this;
      }

      if (type === "object") {
        if (red instanceof color) {
          each(spaces, function (spaceName, space) {
            if (red[space.cache]) {
              inst[space.cache] = red[space.cache].slice();
            }
          });
        } else {
          each(spaces, function (spaceName, space) {
            each(space.props, function (key, prop) {
              var cache = space.cache;

              // if the cache doesn't exist, and we know how to convert
              if (!inst[cache] && space.to) {
                // if the value was null, we don't need to copy it
                // if the key was alpha, we don't need to copy it either
                if (red[key] == null || key === "alpha") {
                  return;
                }
                inst[cache] = space.to(inst._rgba);
              }

              // this is the only case where we allow nulls for ALL properties.
              // call clamp with alwaysAllowEmpty
              inst[cache][prop.idx] = clamp(red[key], prop, true);
            });
          });
        }
        return this;
      }
    },
    is: function (compare) {
      var is = color(compare),
        same = true,
        myself = this;

      each(spaces, function (_, space) {
        var isCache = is[space.cache],
          localCache;
        if (isCache) {
          localCache =
            myself[space.cache] || (space.to && space.to(myself._rgba)) || [];
          each(space.props, function (_, prop) {
            if (isCache[prop.idx] != null) {
              same = isCache[prop.idx] === localCache[prop.idx];
              return same;
            }
          });
        }
        return same;
      });
      return same;
    },
    _space: function () {
      var used = [],
        inst = this;
      each(spaces, function (spaceName, space) {
        if (inst[space.cache]) {
          used.push(spaceName);
        }
      });
      return used.pop();
    },
    transition: function (other, distance) {
      var end = color(other),
        spaceName = end._space(),
        space = spaces[spaceName],
        start = this[space.cache] || space.to(this._rgba),
        result = start.slice();

      end = end[space.cache];
      each(space.props, function (key, prop) {
        var index = prop.idx,
          startValue = start[index],
          endValue = end[index],
          type = propTypes[prop.type] || {};

        // if null, don't override start value
        if (endValue === null) {
          return;
        }
        // if null - use end
        if (startValue === null) {
          result[index] = endValue;
        } else {
          if (type.mod) {
            if (endValue - startValue > type.mod / 2) {
              startValue += type.mod;
            } else if (startValue - endValue > type.mod / 2) {
              startValue -= type.mod;
            }
          }
          result[prop.idx] = clamp(
            (endValue - startValue) * distance + startValue,
            prop
          );
        }
      });
      return this[spaceName](result);
    },
    blend: function (opaque) {
      // if we are already opaque - return ourself
      if (this._rgba[3] === 1) {
        return this;
      }

      var rgb = this._rgba.slice(),
        a = rgb.pop(),
        blend = color(opaque)._rgba;

      return color(
        jQuery.map(rgb, function (v, i) {
          return (1 - a) * blend[i] + a * v;
        })
      );
    },
    toRgbaString: function () {
      var prefix = "rgba(",
        rgba = jQuery.map(this._rgba, function (v, i) {
          return v == null ? (i > 2 ? 1 : 0) : v;
        });

      if (rgba[3] === 1) {
        rgba.pop();
        prefix = "rgb(";
      }

      return prefix + rgba.join(",") + ")";
    },
    toHslaString: function () {
      var prefix = "hsla(",
        hsla = jQuery.map(this.hsla(), function (v, i) {
          if (v == null) {
            v = i > 2 ? 1 : 0;
          }

          // catch 1 and 2
          if (i && i < 3) {
            v = Math.round(v * 100) + "%";
          }
          return v;
        });

      if (hsla[3] === 1) {
        hsla.pop();
        prefix = "hsl(";
      }
      return prefix + hsla.join(",") + ")";
    },
    toHexString: function (includeAlpha) {
      var rgba = this._rgba.slice(),
        alpha = rgba.pop();

      if (includeAlpha) {
        rgba.push(~~(alpha * 255));
      }

      return (
        "#" +
        jQuery
          .map(rgba, function (v, i) {
            // default to 0 when nulls exist
            v = (v || 0).toString(16);
            return v.length === 1 ? "0" + v : v;
          })
          .join("")
      );
    },
    toString: function () {
      return this._rgba[3] === 0 ? "transparent" : this.toRgbaString();
    },
  };
  color.fn.parse.prototype = color.fn;

  // hsla conversions adapted from:
  // http://www.google.com/codesearch/p#OAMlx_jo-ck/src/third_party/WebKit/Source/WebCore/inspector/front-end/Color.js&d=7&l=193

  function hue2rgb(p, q, h) {
    h = (h + 1) % 1;
    if (h * 6 < 1) {
      return p + (q - p) * 6 * h;
    }
    if (h * 2 < 1) {
      return q;
    }
    if (h * 3 < 2) {
      return p + (q - p) * (2 / 3 - h) * 6;
    }
    return p;
  }

  spaces.hsla.to = function (rgba) {
    if (rgba[0] == null || rgba[1] == null || rgba[2] == null) {
      return [null, null, null, rgba[3]];
    }
    var r = rgba[0] / 255,
      g = rgba[1] / 255,
      b = rgba[2] / 255,
      a = rgba[3],
      max = Math.max(r, g, b),
      min = Math.min(r, g, b),
      diff = max - min,
      add = max + min,
      l = add * 0.5,
      h,
      s;

    if (min === max) {
      h = 0;
    } else if (r === max) {
      h = (60 * (g - b)) / diff + 360;
    } else if (g === max) {
      h = (60 * (b - r)) / diff + 120;
    } else {
      h = (60 * (r - g)) / diff + 240;
    }

    if (l === 0 || l === 1) {
      s = l;
    } else if (l <= 0.5) {
      s = diff / add;
    } else {
      s = diff / (2 - add);
    }
    return [Math.round(h) % 360, s, l, a == null ? 1 : a];
  };

  spaces.hsla.from = function (hsla) {
    if (hsla[0] == null || hsla[1] == null || hsla[2] == null) {
      return [null, null, null, hsla[3]];
    }
    var h = hsla[0] / 360,
      s = hsla[1],
      l = hsla[2],
      a = hsla[3],
      q = l <= 0.5 ? l * (1 + s) : l + s - l * s,
      p = 2 * l - q,
      r,
      g,
      b;

    return [
      Math.round(hue2rgb(p, q, h + 1 / 3) * 255),
      Math.round(hue2rgb(p, q, h) * 255),
      Math.round(hue2rgb(p, q, h - 1 / 3) * 255),
      a,
    ];
  };

  each(spaces, function (spaceName, space) {
    var props = space.props,
      cache = space.cache,
      to = space.to,
      from = space.from;

    // makes rgba() and hsla()
    color.fn[spaceName] = function (value) {
      // generate a cache for this space if it doesn't exist
      if (to && !this[cache]) {
        this[cache] = to(this._rgba);
      }
      if (value === undefined) {
        return this[cache].slice();
      }

      var type = jQuery.type(value),
        arr = type === "array" || type === "object" ? value : arguments,
        local = this[cache].slice(),
        ret;

      each(props, function (key, prop) {
        var val = arr[type === "object" ? key : prop.idx];
        if (val == null) {
          val = local[prop.idx];
        }
        local[prop.idx] = clamp(val, prop);
      });

      if (from) {
        ret = color(from(local));
        ret[cache] = local;
        return ret;
      } else {
        return color(local);
      }
    };

    // makes red() green() blue() alpha() hue() saturation() lightness()
    each(props, function (key, prop) {
      // alpha is included in more than one space
      if (color.fn[key]) {
        return;
      }
      color.fn[key] = function (value) {
        var vtype = jQuery.type(value),
          fn = key === "alpha" ? (this._hsla ? "hsla" : "rgba") : spaceName,
          local = this[fn](),
          cur = local[prop.idx],
          match;

        if (vtype === "undefined") {
          return cur;
        }

        if (vtype === "function") {
          value = value.call(this, cur);
          vtype = jQuery.type(value);
        }
        if (value == null && prop.empty) {
          return this;
        }
        if (vtype === "string") {
          match = rplusequals.exec(value);
          if (match) {
            value = cur + parseFloat(match[2]) * (match[1] === "+" ? 1 : -1);
          }
        }
        local[prop.idx] = value;
        return this[fn](local);
      };
    });
  });

  // add .fx.step functions
  each(stepHooks, function (i, hook) {
    jQuery.cssHooks[hook] = {
      set: function (elem, value) {
        var parsed, backgroundColor, curElem;

        if (jQuery.type(value) !== "string" || (parsed = stringParse(value))) {
          value = color(parsed || value);
          if (!support.rgba && value._rgba[3] !== 1) {
            curElem = hook === "backgroundColor" ? elem.parentNode : elem;
            do {
              backgroundColor = jQuery.curCSS(curElem, "backgroundColor");
            } while (
              (backgroundColor === "" || backgroundColor === "transparent") &&
              (curElem = curElem.parentNode) &&
              curElem.style
            );

            value = value.blend(
              backgroundColor && backgroundColor !== "transparent"
                ? backgroundColor
                : "_default"
            );
          }

          value = value.toRgbaString();
        }
        elem.style[hook] = value;
      },
    };
    jQuery.fx.step[hook] = function (fx) {
      if (!fx.colorInit) {
        fx.start = color(fx.elem, hook);
        fx.end = color(fx.end);
        fx.colorInit = true;
      }
      jQuery.cssHooks[hook].set(fx.elem, fx.start.transition(fx.end, fx.pos));
    };
  });

  // detect rgba support
  jQuery(function () {
    var div = document.createElement("div"),
      div_style = div.style;

    div_style.cssText = "background-color:rgba(1,1,1,.5)";
    support.rgba = div_style.backgroundColor.indexOf("rgba") > -1;
  });

  // Some named colors to work with
  // From Interface by Stefan Petre
  // http://interface.eyecon.ro/
  colors = jQuery.Color.names = {
    aqua: "#00ffff",
    azure: "#f0ffff",
    beige: "#f5f5dc",
    black: "#000000",
    blue: "#0000ff",
    brown: "#a52a2a",
    cyan: "#00ffff",
    darkblue: "#00008b",
    darkcyan: "#008b8b",
    darkgrey: "#a9a9a9",
    darkgreen: "#006400",
    darkkhaki: "#bdb76b",
    darkmagenta: "#8b008b",
    darkolivegreen: "#556b2f",
    darkorange: "#ff8c00",
    darkorchid: "#9932cc",
    darkred: "#8b0000",
    darksalmon: "#e9967a",
    darkviolet: "#9400d3",
    fuchsia: "#ff00ff",
    gold: "#ffd700",
    green: "#008000",
    indigo: "#4b0082",
    khaki: "#f0e68c",
    lightblue: "#add8e6",
    lightcyan: "#e0ffff",
    lightgreen: "#90ee90",
    lightgrey: "#d3d3d3",
    lightpink: "#ffb6c1",
    lightyellow: "#ffffe0",
    lime: "#00ff00",
    magenta: "#ff00ff",
    maroon: "#800000",
    navy: "#000080",
    olive: "#808000",
    orange: "#ffa500",
    pink: "#ffc0cb",
    purple: "#800080",
    violet: "#800080",
    red: "#ff0000",
    silver: "#c0c0c0",
    white: "#ffffff",
    yellow: "#ffff00",
    transparent: [null, null, null, 0],
    _default: "#ffffff",
  };
})(jQuery);
(function (r) {
  r.fn.qrcode = function (h) {
    var s;
    function u(a) {
      this.mode = s;
      this.data = a;
    }
    function o(a, c) {
      this.typeNumber = a;
      this.errorCorrectLevel = c;
      this.modules = null;
      this.moduleCount = 0;
      this.dataCache = null;
      this.dataList = [];
    }
    function q(a, c) {
      if (void 0 == a.length) throw Error(a.length + "/" + c);
      for (var d = 0; d < a.length && 0 == a[d]; ) d++;
      this.num = Array(a.length - d + c);
      for (var b = 0; b < a.length - d; b++) this.num[b] = a[b + d];
    }
    function p(a, c) {
      this.totalCount = a;
      this.dataCount = c;
    }
    function t() {
      this.buffer = [];
      this.length = 0;
    }
    u.prototype = {
      getLength: function () {
        return this.data.length;
      },
      write: function (a) {
        for (var c = 0; c < this.data.length; c++)
          a.put(this.data.charCodeAt(c), 8);
      },
    };
    o.prototype = {
      addData: function (a) {
        this.dataList.push(new u(a));
        this.dataCache = null;
      },
      isDark: function (a, c) {
        if (0 > a || this.moduleCount <= a || 0 > c || this.moduleCount <= c)
          throw Error(a + "," + c);
        return this.modules[a][c];
      },
      getModuleCount: function () {
        return this.moduleCount;
      },
      make: function () {
        if (1 > this.typeNumber) {
          for (var a = 1, a = 1; 40 > a; a++) {
            for (
              var c = p.getRSBlocks(a, this.errorCorrectLevel),
                d = new t(),
                b = 0,
                e = 0;
              e < c.length;
              e++
            )
              b += c[e].dataCount;
            for (e = 0; e < this.dataList.length; e++)
              (c = this.dataList[e]),
                d.put(c.mode, 4),
                d.put(c.getLength(), j.getLengthInBits(c.mode, a)),
                c.write(d);
            if (d.getLengthInBits() <= 8 * b) break;
          }
          this.typeNumber = a;
        }
        this.makeImpl(!1, this.getBestMaskPattern());
      },
      makeImpl: function (a, c) {
        this.moduleCount = 4 * this.typeNumber + 17;
        this.modules = Array(this.moduleCount);
        for (var d = 0; d < this.moduleCount; d++) {
          this.modules[d] = Array(this.moduleCount);
          for (var b = 0; b < this.moduleCount; b++) this.modules[d][b] = null;
        }
        this.setupPositionProbePattern(0, 0);
        this.setupPositionProbePattern(this.moduleCount - 7, 0);
        this.setupPositionProbePattern(0, this.moduleCount - 7);
        this.setupPositionAdjustPattern();
        this.setupTimingPattern();
        this.setupTypeInfo(a, c);
        7 <= this.typeNumber && this.setupTypeNumber(a);
        null == this.dataCache &&
          (this.dataCache = o.createData(
            this.typeNumber,
            this.errorCorrectLevel,
            this.dataList
          ));
        this.mapData(this.dataCache, c);
      },
      setupPositionProbePattern: function (a, c) {
        for (var d = -1; 7 >= d; d++)
          if (!(-1 >= a + d || this.moduleCount <= a + d))
            for (var b = -1; 7 >= b; b++)
              -1 >= c + b ||
                this.moduleCount <= c + b ||
                (this.modules[a + d][c + b] =
                  (0 <= d && 6 >= d && (0 == b || 6 == b)) ||
                  (0 <= b && 6 >= b && (0 == d || 6 == d)) ||
                  (2 <= d && 4 >= d && 2 <= b && 4 >= b)
                    ? !0
                    : !1);
      },
      getBestMaskPattern: function () {
        for (var a = 0, c = 0, d = 0; 8 > d; d++) {
          this.makeImpl(!0, d);
          var b = j.getLostPoint(this);
          if (0 == d || a > b) (a = b), (c = d);
        }
        return c;
      },
      createMovieClip: function (a, c, d) {
        a = a.createEmptyMovieClip(c, d);
        this.make();
        for (c = 0; c < this.modules.length; c++)
          for (var d = 1 * c, b = 0; b < this.modules[c].length; b++) {
            var e = 1 * b;
            this.modules[c][b] &&
              (a.beginFill(0, 100),
              a.moveTo(e, d),
              a.lineTo(e + 1, d),
              a.lineTo(e + 1, d + 1),
              a.lineTo(e, d + 1),
              a.endFill());
          }
        return a;
      },
      setupTimingPattern: function () {
        for (var a = 8; a < this.moduleCount - 8; a++)
          null == this.modules[a][6] && (this.modules[a][6] = 0 == a % 2);
        for (a = 8; a < this.moduleCount - 8; a++)
          null == this.modules[6][a] && (this.modules[6][a] = 0 == a % 2);
      },
      setupPositionAdjustPattern: function () {
        for (
          var a = j.getPatternPosition(this.typeNumber), c = 0;
          c < a.length;
          c++
        )
          for (var d = 0; d < a.length; d++) {
            var b = a[c],
              e = a[d];
            if (null == this.modules[b][e])
              for (var f = -2; 2 >= f; f++)
                for (var i = -2; 2 >= i; i++)
                  this.modules[b + f][e + i] =
                    -2 == f || 2 == f || -2 == i || 2 == i || (0 == f && 0 == i)
                      ? !0
                      : !1;
          }
      },
      setupTypeNumber: function (a) {
        for (var c = j.getBCHTypeNumber(this.typeNumber), d = 0; 18 > d; d++) {
          var b = !a && 1 == ((c >> d) & 1);
          this.modules[Math.floor(d / 3)][(d % 3) + this.moduleCount - 8 - 3] =
            b;
        }
        for (d = 0; 18 > d; d++)
          (b = !a && 1 == ((c >> d) & 1)),
            (this.modules[(d % 3) + this.moduleCount - 8 - 3][
              Math.floor(d / 3)
            ] = b);
      },
      setupTypeInfo: function (a, c) {
        for (
          var d = j.getBCHTypeInfo((this.errorCorrectLevel << 3) | c), b = 0;
          15 > b;
          b++
        ) {
          var e = !a && 1 == ((d >> b) & 1);
          6 > b
            ? (this.modules[b][8] = e)
            : 8 > b
            ? (this.modules[b + 1][8] = e)
            : (this.modules[this.moduleCount - 15 + b][8] = e);
        }
        for (b = 0; 15 > b; b++)
          (e = !a && 1 == ((d >> b) & 1)),
            8 > b
              ? (this.modules[8][this.moduleCount - b - 1] = e)
              : 9 > b
              ? (this.modules[8][15 - b - 1 + 1] = e)
              : (this.modules[8][15 - b - 1] = e);
        this.modules[this.moduleCount - 8][8] = !a;
      },
      mapData: function (a, c) {
        for (
          var d = -1,
            b = this.moduleCount - 1,
            e = 7,
            f = 0,
            i = this.moduleCount - 1;
          0 < i;
          i -= 2
        )
          for (6 == i && i--; ; ) {
            for (var g = 0; 2 > g; g++)
              if (null == this.modules[b][i - g]) {
                var n = !1;
                f < a.length && (n = 1 == ((a[f] >>> e) & 1));
                j.getMask(c, b, i - g) && (n = !n);
                this.modules[b][i - g] = n;
                e--;
                -1 == e && (f++, (e = 7));
              }
            b += d;
            if (0 > b || this.moduleCount <= b) {
              b -= d;
              d = -d;
              break;
            }
          }
      },
    };
    o.PAD0 = 236;
    o.PAD1 = 17;
    o.createData = function (a, c, d) {
      for (var c = p.getRSBlocks(a, c), b = new t(), e = 0; e < d.length; e++) {
        var f = d[e];
        b.put(f.mode, 4);
        b.put(f.getLength(), j.getLengthInBits(f.mode, a));
        f.write(b);
      }
      for (e = a = 0; e < c.length; e++) a += c[e].dataCount;
      if (b.getLengthInBits() > 8 * a)
        throw Error(
          "code length overflow. (" + b.getLengthInBits() + ">" + 8 * a + ")"
        );
      for (
        b.getLengthInBits() + 4 <= 8 * a && b.put(0, 4);
        0 != b.getLengthInBits() % 8;

      )
        b.putBit(!1);
      for (; !(b.getLengthInBits() >= 8 * a); ) {
        b.put(o.PAD0, 8);
        if (b.getLengthInBits() >= 8 * a) break;
        b.put(o.PAD1, 8);
      }
      return o.createBytes(b, c);
    };
    o.createBytes = function (a, c) {
      for (
        var d = 0,
          b = 0,
          e = 0,
          f = Array(c.length),
          i = Array(c.length),
          g = 0;
        g < c.length;
        g++
      ) {
        var n = c[g].dataCount,
          h = c[g].totalCount - n,
          b = Math.max(b, n),
          e = Math.max(e, h);
        f[g] = Array(n);
        for (var k = 0; k < f[g].length; k++) f[g][k] = 255 & a.buffer[k + d];
        d += n;
        k = j.getErrorCorrectPolynomial(h);
        n = new q(f[g], k.getLength() - 1).mod(k);
        i[g] = Array(k.getLength() - 1);
        for (k = 0; k < i[g].length; k++)
          (h = k + n.getLength() - i[g].length),
            (i[g][k] = 0 <= h ? n.get(h) : 0);
      }
      for (k = g = 0; k < c.length; k++) g += c[k].totalCount;
      d = Array(g);
      for (k = n = 0; k < b; k++)
        for (g = 0; g < c.length; g++) k < f[g].length && (d[n++] = f[g][k]);
      for (k = 0; k < e; k++)
        for (g = 0; g < c.length; g++) k < i[g].length && (d[n++] = i[g][k]);
      return d;
    };
    s = 4;
    for (
      var j = {
          PATTERN_POSITION_TABLE: [
            [],
            [6, 18],
            [6, 22],
            [6, 26],
            [6, 30],
            [6, 34],
            [6, 22, 38],
            [6, 24, 42],
            [6, 26, 46],
            [6, 28, 50],
            [6, 30, 54],
            [6, 32, 58],
            [6, 34, 62],
            [6, 26, 46, 66],
            [6, 26, 48, 70],
            [6, 26, 50, 74],
            [6, 30, 54, 78],
            [6, 30, 56, 82],
            [6, 30, 58, 86],
            [6, 34, 62, 90],
            [6, 28, 50, 72, 94],
            [6, 26, 50, 74, 98],
            [6, 30, 54, 78, 102],
            [6, 28, 54, 80, 106],
            [6, 32, 58, 84, 110],
            [6, 30, 58, 86, 114],
            [6, 34, 62, 90, 118],
            [6, 26, 50, 74, 98, 122],
            [6, 30, 54, 78, 102, 126],
            [6, 26, 52, 78, 104, 130],
            [6, 30, 56, 82, 108, 134],
            [6, 34, 60, 86, 112, 138],
            [6, 30, 58, 86, 114, 142],
            [6, 34, 62, 90, 118, 146],
            [6, 30, 54, 78, 102, 126, 150],
            [6, 24, 50, 76, 102, 128, 154],
            [6, 28, 54, 80, 106, 132, 158],
            [6, 32, 58, 84, 110, 136, 162],
            [6, 26, 54, 82, 110, 138, 166],
            [6, 30, 58, 86, 114, 142, 170],
          ],
          G15: 1335,
          G18: 7973,
          G15_MASK: 21522,
          getBCHTypeInfo: function (a) {
            for (
              var c = a << 10;
              0 <= j.getBCHDigit(c) - j.getBCHDigit(j.G15);

            )
              c ^= j.G15 << (j.getBCHDigit(c) - j.getBCHDigit(j.G15));
            return ((a << 10) | c) ^ j.G15_MASK;
          },
          getBCHTypeNumber: function (a) {
            for (
              var c = a << 12;
              0 <= j.getBCHDigit(c) - j.getBCHDigit(j.G18);

            )
              c ^= j.G18 << (j.getBCHDigit(c) - j.getBCHDigit(j.G18));
            return (a << 12) | c;
          },
          getBCHDigit: function (a) {
            for (var c = 0; 0 != a; ) c++, (a >>>= 1);
            return c;
          },
          getPatternPosition: function (a) {
            return j.PATTERN_POSITION_TABLE[a - 1];
          },
          getMask: function (a, c, d) {
            switch (a) {
              case 0:
                return 0 == (c + d) % 2;
              case 1:
                return 0 == c % 2;
              case 2:
                return 0 == d % 3;
              case 3:
                return 0 == (c + d) % 3;
              case 4:
                return 0 == (Math.floor(c / 2) + Math.floor(d / 3)) % 2;
              case 5:
                return 0 == ((c * d) % 2) + ((c * d) % 3);
              case 6:
                return 0 == (((c * d) % 2) + ((c * d) % 3)) % 2;
              case 7:
                return 0 == (((c * d) % 3) + ((c + d) % 2)) % 2;
              default:
                throw Error("bad maskPattern:" + a);
            }
          },
          getErrorCorrectPolynomial: function (a) {
            for (var c = new q([1], 0), d = 0; d < a; d++)
              c = c.multiply(new q([1, l.gexp(d)], 0));
            return c;
          },
          getLengthInBits: function (a, c) {
            if (1 <= c && 10 > c)
              switch (a) {
                case 1:
                  return 10;
                case 2:
                  return 9;
                case s:
                  return 8;
                case 8:
                  return 8;
                default:
                  throw Error("mode:" + a);
              }
            else if (27 > c)
              switch (a) {
                case 1:
                  return 12;
                case 2:
                  return 11;
                case s:
                  return 16;
                case 8:
                  return 10;
                default:
                  throw Error("mode:" + a);
              }
            else if (41 > c)
              switch (a) {
                case 1:
                  return 14;
                case 2:
                  return 13;
                case s:
                  return 16;
                case 8:
                  return 12;
                default:
                  throw Error("mode:" + a);
              }
            else throw Error("type:" + c);
          },
          getLostPoint: function (a) {
            for (var c = a.getModuleCount(), d = 0, b = 0; b < c; b++)
              for (var e = 0; e < c; e++) {
                for (var f = 0, i = a.isDark(b, e), g = -1; 1 >= g; g++)
                  if (!(0 > b + g || c <= b + g))
                    for (var h = -1; 1 >= h; h++)
                      0 > e + h ||
                        c <= e + h ||
                        (0 == g && 0 == h) ||
                        (i == a.isDark(b + g, e + h) && f++);
                5 < f && (d += 3 + f - 5);
              }
            for (b = 0; b < c - 1; b++)
              for (e = 0; e < c - 1; e++)
                if (
                  ((f = 0),
                  a.isDark(b, e) && f++,
                  a.isDark(b + 1, e) && f++,
                  a.isDark(b, e + 1) && f++,
                  a.isDark(b + 1, e + 1) && f++,
                  0 == f || 4 == f)
                )
                  d += 3;
            for (b = 0; b < c; b++)
              for (e = 0; e < c - 6; e++)
                a.isDark(b, e) &&
                  !a.isDark(b, e + 1) &&
                  a.isDark(b, e + 2) &&
                  a.isDark(b, e + 3) &&
                  a.isDark(b, e + 4) &&
                  !a.isDark(b, e + 5) &&
                  a.isDark(b, e + 6) &&
                  (d += 40);
            for (e = 0; e < c; e++)
              for (b = 0; b < c - 6; b++)
                a.isDark(b, e) &&
                  !a.isDark(b + 1, e) &&
                  a.isDark(b + 2, e) &&
                  a.isDark(b + 3, e) &&
                  a.isDark(b + 4, e) &&
                  !a.isDark(b + 5, e) &&
                  a.isDark(b + 6, e) &&
                  (d += 40);
            for (e = f = 0; e < c; e++)
              for (b = 0; b < c; b++) a.isDark(b, e) && f++;
            a = Math.abs((100 * f) / c / c - 50) / 5;
            return d + 10 * a;
          },
        },
        l = {
          glog: function (a) {
            if (1 > a) throw Error("glog(" + a + ")");
            return l.LOG_TABLE[a];
          },
          gexp: function (a) {
            for (; 0 > a; ) a += 255;
            for (; 256 <= a; ) a -= 255;
            return l.EXP_TABLE[a];
          },
          EXP_TABLE: Array(256),
          LOG_TABLE: Array(256),
        },
        m = 0;
      8 > m;
      m++
    )
      l.EXP_TABLE[m] = 1 << m;
    for (m = 8; 256 > m; m++)
      l.EXP_TABLE[m] =
        l.EXP_TABLE[m - 4] ^
        l.EXP_TABLE[m - 5] ^
        l.EXP_TABLE[m - 6] ^
        l.EXP_TABLE[m - 8];
    for (m = 0; 255 > m; m++) l.LOG_TABLE[l.EXP_TABLE[m]] = m;
    q.prototype = {
      get: function (a) {
        return this.num[a];
      },
      getLength: function () {
        return this.num.length;
      },
      multiply: function (a) {
        for (
          var c = Array(this.getLength() + a.getLength() - 1), d = 0;
          d < this.getLength();
          d++
        )
          for (var b = 0; b < a.getLength(); b++)
            c[d + b] ^= l.gexp(l.glog(this.get(d)) + l.glog(a.get(b)));
        return new q(c, 0);
      },
      mod: function (a) {
        if (0 > this.getLength() - a.getLength()) return this;
        for (
          var c = l.glog(this.get(0)) - l.glog(a.get(0)),
            d = Array(this.getLength()),
            b = 0;
          b < this.getLength();
          b++
        )
          d[b] = this.get(b);
        for (b = 0; b < a.getLength(); b++)
          d[b] ^= l.gexp(l.glog(a.get(b)) + c);
        return new q(d, 0).mod(a);
      },
    };
    p.RS_BLOCK_TABLE = [
      [1, 26, 19],
      [1, 26, 16],
      [1, 26, 13],
      [1, 26, 9],
      [1, 44, 34],
      [1, 44, 28],
      [1, 44, 22],
      [1, 44, 16],
      [1, 70, 55],
      [1, 70, 44],
      [2, 35, 17],
      [2, 35, 13],
      [1, 100, 80],
      [2, 50, 32],
      [2, 50, 24],
      [4, 25, 9],
      [1, 134, 108],
      [2, 67, 43],
      [2, 33, 15, 2, 34, 16],
      [2, 33, 11, 2, 34, 12],
      [2, 86, 68],
      [4, 43, 27],
      [4, 43, 19],
      [4, 43, 15],
      [2, 98, 78],
      [4, 49, 31],
      [2, 32, 14, 4, 33, 15],
      [4, 39, 13, 1, 40, 14],
      [2, 121, 97],
      [2, 60, 38, 2, 61, 39],
      [4, 40, 18, 2, 41, 19],
      [4, 40, 14, 2, 41, 15],
      [2, 146, 116],
      [3, 58, 36, 2, 59, 37],
      [4, 36, 16, 4, 37, 17],
      [4, 36, 12, 4, 37, 13],
      [2, 86, 68, 2, 87, 69],
      [4, 69, 43, 1, 70, 44],
      [6, 43, 19, 2, 44, 20],
      [6, 43, 15, 2, 44, 16],
      [4, 101, 81],
      [1, 80, 50, 4, 81, 51],
      [4, 50, 22, 4, 51, 23],
      [3, 36, 12, 8, 37, 13],
      [2, 116, 92, 2, 117, 93],
      [6, 58, 36, 2, 59, 37],
      [4, 46, 20, 6, 47, 21],
      [7, 42, 14, 4, 43, 15],
      [4, 133, 107],
      [8, 59, 37, 1, 60, 38],
      [8, 44, 20, 4, 45, 21],
      [12, 33, 11, 4, 34, 12],
      [3, 145, 115, 1, 146, 116],
      [4, 64, 40, 5, 65, 41],
      [11, 36, 16, 5, 37, 17],
      [11, 36, 12, 5, 37, 13],
      [5, 109, 87, 1, 110, 88],
      [5, 65, 41, 5, 66, 42],
      [5, 54, 24, 7, 55, 25],
      [11, 36, 12],
      [5, 122, 98, 1, 123, 99],
      [7, 73, 45, 3, 74, 46],
      [15, 43, 19, 2, 44, 20],
      [3, 45, 15, 13, 46, 16],
      [1, 135, 107, 5, 136, 108],
      [10, 74, 46, 1, 75, 47],
      [1, 50, 22, 15, 51, 23],
      [2, 42, 14, 17, 43, 15],
      [5, 150, 120, 1, 151, 121],
      [9, 69, 43, 4, 70, 44],
      [17, 50, 22, 1, 51, 23],
      [2, 42, 14, 19, 43, 15],
      [3, 141, 113, 4, 142, 114],
      [3, 70, 44, 11, 71, 45],
      [17, 47, 21, 4, 48, 22],
      [9, 39, 13, 16, 40, 14],
      [3, 135, 107, 5, 136, 108],
      [3, 67, 41, 13, 68, 42],
      [15, 54, 24, 5, 55, 25],
      [15, 43, 15, 10, 44, 16],
      [4, 144, 116, 4, 145, 117],
      [17, 68, 42],
      [17, 50, 22, 6, 51, 23],
      [19, 46, 16, 6, 47, 17],
      [2, 139, 111, 7, 140, 112],
      [17, 74, 46],
      [7, 54, 24, 16, 55, 25],
      [34, 37, 13],
      [4, 151, 121, 5, 152, 122],
      [4, 75, 47, 14, 76, 48],
      [11, 54, 24, 14, 55, 25],
      [16, 45, 15, 14, 46, 16],
      [6, 147, 117, 4, 148, 118],
      [6, 73, 45, 14, 74, 46],
      [11, 54, 24, 16, 55, 25],
      [30, 46, 16, 2, 47, 17],
      [8, 132, 106, 4, 133, 107],
      [8, 75, 47, 13, 76, 48],
      [7, 54, 24, 22, 55, 25],
      [22, 45, 15, 13, 46, 16],
      [10, 142, 114, 2, 143, 115],
      [19, 74, 46, 4, 75, 47],
      [28, 50, 22, 6, 51, 23],
      [33, 46, 16, 4, 47, 17],
      [8, 152, 122, 4, 153, 123],
      [22, 73, 45, 3, 74, 46],
      [8, 53, 23, 26, 54, 24],
      [12, 45, 15, 28, 46, 16],
      [3, 147, 117, 10, 148, 118],
      [3, 73, 45, 23, 74, 46],
      [4, 54, 24, 31, 55, 25],
      [11, 45, 15, 31, 46, 16],
      [7, 146, 116, 7, 147, 117],
      [21, 73, 45, 7, 74, 46],
      [1, 53, 23, 37, 54, 24],
      [19, 45, 15, 26, 46, 16],
      [5, 145, 115, 10, 146, 116],
      [19, 75, 47, 10, 76, 48],
      [15, 54, 24, 25, 55, 25],
      [23, 45, 15, 25, 46, 16],
      [13, 145, 115, 3, 146, 116],
      [2, 74, 46, 29, 75, 47],
      [42, 54, 24, 1, 55, 25],
      [23, 45, 15, 28, 46, 16],
      [17, 145, 115],
      [10, 74, 46, 23, 75, 47],
      [10, 54, 24, 35, 55, 25],
      [19, 45, 15, 35, 46, 16],
      [17, 145, 115, 1, 146, 116],
      [14, 74, 46, 21, 75, 47],
      [29, 54, 24, 19, 55, 25],
      [11, 45, 15, 46, 46, 16],
      [13, 145, 115, 6, 146, 116],
      [14, 74, 46, 23, 75, 47],
      [44, 54, 24, 7, 55, 25],
      [59, 46, 16, 1, 47, 17],
      [12, 151, 121, 7, 152, 122],
      [12, 75, 47, 26, 76, 48],
      [39, 54, 24, 14, 55, 25],
      [22, 45, 15, 41, 46, 16],
      [6, 151, 121, 14, 152, 122],
      [6, 75, 47, 34, 76, 48],
      [46, 54, 24, 10, 55, 25],
      [2, 45, 15, 64, 46, 16],
      [17, 152, 122, 4, 153, 123],
      [29, 74, 46, 14, 75, 47],
      [49, 54, 24, 10, 55, 25],
      [24, 45, 15, 46, 46, 16],
      [4, 152, 122, 18, 153, 123],
      [13, 74, 46, 32, 75, 47],
      [48, 54, 24, 14, 55, 25],
      [42, 45, 15, 32, 46, 16],
      [20, 147, 117, 4, 148, 118],
      [40, 75, 47, 7, 76, 48],
      [43, 54, 24, 22, 55, 25],
      [10, 45, 15, 67, 46, 16],
      [19, 148, 118, 6, 149, 119],
      [18, 75, 47, 31, 76, 48],
      [34, 54, 24, 34, 55, 25],
      [20, 45, 15, 61, 46, 16],
    ];
    p.getRSBlocks = function (a, c) {
      var d = p.getRsBlockTable(a, c);
      if (void 0 == d)
        throw Error(
          "bad rs block @ typeNumber:" + a + "/errorCorrectLevel:" + c
        );
      for (var b = d.length / 3, e = [], f = 0; f < b; f++)
        for (
          var h = d[3 * f + 0], g = d[3 * f + 1], j = d[3 * f + 2], l = 0;
          l < h;
          l++
        )
          e.push(new p(g, j));
      return e;
    };
    p.getRsBlockTable = function (a, c) {
      switch (c) {
        case 1:
          return p.RS_BLOCK_TABLE[4 * (a - 1) + 0];
        case 0:
          return p.RS_BLOCK_TABLE[4 * (a - 1) + 1];
        case 3:
          return p.RS_BLOCK_TABLE[4 * (a - 1) + 2];
        case 2:
          return p.RS_BLOCK_TABLE[4 * (a - 1) + 3];
      }
    };
    t.prototype = {
      get: function (a) {
        return 1 == ((this.buffer[Math.floor(a / 8)] >>> (7 - (a % 8))) & 1);
      },
      put: function (a, c) {
        for (var d = 0; d < c; d++) this.putBit(1 == ((a >>> (c - d - 1)) & 1));
      },
      getLengthInBits: function () {
        return this.length;
      },
      putBit: function (a) {
        var c = Math.floor(this.length / 8);
        this.buffer.length <= c && this.buffer.push(0);
        a && (this.buffer[c] |= 128 >>> this.length % 8);
        this.length++;
      },
    };
    "string" === typeof h && (h = { text: h });
    h = r.extend(
      {},
      {
        render: "canvas",
        width: 256,
        height: 256,
        typeNumber: -1,
        correctLevel: 2,
        background: "#ffffff",
        foreground: "#000000",
      },
      h
    );
    return this.each(function () {
      var a;
      if ("canvas" == h.render) {
        a = new o(h.typeNumber, h.correctLevel);
        a.addData(h.text);
        a.make();
        var c = document.createElement("canvas");
        c.width = h.width;
        c.height = h.height;
        for (
          var d = c.getContext("2d"),
            b = h.width / a.getModuleCount(),
            e = h.height / a.getModuleCount(),
            f = 0;
          f < a.getModuleCount();
          f++
        )
          for (var i = 0; i < a.getModuleCount(); i++) {
            d.fillStyle = a.isDark(f, i) ? h.foreground : h.background;
            var g = Math.ceil((i + 1) * b) - Math.floor(i * b),
              j = Math.ceil((f + 1) * b) - Math.floor(f * b);
            d.fillRect(Math.round(i * b), Math.round(f * e), g, j);
          }
      } else {
        a = new o(h.typeNumber, h.correctLevel);
        a.addData(h.text);
        a.make();
        c = r("<table></table>")
          .css("width", h.width + "px")
          .css("height", h.height + "px")
          .css("border", "0px")
          .css("border-collapse", "collapse")
          .css("background-color", h.background);
        d = h.width / a.getModuleCount();
        b = h.height / a.getModuleCount();
        for (e = 0; e < a.getModuleCount(); e++) {
          f = r("<tr></tr>")
            .css("height", b + "px")
            .appendTo(c);
          for (i = 0; i < a.getModuleCount(); i++)
            r("<td></td>")
              .css("width", d + "px")
              .css(
                "background-color",
                a.isDark(e, i) ? h.foreground : h.background
              )
              .appendTo(f);
        }
      }
      a = c;
      jQuery(a).appendTo(this);
    });
  };
})(jQuery);
/* jquery.nicescroll 3.5.6 InuYaksa*2014 MIT http://nicescroll.areaaperta.com */ !(function (
  e
) {
  "function" == typeof define && define.amd ? define(["jquery"], e) : e(jQuery);
})(function (e) {
  function o() {
    var e = document.getElementsByTagName("script"),
      o = e[e.length - 1].src.split("?")[0];
    return o.split("/").length > 0
      ? o.split("/").slice(0, -1).join("/") + "/"
      : "";
  }
  function t(e, o, t) {
    for (var r = 0; r < o.length; r++) t(e, o[r]);
  }
  var r = !1,
    i = !1,
    n = 0,
    s = 2e3,
    l = 0,
    a = e,
    c = ["ms", "moz", "webkit", "o"],
    d = window.requestAnimationFrame || !1,
    u = window.cancelAnimationFrame || !1;
  if (!d)
    for (var h in c) {
      var p = c[h];
      d || (d = window[p + "RequestAnimationFrame"]),
        u ||
          (u =
            window[p + "CancelAnimationFrame"] ||
            window[p + "CancelRequestAnimationFrame"]);
    }
  var m = window.MutationObserver || window.WebKitMutationObserver || !1,
    f = {
      zindex: "auto",
      cursoropacitymin: 0,
      cursoropacitymax: 1,
      cursorcolor: "#424242",
      cursorwidth: "5px",
      cursorborder: "1px solid #fff",
      cursorborderradius: "5px",
      scrollspeed: 60,
      mousescrollstep: 24,
      touchbehavior: !1,
      hwacceleration: !0,
      usetransition: !0,
      boxzoom: !1,
      dblclickzoom: !0,
      gesturezoom: !0,
      grabcursorenabled: !0,
      autohidemode: !0,
      background: "",
      iframeautoresize: !0,
      cursorminheight: 32,
      preservenativescrolling: !0,
      railoffset: !1,
      railhoffset: !1,
      bouncescroll: !0,
      spacebarenabled: !0,
      railpadding: { top: 0, right: 0, left: 0, bottom: 0 },
      disableoutline: !0,
      horizrailenabled: !0,
      railalign: "right",
      railvalign: "bottom",
      enabletranslate3d: !0,
      enablemousewheel: !0,
      enablekeyboard: !0,
      smoothscroll: !0,
      sensitiverail: !0,
      enablemouselockapi: !0,
      cursorfixedheight: !1,
      directionlockdeadzone: 6,
      hidecursordelay: 400,
      nativeparentscrolling: !0,
      enablescrollonselection: !0,
      overflowx: !0,
      overflowy: !0,
      cursordragspeed: 0.3,
      rtlmode: "auto",
      cursordragontouch: !1,
      oneaxismousemode: "auto",
      scriptpath: o(),
    },
    g = !1,
    w = function () {
      function e() {
        var e = ["-moz-grab", "-webkit-grab", "grab"];
        ((t.ischrome && !t.ischrome22) || t.isie) && (e = []);
        for (var r = 0; r < e.length; r++) {
          var i = e[r];
          if (((o.style.cursor = i), o.style.cursor == i)) return i;
        }
        return "url(//mail.google.com/mail/images/2/openhand.cur),n-resize";
      }
      if (g) return g;
      var o = document.createElement("DIV"),
        t = {};
      (t.haspointerlock =
        "pointerLockElement" in document ||
        "mozPointerLockElement" in document ||
        "webkitPointerLockElement" in document),
        (t.isopera = "opera" in window),
        (t.isopera12 = t.isopera && "getUserMedia" in navigator),
        (t.isoperamini =
          "[object OperaMini]" ===
          Object.prototype.toString.call(window.operamini)),
        (t.isie = "all" in document && "attachEvent" in o && !t.isopera),
        (t.isieold = t.isie && !("msInterpolationMode" in o.style)),
        (t.isie7 = !(
          !t.isie ||
          t.isieold ||
          ("documentMode" in document && 7 != document.documentMode)
        )),
        (t.isie8 =
          t.isie && "documentMode" in document && 8 == document.documentMode),
        (t.isie9 =
          t.isie && "performance" in window && document.documentMode >= 9),
        (t.isie10 =
          t.isie && "performance" in window && document.documentMode >= 10),
        (t.isie9mobile = /iemobile.9/i.test(navigator.userAgent)),
        t.isie9mobile && (t.isie9 = !1),
        (t.isie7mobile =
          !t.isie9mobile && t.isie7 && /iemobile/i.test(navigator.userAgent)),
        (t.ismozilla = "MozAppearance" in o.style),
        (t.iswebkit = "WebkitAppearance" in o.style),
        (t.ischrome = "chrome" in window),
        (t.ischrome22 = t.ischrome && t.haspointerlock),
        (t.ischrome26 = t.ischrome && "transition" in o.style),
        (t.cantouch =
          "ontouchstart" in document.documentElement ||
          "ontouchstart" in window),
        (t.hasmstouch = window.navigator.msPointerEnabled || !1),
        (t.ismac = /^mac$/i.test(navigator.platform)),
        (t.isios = t.cantouch && /iphone|ipad|ipod/i.test(navigator.platform)),
        (t.isios4 = t.isios && !("seal" in Object)),
        (t.isandroid = /android/i.test(navigator.userAgent)),
        (t.trstyle = !1),
        (t.hastransform = !1),
        (t.hastranslate3d = !1),
        (t.transitionstyle = !1),
        (t.hastransition = !1),
        (t.transitionend = !1);
      for (
        var r = [
            "transform",
            "msTransform",
            "webkitTransform",
            "MozTransform",
            "OTransform",
          ],
          i = 0;
        i < r.length;
        i++
      )
        if (void 0 !== o.style[r[i]]) {
          t.trstyle = r[i];
          break;
        }
      (t.hastransform = 0 != t.trstyle),
        t.hastransform &&
          ((o.style[t.trstyle] = "translate3d(1px,2px,3px)"),
          (t.hastranslate3d = /translate3d/.test(o.style[t.trstyle]))),
        (t.transitionstyle = !1),
        (t.prefixstyle = ""),
        (t.transitionend = !1);
      for (
        var r = [
            "transition",
            "webkitTransition",
            "MozTransition",
            "OTransition",
            "OTransition",
            "msTransition",
            "KhtmlTransition",
          ],
          n = ["", "-webkit-", "-moz-", "-o-", "-o", "-ms-", "-khtml-"],
          s = [
            "transitionend",
            "webkitTransitionEnd",
            "transitionend",
            "otransitionend",
            "oTransitionEnd",
            "msTransitionEnd",
            "KhtmlTransitionEnd",
          ],
          i = 0;
        i < r.length;
        i++
      )
        if (r[i] in o.style) {
          (t.transitionstyle = r[i]),
            (t.prefixstyle = n[i]),
            (t.transitionend = s[i]);
          break;
        }
      return (
        t.ischrome26 && (t.prefixstyle = n[1]),
        (t.hastransition = t.transitionstyle),
        (t.cursorgrabvalue = e()),
        (t.hasmousecapture = "setCapture" in o),
        (t.hasMutationObserver = m !== !1),
        (o = null),
        (g = t),
        t
      );
    },
    v = function (e, o) {
      function t() {
        var e = v.doc.css(x.trstyle);
        return e && "matrix" == e.substr(0, 6)
          ? e
              .replace(/^.*\((.*)\)$/g, "$1")
              .replace(/px/g, "")
              .split(/, +/)
          : !1;
      }
      function c() {
        var e = v.win;
        if ("zIndex" in e) return e.zIndex();
        for (; e.length > 0; ) {
          if (9 == e[0].nodeType) return !1;
          var o = e.css("zIndex");
          if (!isNaN(o) && 0 != o) return parseInt(o);
          e = e.parent();
        }
        return !1;
      }
      function h(e, o, t) {
        var r = e.css(o),
          i = parseFloat(r);
        if (isNaN(i)) {
          i = T[r] || 0;
          var n =
            3 == i
              ? t
                ? v.win.outerHeight() - v.win.innerHeight()
                : v.win.outerWidth() - v.win.innerWidth()
              : 1;
          return v.isie8 && i && (i += 1), n ? i : 0;
        }
        return i;
      }
      function p(e, o, t, r) {
        v._bind(
          e,
          o,
          function (r) {
            var r = r ? r : window.event,
              i = {
                original: r,
                target: r.target || r.srcElement,
                type: "wheel",
                deltaMode: "MozMousePixelScroll" == r.type ? 0 : 1,
                deltaX: 0,
                deltaZ: 0,
                preventDefault: function () {
                  return (
                    r.preventDefault
                      ? r.preventDefault()
                      : (r.returnValue = !1),
                    !1
                  );
                },
                stopImmediatePropagation: function () {
                  r.stopImmediatePropagation
                    ? r.stopImmediatePropagation()
                    : (r.cancelBubble = !0);
                },
              };
            return (
              "mousewheel" == o
                ? ((i.deltaY = (-1 / 40) * r.wheelDelta),
                  r.wheelDeltaX && (i.deltaX = (-1 / 40) * r.wheelDeltaX))
                : (i.deltaY = r.detail),
              t.call(e, i)
            );
          },
          r
        );
      }
      function g(e, o, t) {
        var r, i;
        if (
          (0 == e.deltaMode
            ? ((r = -Math.floor(e.deltaX * (v.opt.mousescrollstep / 54))),
              (i = -Math.floor(e.deltaY * (v.opt.mousescrollstep / 54))))
            : 1 == e.deltaMode &&
              ((r = -Math.floor(e.deltaX * v.opt.mousescrollstep)),
              (i = -Math.floor(e.deltaY * v.opt.mousescrollstep))),
          o && v.opt.oneaxismousemode && 0 == r && i && ((r = i), (i = 0)),
          r &&
            (v.scrollmom && v.scrollmom.stop(),
            (v.lastdeltax += r),
            v.debounced(
              "mousewheelx",
              function () {
                var e = v.lastdeltax;
                (v.lastdeltax = 0), v.rail.drag || v.doScrollLeftBy(e);
              },
              15
            )),
          i)
        ) {
          if (v.opt.nativeparentscrolling && t && !v.ispage && !v.zoomactive)
            if (0 > i) {
              if (v.getScrollTop() >= v.page.maxh) return !0;
            } else if (v.getScrollTop() <= 0) return !0;
          v.scrollmom && v.scrollmom.stop(),
            (v.lastdeltay += i),
            v.debounced(
              "mousewheely",
              function () {
                var e = v.lastdeltay;
                (v.lastdeltay = 0), v.rail.drag || v.doScrollBy(e);
              },
              15
            );
        }
        return e.stopImmediatePropagation(), e.preventDefault();
      }
      var v = this;
      if (
        ((this.version = "3.5.6"),
        (this.name = "nicescroll"),
        (this.me = o),
        (this.opt = { doc: a("body"), win: !1 }),
        a.extend(this.opt, f),
        (this.opt.snapbackspeed = 80),
        e)
      )
        for (var y in v.opt) void 0 !== e[y] && (v.opt[y] = e[y]);
      (this.doc = v.opt.doc),
        (this.iddoc = this.doc && this.doc[0] ? this.doc[0].id || "" : ""),
        (this.ispage = /^BODY|HTML/.test(
          v.opt.win ? v.opt.win[0].nodeName : this.doc[0].nodeName
        )),
        (this.haswrapper = v.opt.win !== !1),
        (this.win = v.opt.win || (this.ispage ? a(window) : this.doc)),
        (this.docscroll =
          this.ispage && !this.haswrapper ? a(window) : this.win),
        (this.body = a("body")),
        (this.viewport = !1),
        (this.isfixed = !1),
        (this.iframe = !1),
        (this.isiframe =
          "IFRAME" == this.doc[0].nodeName && "IFRAME" == this.win[0].nodeName),
        (this.istextarea = "TEXTAREA" == this.win[0].nodeName),
        (this.forcescreen = !1),
        (this.canshowonmouseevent = "scroll" != v.opt.autohidemode),
        (this.onmousedown = !1),
        (this.onmouseup = !1),
        (this.onmousemove = !1),
        (this.onmousewheel = !1),
        (this.onkeypress = !1),
        (this.ongesturezoom = !1),
        (this.onclick = !1),
        (this.onscrollstart = !1),
        (this.onscrollend = !1),
        (this.onscrollcancel = !1),
        (this.onzoomin = !1),
        (this.onzoomout = !1),
        (this.view = !1),
        (this.page = !1),
        (this.scroll = { x: 0, y: 0 }),
        (this.scrollratio = { x: 0, y: 0 }),
        (this.cursorheight = 20),
        (this.scrollvaluemax = 0),
        (this.isrtlmode =
          "auto" == this.opt.rtlmode
            ? "rtl" ==
              (this.win[0] == window ? this.body : this.win).css("direction")
            : this.opt.rtlmode === !0),
        (this.scrollrunning = !1),
        (this.scrollmom = !1),
        (this.observer = !1),
        (this.observerremover = !1);
      do this.id = "ascrail" + s++;
      while (document.getElementById(this.id));
      (this.rail = !1),
        (this.cursor = !1),
        (this.cursorfreezed = !1),
        (this.selectiondrag = !1),
        (this.zoom = !1),
        (this.zoomactive = !1),
        (this.hasfocus = !1),
        (this.hasmousefocus = !1),
        (this.visibility = !0),
        (this.locked = !1),
        (this.hidden = !1),
        (this.cursoractive = !0),
        (this.wheelprevented = !1),
        (this.overflowx = v.opt.overflowx),
        (this.overflowy = v.opt.overflowy),
        (this.nativescrollingarea = !1),
        (this.checkarea = 0),
        (this.events = []),
        (this.saved = {}),
        (this.delaylist = {}),
        (this.synclist = {}),
        (this.lastdeltax = 0),
        (this.lastdeltay = 0),
        (this.detected = w());
      var x = a.extend({}, this.detected);
      (this.canhwscroll = x.hastransform && v.opt.hwacceleration),
        (this.ishwscroll = this.canhwscroll && v.haswrapper),
        (this.istouchcapable = !1),
        x.cantouch &&
          x.iswebkit &&
          !x.isios &&
          !x.isandroid &&
          ((this.istouchcapable = !0), (x.cantouch = !1)),
        x.cantouch &&
          x.ismozilla &&
          !x.isios &&
          !x.isandroid &&
          ((this.istouchcapable = !0), (x.cantouch = !1)),
        v.opt.enablemouselockapi ||
          ((x.hasmousecapture = !1), (x.haspointerlock = !1)),
        (this.delayed = function (e, o, t, r) {
          var i = v.delaylist[e],
            n = new Date().getTime();
          return !r && i && i.tt
            ? !1
            : (i && i.tt && clearTimeout(i.tt),
              void (i && i.last + t > n && !i.tt
                ? (v.delaylist[e] = {
                    last: n + t,
                    tt: setTimeout(function () {
                      v && ((v.delaylist[e].tt = 0), o.call());
                    }, t),
                  })
                : (i && i.tt) ||
                  ((v.delaylist[e] = { last: n, tt: 0 }),
                  setTimeout(function () {
                    o.call();
                  }, 0))));
        }),
        (this.debounced = function (e, o, t) {
          {
            var r = v.delaylist[e];
            new Date().getTime();
          }
          (v.delaylist[e] = o),
            r ||
              setTimeout(function () {
                var o = v.delaylist[e];
                (v.delaylist[e] = !1), o.call();
              }, t);
        });
      var S = !1;
      if (
        ((this.synched = function (e, o) {
          function t() {
            S ||
              (d(function () {
                S = !1;
                for (e in v.synclist) {
                  var o = v.synclist[e];
                  o && o.call(v), (v.synclist[e] = !1);
                }
              }),
              (S = !0));
          }
          return (v.synclist[e] = o), t(), e;
        }),
        (this.unsynched = function (e) {
          v.synclist[e] && (v.synclist[e] = !1);
        }),
        (this.css = function (e, o) {
          for (var t in o) v.saved.css.push([e, t, e.css(t)]), e.css(t, o[t]);
        }),
        (this.scrollTop = function (e) {
          return void 0 === e ? v.getScrollTop() : v.setScrollTop(e);
        }),
        (this.scrollLeft = function (e) {
          return void 0 === e ? v.getScrollLeft() : v.setScrollLeft(e);
        }),
        (BezierClass = function (e, o, t, r, i, n, s) {
          (this.st = e),
            (this.ed = o),
            (this.spd = t),
            (this.p1 = r || 0),
            (this.p2 = i || 1),
            (this.p3 = n || 0),
            (this.p4 = s || 1),
            (this.ts = new Date().getTime()),
            (this.df = this.ed - this.st);
        }),
        (BezierClass.prototype = {
          B2: function (e) {
            return 3 * e * e * (1 - e);
          },
          B3: function (e) {
            return 3 * e * (1 - e) * (1 - e);
          },
          B4: function (e) {
            return (1 - e) * (1 - e) * (1 - e);
          },
          getNow: function () {
            var e = new Date().getTime(),
              o = 1 - (e - this.ts) / this.spd,
              t = this.B2(o) + this.B3(o) + this.B4(o);
            return 0 > o ? this.ed : this.st + Math.round(this.df * t);
          },
          update: function (e, o) {
            return (
              (this.st = this.getNow()),
              (this.ed = e),
              (this.spd = o),
              (this.ts = new Date().getTime()),
              (this.df = this.ed - this.st),
              this
            );
          },
        }),
        this.ishwscroll)
      ) {
        (this.doc.translate = { x: 0, y: 0, tx: "0px", ty: "0px" }),
          x.hastranslate3d &&
            x.isios &&
            this.doc.css("-webkit-backface-visibility", "hidden"),
          (this.getScrollTop = function (e) {
            if (!e) {
              var o = t();
              if (o) return 16 == o.length ? -o[13] : -o[5];
              if (v.timerscroll && v.timerscroll.bz)
                return v.timerscroll.bz.getNow();
            }
            return v.doc.translate.y;
          }),
          (this.getScrollLeft = function (e) {
            if (!e) {
              var o = t();
              if (o) return 16 == o.length ? -o[12] : -o[4];
              if (v.timerscroll && v.timerscroll.bh)
                return v.timerscroll.bh.getNow();
            }
            return v.doc.translate.x;
          }),
          (this.notifyScrollEvent = document.createEvent
            ? function (e) {
                var o = document.createEvent("UIEvents");
                o.initUIEvent("scroll", !1, !0, window, 1), e.dispatchEvent(o);
              }
            : document.fireEvent
            ? function (e) {
                var o = document.createEventObject();
                e.fireEvent("onscroll"), (o.cancelBubble = !0);
              }
            : function () {});
        var z = this.isrtlmode ? 1 : -1;
        x.hastranslate3d && v.opt.enabletranslate3d
          ? ((this.setScrollTop = function (e, o) {
              (v.doc.translate.y = e),
                (v.doc.translate.ty = -1 * e + "px"),
                v.doc.css(
                  x.trstyle,
                  "translate3d(" +
                    v.doc.translate.tx +
                    "," +
                    v.doc.translate.ty +
                    ",0px)"
                ),
                o || v.notifyScrollEvent(v.win[0]);
            }),
            (this.setScrollLeft = function (e, o) {
              (v.doc.translate.x = e),
                (v.doc.translate.tx = e * z + "px"),
                v.doc.css(
                  x.trstyle,
                  "translate3d(" +
                    v.doc.translate.tx +
                    "," +
                    v.doc.translate.ty +
                    ",0px)"
                ),
                o || v.notifyScrollEvent(v.win[0]);
            }))
          : ((this.setScrollTop = function (e, o) {
              (v.doc.translate.y = e),
                (v.doc.translate.ty = -1 * e + "px"),
                v.doc.css(
                  x.trstyle,
                  "translate(" +
                    v.doc.translate.tx +
                    "," +
                    v.doc.translate.ty +
                    ")"
                ),
                o || v.notifyScrollEvent(v.win[0]);
            }),
            (this.setScrollLeft = function (e, o) {
              (v.doc.translate.x = e),
                (v.doc.translate.tx = e * z + "px"),
                v.doc.css(
                  x.trstyle,
                  "translate(" +
                    v.doc.translate.tx +
                    "," +
                    v.doc.translate.ty +
                    ")"
                ),
                o || v.notifyScrollEvent(v.win[0]);
            }));
      } else
        (this.getScrollTop = function () {
          return v.docscroll.scrollTop();
        }),
          (this.setScrollTop = function (e) {
            return v.docscroll.scrollTop(e);
          }),
          (this.getScrollLeft = function () {
            return v.detected.ismozilla && v.isrtlmode
              ? Math.abs(v.docscroll.scrollLeft())
              : v.docscroll.scrollLeft();
          }),
          (this.setScrollLeft = function (e) {
            return v.docscroll.scrollLeft(
              v.detected.ismozilla && v.isrtlmode ? -e : e
            );
          });
      (this.getTarget = function (e) {
        return e
          ? e.target
            ? e.target
            : e.srcElement
            ? e.srcElement
            : !1
          : !1;
      }),
        (this.hasParent = function (e, o) {
          if (!e) return !1;
          for (var t = e.target || e.srcElement || e || !1; t && t.id != o; )
            t = t.parentNode || !1;
          return t !== !1;
        });
      var T = { thin: 1, medium: 3, thick: 5 };
      (this.getOffset = function () {
        if (v.isfixed)
          return {
            top: parseFloat(v.win.css("top")),
            left: parseFloat(v.win.css("left")),
          };
        if (!v.viewport) return v.win.offset();
        var e = v.win.offset(),
          o = v.viewport.offset();
        return {
          top: e.top - o.top + v.viewport.scrollTop(),
          left: e.left - o.left + v.viewport.scrollLeft(),
        };
      }),
        (this.updateScrollBar = function (e) {
          if (v.ishwscroll)
            v.rail.css({ height: v.win.innerHeight() }),
              v.railh && v.railh.css({ width: v.win.innerWidth() });
          else {
            var o = v.getOffset(),
              t = { top: o.top, left: o.left };
            t.top += h(v.win, "border-top-width", !0);
            {
              (v.win.outerWidth() - v.win.innerWidth()) / 2;
            }
            t.left += v.rail.align
              ? v.win.outerWidth() -
                h(v.win, "border-right-width") -
                v.rail.width
              : h(v.win, "border-left-width");
            var r = v.opt.railoffset;
            if (
              (r &&
                (r.top && (t.top += r.top),
                v.rail.align && r.left && (t.left += r.left)),
              v.locked ||
                v.rail.css({
                  top: t.top,
                  left: t.left,
                  height: e ? e.h : v.win.innerHeight(),
                }),
              v.zoom &&
                v.zoom.css({
                  top: t.top + 1,
                  left:
                    1 == v.rail.align ? t.left - 20 : t.left + v.rail.width + 4,
                }),
              v.railh && !v.locked)
            ) {
              var t = { top: o.top, left: o.left },
                r = v.opt.railhoffset;
              r && (r.top && (t.top += r.top), r.left && (t.left += r.left));
              var i = v.railh.align
                  ? t.top +
                    h(v.win, "border-top-width", !0) +
                    v.win.innerHeight() -
                    v.railh.height
                  : t.top + h(v.win, "border-top-width", !0),
                n = t.left + h(v.win, "border-left-width");
              v.railh.css({ top: i, left: n, width: v.railh.width });
            }
          }
        }),
        (this.doRailClick = function (e, o, t) {
          var r, i, n, s;
          v.locked ||
            (v.cancelEvent(e),
            o
              ? ((r = t ? v.doScrollLeft : v.doScrollTop),
                (n = t
                  ? (e.pageX - v.railh.offset().left - v.cursorwidth / 2) *
                    v.scrollratio.x
                  : (e.pageY - v.rail.offset().top - v.cursorheight / 2) *
                    v.scrollratio.y),
                r(n))
              : ((r = t ? v.doScrollLeftBy : v.doScrollBy),
                (n = t ? v.scroll.x : v.scroll.y),
                (s = t
                  ? e.pageX - v.railh.offset().left
                  : e.pageY - v.rail.offset().top),
                (i = t ? v.view.w : v.view.h),
                r(n >= s ? i : -i)));
        }),
        (v.hasanimationframe = d),
        (v.hascancelanimationframe = u),
        v.hasanimationframe
          ? v.hascancelanimationframe ||
            (u = function () {
              v.cancelAnimationFrame = !0;
            })
          : ((d = function (e) {
              return setTimeout(e, 15 - (Math.floor(+new Date() / 1e3) % 16));
            }),
            (u = clearInterval)),
        (this.init = function () {
          function e(o) {
            if (v.selectiondrag) {
              if (o) {
                var t = v.win.outerHeight(),
                  r = o.pageY - v.selectiondrag.top;
                r > 0 && t > r && (r = 0),
                  r >= t && (r -= t),
                  (v.selectiondrag.df = r);
              }
              if (0 != v.selectiondrag.df) {
                var i = 2 * -Math.floor(v.selectiondrag.df / 6);
                v.doScrollBy(i),
                  v.debounced(
                    "doselectionscroll",
                    function () {
                      e();
                    },
                    50
                  );
              }
            }
          }
          function o() {
            v.iframexd = !1;
            try {
              {
                var e =
                  "contentDocument" in this
                    ? this.contentDocument
                    : this.contentWindow.document;
                e.domain;
              }
            } catch (o) {
              (v.iframexd = !0), (e = !1);
            }
            if (v.iframexd)
              return (
                "console" in window &&
                  console.log("NiceScroll error: policy restriced iframe"),
                !0
              );
            if (
              ((v.forcescreen = !0),
              v.isiframe &&
                ((v.iframe = {
                  doc: a(e),
                  html: v.doc.contents().find("html")[0],
                  body: v.doc.contents().find("body")[0],
                }),
                (v.getContentSize = function () {
                  return {
                    w: Math.max(
                      v.iframe.html.scrollWidth,
                      v.iframe.body.scrollWidth
                    ),
                    h: Math.max(
                      v.iframe.html.scrollHeight,
                      v.iframe.body.scrollHeight
                    ),
                  };
                }),
                (v.docscroll = a(v.iframe.body))),
              !x.isios && v.opt.iframeautoresize && !v.isiframe)
            ) {
              v.win.scrollTop(0), v.doc.height("");
              var t = Math.max(
                e.getElementsByTagName("html")[0].scrollHeight,
                e.body.scrollHeight
              );
              v.doc.height(t);
            }
            v.lazyResize(30),
              x.isie7 && v.css(a(v.iframe.html), { "overflow-y": "hidden" }),
              v.css(a(v.iframe.body), { "overflow-y": "hidden" }),
              x.isios &&
                v.haswrapper &&
                v.css(a(e.body), { "-webkit-transform": "translate3d(0,0,0)" }),
              "contentWindow" in this
                ? v.bind(this.contentWindow, "scroll", v.onscroll)
                : v.bind(e, "scroll", v.onscroll),
              v.opt.enablemousewheel && v.bind(e, "mousewheel", v.onmousewheel),
              v.opt.enablekeyboard &&
                v.bind(e, x.isopera ? "keypress" : "keydown", v.onkeypress),
              (x.cantouch || v.opt.touchbehavior) &&
                (v.bind(e, "mousedown", v.ontouchstart),
                v.bind(e, "mousemove", function (e) {
                  v.ontouchmove(e, !0);
                }),
                v.opt.grabcursorenabled &&
                  x.cursorgrabvalue &&
                  v.css(a(e.body), { cursor: x.cursorgrabvalue })),
              v.bind(e, "mouseup", v.ontouchend),
              v.zoom &&
                (v.opt.dblclickzoom && v.bind(e, "dblclick", v.doZoom),
                v.ongesturezoom && v.bind(e, "gestureend", v.ongesturezoom));
          }
          if (((v.saved.css = []), x.isie7mobile)) return !0;
          if (x.isoperamini) return !0;
          if (
            (x.hasmstouch &&
              v.css(v.ispage ? a("html") : v.win, {
                "-ms-touch-action": "none",
              }),
            (v.zindex = "auto"),
            (v.zindex =
              v.ispage || "auto" != v.opt.zindex
                ? v.opt.zindex
                : c() || "auto"),
            v.ispage || "auto" == v.zindex || (v.zindex > l && (l = v.zindex)),
            v.isie &&
              0 == v.zindex &&
              "auto" == v.opt.zindex &&
              (v.zindex = "auto"),
            !v.ispage || (!x.cantouch && !x.isieold && !x.isie9mobile))
          ) {
            var t = v.docscroll;
            v.ispage && (t = v.haswrapper ? v.win : v.doc),
              x.isie9mobile || v.css(t, { "overflow-y": "hidden" }),
              v.ispage &&
                x.isie7 &&
                ("BODY" == v.doc[0].nodeName
                  ? v.css(a("html"), { "overflow-y": "hidden" })
                  : "HTML" == v.doc[0].nodeName &&
                    v.css(a("body"), { "overflow-y": "hidden" })),
              !x.isios ||
                v.ispage ||
                v.haswrapper ||
                v.css(a("body"), { "-webkit-overflow-scrolling": "touch" });
            var s = a(document.createElement("div"));
            s.css({
              position: "relative",
              top: 0,
              float: "right",
              width: v.opt.cursorwidth,
              height: "0px",
              "background-color": v.opt.cursorcolor,
              border: v.opt.cursorborder,
              "background-clip": "padding-box",
              "-webkit-border-radius": v.opt.cursorborderradius,
              "-moz-border-radius": v.opt.cursorborderradius,
              "border-radius": v.opt.cursorborderradius,
            }),
              (s.hborder = parseFloat(s.outerHeight() - s.innerHeight())),
              (v.cursor = s);
            var d = a(document.createElement("div"));
            d.attr("id", v.id), d.addClass("nicescroll-rails");
            var u,
              h,
              p = ["left", "right"];
            for (var f in p)
              (h = p[f]),
                (u = v.opt.railpadding[h]),
                u
                  ? d.css("padding-" + h, u + "px")
                  : (v.opt.railpadding[h] = 0);
            d.append(s),
              (d.width =
                Math.max(parseFloat(v.opt.cursorwidth), s.outerWidth()) +
                v.opt.railpadding.left +
                v.opt.railpadding.right),
              d.css({
                width: d.width + "px",
                zIndex: v.zindex,
                background: v.opt.background,
                cursor: "default",
              }),
              (d.visibility = !0),
              (d.scrollable = !0),
              (d.align = "left" == v.opt.railalign ? 0 : 1),
              (v.rail = d),
              (v.rail.drag = !1);
            var g = !1;
            if (
              (!v.opt.boxzoom ||
                v.ispage ||
                x.isieold ||
                ((g = document.createElement("div")),
                v.bind(g, "click", v.doZoom),
                (v.zoom = a(g)),
                v.zoom.css({
                  cursor: "pointer",
                  "z-index": v.zindex,
                  backgroundImage: "url(" + v.opt.scriptpath + "zoomico.png)",
                  height: 18,
                  width: 18,
                  backgroundPosition: "0px 0px",
                }),
                v.opt.dblclickzoom && v.bind(v.win, "dblclick", v.doZoom),
                x.cantouch &&
                  v.opt.gesturezoom &&
                  ((v.ongesturezoom = function (e) {
                    return (
                      e.scale > 1.5 && v.doZoomIn(e),
                      e.scale < 0.8 && v.doZoomOut(e),
                      v.cancelEvent(e)
                    );
                  }),
                  v.bind(v.win, "gestureend", v.ongesturezoom))),
              (v.railh = !1),
              v.opt.horizrailenabled)
            ) {
              v.css(t, { "overflow-x": "hidden" });
              var s = a(document.createElement("div"));
              s.css({
                position: "absolute",
                top: 0,
                height: v.opt.cursorwidth,
                width: "0px",
                "background-color": v.opt.cursorcolor,
                border: v.opt.cursorborder,
                "background-clip": "padding-box",
                "-webkit-border-radius": v.opt.cursorborderradius,
                "-moz-border-radius": v.opt.cursorborderradius,
                "border-radius": v.opt.cursorborderradius,
              }),
                (s.wborder = parseFloat(s.outerWidth() - s.innerWidth())),
                (v.cursorh = s);
              var w = a(document.createElement("div"));
              w.attr("id", v.id + "-hr"),
                w.addClass("nicescroll-rails"),
                (w.height = Math.max(
                  parseFloat(v.opt.cursorwidth),
                  s.outerHeight()
                )),
                w.css({
                  height: w.height + "px",
                  zIndex: v.zindex,
                  background: v.opt.background,
                }),
                w.append(s),
                (w.visibility = !0),
                (w.scrollable = !0),
                (w.align = "top" == v.opt.railvalign ? 0 : 1),
                (v.railh = w),
                (v.railh.drag = !1);
            }
            if (v.ispage)
              d.css({ position: "fixed", top: "0px", height: "100%" }),
                d.css(d.align ? { right: "0px" } : { left: "0px" }),
                v.body.append(d),
                v.railh &&
                  (w.css({ position: "fixed", left: "0px", width: "100%" }),
                  w.css(w.align ? { bottom: "0px" } : { top: "0px" }),
                  v.body.append(w));
            else {
              if (v.ishwscroll) {
                "static" == v.win.css("position") &&
                  v.css(v.win, { position: "relative" });
                var y = "HTML" == v.win[0].nodeName ? v.body : v.win;
                v.zoom &&
                  (v.zoom.css({
                    position: "absolute",
                    top: 1,
                    right: 0,
                    "margin-right": d.width + 4,
                  }),
                  y.append(v.zoom)),
                  d.css({ position: "absolute", top: 0 }),
                  d.css(d.align ? { right: 0 } : { left: 0 }),
                  y.append(d),
                  w &&
                    (w.css({ position: "absolute", left: 0, bottom: 0 }),
                    w.css(w.align ? { bottom: 0 } : { top: 0 }),
                    y.append(w));
              } else {
                v.isfixed = "fixed" == v.win.css("position");
                var S = v.isfixed ? "fixed" : "absolute";
                v.isfixed || (v.viewport = v.getViewport(v.win[0])),
                  v.viewport &&
                    ((v.body = v.viewport),
                    0 ==
                      /fixed|relative|absolute/.test(
                        v.viewport.css("position")
                      ) && v.css(v.viewport, { position: "relative" })),
                  d.css({ position: S }),
                  v.zoom && v.zoom.css({ position: S }),
                  v.updateScrollBar(),
                  v.body.append(d),
                  v.zoom && v.body.append(v.zoom),
                  v.railh && (w.css({ position: S }), v.body.append(w));
              }
              x.isios &&
                v.css(v.win, {
                  "-webkit-tap-highlight-color": "rgba(0,0,0,0)",
                  "-webkit-touch-callout": "none",
                }),
                x.isie &&
                  v.opt.disableoutline &&
                  v.win.attr("hideFocus", "true"),
                x.iswebkit &&
                  v.opt.disableoutline &&
                  v.win.css({ outline: "none" });
            }
            if (
              (v.opt.autohidemode === !1
                ? ((v.autohidedom = !1),
                  v.rail.css({ opacity: v.opt.cursoropacitymax }),
                  v.railh && v.railh.css({ opacity: v.opt.cursoropacitymax }))
                : v.opt.autohidemode === !0 || "leave" === v.opt.autohidemode
                ? ((v.autohidedom = a().add(v.rail)),
                  x.isie8 && (v.autohidedom = v.autohidedom.add(v.cursor)),
                  v.railh && (v.autohidedom = v.autohidedom.add(v.railh)),
                  v.railh &&
                    x.isie8 &&
                    (v.autohidedom = v.autohidedom.add(v.cursorh)))
                : "scroll" == v.opt.autohidemode
                ? ((v.autohidedom = a().add(v.rail)),
                  v.railh && (v.autohidedom = v.autohidedom.add(v.railh)))
                : "cursor" == v.opt.autohidemode
                ? ((v.autohidedom = a().add(v.cursor)),
                  v.railh && (v.autohidedom = v.autohidedom.add(v.cursorh)))
                : "hidden" == v.opt.autohidemode &&
                  ((v.autohidedom = !1), v.hide(), (v.locked = !1)),
              x.isie9mobile)
            ) {
              (v.scrollmom = new b(v)),
                (v.onmangotouch = function () {
                  var e = v.getScrollTop(),
                    o = v.getScrollLeft();
                  if (
                    e == v.scrollmom.lastscrolly &&
                    o == v.scrollmom.lastscrollx
                  )
                    return !0;
                  var t = e - v.mangotouch.sy,
                    r = o - v.mangotouch.sx,
                    i = Math.round(Math.sqrt(Math.pow(r, 2) + Math.pow(t, 2)));
                  if (0 != i) {
                    var n = 0 > t ? -1 : 1,
                      s = 0 > r ? -1 : 1,
                      l = +new Date();
                    if (
                      (v.mangotouch.lazy && clearTimeout(v.mangotouch.lazy),
                      l - v.mangotouch.tm > 80 ||
                        v.mangotouch.dry != n ||
                        v.mangotouch.drx != s)
                    )
                      v.scrollmom.stop(),
                        v.scrollmom.reset(o, e),
                        (v.mangotouch.sy = e),
                        (v.mangotouch.ly = e),
                        (v.mangotouch.sx = o),
                        (v.mangotouch.lx = o),
                        (v.mangotouch.dry = n),
                        (v.mangotouch.drx = s),
                        (v.mangotouch.tm = l);
                    else {
                      v.scrollmom.stop(),
                        v.scrollmom.update(
                          v.mangotouch.sx - r,
                          v.mangotouch.sy - t
                        );
                      {
                        l - v.mangotouch.tm;
                      }
                      v.mangotouch.tm = l;
                      var a = Math.max(
                        Math.abs(v.mangotouch.ly - e),
                        Math.abs(v.mangotouch.lx - o)
                      );
                      (v.mangotouch.ly = e),
                        (v.mangotouch.lx = o),
                        a > 2 &&
                          (v.mangotouch.lazy = setTimeout(function () {
                            (v.mangotouch.lazy = !1),
                              (v.mangotouch.dry = 0),
                              (v.mangotouch.drx = 0),
                              (v.mangotouch.tm = 0),
                              v.scrollmom.doMomentum(30);
                          }, 100));
                    }
                  }
                });
              var z = v.getScrollTop(),
                T = v.getScrollLeft();
              (v.mangotouch = {
                sy: z,
                ly: z,
                dry: 0,
                sx: T,
                lx: T,
                drx: 0,
                lazy: !1,
                tm: 0,
              }),
                v.bind(v.docscroll, "scroll", v.onmangotouch);
            } else {
              if (
                x.cantouch ||
                v.istouchcapable ||
                v.opt.touchbehavior ||
                x.hasmstouch
              ) {
                (v.scrollmom = new b(v)),
                  (v.ontouchstart = function (e) {
                    if (
                      e.pointerType &&
                      2 != e.pointerType &&
                      "touch" != e.pointerType
                    )
                      return !1;
                    if (((v.hasmoving = !1), !v.locked)) {
                      if (x.hasmstouch)
                        for (var o = e.target ? e.target : !1; o; ) {
                          var t = a(o).getNiceScroll();
                          if (t.length > 0 && t[0].me == v.me) break;
                          if (t.length > 0) return !1;
                          if ("DIV" == o.nodeName && o.id == v.id) break;
                          o = o.parentNode ? o.parentNode : !1;
                        }
                      v.cancelScroll();
                      var o = v.getTarget(e);
                      if (o) {
                        var r =
                          /INPUT/i.test(o.nodeName) && /range/i.test(o.type);
                        if (r) return v.stopPropagation(e);
                      }
                      if (
                        (!("clientX" in e) &&
                          "changedTouches" in e &&
                          ((e.clientX = e.changedTouches[0].clientX),
                          (e.clientY = e.changedTouches[0].clientY)),
                        v.forcescreen)
                      ) {
                        var i = e,
                          e = { original: e.original ? e.original : e };
                        (e.clientX = i.screenX), (e.clientY = i.screenY);
                      }
                      if (
                        ((v.rail.drag = {
                          x: e.clientX,
                          y: e.clientY,
                          sx: v.scroll.x,
                          sy: v.scroll.y,
                          st: v.getScrollTop(),
                          sl: v.getScrollLeft(),
                          pt: 2,
                          dl: !1,
                        }),
                        v.ispage || !v.opt.directionlockdeadzone)
                      )
                        v.rail.drag.dl = "f";
                      else {
                        var n = { w: a(window).width(), h: a(window).height() },
                          s = {
                            w: Math.max(
                              document.body.scrollWidth,
                              document.documentElement.scrollWidth
                            ),
                            h: Math.max(
                              document.body.scrollHeight,
                              document.documentElement.scrollHeight
                            ),
                          },
                          l = Math.max(0, s.h - n.h),
                          c = Math.max(0, s.w - n.w);
                        (v.rail.drag.ck =
                          !v.rail.scrollable && v.railh.scrollable
                            ? l > 0
                              ? "v"
                              : !1
                            : v.rail.scrollable && !v.railh.scrollable && c > 0
                            ? "h"
                            : !1),
                          v.rail.drag.ck || (v.rail.drag.dl = "f");
                      }
                      if (v.opt.touchbehavior && v.isiframe && x.isie) {
                        var d = v.win.position();
                        (v.rail.drag.x += d.left), (v.rail.drag.y += d.top);
                      }
                      if (
                        ((v.hasmoving = !1),
                        (v.lastmouseup = !1),
                        v.scrollmom.reset(e.clientX, e.clientY),
                        !x.cantouch && !this.istouchcapable && !x.hasmstouch)
                      ) {
                        var u = o
                          ? /INPUT|SELECT|TEXTAREA/i.test(o.nodeName)
                          : !1;
                        if (!u)
                          return (
                            !v.ispage && x.hasmousecapture && o.setCapture(),
                            v.opt.touchbehavior
                              ? (o.onclick &&
                                  !o._onclick &&
                                  ((o._onclick = o.onclick),
                                  (o.onclick = function (e) {
                                    return v.hasmoving
                                      ? !1
                                      : void o._onclick.call(this, e);
                                  })),
                                v.cancelEvent(e))
                              : v.stopPropagation(e)
                          );
                        /SUBMIT|CANCEL|BUTTON/i.test(a(o).attr("type")) &&
                          ((pc = { tg: o, click: !1 }), (v.preventclick = pc));
                      }
                    }
                  }),
                  (v.ontouchend = function (e) {
                    return e.pointerType &&
                      2 != e.pointerType &&
                      "touch" != e.pointerType
                      ? !1
                      : v.rail.drag &&
                        2 == v.rail.drag.pt &&
                        (v.scrollmom.doMomentum(),
                        (v.rail.drag = !1),
                        v.hasmoving &&
                          ((v.lastmouseup = !0),
                          v.hideCursor(),
                          x.hasmousecapture && document.releaseCapture(),
                          !x.cantouch))
                      ? v.cancelEvent(e)
                      : void 0;
                  });
                var k = v.opt.touchbehavior && v.isiframe && !x.hasmousecapture;
                v.ontouchmove = function (e, o) {
                  if (
                    e.pointerType &&
                    2 != e.pointerType &&
                    "touch" != e.pointerType
                  )
                    return !1;
                  if (v.rail.drag && 2 == v.rail.drag.pt) {
                    if (x.cantouch && void 0 === e.original) return !0;
                    (v.hasmoving = !0),
                      v.preventclick &&
                        !v.preventclick.click &&
                        ((v.preventclick.click =
                          v.preventclick.tg.onclick || !1),
                        (v.preventclick.tg.onclick = v.onpreventclick));
                    var t = a.extend({ original: e }, e);
                    if (
                      ((e = t),
                      "changedTouches" in e &&
                        ((e.clientX = e.changedTouches[0].clientX),
                        (e.clientY = e.changedTouches[0].clientY)),
                      v.forcescreen)
                    ) {
                      var r = e,
                        e = { original: e.original ? e.original : e };
                      (e.clientX = r.screenX), (e.clientY = r.screenY);
                    }
                    var i = (ofy = 0);
                    if (k && !o) {
                      var n = v.win.position();
                      (i = -n.left), (ofy = -n.top);
                    }
                    var s = e.clientY + ofy,
                      l = s - v.rail.drag.y,
                      c = e.clientX + i,
                      d = c - v.rail.drag.x,
                      u = v.rail.drag.st - l;
                    if (
                      (v.ishwscroll && v.opt.bouncescroll
                        ? 0 > u
                          ? (u = Math.round(u / 2))
                          : u > v.page.maxh &&
                            (u =
                              v.page.maxh + Math.round((u - v.page.maxh) / 2))
                        : (0 > u && ((u = 0), (s = 0)),
                          u > v.page.maxh && ((u = v.page.maxh), (s = 0))),
                      v.railh && v.railh.scrollable)
                    ) {
                      var h = v.isrtlmode
                        ? d - v.rail.drag.sl
                        : v.rail.drag.sl - d;
                      v.ishwscroll && v.opt.bouncescroll
                        ? 0 > h
                          ? (h = Math.round(h / 2))
                          : h > v.page.maxw &&
                            (h =
                              v.page.maxw + Math.round((h - v.page.maxw) / 2))
                        : (0 > h && ((h = 0), (c = 0)),
                          h > v.page.maxw && ((h = v.page.maxw), (c = 0)));
                    }
                    var p = !1;
                    if (v.rail.drag.dl)
                      (p = !0),
                        "v" == v.rail.drag.dl
                          ? (h = v.rail.drag.sl)
                          : "h" == v.rail.drag.dl && (u = v.rail.drag.st);
                    else {
                      var m = Math.abs(l),
                        f = Math.abs(d),
                        g = v.opt.directionlockdeadzone;
                      if ("v" == v.rail.drag.ck) {
                        if (m > g && 0.3 * m >= f)
                          return (v.rail.drag = !1), !0;
                        f > g &&
                          ((v.rail.drag.dl = "f"),
                          a("body").scrollTop(a("body").scrollTop()));
                      } else if ("h" == v.rail.drag.ck) {
                        if (f > g && 0.3 * f >= m)
                          return (v.rail.drag = !1), !0;
                        m > g &&
                          ((v.rail.drag.dl = "f"),
                          a("body").scrollLeft(a("body").scrollLeft()));
                      }
                    }
                    if (
                      (v.synched("touchmove", function () {
                        v.rail.drag &&
                          2 == v.rail.drag.pt &&
                          (v.prepareTransition && v.prepareTransition(0),
                          v.rail.scrollable && v.setScrollTop(u),
                          v.scrollmom.update(c, s),
                          v.railh && v.railh.scrollable
                            ? (v.setScrollLeft(h), v.showCursor(u, h))
                            : v.showCursor(u),
                          x.isie10 && document.selection.clear());
                      }),
                      x.ischrome && v.istouchcapable && (p = !1),
                      p)
                    )
                      return v.cancelEvent(e);
                  }
                };
              }
              (v.onmousedown = function (e, o) {
                if (!v.rail.drag || 1 == v.rail.drag.pt) {
                  if (v.locked) return v.cancelEvent(e);
                  v.cancelScroll(),
                    (v.rail.drag = {
                      x: e.clientX,
                      y: e.clientY,
                      sx: v.scroll.x,
                      sy: v.scroll.y,
                      pt: 1,
                      hr: !!o,
                    });
                  var t = v.getTarget(e);
                  return (
                    !v.ispage && x.hasmousecapture && t.setCapture(),
                    v.isiframe &&
                      !x.hasmousecapture &&
                      ((v.saved.csspointerevents = v.doc.css("pointer-events")),
                      v.css(v.doc, { "pointer-events": "none" })),
                    (v.hasmoving = !1),
                    v.cancelEvent(e)
                  );
                }
              }),
                (v.onmouseup = function (e) {
                  if (v.rail.drag) {
                    if (
                      (x.hasmousecapture && document.releaseCapture(),
                      v.isiframe &&
                        !x.hasmousecapture &&
                        v.doc.css("pointer-events", v.saved.csspointerevents),
                      1 != v.rail.drag.pt)
                    )
                      return;
                    return (
                      (v.rail.drag = !1),
                      v.hasmoving && v.triggerScrollEnd(),
                      v.cancelEvent(e)
                    );
                  }
                }),
                (v.onmousemove = function (e) {
                  if (v.rail.drag) {
                    if (1 != v.rail.drag.pt) return;
                    if (x.ischrome && 0 == e.which) return v.onmouseup(e);
                    if (
                      ((v.cursorfreezed = !0),
                      (v.hasmoving = !0),
                      v.rail.drag.hr)
                    ) {
                      (v.scroll.x =
                        v.rail.drag.sx + (e.clientX - v.rail.drag.x)),
                        v.scroll.x < 0 && (v.scroll.x = 0);
                      var o = v.scrollvaluemaxw;
                      v.scroll.x > o && (v.scroll.x = o);
                    } else {
                      (v.scroll.y =
                        v.rail.drag.sy + (e.clientY - v.rail.drag.y)),
                        v.scroll.y < 0 && (v.scroll.y = 0);
                      var t = v.scrollvaluemax;
                      v.scroll.y > t && (v.scroll.y = t);
                    }
                    return (
                      v.synched("mousemove", function () {
                        v.rail.drag &&
                          1 == v.rail.drag.pt &&
                          (v.showCursor(),
                          v.rail.drag.hr
                            ? v.doScrollLeft(
                                Math.round(v.scroll.x * v.scrollratio.x),
                                v.opt.cursordragspeed
                              )
                            : v.doScrollTop(
                                Math.round(v.scroll.y * v.scrollratio.y),
                                v.opt.cursordragspeed
                              ));
                      }),
                      v.cancelEvent(e)
                    );
                  }
                }),
                x.cantouch || v.opt.touchbehavior
                  ? ((v.onpreventclick = function (e) {
                      return v.preventclick
                        ? ((v.preventclick.tg.onclick = v.preventclick.click),
                          (v.preventclick = !1),
                          v.cancelEvent(e))
                        : void 0;
                    }),
                    v.bind(v.win, "mousedown", v.ontouchstart),
                    (v.onclick = x.isios
                      ? !1
                      : function (e) {
                          return v.lastmouseup
                            ? ((v.lastmouseup = !1), v.cancelEvent(e))
                            : !0;
                        }),
                    v.opt.grabcursorenabled &&
                      x.cursorgrabvalue &&
                      (v.css(v.ispage ? v.doc : v.win, {
                        cursor: x.cursorgrabvalue,
                      }),
                      v.css(v.rail, { cursor: x.cursorgrabvalue })))
                  : ((v.hasTextSelected =
                      "getSelection" in document
                        ? function () {
                            return document.getSelection().rangeCount > 0;
                          }
                        : "selection" in document
                        ? function () {
                            return "None" != document.selection.type;
                          }
                        : function () {
                            return !1;
                          }),
                    (v.onselectionstart = function () {
                      v.ispage || (v.selectiondrag = v.win.offset());
                    }),
                    (v.onselectionend = function () {
                      v.selectiondrag = !1;
                    }),
                    (v.onselectiondrag = function (o) {
                      v.selectiondrag &&
                        v.hasTextSelected() &&
                        v.debounced(
                          "selectionscroll",
                          function () {
                            e(o);
                          },
                          250
                        );
                    })),
                x.hasmstouch &&
                  (v.css(v.rail, { "-ms-touch-action": "none" }),
                  v.css(v.cursor, { "-ms-touch-action": "none" }),
                  v.bind(v.win, "MSPointerDown", v.ontouchstart),
                  v.bind(document, "MSPointerUp", v.ontouchend),
                  v.bind(document, "MSPointerMove", v.ontouchmove),
                  v.bind(v.cursor, "MSGestureHold", function (e) {
                    e.preventDefault();
                  }),
                  v.bind(v.cursor, "contextmenu", function (e) {
                    e.preventDefault();
                  })),
                this.istouchcapable &&
                  (v.bind(v.win, "touchstart", v.ontouchstart),
                  v.bind(document, "touchend", v.ontouchend),
                  v.bind(document, "touchcancel", v.ontouchend),
                  v.bind(document, "touchmove", v.ontouchmove)),
                v.bind(v.cursor, "mousedown", v.onmousedown),
                v.bind(v.cursor, "mouseup", v.onmouseup),
                v.railh &&
                  (v.bind(v.cursorh, "mousedown", function (e) {
                    v.onmousedown(e, !0);
                  }),
                  v.bind(v.cursorh, "mouseup", v.onmouseup)),
                (v.opt.cursordragontouch ||
                  (!x.cantouch && !v.opt.touchbehavior)) &&
                  (v.rail.css({ cursor: "default" }),
                  v.railh && v.railh.css({ cursor: "default" }),
                  v.jqbind(v.rail, "mouseenter", function () {
                    return v.win.is(":visible")
                      ? (v.canshowonmouseevent && v.showCursor(),
                        void (v.rail.active = !0))
                      : !1;
                  }),
                  v.jqbind(v.rail, "mouseleave", function () {
                    (v.rail.active = !1), v.rail.drag || v.hideCursor();
                  }),
                  v.opt.sensitiverail &&
                    (v.bind(v.rail, "click", function (e) {
                      v.doRailClick(e, !1, !1);
                    }),
                    v.bind(v.rail, "dblclick", function (e) {
                      v.doRailClick(e, !0, !1);
                    }),
                    v.bind(v.cursor, "click", function (e) {
                      v.cancelEvent(e);
                    }),
                    v.bind(v.cursor, "dblclick", function (e) {
                      v.cancelEvent(e);
                    })),
                  v.railh &&
                    (v.jqbind(v.railh, "mouseenter", function () {
                      return v.win.is(":visible")
                        ? (v.canshowonmouseevent && v.showCursor(),
                          void (v.rail.active = !0))
                        : !1;
                    }),
                    v.jqbind(v.railh, "mouseleave", function () {
                      (v.rail.active = !1), v.rail.drag || v.hideCursor();
                    }),
                    v.opt.sensitiverail &&
                      (v.bind(v.railh, "click", function (e) {
                        v.doRailClick(e, !1, !0);
                      }),
                      v.bind(v.railh, "dblclick", function (e) {
                        v.doRailClick(e, !0, !0);
                      }),
                      v.bind(v.cursorh, "click", function (e) {
                        v.cancelEvent(e);
                      }),
                      v.bind(v.cursorh, "dblclick", function (e) {
                        v.cancelEvent(e);
                      })))),
                x.cantouch || v.opt.touchbehavior
                  ? (v.bind(
                      x.hasmousecapture ? v.win : document,
                      "mouseup",
                      v.ontouchend
                    ),
                    v.bind(document, "mousemove", v.ontouchmove),
                    v.onclick && v.bind(document, "click", v.onclick),
                    v.opt.cursordragontouch &&
                      (v.bind(v.cursor, "mousedown", v.onmousedown),
                      v.bind(v.cursor, "mousemove", v.onmousemove),
                      v.cursorh &&
                        v.bind(v.cursorh, "mousedown", function (e) {
                          v.onmousedown(e, !0);
                        }),
                      v.cursorh &&
                        v.bind(v.cursorh, "mousemove", v.onmousemove)))
                  : (v.bind(
                      x.hasmousecapture ? v.win : document,
                      "mouseup",
                      v.onmouseup
                    ),
                    v.bind(document, "mousemove", v.onmousemove),
                    v.onclick && v.bind(document, "click", v.onclick),
                    !v.ispage &&
                      v.opt.enablescrollonselection &&
                      (v.bind(v.win[0], "mousedown", v.onselectionstart),
                      v.bind(document, "mouseup", v.onselectionend),
                      v.bind(v.cursor, "mouseup", v.onselectionend),
                      v.cursorh &&
                        v.bind(v.cursorh, "mouseup", v.onselectionend),
                      v.bind(document, "mousemove", v.onselectiondrag)),
                    v.zoom &&
                      (v.jqbind(v.zoom, "mouseenter", function () {
                        v.canshowonmouseevent && v.showCursor(),
                          (v.rail.active = !0);
                      }),
                      v.jqbind(v.zoom, "mouseleave", function () {
                        (v.rail.active = !1), v.rail.drag || v.hideCursor();
                      }))),
                v.opt.enablemousewheel &&
                  (v.isiframe ||
                    v.bind(
                      x.isie && v.ispage ? document : v.win,
                      "mousewheel",
                      v.onmousewheel
                    ),
                  v.bind(v.rail, "mousewheel", v.onmousewheel),
                  v.railh && v.bind(v.railh, "mousewheel", v.onmousewheelhr)),
                v.ispage ||
                  x.cantouch ||
                  /HTML|^BODY/.test(v.win[0].nodeName) ||
                  (v.win.attr("tabindex") || v.win.attr({ tabindex: n++ }),
                  v.jqbind(v.win, "focus", function (e) {
                    (r = v.getTarget(e).id || !0),
                      (v.hasfocus = !0),
                      v.canshowonmouseevent && v.noticeCursor();
                  }),
                  v.jqbind(v.win, "blur", function () {
                    (r = !1), (v.hasfocus = !1);
                  }),
                  v.jqbind(v.win, "mouseenter", function (e) {
                    (i = v.getTarget(e).id || !0),
                      (v.hasmousefocus = !0),
                      v.canshowonmouseevent && v.noticeCursor();
                  }),
                  v.jqbind(v.win, "mouseleave", function () {
                    (i = !1),
                      (v.hasmousefocus = !1),
                      v.rail.drag || v.hideCursor();
                  }));
            }
            if (
              ((v.onkeypress = function (e) {
                if (v.locked && 0 == v.page.maxh) return !0;
                e = e ? e : window.e;
                var o = v.getTarget(e);
                if (o && /INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)) {
                  var t = o.getAttribute("type") || o.type || !1;
                  if (!t || !/submit|button|cancel/i.tp) return !0;
                }
                if (a(o).attr("contenteditable")) return !0;
                if (
                  v.hasfocus ||
                  (v.hasmousefocus && !r) ||
                  (v.ispage && !r && !i)
                ) {
                  var n = e.keyCode;
                  if (v.locked && 27 != n) return v.cancelEvent(e);
                  var s = e.ctrlKey || !1,
                    l = e.shiftKey || !1,
                    c = !1;
                  switch (n) {
                    case 38:
                    case 63233:
                      v.doScrollBy(72), (c = !0);
                      break;
                    case 40:
                    case 63235:
                      v.doScrollBy(-72), (c = !0);
                      break;
                    case 37:
                    case 63232:
                      v.railh &&
                        (s ? v.doScrollLeft(0) : v.doScrollLeftBy(72),
                        (c = !0));
                      break;
                    case 39:
                    case 63234:
                      v.railh &&
                        (s
                          ? v.doScrollLeft(v.page.maxw)
                          : v.doScrollLeftBy(-72),
                        (c = !0));
                      break;
                    case 33:
                    case 63276:
                      v.doScrollBy(v.view.h), (c = !0);
                      break;
                    case 34:
                    case 63277:
                      v.doScrollBy(-v.view.h), (c = !0);
                      break;
                    case 36:
                    case 63273:
                      v.railh && s ? v.doScrollPos(0, 0) : v.doScrollTo(0),
                        (c = !0);
                      break;
                    case 35:
                    case 63275:
                      v.railh && s
                        ? v.doScrollPos(v.page.maxw, v.page.maxh)
                        : v.doScrollTo(v.page.maxh),
                        (c = !0);
                      break;
                    case 32:
                      v.opt.spacebarenabled &&
                        (v.doScrollBy(l ? v.view.h : -v.view.h), (c = !0));
                      break;
                    case 27:
                      v.zoomactive && (v.doZoom(), (c = !0));
                  }
                  if (c) return v.cancelEvent(e);
                }
              }),
              v.opt.enablekeyboard &&
                v.bind(
                  document,
                  x.isopera && !x.isopera12 ? "keypress" : "keydown",
                  v.onkeypress
                ),
              v.bind(document, "keydown", function (e) {
                var o = e.ctrlKey || !1;
                o && (v.wheelprevented = !0);
              }),
              v.bind(document, "keyup", function (e) {
                var o = e.ctrlKey || !1;
                o || (v.wheelprevented = !1);
              }),
              v.bind(window, "resize", v.lazyResize),
              v.bind(window, "orientationchange", v.lazyResize),
              v.bind(window, "load", v.lazyResize),
              x.ischrome && !v.ispage && !v.haswrapper)
            ) {
              var M = v.win.attr("style"),
                E = parseFloat(v.win.css("width")) + 1;
              v.win.css("width", E),
                v.synched("chromefix", function () {
                  v.win.attr("style", M);
                });
            }
            (v.onAttributeChange = function () {
              v.lazyResize(250);
            }),
              v.ispage ||
                v.haswrapper ||
                (m !== !1
                  ? ((v.observer = new m(function (e) {
                      e.forEach(v.onAttributeChange);
                    })),
                    v.observer.observe(v.win[0], {
                      childList: !0,
                      characterData: !1,
                      attributes: !0,
                      subtree: !1,
                    }),
                    (v.observerremover = new m(function (e) {
                      e.forEach(function (e) {
                        if (e.removedNodes.length > 0)
                          for (var o in e.removedNodes)
                            if (e.removedNodes[o] == v.win[0])
                              return v.remove();
                      });
                    })),
                    v.observerremover.observe(v.win[0].parentNode, {
                      childList: !0,
                      characterData: !1,
                      attributes: !1,
                      subtree: !1,
                    }))
                  : (v.bind(
                      v.win,
                      x.isie && !x.isie9 ? "propertychange" : "DOMAttrModified",
                      v.onAttributeChange
                    ),
                    x.isie9 &&
                      v.win[0].attachEvent(
                        "onpropertychange",
                        v.onAttributeChange
                      ),
                    v.bind(v.win, "DOMNodeRemoved", function (e) {
                      e.target == v.win[0] && v.remove();
                    }))),
              !v.ispage &&
                v.opt.boxzoom &&
                v.bind(window, "resize", v.resizeZoom),
              v.istextarea && v.bind(v.win, "mouseup", v.lazyResize),
              v.lazyResize(30);
          }
          "IFRAME" == this.doc[0].nodeName &&
            (this.doc[0].readyState &&
              "complete" == this.doc[0].readyState &&
              setTimeout(function () {
                o.call(v.doc[0], !1);
              }, 500),
            v.bind(this.doc, "load", o));
        }),
        (this.showCursor = function (e, o) {
          v.cursortimeout &&
            (clearTimeout(v.cursortimeout), (v.cursortimeout = 0)),
            v.rail &&
              (v.autohidedom &&
                (v.autohidedom.stop().css({ opacity: v.opt.cursoropacitymax }),
                (v.cursoractive = !0)),
              (v.rail.drag && 1 == v.rail.drag.pt) ||
                (void 0 !== e &&
                  e !== !1 &&
                  (v.scroll.y = Math.round((1 * e) / v.scrollratio.y)),
                void 0 !== o &&
                  (v.scroll.x = Math.round((1 * o) / v.scrollratio.x))),
              v.cursor.css({ height: v.cursorheight, top: v.scroll.y }),
              v.cursorh &&
                (v.cursorh.css(
                  !v.rail.align && v.rail.visibility
                    ? { width: v.cursorwidth, left: v.scroll.x + v.rail.width }
                    : { width: v.cursorwidth, left: v.scroll.x }
                ),
                (v.cursoractive = !0)),
              v.zoom && v.zoom.stop().css({ opacity: v.opt.cursoropacitymax }));
        }),
        (this.hideCursor = function (e) {
          v.cursortimeout ||
            (v.rail &&
              v.autohidedom &&
              ((v.hasmousefocus && "leave" == v.opt.autohidemode) ||
                (v.cursortimeout = setTimeout(function () {
                  (v.rail.active && v.showonmouseevent) ||
                    (v.autohidedom
                      .stop()
                      .animate({ opacity: v.opt.cursoropacitymin }),
                    v.zoom &&
                      v.zoom
                        .stop()
                        .animate({ opacity: v.opt.cursoropacitymin }),
                    (v.cursoractive = !1)),
                    (v.cursortimeout = 0);
                }, e || v.opt.hidecursordelay))));
        }),
        (this.noticeCursor = function (e, o, t) {
          v.showCursor(o, t), v.rail.active || v.hideCursor(e);
        }),
        (this.getContentSize = v.ispage
          ? function () {
              return {
                w: Math.max(
                  document.body.scrollWidth,
                  document.documentElement.scrollWidth
                ),
                h: Math.max(
                  document.body.scrollHeight,
                  document.documentElement.scrollHeight
                ),
              };
            }
          : v.haswrapper
          ? function () {
              return {
                w:
                  v.doc.outerWidth() +
                  parseInt(v.win.css("paddingLeft")) +
                  parseInt(v.win.css("paddingRight")),
                h:
                  v.doc.outerHeight() +
                  parseInt(v.win.css("paddingTop")) +
                  parseInt(v.win.css("paddingBottom")),
              };
            }
          : function () {
              return {
                w: v.docscroll[0].scrollWidth,
                h: v.docscroll[0].scrollHeight,
              };
            }),
        (this.onResize = function (e, o) {
          if (!v || !v.win) return !1;
          if (!v.haswrapper && !v.ispage) {
            if ("none" == v.win.css("display"))
              return v.visibility && v.hideRail().hideRailHr(), !1;
            v.hidden || v.visibility || v.showRail().showRailHr();
          }
          var t = v.page.maxh,
            r = v.page.maxw,
            i = { h: v.view.h, w: v.view.w };
          if (
            ((v.view = {
              w: v.ispage ? v.win.width() : parseInt(v.win[0].clientWidth),
              h: v.ispage ? v.win.height() : parseInt(v.win[0].clientHeight),
            }),
            (v.page = o ? o : v.getContentSize()),
            (v.page.maxh = Math.max(0, v.page.h - v.view.h)),
            (v.page.maxw = Math.max(0, v.page.w - v.view.w)),
            v.page.maxh == t && v.page.maxw == r && v.view.w == i.w)
          ) {
            if (v.ispage) return v;
            var n = v.win.offset();
            if (v.lastposition) {
              var s = v.lastposition;
              if (s.top == n.top && s.left == n.left) return v;
            }
            v.lastposition = n;
          }
          if (
            (0 == v.page.maxh
              ? (v.hideRail(),
                (v.scrollvaluemax = 0),
                (v.scroll.y = 0),
                (v.scrollratio.y = 0),
                (v.cursorheight = 0),
                v.setScrollTop(0),
                (v.rail.scrollable = !1))
              : (v.rail.scrollable = !0),
            0 == v.page.maxw
              ? (v.hideRailHr(),
                (v.scrollvaluemaxw = 0),
                (v.scroll.x = 0),
                (v.scrollratio.x = 0),
                (v.cursorwidth = 0),
                v.setScrollLeft(0),
                (v.railh.scrollable = !1))
              : (v.railh.scrollable = !0),
            (v.locked = 0 == v.page.maxh && 0 == v.page.maxw),
            v.locked)
          )
            return v.ispage || v.updateScrollBar(v.view), !1;
          v.hidden || v.visibility
            ? v.hidden || v.railh.visibility || v.showRailHr()
            : v.showRail().showRailHr(),
            v.istextarea &&
              v.win.css("resize") &&
              "none" != v.win.css("resize") &&
              (v.view.h -= 20),
            (v.cursorheight = Math.min(
              v.view.h,
              Math.round(v.view.h * (v.view.h / v.page.h))
            )),
            (v.cursorheight = v.opt.cursorfixedheight
              ? v.opt.cursorfixedheight
              : Math.max(v.opt.cursorminheight, v.cursorheight)),
            (v.cursorwidth = Math.min(
              v.view.w,
              Math.round(v.view.w * (v.view.w / v.page.w))
            )),
            (v.cursorwidth = v.opt.cursorfixedheight
              ? v.opt.cursorfixedheight
              : Math.max(v.opt.cursorminheight, v.cursorwidth)),
            (v.scrollvaluemax = v.view.h - v.cursorheight - v.cursor.hborder),
            v.railh &&
              ((v.railh.width =
                v.page.maxh > 0 ? v.view.w - v.rail.width : v.view.w),
              (v.scrollvaluemaxw =
                v.railh.width - v.cursorwidth - v.cursorh.wborder)),
            v.ispage || v.updateScrollBar(v.view),
            (v.scrollratio = {
              x: v.page.maxw / v.scrollvaluemaxw,
              y: v.page.maxh / v.scrollvaluemax,
            });
          var l = v.getScrollTop();
          return (
            l > v.page.maxh
              ? v.doScrollTop(v.page.maxh)
              : ((v.scroll.y = Math.round(
                  v.getScrollTop() * (1 / v.scrollratio.y)
                )),
                (v.scroll.x = Math.round(
                  v.getScrollLeft() * (1 / v.scrollratio.x)
                )),
                v.cursoractive && v.noticeCursor()),
            v.scroll.y &&
              0 == v.getScrollTop() &&
              v.doScrollTo(Math.floor(v.scroll.y * v.scrollratio.y)),
            v
          );
        }),
        (this.resize = v.onResize),
        (this.lazyResize = function (e) {
          return (e = isNaN(e) ? 30 : e), v.delayed("resize", v.resize, e), v;
        }),
        (this._bind = function (e, o, t, r) {
          v.events.push({ e: e, n: o, f: t, b: r, q: !1 }),
            e.addEventListener
              ? e.addEventListener(o, t, r || !1)
              : e.attachEvent
              ? e.attachEvent("on" + o, t)
              : (e["on" + o] = t);
        }),
        (this.jqbind = function (e, o, t) {
          v.events.push({ e: e, n: o, f: t, q: !0 }), a(e).bind(o, t);
        }),
        (this.bind = function (e, o, t, r) {
          var i = "jquery" in e ? e[0] : e;
          if ("mousewheel" == o)
            if ("onwheel" in document || document.documentMode >= 9)
              v._bind(i, "wheel", t, r || !1);
            else {
              var n =
                void 0 !== document.onmousewheel
                  ? "mousewheel"
                  : "DOMMouseScroll";
              p(i, n, t, r || !1),
                "DOMMouseScroll" == n &&
                  p(i, "MozMousePixelScroll", t, r || !1);
            }
          else if (i.addEventListener) {
            if (x.cantouch && /mouseup|mousedown|mousemove/.test(o)) {
              var s =
                "mousedown" == o
                  ? "touchstart"
                  : "mouseup" == o
                  ? "touchend"
                  : "touchmove";
              v._bind(
                i,
                s,
                function (e) {
                  if (e.touches) {
                    if (e.touches.length < 2) {
                      var o = e.touches.length ? e.touches[0] : e;
                      (o.original = e), t.call(this, o);
                    }
                  } else if (e.changedTouches) {
                    var o = e.changedTouches[0];
                    (o.original = e), t.call(this, o);
                  }
                },
                r || !1
              );
            }
            v._bind(i, o, t, r || !1),
              x.cantouch &&
                "mouseup" == o &&
                v._bind(i, "touchcancel", t, r || !1);
          } else
            v._bind(i, o, function (e) {
              return (
                (e = e || window.event || !1),
                e && e.srcElement && (e.target = e.srcElement),
                "pageY" in e ||
                  ((e.pageX = e.clientX + document.documentElement.scrollLeft),
                  (e.pageY = e.clientY + document.documentElement.scrollTop)),
                t.call(i, e) === !1 || r === !1 ? v.cancelEvent(e) : !0
              );
            });
        }),
        (this._unbind = function (e, o, t, r) {
          e.removeEventListener
            ? e.removeEventListener(o, t, r)
            : e.detachEvent
            ? e.detachEvent("on" + o, t)
            : (e["on" + o] = !1);
        }),
        (this.unbindAll = function () {
          for (var e = 0; e < v.events.length; e++) {
            var o = v.events[e];
            o.q ? o.e.unbind(o.n, o.f) : v._unbind(o.e, o.n, o.f, o.b);
          }
        }),
        (this.cancelEvent = function (e) {
          var e = e.original ? e.original : e ? e : window.event || !1;
          return e
            ? (e.preventDefault && e.preventDefault(),
              e.stopPropagation && e.stopPropagation(),
              e.preventManipulation && e.preventManipulation(),
              (e.cancelBubble = !0),
              (e.cancel = !0),
              (e.returnValue = !1),
              !1)
            : !1;
        }),
        (this.stopPropagation = function (e) {
          var e = e.original ? e.original : e ? e : window.event || !1;
          return e
            ? e.stopPropagation
              ? e.stopPropagation()
              : (e.cancelBubble && (e.cancelBubble = !0), !1)
            : !1;
        }),
        (this.showRail = function () {
          return (
            0 == v.page.maxh ||
              (!v.ispage && "none" == v.win.css("display")) ||
              ((v.visibility = !0),
              (v.rail.visibility = !0),
              v.rail.css("display", "block")),
            v
          );
        }),
        (this.showRailHr = function () {
          return v.railh
            ? (0 == v.page.maxw ||
                (!v.ispage && "none" == v.win.css("display")) ||
                ((v.railh.visibility = !0), v.railh.css("display", "block")),
              v)
            : v;
        }),
        (this.hideRail = function () {
          return (
            (v.visibility = !1),
            (v.rail.visibility = !1),
            v.rail.css("display", "none"),
            v
          );
        }),
        (this.hideRailHr = function () {
          return v.railh
            ? ((v.railh.visibility = !1), v.railh.css("display", "none"), v)
            : v;
        }),
        (this.show = function () {
          return (v.hidden = !1), (v.locked = !1), v.showRail().showRailHr();
        }),
        (this.hide = function () {
          return (v.hidden = !0), (v.locked = !0), v.hideRail().hideRailHr();
        }),
        (this.toggle = function () {
          return v.hidden ? v.show() : v.hide();
        }),
        (this.remove = function () {
          v.stop(),
            v.cursortimeout && clearTimeout(v.cursortimeout),
            v.doZoomOut(),
            v.unbindAll(),
            x.isie9 &&
              v.win[0].detachEvent("onpropertychange", v.onAttributeChange),
            v.observer !== !1 && v.observer.disconnect(),
            v.observerremover !== !1 && v.observerremover.disconnect(),
            (v.events = null),
            v.cursor && v.cursor.remove(),
            v.cursorh && v.cursorh.remove(),
            v.rail && v.rail.remove(),
            v.railh && v.railh.remove(),
            v.zoom && v.zoom.remove();
          for (var e = 0; e < v.saved.css.length; e++) {
            var o = v.saved.css[e];
            o[0].css(o[1], void 0 === o[2] ? "" : o[2]);
          }
          (v.saved = !1), v.me.data("__nicescroll", "");
          var t = a.nicescroll;
          t.each(function (e) {
            if (this && this.id === v.id) {
              delete t[e];
              for (var o = ++e; o < t.length; o++, e++) t[e] = t[o];
              t.length--, t.length && delete t[t.length];
            }
          });
          for (var r in v) (v[r] = null), delete v[r];
          v = null;
        }),
        (this.scrollstart = function (e) {
          return (this.onscrollstart = e), v;
        }),
        (this.scrollend = function (e) {
          return (this.onscrollend = e), v;
        }),
        (this.scrollcancel = function (e) {
          return (this.onscrollcancel = e), v;
        }),
        (this.zoomin = function (e) {
          return (this.onzoomin = e), v;
        }),
        (this.zoomout = function (e) {
          return (this.onzoomout = e), v;
        }),
        (this.isScrollable = function (e) {
          var o = e.target ? e.target : e;
          if ("OPTION" == o.nodeName) return !0;
          for (; o && 1 == o.nodeType && !/^BODY|HTML/.test(o.nodeName); ) {
            var t = a(o),
              r =
                t.css("overflowY") ||
                t.css("overflowX") ||
                t.css("overflow") ||
                "";
            if (/scroll|auto/.test(r)) return o.clientHeight != o.scrollHeight;
            o = o.parentNode ? o.parentNode : !1;
          }
          return !1;
        }),
        (this.getViewport = function (e) {
          for (
            var o = e && e.parentNode ? e.parentNode : !1;
            o && 1 == o.nodeType && !/^BODY|HTML/.test(o.nodeName);

          ) {
            var t = a(o);
            if (/fixed|absolute/.test(t.css("position"))) return t;
            var r =
              t.css("overflowY") ||
              t.css("overflowX") ||
              t.css("overflow") ||
              "";
            if (/scroll|auto/.test(r) && o.clientHeight != o.scrollHeight)
              return t;
            if (t.getNiceScroll().length > 0) return t;
            o = o.parentNode ? o.parentNode : !1;
          }
          return o ? a(o) : !1;
        }),
        (this.triggerScrollEnd = function () {
          if (v.onscrollend) {
            var e = v.getScrollLeft(),
              o = v.getScrollTop(),
              t = {
                type: "scrollend",
                current: { x: e, y: o },
                end: { x: e, y: o },
              };
            v.onscrollend.call(v, t);
          }
        }),
        (this.onmousewheel = function (e) {
          if (!v.wheelprevented) {
            if (v.locked) return v.debounced("checkunlock", v.resize, 250), !0;
            if (v.rail.drag) return v.cancelEvent(e);
            if (
              ("auto" == v.opt.oneaxismousemode &&
                0 != e.deltaX &&
                (v.opt.oneaxismousemode = !1),
              v.opt.oneaxismousemode && 0 == e.deltaX && !v.rail.scrollable)
            )
              return v.railh && v.railh.scrollable ? v.onmousewheelhr(e) : !0;
            var o = +new Date(),
              t = !1;
            if (
              (v.opt.preservenativescrolling &&
                v.checkarea + 600 < o &&
                ((v.nativescrollingarea = v.isScrollable(e)), (t = !0)),
              (v.checkarea = o),
              v.nativescrollingarea)
            )
              return !0;
            var r = g(e, !1, t);
            return r && (v.checkarea = 0), r;
          }
        }),
        (this.onmousewheelhr = function (e) {
          if (!v.wheelprevented) {
            if (v.locked || !v.railh.scrollable) return !0;
            if (v.rail.drag) return v.cancelEvent(e);
            var o = +new Date(),
              t = !1;
            return (
              v.opt.preservenativescrolling &&
                v.checkarea + 600 < o &&
                ((v.nativescrollingarea = v.isScrollable(e)), (t = !0)),
              (v.checkarea = o),
              v.nativescrollingarea
                ? !0
                : v.locked
                ? v.cancelEvent(e)
                : g(e, !0, t)
            );
          }
        }),
        (this.stop = function () {
          return (
            v.cancelScroll(),
            v.scrollmon && v.scrollmon.stop(),
            (v.cursorfreezed = !1),
            (v.scroll.y = Math.round(v.getScrollTop() * (1 / v.scrollratio.y))),
            v.noticeCursor(),
            v
          );
        }),
        (this.getTransitionSpeed = function (e) {
          var o = Math.round(10 * v.opt.scrollspeed),
            t = Math.min(o, Math.round((e / 20) * v.opt.scrollspeed));
          return t > 20 ? t : 0;
        }),
        v.opt.smoothscroll
          ? v.ishwscroll && x.hastransition && v.opt.usetransition
            ? ((this.prepareTransition = function (e, o) {
                var t = o ? (e > 20 ? e : 0) : v.getTransitionSpeed(e),
                  r = t ? x.prefixstyle + "transform " + t + "ms ease-out" : "";
                return (
                  (v.lasttransitionstyle && v.lasttransitionstyle == r) ||
                    ((v.lasttransitionstyle = r),
                    v.doc.css(x.transitionstyle, r)),
                  t
                );
              }),
              (this.doScrollLeft = function (e, o) {
                var t = v.scrollrunning ? v.newscrolly : v.getScrollTop();
                v.doScrollPos(e, t, o);
              }),
              (this.doScrollTop = function (e, o) {
                var t = v.scrollrunning ? v.newscrollx : v.getScrollLeft();
                v.doScrollPos(t, e, o);
              }),
              (this.doScrollPos = function (e, o, t) {
                var r = v.getScrollTop(),
                  i = v.getScrollLeft();
                return (
                  ((v.newscrolly - r) * (o - r) < 0 ||
                    (v.newscrollx - i) * (e - i) < 0) &&
                    v.cancelScroll(),
                  0 == v.opt.bouncescroll &&
                    (0 > o ? (o = 0) : o > v.page.maxh && (o = v.page.maxh),
                    0 > e ? (e = 0) : e > v.page.maxw && (e = v.page.maxw)),
                  v.scrollrunning && e == v.newscrollx && o == v.newscrolly
                    ? !1
                    : ((v.newscrolly = o),
                      (v.newscrollx = e),
                      (v.newscrollspeed = t || !1),
                      v.timer
                        ? !1
                        : void (v.timer = setTimeout(function () {
                            var t = v.getScrollTop(),
                              r = v.getScrollLeft(),
                              i = {};
                            (i.x = e - r),
                              (i.y = o - t),
                              (i.px = r),
                              (i.py = t);
                            var n = Math.round(
                                Math.sqrt(Math.pow(i.x, 2) + Math.pow(i.y, 2))
                              ),
                              s =
                                v.newscrollspeed && v.newscrollspeed > 1
                                  ? v.newscrollspeed
                                  : v.getTransitionSpeed(n);
                            if (
                              (v.newscrollspeed &&
                                v.newscrollspeed <= 1 &&
                                (s *= v.newscrollspeed),
                              v.prepareTransition(s, !0),
                              v.timerscroll &&
                                v.timerscroll.tm &&
                                clearInterval(v.timerscroll.tm),
                              s > 0)
                            ) {
                              if (!v.scrollrunning && v.onscrollstart) {
                                var l = {
                                  type: "scrollstart",
                                  current: { x: r, y: t },
                                  request: { x: e, y: o },
                                  end: { x: v.newscrollx, y: v.newscrolly },
                                  speed: s,
                                };
                                v.onscrollstart.call(v, l);
                              }
                              x.transitionend
                                ? v.scrollendtrapped ||
                                  ((v.scrollendtrapped = !0),
                                  v.bind(
                                    v.doc,
                                    x.transitionend,
                                    v.onScrollTransitionEnd,
                                    !1
                                  ))
                                : (v.scrollendtrapped &&
                                    clearTimeout(v.scrollendtrapped),
                                  (v.scrollendtrapped = setTimeout(
                                    v.onScrollTransitionEnd,
                                    s
                                  )));
                              var a = t,
                                c = r;
                              (v.timerscroll = {
                                bz: new BezierClass(
                                  a,
                                  v.newscrolly,
                                  s,
                                  0,
                                  0,
                                  0.58,
                                  1
                                ),
                                bh: new BezierClass(
                                  c,
                                  v.newscrollx,
                                  s,
                                  0,
                                  0,
                                  0.58,
                                  1
                                ),
                              }),
                                v.cursorfreezed ||
                                  (v.timerscroll.tm = setInterval(function () {
                                    v.showCursor(
                                      v.getScrollTop(),
                                      v.getScrollLeft()
                                    );
                                  }, 60));
                            }
                            v.synched("doScroll-set", function () {
                              (v.timer = 0),
                                v.scrollendtrapped && (v.scrollrunning = !0),
                                v.setScrollTop(v.newscrolly),
                                v.setScrollLeft(v.newscrollx),
                                v.scrollendtrapped || v.onScrollTransitionEnd();
                            });
                          }, 50)))
                );
              }),
              (this.cancelScroll = function () {
                if (!v.scrollendtrapped) return !0;
                var e = v.getScrollTop(),
                  o = v.getScrollLeft();
                return (
                  (v.scrollrunning = !1),
                  x.transitionend || clearTimeout(x.transitionend),
                  (v.scrollendtrapped = !1),
                  v._unbind(v.doc, x.transitionend, v.onScrollTransitionEnd),
                  v.prepareTransition(0),
                  v.setScrollTop(e),
                  v.railh && v.setScrollLeft(o),
                  v.timerscroll &&
                    v.timerscroll.tm &&
                    clearInterval(v.timerscroll.tm),
                  (v.timerscroll = !1),
                  (v.cursorfreezed = !1),
                  v.showCursor(e, o),
                  v
                );
              }),
              (this.onScrollTransitionEnd = function () {
                v.scrollendtrapped &&
                  v._unbind(v.doc, x.transitionend, v.onScrollTransitionEnd),
                  (v.scrollendtrapped = !1),
                  v.prepareTransition(0),
                  v.timerscroll &&
                    v.timerscroll.tm &&
                    clearInterval(v.timerscroll.tm),
                  (v.timerscroll = !1);
                var e = v.getScrollTop(),
                  o = v.getScrollLeft();
                return (
                  v.setScrollTop(e),
                  v.railh && v.setScrollLeft(o),
                  v.noticeCursor(!1, e, o),
                  (v.cursorfreezed = !1),
                  0 > e ? (e = 0) : e > v.page.maxh && (e = v.page.maxh),
                  0 > o ? (o = 0) : o > v.page.maxw && (o = v.page.maxw),
                  e != v.newscrolly || o != v.newscrollx
                    ? v.doScrollPos(o, e, v.opt.snapbackspeed)
                    : (v.onscrollend && v.scrollrunning && v.triggerScrollEnd(),
                      void (v.scrollrunning = !1))
                );
              }))
            : ((this.doScrollLeft = function (e, o) {
                var t = v.scrollrunning ? v.newscrolly : v.getScrollTop();
                v.doScrollPos(e, t, o);
              }),
              (this.doScrollTop = function (e, o) {
                var t = v.scrollrunning ? v.newscrollx : v.getScrollLeft();
                v.doScrollPos(t, e, o);
              }),
              (this.doScrollPos = function (e, o, t) {
                function r() {
                  if (v.cancelAnimationFrame) return !0;
                  if (((v.scrollrunning = !0), (h = 1 - h)))
                    return (v.timer = d(r) || 1);
                  var e = 0,
                    o = (sy = v.getScrollTop());
                  if (v.dst.ay) {
                    o = v.bzscroll
                      ? v.dst.py + v.bzscroll.getNow() * v.dst.ay
                      : v.newscrolly;
                    var t = o - sy;
                    ((0 > t && o < v.newscrolly) ||
                      (t > 0 && o > v.newscrolly)) &&
                      (o = v.newscrolly),
                      v.setScrollTop(o),
                      o == v.newscrolly && (e = 1);
                  } else e = 1;
                  var i = (sx = v.getScrollLeft());
                  if (v.dst.ax) {
                    i = v.bzscroll
                      ? v.dst.px + v.bzscroll.getNow() * v.dst.ax
                      : v.newscrollx;
                    var t = i - sx;
                    ((0 > t && i < v.newscrollx) ||
                      (t > 0 && i > v.newscrollx)) &&
                      (i = v.newscrollx),
                      v.setScrollLeft(i),
                      i == v.newscrollx && (e += 1);
                  } else e += 1;
                  2 == e
                    ? ((v.timer = 0),
                      (v.cursorfreezed = !1),
                      (v.bzscroll = !1),
                      (v.scrollrunning = !1),
                      0 > o ? (o = 0) : o > v.page.maxh && (o = v.page.maxh),
                      0 > i ? (i = 0) : i > v.page.maxw && (i = v.page.maxw),
                      i != v.newscrollx || o != v.newscrolly
                        ? v.doScrollPos(i, o)
                        : v.onscrollend && v.triggerScrollEnd())
                    : (v.timer = d(r) || 1);
                }
                var o = void 0 === o || o === !1 ? v.getScrollTop(!0) : o;
                if (v.timer && v.newscrolly == o && v.newscrollx == e)
                  return !0;
                v.timer && u(v.timer), (v.timer = 0);
                var i = v.getScrollTop(),
                  n = v.getScrollLeft();
                ((v.newscrolly - i) * (o - i) < 0 ||
                  (v.newscrollx - n) * (e - n) < 0) &&
                  v.cancelScroll(),
                  (v.newscrolly = o),
                  (v.newscrollx = e),
                  (v.bouncescroll && v.rail.visibility) ||
                    (v.newscrolly < 0
                      ? (v.newscrolly = 0)
                      : v.newscrolly > v.page.maxh &&
                        (v.newscrolly = v.page.maxh)),
                  (v.bouncescroll && v.railh.visibility) ||
                    (v.newscrollx < 0
                      ? (v.newscrollx = 0)
                      : v.newscrollx > v.page.maxw &&
                        (v.newscrollx = v.page.maxw)),
                  (v.dst = {}),
                  (v.dst.x = e - n),
                  (v.dst.y = o - i),
                  (v.dst.px = n),
                  (v.dst.py = i);
                var s = Math.round(
                  Math.sqrt(Math.pow(v.dst.x, 2) + Math.pow(v.dst.y, 2))
                );
                (v.dst.ax = v.dst.x / s), (v.dst.ay = v.dst.y / s);
                var l = 0,
                  a = s;
                0 == v.dst.x
                  ? ((l = i), (a = o), (v.dst.ay = 1), (v.dst.py = 0))
                  : 0 == v.dst.y &&
                    ((l = n), (a = e), (v.dst.ax = 1), (v.dst.px = 0));
                var c = v.getTransitionSpeed(s);
                if (
                  (t && 1 >= t && (c *= t),
                  (v.bzscroll =
                    c > 0
                      ? v.bzscroll
                        ? v.bzscroll.update(a, c)
                        : new BezierClass(l, a, c, 0, 1, 0, 1)
                      : !1),
                  !v.timer)
                ) {
                  ((i == v.page.maxh && o >= v.page.maxh) ||
                    (n == v.page.maxw && e >= v.page.maxw)) &&
                    v.checkContentSize();
                  var h = 1;
                  if (
                    ((v.cancelAnimationFrame = !1),
                    (v.timer = 1),
                    v.onscrollstart && !v.scrollrunning)
                  ) {
                    var p = {
                      type: "scrollstart",
                      current: { x: n, y: i },
                      request: { x: e, y: o },
                      end: { x: v.newscrollx, y: v.newscrolly },
                      speed: c,
                    };
                    v.onscrollstart.call(v, p);
                  }
                  r(),
                    ((i == v.page.maxh && o >= i) ||
                      (n == v.page.maxw && e >= n)) &&
                      v.checkContentSize(),
                    v.noticeCursor();
                }
              }),
              (this.cancelScroll = function () {
                return (
                  v.timer && u(v.timer),
                  (v.timer = 0),
                  (v.bzscroll = !1),
                  (v.scrollrunning = !1),
                  v
                );
              }))
          : ((this.doScrollLeft = function (e, o) {
              var t = v.getScrollTop();
              v.doScrollPos(e, t, o);
            }),
            (this.doScrollTop = function (e, o) {
              var t = v.getScrollLeft();
              v.doScrollPos(t, e, o);
            }),
            (this.doScrollPos = function (e, o) {
              var t = e > v.page.maxw ? v.page.maxw : e;
              0 > t && (t = 0);
              var r = o > v.page.maxh ? v.page.maxh : o;
              0 > r && (r = 0),
                v.synched("scroll", function () {
                  v.setScrollTop(r), v.setScrollLeft(t);
                });
            }),
            (this.cancelScroll = function () {})),
        (this.doScrollBy = function (e, o) {
          var t = 0;
          if (o) t = Math.floor((v.scroll.y - e) * v.scrollratio.y);
          else {
            var r = v.timer ? v.newscrolly : v.getScrollTop(!0);
            t = r - e;
          }
          if (v.bouncescroll) {
            var i = Math.round(v.view.h / 2);
            -i > t ? (t = -i) : t > v.page.maxh + i && (t = v.page.maxh + i);
          }
          return (
            (v.cursorfreezed = !1),
            (py = v.getScrollTop(!0)),
            0 > t && 0 >= py
              ? v.noticeCursor()
              : t > v.page.maxh && py >= v.page.maxh
              ? (v.checkContentSize(), v.noticeCursor())
              : void v.doScrollTop(t)
          );
        }),
        (this.doScrollLeftBy = function (e, o) {
          var t = 0;
          if (o) t = Math.floor((v.scroll.x - e) * v.scrollratio.x);
          else {
            var r = v.timer ? v.newscrollx : v.getScrollLeft(!0);
            t = r - e;
          }
          if (v.bouncescroll) {
            var i = Math.round(v.view.w / 2);
            -i > t ? (t = -i) : t > v.page.maxw + i && (t = v.page.maxw + i);
          }
          return (
            (v.cursorfreezed = !1),
            (px = v.getScrollLeft(!0)),
            0 > t && 0 >= px
              ? v.noticeCursor()
              : t > v.page.maxw && px >= v.page.maxw
              ? v.noticeCursor()
              : void v.doScrollLeft(t)
          );
        }),
        (this.doScrollTo = function (e, o) {
          var t = o ? Math.round(e * v.scrollratio.y) : e;
          0 > t ? (t = 0) : t > v.page.maxh && (t = v.page.maxh),
            (v.cursorfreezed = !1),
            v.doScrollTop(e);
        }),
        (this.checkContentSize = function () {
          var e = v.getContentSize();
          (e.h != v.page.h || e.w != v.page.w) && v.resize(!1, e);
        }),
        (v.onscroll = function () {
          v.rail.drag ||
            v.cursorfreezed ||
            v.synched("scroll", function () {
              (v.scroll.y = Math.round(
                v.getScrollTop() * (1 / v.scrollratio.y)
              )),
                v.railh &&
                  (v.scroll.x = Math.round(
                    v.getScrollLeft() * (1 / v.scrollratio.x)
                  )),
                v.noticeCursor();
            });
        }),
        v.bind(v.docscroll, "scroll", v.onscroll),
        (this.doZoomIn = function (e) {
          if (!v.zoomactive) {
            (v.zoomactive = !0), (v.zoomrestore = { style: {} });
            var o = [
                "position",
                "top",
                "left",
                "zIndex",
                "backgroundColor",
                "marginTop",
                "marginBottom",
                "marginLeft",
                "marginRight",
              ],
              t = v.win[0].style;
            for (var r in o) {
              var i = o[r];
              v.zoomrestore.style[i] = void 0 !== t[i] ? t[i] : "";
            }
            (v.zoomrestore.style.width = v.win.css("width")),
              (v.zoomrestore.style.height = v.win.css("height")),
              (v.zoomrestore.padding = {
                w: v.win.outerWidth() - v.win.width(),
                h: v.win.outerHeight() - v.win.height(),
              }),
              x.isios4 &&
                ((v.zoomrestore.scrollTop = a(window).scrollTop()),
                a(window).scrollTop(0)),
              v.win.css({
                position: x.isios4 ? "absolute" : "fixed",
                top: 0,
                left: 0,
                "z-index": l + 100,
                margin: "0px",
              });
            var n = v.win.css("backgroundColor");
            return (
              ("" == n ||
                /transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n)) &&
                v.win.css("backgroundColor", "#fff"),
              v.rail.css({ "z-index": l + 101 }),
              v.zoom.css({ "z-index": l + 102 }),
              v.zoom.css("backgroundPosition", "0px -18px"),
              v.resizeZoom(),
              v.onzoomin && v.onzoomin.call(v),
              v.cancelEvent(e)
            );
          }
        }),
        (this.doZoomOut = function (e) {
          return v.zoomactive
            ? ((v.zoomactive = !1),
              v.win.css("margin", ""),
              v.win.css(v.zoomrestore.style),
              x.isios4 && a(window).scrollTop(v.zoomrestore.scrollTop),
              v.rail.css({ "z-index": v.zindex }),
              v.zoom.css({ "z-index": v.zindex }),
              (v.zoomrestore = !1),
              v.zoom.css("backgroundPosition", "0px 0px"),
              v.onResize(),
              v.onzoomout && v.onzoomout.call(v),
              v.cancelEvent(e))
            : void 0;
        }),
        (this.doZoom = function (e) {
          return v.zoomactive ? v.doZoomOut(e) : v.doZoomIn(e);
        }),
        (this.resizeZoom = function () {
          if (v.zoomactive) {
            var e = v.getScrollTop();
            v.win.css({
              width: a(window).width() - v.zoomrestore.padding.w + "px",
              height: a(window).height() - v.zoomrestore.padding.h + "px",
            }),
              v.onResize(),
              v.setScrollTop(Math.min(v.page.maxh, e));
          }
        }),
        this.init(),
        a.nicescroll.push(this);
    },
    b = function (e) {
      var o = this;
      (this.nc = e),
        (this.lastx = 0),
        (this.lasty = 0),
        (this.speedx = 0),
        (this.speedy = 0),
        (this.lasttime = 0),
        (this.steptime = 0),
        (this.snapx = !1),
        (this.snapy = !1),
        (this.demulx = 0),
        (this.demuly = 0),
        (this.lastscrollx = -1),
        (this.lastscrolly = -1),
        (this.chkx = 0),
        (this.chky = 0),
        (this.timer = 0),
        (this.time = function () {
          return +new Date();
        }),
        (this.reset = function (e, t) {
          o.stop();
          var r = o.time();
          (o.steptime = 0),
            (o.lasttime = r),
            (o.speedx = 0),
            (o.speedy = 0),
            (o.lastx = e),
            (o.lasty = t),
            (o.lastscrollx = -1),
            (o.lastscrolly = -1);
        }),
        (this.update = function (e, t) {
          var r = o.time();
          (o.steptime = r - o.lasttime), (o.lasttime = r);
          var i = t - o.lasty,
            n = e - o.lastx,
            s = o.nc.getScrollTop(),
            l = o.nc.getScrollLeft(),
            a = s + i,
            c = l + n;
          (o.snapx = 0 > c || c > o.nc.page.maxw),
            (o.snapy = 0 > a || a > o.nc.page.maxh),
            (o.speedx = n),
            (o.speedy = i),
            (o.lastx = e),
            (o.lasty = t);
        }),
        (this.stop = function () {
          o.nc.unsynched("domomentum2d"),
            o.timer && clearTimeout(o.timer),
            (o.timer = 0),
            (o.lastscrollx = -1),
            (o.lastscrolly = -1);
        }),
        (this.doSnapy = function (e, t) {
          var r = !1;
          0 > t
            ? ((t = 0), (r = !0))
            : t > o.nc.page.maxh && ((t = o.nc.page.maxh), (r = !0)),
            0 > e
              ? ((e = 0), (r = !0))
              : e > o.nc.page.maxw && ((e = o.nc.page.maxw), (r = !0)),
            r
              ? o.nc.doScrollPos(e, t, o.nc.opt.snapbackspeed)
              : o.nc.triggerScrollEnd();
        }),
        (this.doMomentum = function (e) {
          var t = o.time(),
            r = e ? t + e : o.lasttime,
            i = o.nc.getScrollLeft(),
            n = o.nc.getScrollTop(),
            s = o.nc.page.maxh,
            l = o.nc.page.maxw;
          (o.speedx = l > 0 ? Math.min(60, o.speedx) : 0),
            (o.speedy = s > 0 ? Math.min(60, o.speedy) : 0);
          var a = r && 60 >= t - r;
          (0 > n || n > s || 0 > i || i > l) && (a = !1);
          var c = o.speedy && a ? o.speedy : !1,
            d = o.speedx && a ? o.speedx : !1;
          if (c || d) {
            var u = Math.max(16, o.steptime);
            if (u > 50) {
              var h = u / 50;
              (o.speedx *= h), (o.speedy *= h), (u = 50);
            }
            (o.demulxy = 0),
              (o.lastscrollx = o.nc.getScrollLeft()),
              (o.chkx = o.lastscrollx),
              (o.lastscrolly = o.nc.getScrollTop()),
              (o.chky = o.lastscrolly);
            var p = o.lastscrollx,
              m = o.lastscrolly,
              f = function () {
                var e = o.time() - t > 600 ? 0.04 : 0.02;
                o.speedx &&
                  ((p = Math.floor(o.lastscrollx - o.speedx * (1 - o.demulxy))),
                  (o.lastscrollx = p),
                  (0 > p || p > l) && (e = 0.1)),
                  o.speedy &&
                    ((m = Math.floor(
                      o.lastscrolly - o.speedy * (1 - o.demulxy)
                    )),
                    (o.lastscrolly = m),
                    (0 > m || m > s) && (e = 0.1)),
                  (o.demulxy = Math.min(1, o.demulxy + e)),
                  o.nc.synched("domomentum2d", function () {
                    if (o.speedx) {
                      var e = o.nc.getScrollLeft();
                      e != o.chkx && o.stop(),
                        (o.chkx = p),
                        o.nc.setScrollLeft(p);
                    }
                    if (o.speedy) {
                      var t = o.nc.getScrollTop();
                      t != o.chky && o.stop(),
                        (o.chky = m),
                        o.nc.setScrollTop(m);
                    }
                    o.timer || (o.nc.hideCursor(), o.doSnapy(p, m));
                  }),
                  o.demulxy < 1
                    ? (o.timer = setTimeout(f, u))
                    : (o.stop(), o.nc.hideCursor(), o.doSnapy(p, m));
              };
            f();
          } else o.doSnapy(o.nc.getScrollLeft(), o.nc.getScrollTop());
        });
    },
    y = e.fn.scrollTop;
  (e.cssHooks.pageYOffset = {
    get: function (e) {
      var o = a.data(e, "__nicescroll") || !1;
      return o && o.ishwscroll ? o.getScrollTop() : y.call(e);
    },
    set: function (e, o) {
      var t = a.data(e, "__nicescroll") || !1;
      return (
        t && t.ishwscroll ? t.setScrollTop(parseInt(o)) : y.call(e, o), this
      );
    },
  }),
    (e.fn.scrollTop = function (e) {
      if (void 0 === e) {
        var o = this[0] ? a.data(this[0], "__nicescroll") || !1 : !1;
        return o && o.ishwscroll ? o.getScrollTop() : y.call(this);
      }
      return this.each(function () {
        var o = a.data(this, "__nicescroll") || !1;
        o && o.ishwscroll ? o.setScrollTop(parseInt(e)) : y.call(a(this), e);
      });
    });
  var x = e.fn.scrollLeft;
  (a.cssHooks.pageXOffset = {
    get: function (e) {
      var o = a.data(e, "__nicescroll") || !1;
      return o && o.ishwscroll ? o.getScrollLeft() : x.call(e);
    },
    set: function (e, o) {
      var t = a.data(e, "__nicescroll") || !1;
      return (
        t && t.ishwscroll ? t.setScrollLeft(parseInt(o)) : x.call(e, o), this
      );
    },
  }),
    (e.fn.scrollLeft = function (e) {
      if (void 0 === e) {
        var o = this[0] ? a.data(this[0], "__nicescroll") || !1 : !1;
        return o && o.ishwscroll ? o.getScrollLeft() : x.call(this);
      }
      return this.each(function () {
        var o = a.data(this, "__nicescroll") || !1;
        o && o.ishwscroll ? o.setScrollLeft(parseInt(e)) : x.call(a(this), e);
      });
    });
  var S = function (e) {
    var o = this;
    if (
      ((this.length = 0),
      (this.name = "nicescrollarray"),
      (this.each = function (e) {
        for (var t = 0, r = 0; t < o.length; t++) e.call(o[t], r++);
        return o;
      }),
      (this.push = function (e) {
        (o[o.length] = e), o.length++;
      }),
      (this.eq = function (e) {
        return o[e];
      }),
      e)
    )
      for (var t = 0; t < e.length; t++) {
        var r = a.data(e[t], "__nicescroll") || !1;
        r && ((this[this.length] = r), this.length++);
      }
    return this;
  };
  t(
    S.prototype,
    [
      "show",
      "hide",
      "toggle",
      "onResize",
      "resize",
      "remove",
      "stop",
      "doScrollPos",
    ],
    function (e, o) {
      e[o] = function () {
        var e = arguments;
        return this.each(function () {
          this[o].apply(this, e);
        });
      };
    }
  ),
    (e.fn.getNiceScroll = function (e) {
      if (void 0 === e) return new S(this);
      var o = (this[e] && a.data(this[e], "__nicescroll")) || !1;
      return o;
    }),
    e.extend(e.expr[":"], {
      nicescroll: function (e) {
        return a.data(e, "__nicescroll") ? !0 : !1;
      },
    }),
    (a.fn.niceScroll = function (e, o) {
      void 0 === o &&
        ("object" != typeof e || "jquery" in e || ((o = e), (e = !1)));
      var t = new S();
      void 0 === o && (o = {}), e && ((o.doc = a(e)), (o.win = a(this)));
      var r = !("doc" in o);
      return (
        r || "win" in o || (o.win = a(this)),
        this.each(function () {
          var e = a(this).data("__nicescroll") || !1;
          e ||
            ((o.doc = r ? a(this) : o.doc),
            (e = new v(o, a(this))),
            a(this).data("__nicescroll", e)),
            t.push(e);
        }),
        1 == t.length ? t[0] : t
      );
    }),
    (window.NiceScroll = {
      getjQuery: function () {
        return e;
      },
    }),
    a.nicescroll || ((a.nicescroll = new S()), (a.nicescroll.options = f));
});
/*! jQuery UI - v1.10.4 - 2014-02-16
 * http://jqueryui.com
 * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
 * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function (e, t) {
  function i(t, i) {
    var s,
      a,
      o,
      r = t.nodeName.toLowerCase();
    return "area" === r
      ? ((s = t.parentNode),
        (a = s.name),
        t.href && a && "map" === s.nodeName.toLowerCase()
          ? ((o = e("img[usemap=#" + a + "]")[0]), !!o && n(o))
          : !1)
      : (/input|select|textarea|button|object/.test(r)
          ? !t.disabled
          : "a" === r
          ? t.href || i
          : i) && n(t);
  }
  function n(t) {
    return (
      e.expr.filters.visible(t) &&
      !e(t)
        .parents()
        .addBack()
        .filter(function () {
          return "hidden" === e.css(this, "visibility");
        }).length
    );
  }
  var s = 0,
    a = /^ui-id-\d+$/;
  (e.ui = e.ui || {}),
    e.extend(e.ui, {
      version: "1.10.4",
      keyCode: {
        BACKSPACE: 8,
        COMMA: 188,
        DELETE: 46,
        DOWN: 40,
        END: 35,
        ENTER: 13,
        ESCAPE: 27,
        HOME: 36,
        LEFT: 37,
        NUMPAD_ADD: 107,
        NUMPAD_DECIMAL: 110,
        NUMPAD_DIVIDE: 111,
        NUMPAD_ENTER: 108,
        NUMPAD_MULTIPLY: 106,
        NUMPAD_SUBTRACT: 109,
        PAGE_DOWN: 34,
        PAGE_UP: 33,
        PERIOD: 190,
        RIGHT: 39,
        SPACE: 32,
        TAB: 9,
        UP: 38,
      },
    }),
    e.fn.extend({
      focus: (function (t) {
        return function (i, n) {
          return "number" == typeof i
            ? this.each(function () {
                var t = this;
                setTimeout(function () {
                  e(t).focus(), n && n.call(t);
                }, i);
              })
            : t.apply(this, arguments);
        };
      })(e.fn.focus),
      scrollParent: function () {
        var t;
        return (
          (t =
            (e.ui.ie && /(static|relative)/.test(this.css("position"))) ||
            /absolute/.test(this.css("position"))
              ? this.parents()
                  .filter(function () {
                    return (
                      /(relative|absolute|fixed)/.test(
                        e.css(this, "position")
                      ) &&
                      /(auto|scroll)/.test(
                        e.css(this, "overflow") +
                          e.css(this, "overflow-y") +
                          e.css(this, "overflow-x")
                      )
                    );
                  })
                  .eq(0)
              : this.parents()
                  .filter(function () {
                    return /(auto|scroll)/.test(
                      e.css(this, "overflow") +
                        e.css(this, "overflow-y") +
                        e.css(this, "overflow-x")
                    );
                  })
                  .eq(0)),
          /fixed/.test(this.css("position")) || !t.length ? e(document) : t
        );
      },
      zIndex: function (i) {
        if (i !== t) return this.css("zIndex", i);
        if (this.length)
          for (var n, s, a = e(this[0]); a.length && a[0] !== document; ) {
            if (
              ((n = a.css("position")),
              ("absolute" === n || "relative" === n || "fixed" === n) &&
                ((s = parseInt(a.css("zIndex"), 10)), !isNaN(s) && 0 !== s))
            )
              return s;
            a = a.parent();
          }
        return 0;
      },
      uniqueId: function () {
        return this.each(function () {
          this.id || (this.id = "ui-id-" + ++s);
        });
      },
      removeUniqueId: function () {
        return this.each(function () {
          a.test(this.id) && e(this).removeAttr("id");
        });
      },
    }),
    e.extend(e.expr[":"], {
      data: e.expr.createPseudo
        ? e.expr.createPseudo(function (t) {
            return function (i) {
              return !!e.data(i, t);
            };
          })
        : function (t, i, n) {
            return !!e.data(t, n[3]);
          },
      focusable: function (t) {
        return i(t, !isNaN(e.attr(t, "tabindex")));
      },
      tabbable: function (t) {
        var n = e.attr(t, "tabindex"),
          s = isNaN(n);
        return (s || n >= 0) && i(t, !s);
      },
    }),
    e("<a>").outerWidth(1).jquery ||
      e.each(["Width", "Height"], function (i, n) {
        function s(t, i, n, s) {
          return (
            e.each(a, function () {
              (i -= parseFloat(e.css(t, "padding" + this)) || 0),
                n &&
                  (i -= parseFloat(e.css(t, "border" + this + "Width")) || 0),
                s && (i -= parseFloat(e.css(t, "margin" + this)) || 0);
            }),
            i
          );
        }
        var a = "Width" === n ? ["Left", "Right"] : ["Top", "Bottom"],
          o = n.toLowerCase(),
          r = {
            innerWidth: e.fn.innerWidth,
            innerHeight: e.fn.innerHeight,
            outerWidth: e.fn.outerWidth,
            outerHeight: e.fn.outerHeight,
          };
        (e.fn["inner" + n] = function (i) {
          return i === t
            ? r["inner" + n].call(this)
            : this.each(function () {
                e(this).css(o, s(this, i) + "px");
              });
        }),
          (e.fn["outer" + n] = function (t, i) {
            return "number" != typeof t
              ? r["outer" + n].call(this, t)
              : this.each(function () {
                  e(this).css(o, s(this, t, !0, i) + "px");
                });
          });
      }),
    e.fn.addBack ||
      (e.fn.addBack = function (e) {
        return this.add(
          null == e ? this.prevObject : this.prevObject.filter(e)
        );
      }),
    e("<a>").data("a-b", "a").removeData("a-b").data("a-b") &&
      (e.fn.removeData = (function (t) {
        return function (i) {
          return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this);
        };
      })(e.fn.removeData)),
    (e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())),
    (e.support.selectstart = "onselectstart" in document.createElement("div")),
    e.fn.extend({
      disableSelection: function () {
        return this.bind(
          (e.support.selectstart ? "selectstart" : "mousedown") +
            ".ui-disableSelection",
          function (e) {
            e.preventDefault();
          }
        );
      },
      enableSelection: function () {
        return this.unbind(".ui-disableSelection");
      },
    }),
    e.extend(e.ui, {
      plugin: {
        add: function (t, i, n) {
          var s,
            a = e.ui[t].prototype;
          for (s in n)
            (a.plugins[s] = a.plugins[s] || []), a.plugins[s].push([i, n[s]]);
        },
        call: function (e, t, i) {
          var n,
            s = e.plugins[t];
          if (
            s &&
            e.element[0].parentNode &&
            11 !== e.element[0].parentNode.nodeType
          )
            for (n = 0; s.length > n; n++)
              e.options[s[n][0]] && s[n][1].apply(e.element, i);
        },
      },
      hasScroll: function (t, i) {
        if ("hidden" === e(t).css("overflow")) return !1;
        var n = i && "left" === i ? "scrollLeft" : "scrollTop",
          s = !1;
        return t[n] > 0 ? !0 : ((t[n] = 1), (s = t[n] > 0), (t[n] = 0), s);
      },
    });
})(jQuery);
(function (t, e) {
  var i = 0,
    s = Array.prototype.slice,
    n = t.cleanData;
  (t.cleanData = function (e) {
    for (var i, s = 0; null != (i = e[s]); s++)
      try {
        t(i).triggerHandler("remove");
      } catch (o) {}
    n(e);
  }),
    (t.widget = function (i, s, n) {
      var o,
        a,
        r,
        h,
        l = {},
        c = i.split(".")[0];
      (i = i.split(".")[1]),
        (o = c + "-" + i),
        n || ((n = s), (s = t.Widget)),
        (t.expr[":"][o.toLowerCase()] = function (e) {
          return !!t.data(e, o);
        }),
        (t[c] = t[c] || {}),
        (a = t[c][i]),
        (r = t[c][i] =
          function (t, i) {
            return this._createWidget
              ? (arguments.length && this._createWidget(t, i), e)
              : new r(t, i);
          }),
        t.extend(r, a, {
          version: n.version,
          _proto: t.extend({}, n),
          _childConstructors: [],
        }),
        (h = new s()),
        (h.options = t.widget.extend({}, h.options)),
        t.each(n, function (i, n) {
          return t.isFunction(n)
            ? ((l[i] = (function () {
                var t = function () {
                    return s.prototype[i].apply(this, arguments);
                  },
                  e = function (t) {
                    return s.prototype[i].apply(this, t);
                  };
                return function () {
                  var i,
                    s = this._super,
                    o = this._superApply;
                  return (
                    (this._super = t),
                    (this._superApply = e),
                    (i = n.apply(this, arguments)),
                    (this._super = s),
                    (this._superApply = o),
                    i
                  );
                };
              })()),
              e)
            : ((l[i] = n), e);
        }),
        (r.prototype = t.widget.extend(
          h,
          { widgetEventPrefix: a ? h.widgetEventPrefix || i : i },
          l,
          { constructor: r, namespace: c, widgetName: i, widgetFullName: o }
        )),
        a
          ? (t.each(a._childConstructors, function (e, i) {
              var s = i.prototype;
              t.widget(s.namespace + "." + s.widgetName, r, i._proto);
            }),
            delete a._childConstructors)
          : s._childConstructors.push(r),
        t.widget.bridge(i, r);
    }),
    (t.widget.extend = function (i) {
      for (var n, o, a = s.call(arguments, 1), r = 0, h = a.length; h > r; r++)
        for (n in a[r])
          (o = a[r][n]),
            a[r].hasOwnProperty(n) &&
              o !== e &&
              (i[n] = t.isPlainObject(o)
                ? t.isPlainObject(i[n])
                  ? t.widget.extend({}, i[n], o)
                  : t.widget.extend({}, o)
                : o);
      return i;
    }),
    (t.widget.bridge = function (i, n) {
      var o = n.prototype.widgetFullName || i;
      t.fn[i] = function (a) {
        var r = "string" == typeof a,
          h = s.call(arguments, 1),
          l = this;
        return (
          (a = !r && h.length ? t.widget.extend.apply(null, [a].concat(h)) : a),
          r
            ? this.each(function () {
                var s,
                  n = t.data(this, o);
                return n
                  ? t.isFunction(n[a]) && "_" !== a.charAt(0)
                    ? ((s = n[a].apply(n, h)),
                      s !== n && s !== e
                        ? ((l = s && s.jquery ? l.pushStack(s.get()) : s), !1)
                        : e)
                    : t.error(
                        "no such method '" +
                          a +
                          "' for " +
                          i +
                          " widget instance"
                      )
                  : t.error(
                      "cannot call methods on " +
                        i +
                        " prior to initialization; " +
                        "attempted to call method '" +
                        a +
                        "'"
                    );
              })
            : this.each(function () {
                var e = t.data(this, o);
                e ? e.option(a || {})._init() : t.data(this, o, new n(a, this));
              }),
          l
        );
      };
    }),
    (t.Widget = function () {}),
    (t.Widget._childConstructors = []),
    (t.Widget.prototype = {
      widgetName: "widget",
      widgetEventPrefix: "",
      defaultElement: "<div>",
      options: { disabled: !1, create: null },
      _createWidget: function (e, s) {
        (s = t(s || this.defaultElement || this)[0]),
          (this.element = t(s)),
          (this.uuid = i++),
          (this.eventNamespace = "." + this.widgetName + this.uuid),
          (this.options = t.widget.extend(
            {},
            this.options,
            this._getCreateOptions(),
            e
          )),
          (this.bindings = t()),
          (this.hoverable = t()),
          (this.focusable = t()),
          s !== this &&
            (t.data(s, this.widgetFullName, this),
            this._on(!0, this.element, {
              remove: function (t) {
                t.target === s && this.destroy();
              },
            }),
            (this.document = t(s.style ? s.ownerDocument : s.document || s)),
            (this.window = t(
              this.document[0].defaultView || this.document[0].parentWindow
            ))),
          this._create(),
          this._trigger("create", null, this._getCreateEventData()),
          this._init();
      },
      _getCreateOptions: t.noop,
      _getCreateEventData: t.noop,
      _create: t.noop,
      _init: t.noop,
      destroy: function () {
        this._destroy(),
          this.element
            .unbind(this.eventNamespace)
            .removeData(this.widgetName)
            .removeData(this.widgetFullName)
            .removeData(t.camelCase(this.widgetFullName)),
          this.widget()
            .unbind(this.eventNamespace)
            .removeAttr("aria-disabled")
            .removeClass(
              this.widgetFullName + "-disabled " + "ui-state-disabled"
            ),
          this.bindings.unbind(this.eventNamespace),
          this.hoverable.removeClass("ui-state-hover"),
          this.focusable.removeClass("ui-state-focus");
      },
      _destroy: t.noop,
      widget: function () {
        return this.element;
      },
      option: function (i, s) {
        var n,
          o,
          a,
          r = i;
        if (0 === arguments.length) return t.widget.extend({}, this.options);
        if ("string" == typeof i)
          if (((r = {}), (n = i.split(".")), (i = n.shift()), n.length)) {
            for (
              o = r[i] = t.widget.extend({}, this.options[i]), a = 0;
              n.length - 1 > a;
              a++
            )
              (o[n[a]] = o[n[a]] || {}), (o = o[n[a]]);
            if (((i = n.pop()), 1 === arguments.length))
              return o[i] === e ? null : o[i];
            o[i] = s;
          } else {
            if (1 === arguments.length)
              return this.options[i] === e ? null : this.options[i];
            r[i] = s;
          }
        return this._setOptions(r), this;
      },
      _setOptions: function (t) {
        var e;
        for (e in t) this._setOption(e, t[e]);
        return this;
      },
      _setOption: function (t, e) {
        return (
          (this.options[t] = e),
          "disabled" === t &&
            (this.widget()
              .toggleClass(
                this.widgetFullName + "-disabled ui-state-disabled",
                !!e
              )
              .attr("aria-disabled", e),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus")),
          this
        );
      },
      enable: function () {
        return this._setOption("disabled", !1);
      },
      disable: function () {
        return this._setOption("disabled", !0);
      },
      _on: function (i, s, n) {
        var o,
          a = this;
        "boolean" != typeof i && ((n = s), (s = i), (i = !1)),
          n
            ? ((s = o = t(s)), (this.bindings = this.bindings.add(s)))
            : ((n = s), (s = this.element), (o = this.widget())),
          t.each(n, function (n, r) {
            function h() {
              return i ||
                (a.options.disabled !== !0 &&
                  !t(this).hasClass("ui-state-disabled"))
                ? ("string" == typeof r ? a[r] : r).apply(a, arguments)
                : e;
            }
            "string" != typeof r &&
              (h.guid = r.guid = r.guid || h.guid || t.guid++);
            var l = n.match(/^(\w+)\s*(.*)$/),
              c = l[1] + a.eventNamespace,
              u = l[2];
            u ? o.delegate(u, c, h) : s.bind(c, h);
          });
      },
      _off: function (t, e) {
        (e =
          (e || "").split(" ").join(this.eventNamespace + " ") +
          this.eventNamespace),
          t.unbind(e).undelegate(e);
      },
      _delay: function (t, e) {
        function i() {
          return ("string" == typeof t ? s[t] : t).apply(s, arguments);
        }
        var s = this;
        return setTimeout(i, e || 0);
      },
      _hoverable: function (e) {
        (this.hoverable = this.hoverable.add(e)),
          this._on(e, {
            mouseenter: function (e) {
              t(e.currentTarget).addClass("ui-state-hover");
            },
            mouseleave: function (e) {
              t(e.currentTarget).removeClass("ui-state-hover");
            },
          });
      },
      _focusable: function (e) {
        (this.focusable = this.focusable.add(e)),
          this._on(e, {
            focusin: function (e) {
              t(e.currentTarget).addClass("ui-state-focus");
            },
            focusout: function (e) {
              t(e.currentTarget).removeClass("ui-state-focus");
            },
          });
      },
      _trigger: function (e, i, s) {
        var n,
          o,
          a = this.options[e];
        if (
          ((s = s || {}),
          (i = t.Event(i)),
          (i.type = (
            e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e
          ).toLowerCase()),
          (i.target = this.element[0]),
          (o = i.originalEvent))
        )
          for (n in o) n in i || (i[n] = o[n]);
        return (
          this.element.trigger(i, s),
          !(
            (t.isFunction(a) &&
              a.apply(this.element[0], [i].concat(s)) === !1) ||
            i.isDefaultPrevented()
          )
        );
      },
    }),
    t.each({ show: "fadeIn", hide: "fadeOut" }, function (e, i) {
      t.Widget.prototype["_" + e] = function (s, n, o) {
        "string" == typeof n && (n = { effect: n });
        var a,
          r = n ? (n === !0 || "number" == typeof n ? i : n.effect || i) : e;
        (n = n || {}),
          "number" == typeof n && (n = { duration: n }),
          (a = !t.isEmptyObject(n)),
          (n.complete = o),
          n.delay && s.delay(n.delay),
          a && t.effects && t.effects.effect[r]
            ? s[e](n)
            : r !== e && s[r]
            ? s[r](n.duration, n.easing, o)
            : s.queue(function (i) {
                t(this)[e](), o && o.call(s[0]), i();
              });
      };
    });
})(jQuery);
(function (t) {
  var e = !1;
  t(document).mouseup(function () {
    e = !1;
  }),
    t.widget("ui.mouse", {
      version: "1.10.4",
      options: {
        cancel: "input,textarea,button,select,option",
        distance: 1,
        delay: 0,
      },
      _mouseInit: function () {
        var e = this;
        this.element
          .bind("mousedown." + this.widgetName, function (t) {
            return e._mouseDown(t);
          })
          .bind("click." + this.widgetName, function (i) {
            return !0 === t.data(i.target, e.widgetName + ".preventClickEvent")
              ? (t.removeData(i.target, e.widgetName + ".preventClickEvent"),
                i.stopImmediatePropagation(),
                !1)
              : undefined;
          }),
          (this.started = !1);
      },
      _mouseDestroy: function () {
        this.element.unbind("." + this.widgetName),
          this._mouseMoveDelegate &&
            t(document)
              .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
              .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
      },
      _mouseDown: function (i) {
        if (!e) {
          this._mouseStarted && this._mouseUp(i), (this._mouseDownEvent = i);
          var s = this,
            n = 1 === i.which,
            a =
              "string" == typeof this.options.cancel && i.target.nodeName
                ? t(i.target).closest(this.options.cancel).length
                : !1;
          return n && !a && this._mouseCapture(i)
            ? ((this.mouseDelayMet = !this.options.delay),
              this.mouseDelayMet ||
                (this._mouseDelayTimer = setTimeout(function () {
                  s.mouseDelayMet = !0;
                }, this.options.delay)),
              this._mouseDistanceMet(i) &&
              this._mouseDelayMet(i) &&
              ((this._mouseStarted = this._mouseStart(i) !== !1),
              !this._mouseStarted)
                ? (i.preventDefault(), !0)
                : (!0 ===
                    t.data(i.target, this.widgetName + ".preventClickEvent") &&
                    t.removeData(
                      i.target,
                      this.widgetName + ".preventClickEvent"
                    ),
                  (this._mouseMoveDelegate = function (t) {
                    return s._mouseMove(t);
                  }),
                  (this._mouseUpDelegate = function (t) {
                    return s._mouseUp(t);
                  }),
                  t(document)
                    .bind(
                      "mousemove." + this.widgetName,
                      this._mouseMoveDelegate
                    )
                    .bind("mouseup." + this.widgetName, this._mouseUpDelegate),
                  i.preventDefault(),
                  (e = !0),
                  !0))
            : !0;
        }
      },
      _mouseMove: function (e) {
        return t.ui.ie &&
          (!document.documentMode || 9 > document.documentMode) &&
          !e.button
          ? this._mouseUp(e)
          : this._mouseStarted
          ? (this._mouseDrag(e), e.preventDefault())
          : (this._mouseDistanceMet(e) &&
              this._mouseDelayMet(e) &&
              ((this._mouseStarted =
                this._mouseStart(this._mouseDownEvent, e) !== !1),
              this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)),
            !this._mouseStarted);
      },
      _mouseUp: function (e) {
        return (
          t(document)
            .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
            .unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
          this._mouseStarted &&
            ((this._mouseStarted = !1),
            e.target === this._mouseDownEvent.target &&
              t.data(e.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(e)),
          !1
        );
      },
      _mouseDistanceMet: function (t) {
        return (
          Math.max(
            Math.abs(this._mouseDownEvent.pageX - t.pageX),
            Math.abs(this._mouseDownEvent.pageY - t.pageY)
          ) >= this.options.distance
        );
      },
      _mouseDelayMet: function () {
        return this.mouseDelayMet;
      },
      _mouseStart: function () {},
      _mouseDrag: function () {},
      _mouseStop: function () {},
      _mouseCapture: function () {
        return !0;
      },
    });
})(jQuery);
(function (t, e) {
  function i(t, e, i) {
    return [
      parseFloat(t[0]) * (p.test(t[0]) ? e / 100 : 1),
      parseFloat(t[1]) * (p.test(t[1]) ? i / 100 : 1),
    ];
  }
  function s(e, i) {
    return parseInt(t.css(e, i), 10) || 0;
  }
  function n(e) {
    var i = e[0];
    return 9 === i.nodeType
      ? { width: e.width(), height: e.height(), offset: { top: 0, left: 0 } }
      : t.isWindow(i)
      ? {
          width: e.width(),
          height: e.height(),
          offset: { top: e.scrollTop(), left: e.scrollLeft() },
        }
      : i.preventDefault
      ? { width: 0, height: 0, offset: { top: i.pageY, left: i.pageX } }
      : { width: e.outerWidth(), height: e.outerHeight(), offset: e.offset() };
  }
  t.ui = t.ui || {};
  var a,
    o = Math.max,
    r = Math.abs,
    l = Math.round,
    h = /left|center|right/,
    c = /top|center|bottom/,
    u = /[\+\-]\d+(\.[\d]+)?%?/,
    d = /^\w+/,
    p = /%$/,
    f = t.fn.position;
  (t.position = {
    scrollbarWidth: function () {
      if (a !== e) return a;
      var i,
        s,
        n = t(
          "<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"
        ),
        o = n.children()[0];
      return (
        t("body").append(n),
        (i = o.offsetWidth),
        n.css("overflow", "scroll"),
        (s = o.offsetWidth),
        i === s && (s = n[0].clientWidth),
        n.remove(),
        (a = i - s)
      );
    },
    getScrollInfo: function (e) {
      var i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"),
        s = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"),
        n =
          "scroll" === i ||
          ("auto" === i && e.width < e.element[0].scrollWidth),
        a =
          "scroll" === s ||
          ("auto" === s && e.height < e.element[0].scrollHeight);
      return {
        width: a ? t.position.scrollbarWidth() : 0,
        height: n ? t.position.scrollbarWidth() : 0,
      };
    },
    getWithinInfo: function (e) {
      var i = t(e || window),
        s = t.isWindow(i[0]),
        n = !!i[0] && 9 === i[0].nodeType;
      return {
        element: i,
        isWindow: s,
        isDocument: n,
        offset: i.offset() || { left: 0, top: 0 },
        scrollLeft: i.scrollLeft(),
        scrollTop: i.scrollTop(),
        width: s ? i.width() : i.outerWidth(),
        height: s ? i.height() : i.outerHeight(),
      };
    },
  }),
    (t.fn.position = function (e) {
      if (!e || !e.of) return f.apply(this, arguments);
      e = t.extend({}, e);
      var a,
        p,
        g,
        m,
        v,
        _,
        b = t(e.of),
        y = t.position.getWithinInfo(e.within),
        k = t.position.getScrollInfo(y),
        w = (e.collision || "flip").split(" "),
        D = {};
      return (
        (_ = n(b)),
        b[0].preventDefault && (e.at = "left top"),
        (p = _.width),
        (g = _.height),
        (m = _.offset),
        (v = t.extend({}, m)),
        t.each(["my", "at"], function () {
          var t,
            i,
            s = (e[this] || "").split(" ");
          1 === s.length &&
            (s = h.test(s[0])
              ? s.concat(["center"])
              : c.test(s[0])
              ? ["center"].concat(s)
              : ["center", "center"]),
            (s[0] = h.test(s[0]) ? s[0] : "center"),
            (s[1] = c.test(s[1]) ? s[1] : "center"),
            (t = u.exec(s[0])),
            (i = u.exec(s[1])),
            (D[this] = [t ? t[0] : 0, i ? i[0] : 0]),
            (e[this] = [d.exec(s[0])[0], d.exec(s[1])[0]]);
        }),
        1 === w.length && (w[1] = w[0]),
        "right" === e.at[0]
          ? (v.left += p)
          : "center" === e.at[0] && (v.left += p / 2),
        "bottom" === e.at[1]
          ? (v.top += g)
          : "center" === e.at[1] && (v.top += g / 2),
        (a = i(D.at, p, g)),
        (v.left += a[0]),
        (v.top += a[1]),
        this.each(function () {
          var n,
            h,
            c = t(this),
            u = c.outerWidth(),
            d = c.outerHeight(),
            f = s(this, "marginLeft"),
            _ = s(this, "marginTop"),
            x = u + f + s(this, "marginRight") + k.width,
            C = d + _ + s(this, "marginBottom") + k.height,
            M = t.extend({}, v),
            T = i(D.my, c.outerWidth(), c.outerHeight());
          "right" === e.my[0]
            ? (M.left -= u)
            : "center" === e.my[0] && (M.left -= u / 2),
            "bottom" === e.my[1]
              ? (M.top -= d)
              : "center" === e.my[1] && (M.top -= d / 2),
            (M.left += T[0]),
            (M.top += T[1]),
            t.support.offsetFractions ||
              ((M.left = l(M.left)), (M.top = l(M.top))),
            (n = { marginLeft: f, marginTop: _ }),
            t.each(["left", "top"], function (i, s) {
              t.ui.position[w[i]] &&
                t.ui.position[w[i]][s](M, {
                  targetWidth: p,
                  targetHeight: g,
                  elemWidth: u,
                  elemHeight: d,
                  collisionPosition: n,
                  collisionWidth: x,
                  collisionHeight: C,
                  offset: [a[0] + T[0], a[1] + T[1]],
                  my: e.my,
                  at: e.at,
                  within: y,
                  elem: c,
                });
            }),
            e.using &&
              (h = function (t) {
                var i = m.left - M.left,
                  s = i + p - u,
                  n = m.top - M.top,
                  a = n + g - d,
                  l = {
                    target: {
                      element: b,
                      left: m.left,
                      top: m.top,
                      width: p,
                      height: g,
                    },
                    element: {
                      element: c,
                      left: M.left,
                      top: M.top,
                      width: u,
                      height: d,
                    },
                    horizontal: 0 > s ? "left" : i > 0 ? "right" : "center",
                    vertical: 0 > a ? "top" : n > 0 ? "bottom" : "middle",
                  };
                u > p && p > r(i + s) && (l.horizontal = "center"),
                  d > g && g > r(n + a) && (l.vertical = "middle"),
                  (l.important =
                    o(r(i), r(s)) > o(r(n), r(a)) ? "horizontal" : "vertical"),
                  e.using.call(this, t, l);
              }),
            c.offset(t.extend(M, { using: h }));
        })
      );
    }),
    (t.ui.position = {
      fit: {
        left: function (t, e) {
          var i,
            s = e.within,
            n = s.isWindow ? s.scrollLeft : s.offset.left,
            a = s.width,
            r = t.left - e.collisionPosition.marginLeft,
            l = n - r,
            h = r + e.collisionWidth - a - n;
          e.collisionWidth > a
            ? l > 0 && 0 >= h
              ? ((i = t.left + l + e.collisionWidth - a - n), (t.left += l - i))
              : (t.left =
                  h > 0 && 0 >= l ? n : l > h ? n + a - e.collisionWidth : n)
            : l > 0
            ? (t.left += l)
            : h > 0
            ? (t.left -= h)
            : (t.left = o(t.left - r, t.left));
        },
        top: function (t, e) {
          var i,
            s = e.within,
            n = s.isWindow ? s.scrollTop : s.offset.top,
            a = e.within.height,
            r = t.top - e.collisionPosition.marginTop,
            l = n - r,
            h = r + e.collisionHeight - a - n;
          e.collisionHeight > a
            ? l > 0 && 0 >= h
              ? ((i = t.top + l + e.collisionHeight - a - n), (t.top += l - i))
              : (t.top =
                  h > 0 && 0 >= l ? n : l > h ? n + a - e.collisionHeight : n)
            : l > 0
            ? (t.top += l)
            : h > 0
            ? (t.top -= h)
            : (t.top = o(t.top - r, t.top));
        },
      },
      flip: {
        left: function (t, e) {
          var i,
            s,
            n = e.within,
            a = n.offset.left + n.scrollLeft,
            o = n.width,
            l = n.isWindow ? n.scrollLeft : n.offset.left,
            h = t.left - e.collisionPosition.marginLeft,
            c = h - l,
            u = h + e.collisionWidth - o - l,
            d =
              "left" === e.my[0]
                ? -e.elemWidth
                : "right" === e.my[0]
                ? e.elemWidth
                : 0,
            p =
              "left" === e.at[0]
                ? e.targetWidth
                : "right" === e.at[0]
                ? -e.targetWidth
                : 0,
            f = -2 * e.offset[0];
          0 > c
            ? ((i = t.left + d + p + f + e.collisionWidth - o - a),
              (0 > i || r(c) > i) && (t.left += d + p + f))
            : u > 0 &&
              ((s = t.left - e.collisionPosition.marginLeft + d + p + f - l),
              (s > 0 || u > r(s)) && (t.left += d + p + f));
        },
        top: function (t, e) {
          var i,
            s,
            n = e.within,
            a = n.offset.top + n.scrollTop,
            o = n.height,
            l = n.isWindow ? n.scrollTop : n.offset.top,
            h = t.top - e.collisionPosition.marginTop,
            c = h - l,
            u = h + e.collisionHeight - o - l,
            d = "top" === e.my[1],
            p = d ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
            f =
              "top" === e.at[1]
                ? e.targetHeight
                : "bottom" === e.at[1]
                ? -e.targetHeight
                : 0,
            g = -2 * e.offset[1];
          0 > c
            ? ((s = t.top + p + f + g + e.collisionHeight - o - a),
              t.top + p + f + g > c &&
                (0 > s || r(c) > s) &&
                (t.top += p + f + g))
            : u > 0 &&
              ((i = t.top - e.collisionPosition.marginTop + p + f + g - l),
              t.top + p + f + g > u &&
                (i > 0 || u > r(i)) &&
                (t.top += p + f + g));
        },
      },
      flipfit: {
        left: function () {
          t.ui.position.flip.left.apply(this, arguments),
            t.ui.position.fit.left.apply(this, arguments);
        },
        top: function () {
          t.ui.position.flip.top.apply(this, arguments),
            t.ui.position.fit.top.apply(this, arguments);
        },
      },
    }),
    (function () {
      var e,
        i,
        s,
        n,
        a,
        o = document.getElementsByTagName("body")[0],
        r = document.createElement("div");
      (e = document.createElement(o ? "div" : "body")),
        (s = {
          visibility: "hidden",
          width: 0,
          height: 0,
          border: 0,
          margin: 0,
          background: "none",
        }),
        o &&
          t.extend(s, {
            position: "absolute",
            left: "-1000px",
            top: "-1000px",
          });
      for (a in s) e.style[a] = s[a];
      e.appendChild(r),
        (i = o || document.documentElement),
        i.insertBefore(e, i.firstChild),
        (r.style.cssText = "position: absolute; left: 10.7432222px;"),
        (n = t(r).offset().left),
        (t.support.offsetFractions = n > 10 && 11 > n),
        (e.innerHTML = ""),
        i.removeChild(e);
    })();
})(jQuery);
(function (t) {
  t.widget("ui.draggable", t.ui.mouse, {
    version: "1.10.4",
    widgetEventPrefix: "drag",
    options: {
      addClasses: !0,
      appendTo: "parent",
      axis: !1,
      connectToSortable: !1,
      containment: !1,
      cursor: "auto",
      cursorAt: !1,
      grid: !1,
      handle: !1,
      helper: "original",
      iframeFix: !1,
      opacity: !1,
      refreshPositions: !1,
      revert: !1,
      revertDuration: 500,
      scope: "default",
      scroll: !0,
      scrollSensitivity: 20,
      scrollSpeed: 20,
      snap: !1,
      snapMode: "both",
      snapTolerance: 20,
      stack: !1,
      zIndex: !1,
      drag: null,
      start: null,
      stop: null,
    },
    _create: function () {
      "original" !== this.options.helper ||
        /^(?:r|a|f)/.test(this.element.css("position")) ||
        (this.element[0].style.position = "relative"),
        this.options.addClasses && this.element.addClass("ui-draggable"),
        this.options.disabled && this.element.addClass("ui-draggable-disabled"),
        this._mouseInit();
    },
    _destroy: function () {
      this.element.removeClass(
        "ui-draggable ui-draggable-dragging ui-draggable-disabled"
      ),
        this._mouseDestroy();
    },
    _mouseCapture: function (e) {
      var i = this.options;
      return this.helper ||
        i.disabled ||
        t(e.target).closest(".ui-resizable-handle").length > 0
        ? !1
        : ((this.handle = this._getHandle(e)),
          this.handle
            ? (t(i.iframeFix === !0 ? "iframe" : i.iframeFix).each(function () {
                t(
                  "<div class='ui-draggable-iframeFix' style='background: #fff;'></div>"
                )
                  .css({
                    width: this.offsetWidth + "px",
                    height: this.offsetHeight + "px",
                    position: "absolute",
                    opacity: "0.001",
                    zIndex: 1e3,
                  })
                  .css(t(this).offset())
                  .appendTo("body");
              }),
              !0)
            : !1);
    },
    _mouseStart: function (e) {
      var i = this.options;
      return (
        (this.helper = this._createHelper(e)),
        this.helper.addClass("ui-draggable-dragging"),
        this._cacheHelperProportions(),
        t.ui.ddmanager && (t.ui.ddmanager.current = this),
        this._cacheMargins(),
        (this.cssPosition = this.helper.css("position")),
        (this.scrollParent = this.helper.scrollParent()),
        (this.offsetParent = this.helper.offsetParent()),
        (this.offsetParentCssPosition = this.offsetParent.css("position")),
        (this.offset = this.positionAbs = this.element.offset()),
        (this.offset = {
          top: this.offset.top - this.margins.top,
          left: this.offset.left - this.margins.left,
        }),
        (this.offset.scroll = !1),
        t.extend(this.offset, {
          click: {
            left: e.pageX - this.offset.left,
            top: e.pageY - this.offset.top,
          },
          parent: this._getParentOffset(),
          relative: this._getRelativeOffset(),
        }),
        (this.originalPosition = this.position = this._generatePosition(e)),
        (this.originalPageX = e.pageX),
        (this.originalPageY = e.pageY),
        i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
        this._setContainment(),
        this._trigger("start", e) === !1
          ? (this._clear(), !1)
          : (this._cacheHelperProportions(),
            t.ui.ddmanager &&
              !i.dropBehaviour &&
              t.ui.ddmanager.prepareOffsets(this, e),
            this._mouseDrag(e, !0),
            t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e),
            !0)
      );
    },
    _mouseDrag: function (e, i) {
      if (
        ("fixed" === this.offsetParentCssPosition &&
          (this.offset.parent = this._getParentOffset()),
        (this.position = this._generatePosition(e)),
        (this.positionAbs = this._convertPositionTo("absolute")),
        !i)
      ) {
        var s = this._uiHash();
        if (this._trigger("drag", e, s) === !1) return this._mouseUp({}), !1;
        this.position = s.position;
      }
      return (
        (this.options.axis && "y" === this.options.axis) ||
          (this.helper[0].style.left = this.position.left + "px"),
        (this.options.axis && "x" === this.options.axis) ||
          (this.helper[0].style.top = this.position.top + "px"),
        t.ui.ddmanager && t.ui.ddmanager.drag(this, e),
        !1
      );
    },
    _mouseStop: function (e) {
      var i = this,
        s = !1;
      return (
        t.ui.ddmanager &&
          !this.options.dropBehaviour &&
          (s = t.ui.ddmanager.drop(this, e)),
        this.dropped && ((s = this.dropped), (this.dropped = !1)),
        "original" !== this.options.helper ||
        t.contains(this.element[0].ownerDocument, this.element[0])
          ? (("invalid" === this.options.revert && !s) ||
            ("valid" === this.options.revert && s) ||
            this.options.revert === !0 ||
            (t.isFunction(this.options.revert) &&
              this.options.revert.call(this.element, s))
              ? t(this.helper).animate(
                  this.originalPosition,
                  parseInt(this.options.revertDuration, 10),
                  function () {
                    i._trigger("stop", e) !== !1 && i._clear();
                  }
                )
              : this._trigger("stop", e) !== !1 && this._clear(),
            !1)
          : !1
      );
    },
    _mouseUp: function (e) {
      return (
        t("div.ui-draggable-iframeFix").each(function () {
          this.parentNode.removeChild(this);
        }),
        t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e),
        t.ui.mouse.prototype._mouseUp.call(this, e)
      );
    },
    cancel: function () {
      return (
        this.helper.is(".ui-draggable-dragging")
          ? this._mouseUp({})
          : this._clear(),
        this
      );
    },
    _getHandle: function (e) {
      return this.options.handle
        ? !!t(e.target).closest(this.element.find(this.options.handle)).length
        : !0;
    },
    _createHelper: function (e) {
      var i = this.options,
        s = t.isFunction(i.helper)
          ? t(i.helper.apply(this.element[0], [e]))
          : "clone" === i.helper
          ? this.element.clone().removeAttr("id")
          : this.element;
      return (
        s.parents("body").length ||
          s.appendTo(
            "parent" === i.appendTo ? this.element[0].parentNode : i.appendTo
          ),
        s[0] === this.element[0] ||
          /(fixed|absolute)/.test(s.css("position")) ||
          s.css("position", "absolute"),
        s
      );
    },
    _adjustOffsetFromHelper: function (e) {
      "string" == typeof e && (e = e.split(" ")),
        t.isArray(e) && (e = { left: +e[0], top: +e[1] || 0 }),
        "left" in e && (this.offset.click.left = e.left + this.margins.left),
        "right" in e &&
          (this.offset.click.left =
            this.helperProportions.width - e.right + this.margins.left),
        "top" in e && (this.offset.click.top = e.top + this.margins.top),
        "bottom" in e &&
          (this.offset.click.top =
            this.helperProportions.height - e.bottom + this.margins.top);
    },
    _getParentOffset: function () {
      var e = this.offsetParent.offset();
      return (
        "absolute" === this.cssPosition &&
          this.scrollParent[0] !== document &&
          t.contains(this.scrollParent[0], this.offsetParent[0]) &&
          ((e.left += this.scrollParent.scrollLeft()),
          (e.top += this.scrollParent.scrollTop())),
        (this.offsetParent[0] === document.body ||
          (this.offsetParent[0].tagName &&
            "html" === this.offsetParent[0].tagName.toLowerCase() &&
            t.ui.ie)) &&
          (e = { top: 0, left: 0 }),
        {
          top:
            e.top +
            (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
          left:
            e.left +
            (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0),
        }
      );
    },
    _getRelativeOffset: function () {
      if ("relative" === this.cssPosition) {
        var t = this.element.position();
        return {
          top:
            t.top -
            (parseInt(this.helper.css("top"), 10) || 0) +
            this.scrollParent.scrollTop(),
          left:
            t.left -
            (parseInt(this.helper.css("left"), 10) || 0) +
            this.scrollParent.scrollLeft(),
        };
      }
      return { top: 0, left: 0 };
    },
    _cacheMargins: function () {
      this.margins = {
        left: parseInt(this.element.css("marginLeft"), 10) || 0,
        top: parseInt(this.element.css("marginTop"), 10) || 0,
        right: parseInt(this.element.css("marginRight"), 10) || 0,
        bottom: parseInt(this.element.css("marginBottom"), 10) || 0,
      };
    },
    _cacheHelperProportions: function () {
      this.helperProportions = {
        width: this.helper.outerWidth(),
        height: this.helper.outerHeight(),
      };
    },
    _setContainment: function () {
      var e,
        i,
        s,
        n = this.options;
      return n.containment
        ? "window" === n.containment
          ? ((this.containment = [
              t(window).scrollLeft() -
                this.offset.relative.left -
                this.offset.parent.left,
              t(window).scrollTop() -
                this.offset.relative.top -
                this.offset.parent.top,
              t(window).scrollLeft() +
                t(window).width() -
                this.helperProportions.width -
                this.margins.left,
              t(window).scrollTop() +
                (t(window).height() || document.body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top,
            ]),
            undefined)
          : "document" === n.containment
          ? ((this.containment = [
              0,
              0,
              t(document).width() -
                this.helperProportions.width -
                this.margins.left,
              (t(document).height() || document.body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top,
            ]),
            undefined)
          : n.containment.constructor === Array
          ? ((this.containment = n.containment), undefined)
          : ("parent" === n.containment &&
              (n.containment = this.helper[0].parentNode),
            (i = t(n.containment)),
            (s = i[0]),
            s &&
              ((e = "hidden" !== i.css("overflow")),
              (this.containment = [
                (parseInt(i.css("borderLeftWidth"), 10) || 0) +
                  (parseInt(i.css("paddingLeft"), 10) || 0),
                (parseInt(i.css("borderTopWidth"), 10) || 0) +
                  (parseInt(i.css("paddingTop"), 10) || 0),
                (e ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) -
                  (parseInt(i.css("borderRightWidth"), 10) || 0) -
                  (parseInt(i.css("paddingRight"), 10) || 0) -
                  this.helperProportions.width -
                  this.margins.left -
                  this.margins.right,
                (e
                  ? Math.max(s.scrollHeight, s.offsetHeight)
                  : s.offsetHeight) -
                  (parseInt(i.css("borderBottomWidth"), 10) || 0) -
                  (parseInt(i.css("paddingBottom"), 10) || 0) -
                  this.helperProportions.height -
                  this.margins.top -
                  this.margins.bottom,
              ]),
              (this.relative_container = i)),
            undefined)
        : ((this.containment = null), undefined);
    },
    _convertPositionTo: function (e, i) {
      i || (i = this.position);
      var s = "absolute" === e ? 1 : -1,
        n =
          "absolute" !== this.cssPosition ||
          (this.scrollParent[0] !== document &&
            t.contains(this.scrollParent[0], this.offsetParent[0]))
            ? this.scrollParent
            : this.offsetParent;
      return (
        this.offset.scroll ||
          (this.offset.scroll = { top: n.scrollTop(), left: n.scrollLeft() }),
        {
          top:
            i.top +
            this.offset.relative.top * s +
            this.offset.parent.top * s -
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollTop()
              : this.offset.scroll.top) *
              s,
          left:
            i.left +
            this.offset.relative.left * s +
            this.offset.parent.left * s -
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : this.offset.scroll.left) *
              s,
        }
      );
    },
    _generatePosition: function (e) {
      var i,
        s,
        n,
        a,
        o = this.options,
        r =
          "absolute" !== this.cssPosition ||
          (this.scrollParent[0] !== document &&
            t.contains(this.scrollParent[0], this.offsetParent[0]))
            ? this.scrollParent
            : this.offsetParent,
        l = e.pageX,
        h = e.pageY;
      return (
        this.offset.scroll ||
          (this.offset.scroll = { top: r.scrollTop(), left: r.scrollLeft() }),
        this.originalPosition &&
          (this.containment &&
            (this.relative_container
              ? ((s = this.relative_container.offset()),
                (i = [
                  this.containment[0] + s.left,
                  this.containment[1] + s.top,
                  this.containment[2] + s.left,
                  this.containment[3] + s.top,
                ]))
              : (i = this.containment),
            e.pageX - this.offset.click.left < i[0] &&
              (l = i[0] + this.offset.click.left),
            e.pageY - this.offset.click.top < i[1] &&
              (h = i[1] + this.offset.click.top),
            e.pageX - this.offset.click.left > i[2] &&
              (l = i[2] + this.offset.click.left),
            e.pageY - this.offset.click.top > i[3] &&
              (h = i[3] + this.offset.click.top)),
          o.grid &&
            ((n = o.grid[1]
              ? this.originalPageY +
                Math.round((h - this.originalPageY) / o.grid[1]) * o.grid[1]
              : this.originalPageY),
            (h = i
              ? n - this.offset.click.top >= i[1] ||
                n - this.offset.click.top > i[3]
                ? n
                : n - this.offset.click.top >= i[1]
                ? n - o.grid[1]
                : n + o.grid[1]
              : n),
            (a = o.grid[0]
              ? this.originalPageX +
                Math.round((l - this.originalPageX) / o.grid[0]) * o.grid[0]
              : this.originalPageX),
            (l = i
              ? a - this.offset.click.left >= i[0] ||
                a - this.offset.click.left > i[2]
                ? a
                : a - this.offset.click.left >= i[0]
                ? a - o.grid[0]
                : a + o.grid[0]
              : a))),
        {
          top:
            h -
            this.offset.click.top -
            this.offset.relative.top -
            this.offset.parent.top +
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollTop()
              : this.offset.scroll.top),
          left:
            l -
            this.offset.click.left -
            this.offset.relative.left -
            this.offset.parent.left +
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : this.offset.scroll.left),
        }
      );
    },
    _clear: function () {
      this.helper.removeClass("ui-draggable-dragging"),
        this.helper[0] === this.element[0] ||
          this.cancelHelperRemoval ||
          this.helper.remove(),
        (this.helper = null),
        (this.cancelHelperRemoval = !1);
    },
    _trigger: function (e, i, s) {
      return (
        (s = s || this._uiHash()),
        t.ui.plugin.call(this, e, [i, s]),
        "drag" === e &&
          (this.positionAbs = this._convertPositionTo("absolute")),
        t.Widget.prototype._trigger.call(this, e, i, s)
      );
    },
    plugins: {},
    _uiHash: function () {
      return {
        helper: this.helper,
        position: this.position,
        originalPosition: this.originalPosition,
        offset: this.positionAbs,
      };
    },
  }),
    t.ui.plugin.add("draggable", "connectToSortable", {
      start: function (e, i) {
        var s = t(this).data("ui-draggable"),
          n = s.options,
          a = t.extend({}, i, { item: s.element });
        (s.sortables = []),
          t(n.connectToSortable).each(function () {
            var i = t.data(this, "ui-sortable");
            i &&
              !i.options.disabled &&
              (s.sortables.push({
                instance: i,
                shouldRevert: i.options.revert,
              }),
              i.refreshPositions(),
              i._trigger("activate", e, a));
          });
      },
      stop: function (e, i) {
        var s = t(this).data("ui-draggable"),
          n = t.extend({}, i, { item: s.element });
        t.each(s.sortables, function () {
          this.instance.isOver
            ? ((this.instance.isOver = 0),
              (s.cancelHelperRemoval = !0),
              (this.instance.cancelHelperRemoval = !1),
              this.shouldRevert &&
                (this.instance.options.revert = this.shouldRevert),
              this.instance._mouseStop(e),
              (this.instance.options.helper = this.instance.options._helper),
              "original" === s.options.helper &&
                this.instance.currentItem.css({ top: "auto", left: "auto" }))
            : ((this.instance.cancelHelperRemoval = !1),
              this.instance._trigger("deactivate", e, n));
        });
      },
      drag: function (e, i) {
        var s = t(this).data("ui-draggable"),
          n = this;
        t.each(s.sortables, function () {
          var a = !1,
            o = this;
          (this.instance.positionAbs = s.positionAbs),
            (this.instance.helperProportions = s.helperProportions),
            (this.instance.offset.click = s.offset.click),
            this.instance._intersectsWith(this.instance.containerCache) &&
              ((a = !0),
              t.each(s.sortables, function () {
                return (
                  (this.instance.positionAbs = s.positionAbs),
                  (this.instance.helperProportions = s.helperProportions),
                  (this.instance.offset.click = s.offset.click),
                  this !== o &&
                    this.instance._intersectsWith(
                      this.instance.containerCache
                    ) &&
                    t.contains(
                      o.instance.element[0],
                      this.instance.element[0]
                    ) &&
                    (a = !1),
                  a
                );
              })),
            a
              ? (this.instance.isOver ||
                  ((this.instance.isOver = 1),
                  (this.instance.currentItem = t(n)
                    .clone()
                    .removeAttr("id")
                    .appendTo(this.instance.element)
                    .data("ui-sortable-item", !0)),
                  (this.instance.options._helper =
                    this.instance.options.helper),
                  (this.instance.options.helper = function () {
                    return i.helper[0];
                  }),
                  (e.target = this.instance.currentItem[0]),
                  this.instance._mouseCapture(e, !0),
                  this.instance._mouseStart(e, !0, !0),
                  (this.instance.offset.click.top = s.offset.click.top),
                  (this.instance.offset.click.left = s.offset.click.left),
                  (this.instance.offset.parent.left -=
                    s.offset.parent.left - this.instance.offset.parent.left),
                  (this.instance.offset.parent.top -=
                    s.offset.parent.top - this.instance.offset.parent.top),
                  s._trigger("toSortable", e),
                  (s.dropped = this.instance.element),
                  (s.currentItem = s.element),
                  (this.instance.fromOutside = s)),
                this.instance.currentItem && this.instance._mouseDrag(e))
              : this.instance.isOver &&
                ((this.instance.isOver = 0),
                (this.instance.cancelHelperRemoval = !0),
                (this.instance.options.revert = !1),
                this.instance._trigger(
                  "out",
                  e,
                  this.instance._uiHash(this.instance)
                ),
                this.instance._mouseStop(e, !0),
                (this.instance.options.helper = this.instance.options._helper),
                this.instance.currentItem.remove(),
                this.instance.placeholder && this.instance.placeholder.remove(),
                s._trigger("fromSortable", e),
                (s.dropped = !1));
        });
      },
    }),
    t.ui.plugin.add("draggable", "cursor", {
      start: function () {
        var e = t("body"),
          i = t(this).data("ui-draggable").options;
        e.css("cursor") && (i._cursor = e.css("cursor")),
          e.css("cursor", i.cursor);
      },
      stop: function () {
        var e = t(this).data("ui-draggable").options;
        e._cursor && t("body").css("cursor", e._cursor);
      },
    }),
    t.ui.plugin.add("draggable", "opacity", {
      start: function (e, i) {
        var s = t(i.helper),
          n = t(this).data("ui-draggable").options;
        s.css("opacity") && (n._opacity = s.css("opacity")),
          s.css("opacity", n.opacity);
      },
      stop: function (e, i) {
        var s = t(this).data("ui-draggable").options;
        s._opacity && t(i.helper).css("opacity", s._opacity);
      },
    }),
    t.ui.plugin.add("draggable", "scroll", {
      start: function () {
        var e = t(this).data("ui-draggable");
        e.scrollParent[0] !== document &&
          "HTML" !== e.scrollParent[0].tagName &&
          (e.overflowOffset = e.scrollParent.offset());
      },
      drag: function (e) {
        var i = t(this).data("ui-draggable"),
          s = i.options,
          n = !1;
        i.scrollParent[0] !== document && "HTML" !== i.scrollParent[0].tagName
          ? ((s.axis && "x" === s.axis) ||
              (i.overflowOffset.top + i.scrollParent[0].offsetHeight - e.pageY <
              s.scrollSensitivity
                ? (i.scrollParent[0].scrollTop = n =
                    i.scrollParent[0].scrollTop + s.scrollSpeed)
                : e.pageY - i.overflowOffset.top < s.scrollSensitivity &&
                  (i.scrollParent[0].scrollTop = n =
                    i.scrollParent[0].scrollTop - s.scrollSpeed)),
            (s.axis && "y" === s.axis) ||
              (i.overflowOffset.left + i.scrollParent[0].offsetWidth - e.pageX <
              s.scrollSensitivity
                ? (i.scrollParent[0].scrollLeft = n =
                    i.scrollParent[0].scrollLeft + s.scrollSpeed)
                : e.pageX - i.overflowOffset.left < s.scrollSensitivity &&
                  (i.scrollParent[0].scrollLeft = n =
                    i.scrollParent[0].scrollLeft - s.scrollSpeed)))
          : ((s.axis && "x" === s.axis) ||
              (e.pageY - t(document).scrollTop() < s.scrollSensitivity
                ? (n = t(document).scrollTop(
                    t(document).scrollTop() - s.scrollSpeed
                  ))
                : t(window).height() - (e.pageY - t(document).scrollTop()) <
                    s.scrollSensitivity &&
                  (n = t(document).scrollTop(
                    t(document).scrollTop() + s.scrollSpeed
                  ))),
            (s.axis && "y" === s.axis) ||
              (e.pageX - t(document).scrollLeft() < s.scrollSensitivity
                ? (n = t(document).scrollLeft(
                    t(document).scrollLeft() - s.scrollSpeed
                  ))
                : t(window).width() - (e.pageX - t(document).scrollLeft()) <
                    s.scrollSensitivity &&
                  (n = t(document).scrollLeft(
                    t(document).scrollLeft() + s.scrollSpeed
                  )))),
          n !== !1 &&
            t.ui.ddmanager &&
            !s.dropBehaviour &&
            t.ui.ddmanager.prepareOffsets(i, e);
      },
    }),
    t.ui.plugin.add("draggable", "snap", {
      start: function () {
        var e = t(this).data("ui-draggable"),
          i = e.options;
        (e.snapElements = []),
          t(
            i.snap.constructor !== String
              ? i.snap.items || ":data(ui-draggable)"
              : i.snap
          ).each(function () {
            var i = t(this),
              s = i.offset();
            this !== e.element[0] &&
              e.snapElements.push({
                item: this,
                width: i.outerWidth(),
                height: i.outerHeight(),
                top: s.top,
                left: s.left,
              });
          });
      },
      drag: function (e, i) {
        var s,
          n,
          a,
          o,
          r,
          l,
          h,
          c,
          u,
          d,
          p = t(this).data("ui-draggable"),
          g = p.options,
          f = g.snapTolerance,
          m = i.offset.left,
          _ = m + p.helperProportions.width,
          v = i.offset.top,
          b = v + p.helperProportions.height;
        for (u = p.snapElements.length - 1; u >= 0; u--)
          (r = p.snapElements[u].left),
            (l = r + p.snapElements[u].width),
            (h = p.snapElements[u].top),
            (c = h + p.snapElements[u].height),
            r - f > _ ||
            m > l + f ||
            h - f > b ||
            v > c + f ||
            !t.contains(
              p.snapElements[u].item.ownerDocument,
              p.snapElements[u].item
            )
              ? (p.snapElements[u].snapping &&
                  p.options.snap.release &&
                  p.options.snap.release.call(
                    p.element,
                    e,
                    t.extend(p._uiHash(), { snapItem: p.snapElements[u].item })
                  ),
                (p.snapElements[u].snapping = !1))
              : ("inner" !== g.snapMode &&
                  ((s = f >= Math.abs(h - b)),
                  (n = f >= Math.abs(c - v)),
                  (a = f >= Math.abs(r - _)),
                  (o = f >= Math.abs(l - m)),
                  s &&
                    (i.position.top =
                      p._convertPositionTo("relative", {
                        top: h - p.helperProportions.height,
                        left: 0,
                      }).top - p.margins.top),
                  n &&
                    (i.position.top =
                      p._convertPositionTo("relative", { top: c, left: 0 })
                        .top - p.margins.top),
                  a &&
                    (i.position.left =
                      p._convertPositionTo("relative", {
                        top: 0,
                        left: r - p.helperProportions.width,
                      }).left - p.margins.left),
                  o &&
                    (i.position.left =
                      p._convertPositionTo("relative", { top: 0, left: l })
                        .left - p.margins.left)),
                (d = s || n || a || o),
                "outer" !== g.snapMode &&
                  ((s = f >= Math.abs(h - v)),
                  (n = f >= Math.abs(c - b)),
                  (a = f >= Math.abs(r - m)),
                  (o = f >= Math.abs(l - _)),
                  s &&
                    (i.position.top =
                      p._convertPositionTo("relative", { top: h, left: 0 })
                        .top - p.margins.top),
                  n &&
                    (i.position.top =
                      p._convertPositionTo("relative", {
                        top: c - p.helperProportions.height,
                        left: 0,
                      }).top - p.margins.top),
                  a &&
                    (i.position.left =
                      p._convertPositionTo("relative", { top: 0, left: r })
                        .left - p.margins.left),
                  o &&
                    (i.position.left =
                      p._convertPositionTo("relative", {
                        top: 0,
                        left: l - p.helperProportions.width,
                      }).left - p.margins.left)),
                !p.snapElements[u].snapping &&
                  (s || n || a || o || d) &&
                  p.options.snap.snap &&
                  p.options.snap.snap.call(
                    p.element,
                    e,
                    t.extend(p._uiHash(), { snapItem: p.snapElements[u].item })
                  ),
                (p.snapElements[u].snapping = s || n || a || o || d));
      },
    }),
    t.ui.plugin.add("draggable", "stack", {
      start: function () {
        var e,
          i = this.data("ui-draggable").options,
          s = t.makeArray(t(i.stack)).sort(function (e, i) {
            return (
              (parseInt(t(e).css("zIndex"), 10) || 0) -
              (parseInt(t(i).css("zIndex"), 10) || 0)
            );
          });
        s.length &&
          ((e = parseInt(t(s[0]).css("zIndex"), 10) || 0),
          t(s).each(function (i) {
            t(this).css("zIndex", e + i);
          }),
          this.css("zIndex", e + s.length));
      },
    }),
    t.ui.plugin.add("draggable", "zIndex", {
      start: function (e, i) {
        var s = t(i.helper),
          n = t(this).data("ui-draggable").options;
        s.css("zIndex") && (n._zIndex = s.css("zIndex")),
          s.css("zIndex", n.zIndex);
      },
      stop: function (e, i) {
        var s = t(this).data("ui-draggable").options;
        s._zIndex && t(i.helper).css("zIndex", s._zIndex);
      },
    });
})(jQuery);
(function (t) {
  function e(t, e, i) {
    return t > e && e + i > t;
  }
  t.widget("ui.droppable", {
    version: "1.10.4",
    widgetEventPrefix: "drop",
    options: {
      accept: "*",
      activeClass: !1,
      addClasses: !0,
      greedy: !1,
      hoverClass: !1,
      scope: "default",
      tolerance: "intersect",
      activate: null,
      deactivate: null,
      drop: null,
      out: null,
      over: null,
    },
    _create: function () {
      var e,
        i = this.options,
        s = i.accept;
      (this.isover = !1),
        (this.isout = !0),
        (this.accept = t.isFunction(s)
          ? s
          : function (t) {
              return t.is(s);
            }),
        (this.proportions = function () {
          return arguments.length
            ? ((e = arguments[0]), undefined)
            : e
            ? e
            : (e = {
                width: this.element[0].offsetWidth,
                height: this.element[0].offsetHeight,
              });
        }),
        (t.ui.ddmanager.droppables[i.scope] =
          t.ui.ddmanager.droppables[i.scope] || []),
        t.ui.ddmanager.droppables[i.scope].push(this),
        i.addClasses && this.element.addClass("ui-droppable");
    },
    _destroy: function () {
      for (
        var e = 0, i = t.ui.ddmanager.droppables[this.options.scope];
        i.length > e;
        e++
      )
        i[e] === this && i.splice(e, 1);
      this.element.removeClass("ui-droppable ui-droppable-disabled");
    },
    _setOption: function (e, i) {
      "accept" === e &&
        (this.accept = t.isFunction(i)
          ? i
          : function (t) {
              return t.is(i);
            }),
        t.Widget.prototype._setOption.apply(this, arguments);
    },
    _activate: function (e) {
      var i = t.ui.ddmanager.current;
      this.options.activeClass &&
        this.element.addClass(this.options.activeClass),
        i && this._trigger("activate", e, this.ui(i));
    },
    _deactivate: function (e) {
      var i = t.ui.ddmanager.current;
      this.options.activeClass &&
        this.element.removeClass(this.options.activeClass),
        i && this._trigger("deactivate", e, this.ui(i));
    },
    _over: function (e) {
      var i = t.ui.ddmanager.current;
      i &&
        (i.currentItem || i.element)[0] !== this.element[0] &&
        this.accept.call(this.element[0], i.currentItem || i.element) &&
        (this.options.hoverClass &&
          this.element.addClass(this.options.hoverClass),
        this._trigger("over", e, this.ui(i)));
    },
    _out: function (e) {
      var i = t.ui.ddmanager.current;
      i &&
        (i.currentItem || i.element)[0] !== this.element[0] &&
        this.accept.call(this.element[0], i.currentItem || i.element) &&
        (this.options.hoverClass &&
          this.element.removeClass(this.options.hoverClass),
        this._trigger("out", e, this.ui(i)));
    },
    _drop: function (e, i) {
      var s = i || t.ui.ddmanager.current,
        n = !1;
      return s && (s.currentItem || s.element)[0] !== this.element[0]
        ? (this.element
            .find(":data(ui-droppable)")
            .not(".ui-draggable-dragging")
            .each(function () {
              var e = t.data(this, "ui-droppable");
              return e.options.greedy &&
                !e.options.disabled &&
                e.options.scope === s.options.scope &&
                e.accept.call(e.element[0], s.currentItem || s.element) &&
                t.ui.intersect(
                  s,
                  t.extend(e, { offset: e.element.offset() }),
                  e.options.tolerance
                )
                ? ((n = !0), !1)
                : undefined;
            }),
          n
            ? !1
            : this.accept.call(this.element[0], s.currentItem || s.element)
            ? (this.options.activeClass &&
                this.element.removeClass(this.options.activeClass),
              this.options.hoverClass &&
                this.element.removeClass(this.options.hoverClass),
              this._trigger("drop", e, this.ui(s)),
              this.element)
            : !1)
        : !1;
    },
    ui: function (t) {
      return {
        draggable: t.currentItem || t.element,
        helper: t.helper,
        position: t.position,
        offset: t.positionAbs,
      };
    },
  }),
    (t.ui.intersect = function (t, i, s) {
      if (!i.offset) return !1;
      var n,
        a,
        o = (t.positionAbs || t.position.absolute).left,
        r = (t.positionAbs || t.position.absolute).top,
        l = o + t.helperProportions.width,
        h = r + t.helperProportions.height,
        c = i.offset.left,
        u = i.offset.top,
        d = c + i.proportions().width,
        p = u + i.proportions().height;
      switch (s) {
        case "fit":
          return o >= c && d >= l && r >= u && p >= h;
        case "intersect":
          return (
            o + t.helperProportions.width / 2 > c &&
            d > l - t.helperProportions.width / 2 &&
            r + t.helperProportions.height / 2 > u &&
            p > h - t.helperProportions.height / 2
          );
        case "pointer":
          return (
            (n =
              (t.positionAbs || t.position.absolute).left +
              (t.clickOffset || t.offset.click).left),
            (a =
              (t.positionAbs || t.position.absolute).top +
              (t.clickOffset || t.offset.click).top),
            e(a, u, i.proportions().height) && e(n, c, i.proportions().width)
          );
        case "touch":
          return (
            ((r >= u && p >= r) || (h >= u && p >= h) || (u > r && h > p)) &&
            ((o >= c && d >= o) || (l >= c && d >= l) || (c > o && l > d))
          );
        default:
          return !1;
      }
    }),
    (t.ui.ddmanager = {
      current: null,
      droppables: { default: [] },
      prepareOffsets: function (e, i) {
        var s,
          n,
          a = t.ui.ddmanager.droppables[e.options.scope] || [],
          o = i ? i.type : null,
          r = (e.currentItem || e.element)
            .find(":data(ui-droppable)")
            .addBack();
        t: for (s = 0; a.length > s; s++)
          if (
            !(
              a[s].options.disabled ||
              (e &&
                !a[s].accept.call(a[s].element[0], e.currentItem || e.element))
            )
          ) {
            for (n = 0; r.length > n; n++)
              if (r[n] === a[s].element[0]) {
                a[s].proportions().height = 0;
                continue t;
              }
            (a[s].visible = "none" !== a[s].element.css("display")),
              a[s].visible &&
                ("mousedown" === o && a[s]._activate.call(a[s], i),
                (a[s].offset = a[s].element.offset()),
                a[s].proportions({
                  width: a[s].element[0].offsetWidth,
                  height: a[s].element[0].offsetHeight,
                }));
          }
      },
      drop: function (e, i) {
        var s = !1;
        return (
          t.each(
            (t.ui.ddmanager.droppables[e.options.scope] || []).slice(),
            function () {
              this.options &&
                (!this.options.disabled &&
                  this.visible &&
                  t.ui.intersect(e, this, this.options.tolerance) &&
                  (s = this._drop.call(this, i) || s),
                !this.options.disabled &&
                  this.visible &&
                  this.accept.call(
                    this.element[0],
                    e.currentItem || e.element
                  ) &&
                  ((this.isout = !0),
                  (this.isover = !1),
                  this._deactivate.call(this, i)));
            }
          ),
          s
        );
      },
      dragStart: function (e, i) {
        e.element.parentsUntil("body").bind("scroll.droppable", function () {
          e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i);
        });
      },
      drag: function (e, i) {
        e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, i),
          t.each(t.ui.ddmanager.droppables[e.options.scope] || [], function () {
            if (!this.options.disabled && !this.greedyChild && this.visible) {
              var s,
                n,
                a,
                o = t.ui.intersect(e, this, this.options.tolerance),
                r =
                  !o && this.isover
                    ? "isout"
                    : o && !this.isover
                    ? "isover"
                    : null;
              r &&
                (this.options.greedy &&
                  ((n = this.options.scope),
                  (a = this.element
                    .parents(":data(ui-droppable)")
                    .filter(function () {
                      return t.data(this, "ui-droppable").options.scope === n;
                    })),
                  a.length &&
                    ((s = t.data(a[0], "ui-droppable")),
                    (s.greedyChild = "isover" === r))),
                s &&
                  "isover" === r &&
                  ((s.isover = !1), (s.isout = !0), s._out.call(s, i)),
                (this[r] = !0),
                (this["isout" === r ? "isover" : "isout"] = !1),
                this["isover" === r ? "_over" : "_out"].call(this, i),
                s &&
                  "isout" === r &&
                  ((s.isout = !1), (s.isover = !0), s._over.call(s, i)));
            }
          });
      },
      dragStop: function (e, i) {
        e.element.parentsUntil("body").unbind("scroll.droppable"),
          e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i);
      },
    });
})(jQuery);
(function (t) {
  function e(t) {
    return parseInt(t, 10) || 0;
  }
  function i(t) {
    return !isNaN(parseInt(t, 10));
  }
  t.widget("ui.resizable", t.ui.mouse, {
    version: "1.10.4",
    widgetEventPrefix: "resize",
    options: {
      alsoResize: !1,
      animate: !1,
      animateDuration: "slow",
      animateEasing: "swing",
      aspectRatio: !1,
      autoHide: !1,
      containment: !1,
      ghost: !1,
      grid: !1,
      handles: "e,s,se",
      helper: !1,
      maxHeight: null,
      maxWidth: null,
      minHeight: 10,
      minWidth: 10,
      zIndex: 90,
      resize: null,
      start: null,
      stop: null,
    },
    _create: function () {
      var e,
        i,
        s,
        n,
        a,
        o = this,
        r = this.options;
      if (
        (this.element.addClass("ui-resizable"),
        t.extend(this, {
          _aspectRatio: !!r.aspectRatio,
          aspectRatio: r.aspectRatio,
          originalElement: this.element,
          _proportionallyResizeElements: [],
          _helper:
            r.helper || r.ghost || r.animate
              ? r.helper || "ui-resizable-helper"
              : null,
        }),
        this.element[0].nodeName.match(
          /canvas|textarea|input|select|button|img/i
        ) &&
          (this.element.wrap(
            t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
              position: this.element.css("position"),
              width: this.element.outerWidth(),
              height: this.element.outerHeight(),
              top: this.element.css("top"),
              left: this.element.css("left"),
            })
          ),
          (this.element = this.element
            .parent()
            .data("ui-resizable", this.element.data("ui-resizable"))),
          (this.elementIsWrapper = !0),
          this.element.css({
            marginLeft: this.originalElement.css("marginLeft"),
            marginTop: this.originalElement.css("marginTop"),
            marginRight: this.originalElement.css("marginRight"),
            marginBottom: this.originalElement.css("marginBottom"),
          }),
          this.originalElement.css({
            marginLeft: 0,
            marginTop: 0,
            marginRight: 0,
            marginBottom: 0,
          }),
          (this.originalResizeStyle = this.originalElement.css("resize")),
          this.originalElement.css("resize", "none"),
          this._proportionallyResizeElements.push(
            this.originalElement.css({
              position: "static",
              zoom: 1,
              display: "block",
            })
          ),
          this.originalElement.css({
            margin: this.originalElement.css("margin"),
          }),
          this._proportionallyResize()),
        (this.handles =
          r.handles ||
          (t(".ui-resizable-handle", this.element).length
            ? {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw",
              }
            : "e,s,se")),
        this.handles.constructor === String)
      )
        for (
          "all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"),
            e = this.handles.split(","),
            this.handles = {},
            i = 0;
          e.length > i;
          i++
        )
          (s = t.trim(e[i])),
            (a = "ui-resizable-" + s),
            (n = t("<div class='ui-resizable-handle " + a + "'></div>")),
            n.css({ zIndex: r.zIndex }),
            "se" === s && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),
            (this.handles[s] = ".ui-resizable-" + s),
            this.element.append(n);
      (this._renderAxis = function (e) {
        var i, s, n, a;
        e = e || this.element;
        for (i in this.handles)
          this.handles[i].constructor === String &&
            (this.handles[i] = t(this.handles[i], this.element).show()),
            this.elementIsWrapper &&
              this.originalElement[0].nodeName.match(
                /textarea|input|select|button/i
              ) &&
              ((s = t(this.handles[i], this.element)),
              (a = /sw|ne|nw|se|n|s/.test(i)
                ? s.outerHeight()
                : s.outerWidth()),
              (n = [
                "padding",
                /ne|nw|n/.test(i)
                  ? "Top"
                  : /se|sw|s/.test(i)
                  ? "Bottom"
                  : /^e$/.test(i)
                  ? "Right"
                  : "Left",
              ].join("")),
              e.css(n, a),
              this._proportionallyResize()),
            t(this.handles[i]).length;
      }),
        this._renderAxis(this.element),
        (this._handles = t(
          ".ui-resizable-handle",
          this.element
        ).disableSelection()),
        this._handles.mouseover(function () {
          o.resizing ||
            (this.className &&
              (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),
            (o.axis = n && n[1] ? n[1] : "se"));
        }),
        r.autoHide &&
          (this._handles.hide(),
          t(this.element)
            .addClass("ui-resizable-autohide")
            .mouseenter(function () {
              r.disabled ||
                (t(this).removeClass("ui-resizable-autohide"),
                o._handles.show());
            })
            .mouseleave(function () {
              r.disabled ||
                o.resizing ||
                (t(this).addClass("ui-resizable-autohide"), o._handles.hide());
            })),
        this._mouseInit();
    },
    _destroy: function () {
      this._mouseDestroy();
      var e,
        i = function (e) {
          t(e)
            .removeClass(
              "ui-resizable ui-resizable-disabled ui-resizable-resizing"
            )
            .removeData("resizable")
            .removeData("ui-resizable")
            .unbind(".resizable")
            .find(".ui-resizable-handle")
            .remove();
        };
      return (
        this.elementIsWrapper &&
          (i(this.element),
          (e = this.element),
          this.originalElement
            .css({
              position: e.css("position"),
              width: e.outerWidth(),
              height: e.outerHeight(),
              top: e.css("top"),
              left: e.css("left"),
            })
            .insertAfter(e),
          e.remove()),
        this.originalElement.css("resize", this.originalResizeStyle),
        i(this.originalElement),
        this
      );
    },
    _mouseCapture: function (e) {
      var i,
        s,
        n = !1;
      for (i in this.handles)
        (s = t(this.handles[i])[0]),
          (s === e.target || t.contains(s, e.target)) && (n = !0);
      return !this.options.disabled && n;
    },
    _mouseStart: function (i) {
      var s,
        n,
        a,
        o = this.options,
        r = this.element.position(),
        h = this.element;
      return (
        (this.resizing = !0),
        /absolute/.test(h.css("position"))
          ? h.css({
              position: "absolute",
              top: h.css("top"),
              left: h.css("left"),
            })
          : h.is(".ui-draggable") &&
            h.css({ position: "absolute", top: r.top, left: r.left }),
        this._renderProxy(),
        (s = e(this.helper.css("left"))),
        (n = e(this.helper.css("top"))),
        o.containment &&
          ((s += t(o.containment).scrollLeft() || 0),
          (n += t(o.containment).scrollTop() || 0)),
        (this.offset = this.helper.offset()),
        (this.position = { left: s, top: n }),
        (this.size = this._helper
          ? { width: this.helper.width(), height: this.helper.height() }
          : { width: h.width(), height: h.height() }),
        (this.originalSize = this._helper
          ? { width: h.outerWidth(), height: h.outerHeight() }
          : { width: h.width(), height: h.height() }),
        (this.originalPosition = { left: s, top: n }),
        (this.sizeDiff = {
          width: h.outerWidth() - h.width(),
          height: h.outerHeight() - h.height(),
        }),
        (this.originalMousePosition = { left: i.pageX, top: i.pageY }),
        (this.aspectRatio =
          "number" == typeof o.aspectRatio
            ? o.aspectRatio
            : this.originalSize.width / this.originalSize.height || 1),
        (a = t(".ui-resizable-" + this.axis).css("cursor")),
        t("body").css("cursor", "auto" === a ? this.axis + "-resize" : a),
        h.addClass("ui-resizable-resizing"),
        this._propagate("start", i),
        !0
      );
    },
    _mouseDrag: function (e) {
      var i,
        s = this.helper,
        n = {},
        a = this.originalMousePosition,
        o = this.axis,
        r = this.position.top,
        h = this.position.left,
        l = this.size.width,
        c = this.size.height,
        u = e.pageX - a.left || 0,
        d = e.pageY - a.top || 0,
        p = this._change[o];
      return p
        ? ((i = p.apply(this, [e, u, d])),
          this._updateVirtualBoundaries(e.shiftKey),
          (this._aspectRatio || e.shiftKey) && (i = this._updateRatio(i, e)),
          (i = this._respectSize(i, e)),
          this._updateCache(i),
          this._propagate("resize", e),
          this.position.top !== r && (n.top = this.position.top + "px"),
          this.position.left !== h && (n.left = this.position.left + "px"),
          this.size.width !== l && (n.width = this.size.width + "px"),
          this.size.height !== c && (n.height = this.size.height + "px"),
          s.css(n),
          !this._helper &&
            this._proportionallyResizeElements.length &&
            this._proportionallyResize(),
          t.isEmptyObject(n) || this._trigger("resize", e, this.ui()),
          !1)
        : !1;
    },
    _mouseStop: function (e) {
      this.resizing = !1;
      var i,
        s,
        n,
        a,
        o,
        r,
        h,
        l = this.options,
        c = this;
      return (
        this._helper &&
          ((i = this._proportionallyResizeElements),
          (s = i.length && /textarea/i.test(i[0].nodeName)),
          (n = s && t.ui.hasScroll(i[0], "left") ? 0 : c.sizeDiff.height),
          (a = s ? 0 : c.sizeDiff.width),
          (o = { width: c.helper.width() - a, height: c.helper.height() - n }),
          (r =
            parseInt(c.element.css("left"), 10) +
              (c.position.left - c.originalPosition.left) || null),
          (h =
            parseInt(c.element.css("top"), 10) +
              (c.position.top - c.originalPosition.top) || null),
          l.animate || this.element.css(t.extend(o, { top: h, left: r })),
          c.helper.height(c.size.height),
          c.helper.width(c.size.width),
          this._helper && !l.animate && this._proportionallyResize()),
        t("body").css("cursor", "auto"),
        this.element.removeClass("ui-resizable-resizing"),
        this._propagate("stop", e),
        this._helper && this.helper.remove(),
        !1
      );
    },
    _updateVirtualBoundaries: function (t) {
      var e,
        s,
        n,
        a,
        o,
        r = this.options;
      (o = {
        minWidth: i(r.minWidth) ? r.minWidth : 0,
        maxWidth: i(r.maxWidth) ? r.maxWidth : 1 / 0,
        minHeight: i(r.minHeight) ? r.minHeight : 0,
        maxHeight: i(r.maxHeight) ? r.maxHeight : 1 / 0,
      }),
        (this._aspectRatio || t) &&
          ((e = o.minHeight * this.aspectRatio),
          (n = o.minWidth / this.aspectRatio),
          (s = o.maxHeight * this.aspectRatio),
          (a = o.maxWidth / this.aspectRatio),
          e > o.minWidth && (o.minWidth = e),
          n > o.minHeight && (o.minHeight = n),
          o.maxWidth > s && (o.maxWidth = s),
          o.maxHeight > a && (o.maxHeight = a)),
        (this._vBoundaries = o);
    },
    _updateCache: function (t) {
      (this.offset = this.helper.offset()),
        i(t.left) && (this.position.left = t.left),
        i(t.top) && (this.position.top = t.top),
        i(t.height) && (this.size.height = t.height),
        i(t.width) && (this.size.width = t.width);
    },
    _updateRatio: function (t) {
      var e = this.position,
        s = this.size,
        n = this.axis;
      return (
        i(t.height)
          ? (t.width = t.height * this.aspectRatio)
          : i(t.width) && (t.height = t.width / this.aspectRatio),
        "sw" === n && ((t.left = e.left + (s.width - t.width)), (t.top = null)),
        "nw" === n &&
          ((t.top = e.top + (s.height - t.height)),
          (t.left = e.left + (s.width - t.width))),
        t
      );
    },
    _respectSize: function (t) {
      var e = this._vBoundaries,
        s = this.axis,
        n = i(t.width) && e.maxWidth && e.maxWidth < t.width,
        a = i(t.height) && e.maxHeight && e.maxHeight < t.height,
        o = i(t.width) && e.minWidth && e.minWidth > t.width,
        r = i(t.height) && e.minHeight && e.minHeight > t.height,
        h = this.originalPosition.left + this.originalSize.width,
        l = this.position.top + this.size.height,
        c = /sw|nw|w/.test(s),
        u = /nw|ne|n/.test(s);
      return (
        o && (t.width = e.minWidth),
        r && (t.height = e.minHeight),
        n && (t.width = e.maxWidth),
        a && (t.height = e.maxHeight),
        o && c && (t.left = h - e.minWidth),
        n && c && (t.left = h - e.maxWidth),
        r && u && (t.top = l - e.minHeight),
        a && u && (t.top = l - e.maxHeight),
        t.width || t.height || t.left || !t.top
          ? t.width || t.height || t.top || !t.left || (t.left = null)
          : (t.top = null),
        t
      );
    },
    _proportionallyResize: function () {
      if (this._proportionallyResizeElements.length) {
        var t,
          e,
          i,
          s,
          n,
          a = this.helper || this.element;
        for (t = 0; this._proportionallyResizeElements.length > t; t++) {
          if (((n = this._proportionallyResizeElements[t]), !this.borderDif))
            for (
              this.borderDif = [],
                i = [
                  n.css("borderTopWidth"),
                  n.css("borderRightWidth"),
                  n.css("borderBottomWidth"),
                  n.css("borderLeftWidth"),
                ],
                s = [
                  n.css("paddingTop"),
                  n.css("paddingRight"),
                  n.css("paddingBottom"),
                  n.css("paddingLeft"),
                ],
                e = 0;
              i.length > e;
              e++
            )
              this.borderDif[e] =
                (parseInt(i[e], 10) || 0) + (parseInt(s[e], 10) || 0);
          n.css({
            height: a.height() - this.borderDif[0] - this.borderDif[2] || 0,
            width: a.width() - this.borderDif[1] - this.borderDif[3] || 0,
          });
        }
      }
    },
    _renderProxy: function () {
      var e = this.element,
        i = this.options;
      (this.elementOffset = e.offset()),
        this._helper
          ? ((this.helper =
              this.helper || t("<div style='overflow:hidden;'></div>")),
            this.helper
              .addClass(this._helper)
              .css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++i.zIndex,
              }),
            this.helper.appendTo("body").disableSelection())
          : (this.helper = this.element);
    },
    _change: {
      e: function (t, e) {
        return { width: this.originalSize.width + e };
      },
      w: function (t, e) {
        var i = this.originalSize,
          s = this.originalPosition;
        return { left: s.left + e, width: i.width - e };
      },
      n: function (t, e, i) {
        var s = this.originalSize,
          n = this.originalPosition;
        return { top: n.top + i, height: s.height - i };
      },
      s: function (t, e, i) {
        return { height: this.originalSize.height + i };
      },
      se: function (e, i, s) {
        return t.extend(
          this._change.s.apply(this, arguments),
          this._change.e.apply(this, [e, i, s])
        );
      },
      sw: function (e, i, s) {
        return t.extend(
          this._change.s.apply(this, arguments),
          this._change.w.apply(this, [e, i, s])
        );
      },
      ne: function (e, i, s) {
        return t.extend(
          this._change.n.apply(this, arguments),
          this._change.e.apply(this, [e, i, s])
        );
      },
      nw: function (e, i, s) {
        return t.extend(
          this._change.n.apply(this, arguments),
          this._change.w.apply(this, [e, i, s])
        );
      },
    },
    _propagate: function (e, i) {
      t.ui.plugin.call(this, e, [i, this.ui()]),
        "resize" !== e && this._trigger(e, i, this.ui());
    },
    plugins: {},
    ui: function () {
      return {
        originalElement: this.originalElement,
        element: this.element,
        helper: this.helper,
        position: this.position,
        size: this.size,
        originalSize: this.originalSize,
        originalPosition: this.originalPosition,
      };
    },
  }),
    t.ui.plugin.add("resizable", "animate", {
      stop: function (e) {
        var i = t(this).data("ui-resizable"),
          s = i.options,
          n = i._proportionallyResizeElements,
          a = n.length && /textarea/i.test(n[0].nodeName),
          o = a && t.ui.hasScroll(n[0], "left") ? 0 : i.sizeDiff.height,
          r = a ? 0 : i.sizeDiff.width,
          h = { width: i.size.width - r, height: i.size.height - o },
          l =
            parseInt(i.element.css("left"), 10) +
              (i.position.left - i.originalPosition.left) || null,
          c =
            parseInt(i.element.css("top"), 10) +
              (i.position.top - i.originalPosition.top) || null;
        i.element.animate(t.extend(h, c && l ? { top: c, left: l } : {}), {
          duration: s.animateDuration,
          easing: s.animateEasing,
          step: function () {
            var s = {
              width: parseInt(i.element.css("width"), 10),
              height: parseInt(i.element.css("height"), 10),
              top: parseInt(i.element.css("top"), 10),
              left: parseInt(i.element.css("left"), 10),
            };
            n && n.length && t(n[0]).css({ width: s.width, height: s.height }),
              i._updateCache(s),
              i._propagate("resize", e);
          },
        });
      },
    }),
    t.ui.plugin.add("resizable", "containment", {
      start: function () {
        var i,
          s,
          n,
          a,
          o,
          r,
          h,
          l = t(this).data("ui-resizable"),
          c = l.options,
          u = l.element,
          d = c.containment,
          p =
            d instanceof t
              ? d.get(0)
              : /parent/.test(d)
              ? u.parent().get(0)
              : d;
        p &&
          ((l.containerElement = t(p)),
          /document/.test(d) || d === document
            ? ((l.containerOffset = { left: 0, top: 0 }),
              (l.containerPosition = { left: 0, top: 0 }),
              (l.parentData = {
                element: t(document),
                left: 0,
                top: 0,
                width: t(document).width(),
                height:
                  t(document).height() || document.body.parentNode.scrollHeight,
              }))
            : ((i = t(p)),
              (s = []),
              t(["Top", "Right", "Left", "Bottom"]).each(function (t, n) {
                s[t] = e(i.css("padding" + n));
              }),
              (l.containerOffset = i.offset()),
              (l.containerPosition = i.position()),
              (l.containerSize = {
                height: i.innerHeight() - s[3],
                width: i.innerWidth() - s[1],
              }),
              (n = l.containerOffset),
              (a = l.containerSize.height),
              (o = l.containerSize.width),
              (r = t.ui.hasScroll(p, "left") ? p.scrollWidth : o),
              (h = t.ui.hasScroll(p) ? p.scrollHeight : a),
              (l.parentData = {
                element: p,
                left: n.left,
                top: n.top,
                width: r,
                height: h,
              })));
      },
      resize: function (e) {
        var i,
          s,
          n,
          a,
          o = t(this).data("ui-resizable"),
          r = o.options,
          h = o.containerOffset,
          l = o.position,
          c = o._aspectRatio || e.shiftKey,
          u = { top: 0, left: 0 },
          d = o.containerElement;
        d[0] !== document && /static/.test(d.css("position")) && (u = h),
          l.left < (o._helper ? h.left : 0) &&
            ((o.size.width =
              o.size.width +
              (o._helper
                ? o.position.left - h.left
                : o.position.left - u.left)),
            c && (o.size.height = o.size.width / o.aspectRatio),
            (o.position.left = r.helper ? h.left : 0)),
          l.top < (o._helper ? h.top : 0) &&
            ((o.size.height =
              o.size.height +
              (o._helper ? o.position.top - h.top : o.position.top)),
            c && (o.size.width = o.size.height * o.aspectRatio),
            (o.position.top = o._helper ? h.top : 0)),
          (o.offset.left = o.parentData.left + o.position.left),
          (o.offset.top = o.parentData.top + o.position.top),
          (i = Math.abs(
            (o._helper ? o.offset.left - u.left : o.offset.left - u.left) +
              o.sizeDiff.width
          )),
          (s = Math.abs(
            (o._helper ? o.offset.top - u.top : o.offset.top - h.top) +
              o.sizeDiff.height
          )),
          (n = o.containerElement.get(0) === o.element.parent().get(0)),
          (a = /relative|absolute/.test(o.containerElement.css("position"))),
          n && a && (i -= Math.abs(o.parentData.left)),
          i + o.size.width >= o.parentData.width &&
            ((o.size.width = o.parentData.width - i),
            c && (o.size.height = o.size.width / o.aspectRatio)),
          s + o.size.height >= o.parentData.height &&
            ((o.size.height = o.parentData.height - s),
            c && (o.size.width = o.size.height * o.aspectRatio));
      },
      stop: function () {
        var e = t(this).data("ui-resizable"),
          i = e.options,
          s = e.containerOffset,
          n = e.containerPosition,
          a = e.containerElement,
          o = t(e.helper),
          r = o.offset(),
          h = o.outerWidth() - e.sizeDiff.width,
          l = o.outerHeight() - e.sizeDiff.height;
        e._helper &&
          !i.animate &&
          /relative/.test(a.css("position")) &&
          t(this).css({ left: r.left - n.left - s.left, width: h, height: l }),
          e._helper &&
            !i.animate &&
            /static/.test(a.css("position")) &&
            t(this).css({
              left: r.left - n.left - s.left,
              width: h,
              height: l,
            });
      },
    }),
    t.ui.plugin.add("resizable", "alsoResize", {
      start: function () {
        var e = t(this).data("ui-resizable"),
          i = e.options,
          s = function (e) {
            t(e).each(function () {
              var e = t(this);
              e.data("ui-resizable-alsoresize", {
                width: parseInt(e.width(), 10),
                height: parseInt(e.height(), 10),
                left: parseInt(e.css("left"), 10),
                top: parseInt(e.css("top"), 10),
              });
            });
          };
        "object" != typeof i.alsoResize || i.alsoResize.parentNode
          ? s(i.alsoResize)
          : i.alsoResize.length
          ? ((i.alsoResize = i.alsoResize[0]), s(i.alsoResize))
          : t.each(i.alsoResize, function (t) {
              s(t);
            });
      },
      resize: function (e, i) {
        var s = t(this).data("ui-resizable"),
          n = s.options,
          a = s.originalSize,
          o = s.originalPosition,
          r = {
            height: s.size.height - a.height || 0,
            width: s.size.width - a.width || 0,
            top: s.position.top - o.top || 0,
            left: s.position.left - o.left || 0,
          },
          h = function (e, s) {
            t(e).each(function () {
              var e = t(this),
                n = t(this).data("ui-resizable-alsoresize"),
                a = {},
                o =
                  s && s.length
                    ? s
                    : e.parents(i.originalElement[0]).length
                    ? ["width", "height"]
                    : ["width", "height", "top", "left"];
              t.each(o, function (t, e) {
                var i = (n[e] || 0) + (r[e] || 0);
                i && i >= 0 && (a[e] = i || null);
              }),
                e.css(a);
            });
          };
        "object" != typeof n.alsoResize || n.alsoResize.nodeType
          ? h(n.alsoResize)
          : t.each(n.alsoResize, function (t, e) {
              h(t, e);
            });
      },
      stop: function () {
        t(this).removeData("resizable-alsoresize");
      },
    }),
    t.ui.plugin.add("resizable", "ghost", {
      start: function () {
        var e = t(this).data("ui-resizable"),
          i = e.options,
          s = e.size;
        (e.ghost = e.originalElement.clone()),
          e.ghost
            .css({
              opacity: 0.25,
              display: "block",
              position: "relative",
              height: s.height,
              width: s.width,
              margin: 0,
              left: 0,
              top: 0,
            })
            .addClass("ui-resizable-ghost")
            .addClass("string" == typeof i.ghost ? i.ghost : ""),
          e.ghost.appendTo(e.helper);
      },
      resize: function () {
        var e = t(this).data("ui-resizable");
        e.ghost &&
          e.ghost.css({
            position: "relative",
            height: e.size.height,
            width: e.size.width,
          });
      },
      stop: function () {
        var e = t(this).data("ui-resizable");
        e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0));
      },
    }),
    t.ui.plugin.add("resizable", "grid", {
      resize: function () {
        var e = t(this).data("ui-resizable"),
          i = e.options,
          s = e.size,
          n = e.originalSize,
          a = e.originalPosition,
          o = e.axis,
          r = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid,
          h = r[0] || 1,
          l = r[1] || 1,
          c = Math.round((s.width - n.width) / h) * h,
          u = Math.round((s.height - n.height) / l) * l,
          d = n.width + c,
          p = n.height + u,
          f = i.maxWidth && d > i.maxWidth,
          g = i.maxHeight && p > i.maxHeight,
          m = i.minWidth && i.minWidth > d,
          v = i.minHeight && i.minHeight > p;
        (i.grid = r),
          m && (d += h),
          v && (p += l),
          f && (d -= h),
          g && (p -= l),
          /^(se|s|e)$/.test(o)
            ? ((e.size.width = d), (e.size.height = p))
            : /^(ne)$/.test(o)
            ? ((e.size.width = d),
              (e.size.height = p),
              (e.position.top = a.top - u))
            : /^(sw)$/.test(o)
            ? ((e.size.width = d),
              (e.size.height = p),
              (e.position.left = a.left - c))
            : (p - l > 0
                ? ((e.size.height = p), (e.position.top = a.top - u))
                : ((e.size.height = l),
                  (e.position.top = a.top + n.height - l)),
              d - h > 0
                ? ((e.size.width = d), (e.position.left = a.left - c))
                : ((e.size.width = h),
                  (e.position.left = a.left + n.width - h)));
      },
    });
})(jQuery);
(function (t) {
  t.widget("ui.selectable", t.ui.mouse, {
    version: "1.10.4",
    options: {
      appendTo: "body",
      autoRefresh: !0,
      distance: 0,
      filter: "*",
      tolerance: "touch",
      selected: null,
      selecting: null,
      start: null,
      stop: null,
      unselected: null,
      unselecting: null,
    },
    _create: function () {
      var e,
        i = this;
      this.element.addClass("ui-selectable"),
        (this.dragged = !1),
        (this.refresh = function () {
          (e = t(i.options.filter, i.element[0])),
            e.addClass("ui-selectee"),
            e.each(function () {
              var e = t(this),
                i = e.offset();
              t.data(this, "selectable-item", {
                element: this,
                $element: e,
                left: i.left,
                top: i.top,
                right: i.left + e.outerWidth(),
                bottom: i.top + e.outerHeight(),
                startselected: !1,
                selected: e.hasClass("ui-selected"),
                selecting: e.hasClass("ui-selecting"),
                unselecting: e.hasClass("ui-unselecting"),
              });
            });
        }),
        this.refresh(),
        (this.selectees = e.addClass("ui-selectee")),
        this._mouseInit(),
        (this.helper = t("<div class='ui-selectable-helper'></div>"));
    },
    _destroy: function () {
      this.selectees.removeClass("ui-selectee").removeData("selectable-item"),
        this.element.removeClass("ui-selectable ui-selectable-disabled"),
        this._mouseDestroy();
    },
    _mouseStart: function (e) {
      var i = this,
        s = this.options;
      (this.opos = [e.pageX, e.pageY]),
        this.options.disabled ||
          ((this.selectees = t(s.filter, this.element[0])),
          this._trigger("start", e),
          t(s.appendTo).append(this.helper),
          this.helper.css({ left: e.pageX, top: e.pageY, width: 0, height: 0 }),
          s.autoRefresh && this.refresh(),
          this.selectees.filter(".ui-selected").each(function () {
            var s = t.data(this, "selectable-item");
            (s.startselected = !0),
              e.metaKey ||
                e.ctrlKey ||
                (s.$element.removeClass("ui-selected"),
                (s.selected = !1),
                s.$element.addClass("ui-unselecting"),
                (s.unselecting = !0),
                i._trigger("unselecting", e, { unselecting: s.element }));
          }),
          t(e.target)
            .parents()
            .addBack()
            .each(function () {
              var s,
                n = t.data(this, "selectable-item");
              return n
                ? ((s =
                    (!e.metaKey && !e.ctrlKey) ||
                    !n.$element.hasClass("ui-selected")),
                  n.$element
                    .removeClass(s ? "ui-unselecting" : "ui-selected")
                    .addClass(s ? "ui-selecting" : "ui-unselecting"),
                  (n.unselecting = !s),
                  (n.selecting = s),
                  (n.selected = s),
                  s
                    ? i._trigger("selecting", e, { selecting: n.element })
                    : i._trigger("unselecting", e, { unselecting: n.element }),
                  !1)
                : undefined;
            }));
    },
    _mouseDrag: function (e) {
      if (((this.dragged = !0), !this.options.disabled)) {
        var i,
          s = this,
          n = this.options,
          a = this.opos[0],
          o = this.opos[1],
          r = e.pageX,
          l = e.pageY;
        return (
          a > r && ((i = r), (r = a), (a = i)),
          o > l && ((i = l), (l = o), (o = i)),
          this.helper.css({ left: a, top: o, width: r - a, height: l - o }),
          this.selectees.each(function () {
            var i = t.data(this, "selectable-item"),
              h = !1;
            i &&
              i.element !== s.element[0] &&
              ("touch" === n.tolerance
                ? (h = !(
                    i.left > r ||
                    a > i.right ||
                    i.top > l ||
                    o > i.bottom
                  ))
                : "fit" === n.tolerance &&
                  (h = i.left > a && r > i.right && i.top > o && l > i.bottom),
              h
                ? (i.selected &&
                    (i.$element.removeClass("ui-selected"), (i.selected = !1)),
                  i.unselecting &&
                    (i.$element.removeClass("ui-unselecting"),
                    (i.unselecting = !1)),
                  i.selecting ||
                    (i.$element.addClass("ui-selecting"),
                    (i.selecting = !0),
                    s._trigger("selecting", e, { selecting: i.element })))
                : (i.selecting &&
                    ((e.metaKey || e.ctrlKey) && i.startselected
                      ? (i.$element.removeClass("ui-selecting"),
                        (i.selecting = !1),
                        i.$element.addClass("ui-selected"),
                        (i.selected = !0))
                      : (i.$element.removeClass("ui-selecting"),
                        (i.selecting = !1),
                        i.startselected &&
                          (i.$element.addClass("ui-unselecting"),
                          (i.unselecting = !0)),
                        s._trigger("unselecting", e, {
                          unselecting: i.element,
                        }))),
                  i.selected &&
                    (e.metaKey ||
                      e.ctrlKey ||
                      i.startselected ||
                      (i.$element.removeClass("ui-selected"),
                      (i.selected = !1),
                      i.$element.addClass("ui-unselecting"),
                      (i.unselecting = !0),
                      s._trigger("unselecting", e, {
                        unselecting: i.element,
                      })))));
          }),
          !1
        );
      }
    },
    _mouseStop: function (e) {
      var i = this;
      return (
        (this.dragged = !1),
        t(".ui-unselecting", this.element[0]).each(function () {
          var s = t.data(this, "selectable-item");
          s.$element.removeClass("ui-unselecting"),
            (s.unselecting = !1),
            (s.startselected = !1),
            i._trigger("unselected", e, { unselected: s.element });
        }),
        t(".ui-selecting", this.element[0]).each(function () {
          var s = t.data(this, "selectable-item");
          s.$element.removeClass("ui-selecting").addClass("ui-selected"),
            (s.selecting = !1),
            (s.selected = !0),
            (s.startselected = !0),
            i._trigger("selected", e, { selected: s.element });
        }),
        this._trigger("stop", e),
        this.helper.remove(),
        !1
      );
    },
  });
})(jQuery);
(function (t) {
  function e(t, e, i) {
    return t > e && e + i > t;
  }
  function i(t) {
    return (
      /left|right/.test(t.css("float")) ||
      /inline|table-cell/.test(t.css("display"))
    );
  }
  t.widget("ui.sortable", t.ui.mouse, {
    version: "1.10.4",
    widgetEventPrefix: "sort",
    ready: !1,
    options: {
      appendTo: "parent",
      axis: !1,
      connectWith: !1,
      containment: !1,
      cursor: "auto",
      cursorAt: !1,
      dropOnEmpty: !0,
      forcePlaceholderSize: !1,
      forceHelperSize: !1,
      grid: !1,
      handle: !1,
      helper: "original",
      items: "> *",
      opacity: !1,
      placeholder: !1,
      revert: !1,
      scroll: !0,
      scrollSensitivity: 20,
      scrollSpeed: 20,
      scope: "default",
      tolerance: "intersect",
      zIndex: 1e3,
      activate: null,
      beforeStop: null,
      change: null,
      deactivate: null,
      out: null,
      over: null,
      receive: null,
      remove: null,
      sort: null,
      start: null,
      stop: null,
      update: null,
    },
    _create: function () {
      var t = this.options;
      (this.containerCache = {}),
        this.element.addClass("ui-sortable"),
        this.refresh(),
        (this.floating = this.items.length
          ? "x" === t.axis || i(this.items[0].item)
          : !1),
        (this.offset = this.element.offset()),
        this._mouseInit(),
        (this.ready = !0);
    },
    _destroy: function () {
      this.element.removeClass("ui-sortable ui-sortable-disabled"),
        this._mouseDestroy();
      for (var t = this.items.length - 1; t >= 0; t--)
        this.items[t].item.removeData(this.widgetName + "-item");
      return this;
    },
    _setOption: function (e, i) {
      "disabled" === e
        ? ((this.options[e] = i),
          this.widget().toggleClass("ui-sortable-disabled", !!i))
        : t.Widget.prototype._setOption.apply(this, arguments);
    },
    _mouseCapture: function (e, i) {
      var s = null,
        n = !1,
        o = this;
      return this.reverting
        ? !1
        : this.options.disabled || "static" === this.options.type
        ? !1
        : (this._refreshItems(e),
          t(e.target)
            .parents()
            .each(function () {
              return t.data(this, o.widgetName + "-item") === o
                ? ((s = t(this)), !1)
                : undefined;
            }),
          t.data(e.target, o.widgetName + "-item") === o && (s = t(e.target)),
          s
            ? !this.options.handle ||
              i ||
              (t(this.options.handle, s)
                .find("*")
                .addBack()
                .each(function () {
                  this === e.target && (n = !0);
                }),
              n)
              ? ((this.currentItem = s), this._removeCurrentsFromItems(), !0)
              : !1
            : !1);
    },
    _mouseStart: function (e, i, s) {
      var n,
        o,
        a = this.options;
      if (
        ((this.currentContainer = this),
        this.refreshPositions(),
        (this.helper = this._createHelper(e)),
        this._cacheHelperProportions(),
        this._cacheMargins(),
        (this.scrollParent = this.helper.scrollParent()),
        (this.offset = this.currentItem.offset()),
        (this.offset = {
          top: this.offset.top - this.margins.top,
          left: this.offset.left - this.margins.left,
        }),
        t.extend(this.offset, {
          click: {
            left: e.pageX - this.offset.left,
            top: e.pageY - this.offset.top,
          },
          parent: this._getParentOffset(),
          relative: this._getRelativeOffset(),
        }),
        this.helper.css("position", "absolute"),
        (this.cssPosition = this.helper.css("position")),
        (this.originalPosition = this._generatePosition(e)),
        (this.originalPageX = e.pageX),
        (this.originalPageY = e.pageY),
        a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt),
        (this.domPosition = {
          prev: this.currentItem.prev()[0],
          parent: this.currentItem.parent()[0],
        }),
        this.helper[0] !== this.currentItem[0] && this.currentItem.hide(),
        this._createPlaceholder(),
        a.containment && this._setContainment(),
        a.cursor &&
          "auto" !== a.cursor &&
          ((o = this.document.find("body")),
          (this.storedCursor = o.css("cursor")),
          o.css("cursor", a.cursor),
          (this.storedStylesheet = t(
            "<style>*{ cursor: " + a.cursor + " !important; }</style>"
          ).appendTo(o))),
        a.opacity &&
          (this.helper.css("opacity") &&
            (this._storedOpacity = this.helper.css("opacity")),
          this.helper.css("opacity", a.opacity)),
        a.zIndex &&
          (this.helper.css("zIndex") &&
            (this._storedZIndex = this.helper.css("zIndex")),
          this.helper.css("zIndex", a.zIndex)),
        this.scrollParent[0] !== document &&
          "HTML" !== this.scrollParent[0].tagName &&
          (this.overflowOffset = this.scrollParent.offset()),
        this._trigger("start", e, this._uiHash()),
        this._preserveHelperProportions || this._cacheHelperProportions(),
        !s)
      )
        for (n = this.containers.length - 1; n >= 0; n--)
          this.containers[n]._trigger("activate", e, this._uiHash(this));
      return (
        t.ui.ddmanager && (t.ui.ddmanager.current = this),
        t.ui.ddmanager &&
          !a.dropBehaviour &&
          t.ui.ddmanager.prepareOffsets(this, e),
        (this.dragging = !0),
        this.helper.addClass("ui-sortable-helper"),
        this._mouseDrag(e),
        !0
      );
    },
    _mouseDrag: function (e) {
      var i,
        s,
        n,
        o,
        a = this.options,
        r = !1;
      for (
        this.position = this._generatePosition(e),
          this.positionAbs = this._convertPositionTo("absolute"),
          this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
          this.options.scroll &&
            (this.scrollParent[0] !== document &&
            "HTML" !== this.scrollParent[0].tagName
              ? (this.overflowOffset.top +
                  this.scrollParent[0].offsetHeight -
                  e.pageY <
                a.scrollSensitivity
                  ? (this.scrollParent[0].scrollTop = r =
                      this.scrollParent[0].scrollTop + a.scrollSpeed)
                  : e.pageY - this.overflowOffset.top < a.scrollSensitivity &&
                    (this.scrollParent[0].scrollTop = r =
                      this.scrollParent[0].scrollTop - a.scrollSpeed),
                this.overflowOffset.left +
                  this.scrollParent[0].offsetWidth -
                  e.pageX <
                a.scrollSensitivity
                  ? (this.scrollParent[0].scrollLeft = r =
                      this.scrollParent[0].scrollLeft + a.scrollSpeed)
                  : e.pageX - this.overflowOffset.left < a.scrollSensitivity &&
                    (this.scrollParent[0].scrollLeft = r =
                      this.scrollParent[0].scrollLeft - a.scrollSpeed))
              : (e.pageY - t(document).scrollTop() < a.scrollSensitivity
                  ? (r = t(document).scrollTop(
                      t(document).scrollTop() - a.scrollSpeed
                    ))
                  : t(window).height() - (e.pageY - t(document).scrollTop()) <
                      a.scrollSensitivity &&
                    (r = t(document).scrollTop(
                      t(document).scrollTop() + a.scrollSpeed
                    )),
                e.pageX - t(document).scrollLeft() < a.scrollSensitivity
                  ? (r = t(document).scrollLeft(
                      t(document).scrollLeft() - a.scrollSpeed
                    ))
                  : t(window).width() - (e.pageX - t(document).scrollLeft()) <
                      a.scrollSensitivity &&
                    (r = t(document).scrollLeft(
                      t(document).scrollLeft() + a.scrollSpeed
                    ))),
            r !== !1 &&
              t.ui.ddmanager &&
              !a.dropBehaviour &&
              t.ui.ddmanager.prepareOffsets(this, e)),
          this.positionAbs = this._convertPositionTo("absolute"),
          (this.options.axis && "y" === this.options.axis) ||
            (this.helper[0].style.left = this.position.left + "px"),
          (this.options.axis && "x" === this.options.axis) ||
            (this.helper[0].style.top = this.position.top + "px"),
          i = this.items.length - 1;
        i >= 0;
        i--
      )
        if (
          ((s = this.items[i]),
          (n = s.item[0]),
          (o = this._intersectsWithPointer(s)),
          o &&
            s.instance === this.currentContainer &&
            n !== this.currentItem[0] &&
            this.placeholder[1 === o ? "next" : "prev"]()[0] !== n &&
            !t.contains(this.placeholder[0], n) &&
            ("semi-dynamic" === this.options.type
              ? !t.contains(this.element[0], n)
              : !0))
        ) {
          if (
            ((this.direction = 1 === o ? "down" : "up"),
            "pointer" !== this.options.tolerance &&
              !this._intersectsWithSides(s))
          )
            break;
          this._rearrange(e, s), this._trigger("change", e, this._uiHash());
          break;
        }
      return (
        this._contactContainers(e),
        t.ui.ddmanager && t.ui.ddmanager.drag(this, e),
        this._trigger("sort", e, this._uiHash()),
        (this.lastPositionAbs = this.positionAbs),
        !1
      );
    },
    _mouseStop: function (e, i) {
      if (e) {
        if (
          (t.ui.ddmanager &&
            !this.options.dropBehaviour &&
            t.ui.ddmanager.drop(this, e),
          this.options.revert)
        ) {
          var s = this,
            n = this.placeholder.offset(),
            o = this.options.axis,
            a = {};
          (o && "x" !== o) ||
            (a.left =
              n.left -
              this.offset.parent.left -
              this.margins.left +
              (this.offsetParent[0] === document.body
                ? 0
                : this.offsetParent[0].scrollLeft)),
            (o && "y" !== o) ||
              (a.top =
                n.top -
                this.offset.parent.top -
                this.margins.top +
                (this.offsetParent[0] === document.body
                  ? 0
                  : this.offsetParent[0].scrollTop)),
            (this.reverting = !0),
            t(this.helper).animate(
              a,
              parseInt(this.options.revert, 10) || 500,
              function () {
                s._clear(e);
              }
            );
        } else this._clear(e, i);
        return !1;
      }
    },
    cancel: function () {
      if (this.dragging) {
        this._mouseUp({ target: null }),
          "original" === this.options.helper
            ? this.currentItem
                .css(this._storedCSS)
                .removeClass("ui-sortable-helper")
            : this.currentItem.show();
        for (var e = this.containers.length - 1; e >= 0; e--)
          this.containers[e]._trigger("deactivate", null, this._uiHash(this)),
            this.containers[e].containerCache.over &&
              (this.containers[e]._trigger("out", null, this._uiHash(this)),
              (this.containers[e].containerCache.over = 0));
      }
      return (
        this.placeholder &&
          (this.placeholder[0].parentNode &&
            this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
          "original" !== this.options.helper &&
            this.helper &&
            this.helper[0].parentNode &&
            this.helper.remove(),
          t.extend(this, {
            helper: null,
            dragging: !1,
            reverting: !1,
            _noFinalSort: null,
          }),
          this.domPosition.prev
            ? t(this.domPosition.prev).after(this.currentItem)
            : t(this.domPosition.parent).prepend(this.currentItem)),
        this
      );
    },
    serialize: function (e) {
      var i = this._getItemsAsjQuery(e && e.connected),
        s = [];
      return (
        (e = e || {}),
        t(i).each(function () {
          var i = (t(e.item || this).attr(e.attribute || "id") || "").match(
            e.expression || /(.+)[\-=_](.+)/
          );
          i &&
            s.push(
              (e.key || i[1] + "[]") +
                "=" +
                (e.key && e.expression ? i[1] : i[2])
            );
        }),
        !s.length && e.key && s.push(e.key + "="),
        s.join("&")
      );
    },
    toArray: function (e) {
      var i = this._getItemsAsjQuery(e && e.connected),
        s = [];
      return (
        (e = e || {}),
        i.each(function () {
          s.push(t(e.item || this).attr(e.attribute || "id") || "");
        }),
        s
      );
    },
    _intersectsWith: function (t) {
      var e = this.positionAbs.left,
        i = e + this.helperProportions.width,
        s = this.positionAbs.top,
        n = s + this.helperProportions.height,
        o = t.left,
        a = o + t.width,
        r = t.top,
        h = r + t.height,
        l = this.offset.click.top,
        c = this.offset.click.left,
        u = "x" === this.options.axis || (s + l > r && h > s + l),
        d = "y" === this.options.axis || (e + c > o && a > e + c),
        p = u && d;
      return "pointer" === this.options.tolerance ||
        this.options.forcePointerForContainers ||
        ("pointer" !== this.options.tolerance &&
          this.helperProportions[this.floating ? "width" : "height"] >
            t[this.floating ? "width" : "height"])
        ? p
        : e + this.helperProportions.width / 2 > o &&
            a > i - this.helperProportions.width / 2 &&
            s + this.helperProportions.height / 2 > r &&
            h > n - this.helperProportions.height / 2;
    },
    _intersectsWithPointer: function (t) {
      var i =
          "x" === this.options.axis ||
          e(this.positionAbs.top + this.offset.click.top, t.top, t.height),
        s =
          "y" === this.options.axis ||
          e(this.positionAbs.left + this.offset.click.left, t.left, t.width),
        n = i && s,
        o = this._getDragVerticalDirection(),
        a = this._getDragHorizontalDirection();
      return n
        ? this.floating
          ? (a && "right" === a) || "down" === o
            ? 2
            : 1
          : o && ("down" === o ? 2 : 1)
        : !1;
    },
    _intersectsWithSides: function (t) {
      var i = e(
          this.positionAbs.top + this.offset.click.top,
          t.top + t.height / 2,
          t.height
        ),
        s = e(
          this.positionAbs.left + this.offset.click.left,
          t.left + t.width / 2,
          t.width
        ),
        n = this._getDragVerticalDirection(),
        o = this._getDragHorizontalDirection();
      return this.floating && o
        ? ("right" === o && s) || ("left" === o && !s)
        : n && (("down" === n && i) || ("up" === n && !i));
    },
    _getDragVerticalDirection: function () {
      var t = this.positionAbs.top - this.lastPositionAbs.top;
      return 0 !== t && (t > 0 ? "down" : "up");
    },
    _getDragHorizontalDirection: function () {
      var t = this.positionAbs.left - this.lastPositionAbs.left;
      return 0 !== t && (t > 0 ? "right" : "left");
    },
    refresh: function (t) {
      return this._refreshItems(t), this.refreshPositions(), this;
    },
    _connectWith: function () {
      var t = this.options;
      return t.connectWith.constructor === String
        ? [t.connectWith]
        : t.connectWith;
    },
    _getItemsAsjQuery: function (e) {
      function i() {
        r.push(this);
      }
      var s,
        n,
        o,
        a,
        r = [],
        h = [],
        l = this._connectWith();
      if (l && e)
        for (s = l.length - 1; s >= 0; s--)
          for (o = t(l[s]), n = o.length - 1; n >= 0; n--)
            (a = t.data(o[n], this.widgetFullName)),
              a &&
                a !== this &&
                !a.options.disabled &&
                h.push([
                  t.isFunction(a.options.items)
                    ? a.options.items.call(a.element)
                    : t(a.options.items, a.element)
                        .not(".ui-sortable-helper")
                        .not(".ui-sortable-placeholder"),
                  a,
                ]);
      for (
        h.push([
          t.isFunction(this.options.items)
            ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem,
              })
            : t(this.options.items, this.element)
                .not(".ui-sortable-helper")
                .not(".ui-sortable-placeholder"),
          this,
        ]),
          s = h.length - 1;
        s >= 0;
        s--
      )
        h[s][0].each(i);
      return t(r);
    },
    _removeCurrentsFromItems: function () {
      var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
      this.items = t.grep(this.items, function (t) {
        for (var i = 0; e.length > i; i++) if (e[i] === t.item[0]) return !1;
        return !0;
      });
    },
    _refreshItems: function (e) {
      (this.items = []), (this.containers = [this]);
      var i,
        s,
        n,
        o,
        a,
        r,
        h,
        l,
        c = this.items,
        u = [
          [
            t.isFunction(this.options.items)
              ? this.options.items.call(this.element[0], e, {
                  item: this.currentItem,
                })
              : t(this.options.items, this.element),
            this,
          ],
        ],
        d = this._connectWith();
      if (d && this.ready)
        for (i = d.length - 1; i >= 0; i--)
          for (n = t(d[i]), s = n.length - 1; s >= 0; s--)
            (o = t.data(n[s], this.widgetFullName)),
              o &&
                o !== this &&
                !o.options.disabled &&
                (u.push([
                  t.isFunction(o.options.items)
                    ? o.options.items.call(o.element[0], e, {
                        item: this.currentItem,
                      })
                    : t(o.options.items, o.element),
                  o,
                ]),
                this.containers.push(o));
      for (i = u.length - 1; i >= 0; i--)
        for (a = u[i][1], r = u[i][0], s = 0, l = r.length; l > s; s++)
          (h = t(r[s])),
            h.data(this.widgetName + "-item", a),
            c.push({
              item: h,
              instance: a,
              width: 0,
              height: 0,
              left: 0,
              top: 0,
            });
    },
    refreshPositions: function (e) {
      this.offsetParent &&
        this.helper &&
        (this.offset.parent = this._getParentOffset());
      var i, s, n, o;
      for (i = this.items.length - 1; i >= 0; i--)
        (s = this.items[i]),
          (s.instance !== this.currentContainer &&
            this.currentContainer &&
            s.item[0] !== this.currentItem[0]) ||
            ((n = this.options.toleranceElement
              ? t(this.options.toleranceElement, s.item)
              : s.item),
            e || ((s.width = n.outerWidth()), (s.height = n.outerHeight())),
            (o = n.offset()),
            (s.left = o.left),
            (s.top = o.top));
      if (this.options.custom && this.options.custom.refreshContainers)
        this.options.custom.refreshContainers.call(this);
      else
        for (i = this.containers.length - 1; i >= 0; i--)
          (o = this.containers[i].element.offset()),
            (this.containers[i].containerCache.left = o.left),
            (this.containers[i].containerCache.top = o.top),
            (this.containers[i].containerCache.width =
              this.containers[i].element.outerWidth()),
            (this.containers[i].containerCache.height =
              this.containers[i].element.outerHeight());
      return this;
    },
    _createPlaceholder: function (e) {
      e = e || this;
      var i,
        s = e.options;
      (s.placeholder && s.placeholder.constructor !== String) ||
        ((i = s.placeholder),
        (s.placeholder = {
          element: function () {
            var s = e.currentItem[0].nodeName.toLowerCase(),
              n = t("<" + s + ">", e.document[0])
                .addClass(
                  i || e.currentItem[0].className + " ui-sortable-placeholder"
                )
                .removeClass("ui-sortable-helper");
            return (
              "tr" === s
                ? e.currentItem.children().each(function () {
                    t("<td>&#160;</td>", e.document[0])
                      .attr("colspan", t(this).attr("colspan") || 1)
                      .appendTo(n);
                  })
                : "img" === s && n.attr("src", e.currentItem.attr("src")),
              i || n.css("visibility", "hidden"),
              n
            );
          },
          update: function (t, n) {
            (!i || s.forcePlaceholderSize) &&
              (n.height() ||
                n.height(
                  e.currentItem.innerHeight() -
                    parseInt(e.currentItem.css("paddingTop") || 0, 10) -
                    parseInt(e.currentItem.css("paddingBottom") || 0, 10)
                ),
              n.width() ||
                n.width(
                  e.currentItem.innerWidth() -
                    parseInt(e.currentItem.css("paddingLeft") || 0, 10) -
                    parseInt(e.currentItem.css("paddingRight") || 0, 10)
                ));
          },
        })),
        (e.placeholder = t(
          s.placeholder.element.call(e.element, e.currentItem)
        )),
        e.currentItem.after(e.placeholder),
        s.placeholder.update(e, e.placeholder);
    },
    _contactContainers: function (s) {
      var n,
        o,
        a,
        r,
        h,
        l,
        c,
        u,
        d,
        p,
        f = null,
        g = null;
      for (n = this.containers.length - 1; n >= 0; n--)
        if (!t.contains(this.currentItem[0], this.containers[n].element[0]))
          if (this._intersectsWith(this.containers[n].containerCache)) {
            if (f && t.contains(this.containers[n].element[0], f.element[0]))
              continue;
            (f = this.containers[n]), (g = n);
          } else
            this.containers[n].containerCache.over &&
              (this.containers[n]._trigger("out", s, this._uiHash(this)),
              (this.containers[n].containerCache.over = 0));
      if (f)
        if (1 === this.containers.length)
          this.containers[g].containerCache.over ||
            (this.containers[g]._trigger("over", s, this._uiHash(this)),
            (this.containers[g].containerCache.over = 1));
        else {
          for (
            a = 1e4,
              r = null,
              p = f.floating || i(this.currentItem),
              h = p ? "left" : "top",
              l = p ? "width" : "height",
              c = this.positionAbs[h] + this.offset.click[h],
              o = this.items.length - 1;
            o >= 0;
            o--
          )
            t.contains(this.containers[g].element[0], this.items[o].item[0]) &&
              this.items[o].item[0] !== this.currentItem[0] &&
              (!p ||
                e(
                  this.positionAbs.top + this.offset.click.top,
                  this.items[o].top,
                  this.items[o].height
                )) &&
              ((u = this.items[o].item.offset()[h]),
              (d = !1),
              Math.abs(u - c) > Math.abs(u + this.items[o][l] - c) &&
                ((d = !0), (u += this.items[o][l])),
              a > Math.abs(u - c) &&
                ((a = Math.abs(u - c)),
                (r = this.items[o]),
                (this.direction = d ? "up" : "down")));
          if (!r && !this.options.dropOnEmpty) return;
          if (this.currentContainer === this.containers[g]) return;
          r
            ? this._rearrange(s, r, null, !0)
            : this._rearrange(s, null, this.containers[g].element, !0),
            this._trigger("change", s, this._uiHash()),
            this.containers[g]._trigger("change", s, this._uiHash(this)),
            (this.currentContainer = this.containers[g]),
            this.options.placeholder.update(
              this.currentContainer,
              this.placeholder
            ),
            this.containers[g]._trigger("over", s, this._uiHash(this)),
            (this.containers[g].containerCache.over = 1);
        }
    },
    _createHelper: function (e) {
      var i = this.options,
        s = t.isFunction(i.helper)
          ? t(i.helper.apply(this.element[0], [e, this.currentItem]))
          : "clone" === i.helper
          ? this.currentItem.clone()
          : this.currentItem;
      return (
        s.parents("body").length ||
          t(
            "parent" !== i.appendTo
              ? i.appendTo
              : this.currentItem[0].parentNode
          )[0].appendChild(s[0]),
        s[0] === this.currentItem[0] &&
          (this._storedCSS = {
            width: this.currentItem[0].style.width,
            height: this.currentItem[0].style.height,
            position: this.currentItem.css("position"),
            top: this.currentItem.css("top"),
            left: this.currentItem.css("left"),
          }),
        (!s[0].style.width || i.forceHelperSize) &&
          s.width(this.currentItem.width()),
        (!s[0].style.height || i.forceHelperSize) &&
          s.height(this.currentItem.height()),
        s
      );
    },
    _adjustOffsetFromHelper: function (e) {
      "string" == typeof e && (e = e.split(" ")),
        t.isArray(e) && (e = { left: +e[0], top: +e[1] || 0 }),
        "left" in e && (this.offset.click.left = e.left + this.margins.left),
        "right" in e &&
          (this.offset.click.left =
            this.helperProportions.width - e.right + this.margins.left),
        "top" in e && (this.offset.click.top = e.top + this.margins.top),
        "bottom" in e &&
          (this.offset.click.top =
            this.helperProportions.height - e.bottom + this.margins.top);
    },
    _getParentOffset: function () {
      this.offsetParent = this.helper.offsetParent();
      var e = this.offsetParent.offset();
      return (
        "absolute" === this.cssPosition &&
          this.scrollParent[0] !== document &&
          t.contains(this.scrollParent[0], this.offsetParent[0]) &&
          ((e.left += this.scrollParent.scrollLeft()),
          (e.top += this.scrollParent.scrollTop())),
        (this.offsetParent[0] === document.body ||
          (this.offsetParent[0].tagName &&
            "html" === this.offsetParent[0].tagName.toLowerCase() &&
            t.ui.ie)) &&
          (e = { top: 0, left: 0 }),
        {
          top:
            e.top +
            (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
          left:
            e.left +
            (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0),
        }
      );
    },
    _getRelativeOffset: function () {
      if ("relative" === this.cssPosition) {
        var t = this.currentItem.position();
        return {
          top:
            t.top -
            (parseInt(this.helper.css("top"), 10) || 0) +
            this.scrollParent.scrollTop(),
          left:
            t.left -
            (parseInt(this.helper.css("left"), 10) || 0) +
            this.scrollParent.scrollLeft(),
        };
      }
      return { top: 0, left: 0 };
    },
    _cacheMargins: function () {
      this.margins = {
        left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
        top: parseInt(this.currentItem.css("marginTop"), 10) || 0,
      };
    },
    _cacheHelperProportions: function () {
      this.helperProportions = {
        width: this.helper.outerWidth(),
        height: this.helper.outerHeight(),
      };
    },
    _setContainment: function () {
      var e,
        i,
        s,
        n = this.options;
      "parent" === n.containment && (n.containment = this.helper[0].parentNode),
        ("document" === n.containment || "window" === n.containment) &&
          (this.containment = [
            0 - this.offset.relative.left - this.offset.parent.left,
            0 - this.offset.relative.top - this.offset.parent.top,
            t("document" === n.containment ? document : window).width() -
              this.helperProportions.width -
              this.margins.left,
            (t("document" === n.containment ? document : window).height() ||
              document.body.parentNode.scrollHeight) -
              this.helperProportions.height -
              this.margins.top,
          ]),
        /^(document|window|parent)$/.test(n.containment) ||
          ((e = t(n.containment)[0]),
          (i = t(n.containment).offset()),
          (s = "hidden" !== t(e).css("overflow")),
          (this.containment = [
            i.left +
              (parseInt(t(e).css("borderLeftWidth"), 10) || 0) +
              (parseInt(t(e).css("paddingLeft"), 10) || 0) -
              this.margins.left,
            i.top +
              (parseInt(t(e).css("borderTopWidth"), 10) || 0) +
              (parseInt(t(e).css("paddingTop"), 10) || 0) -
              this.margins.top,
            i.left +
              (s ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) -
              (parseInt(t(e).css("borderLeftWidth"), 10) || 0) -
              (parseInt(t(e).css("paddingRight"), 10) || 0) -
              this.helperProportions.width -
              this.margins.left,
            i.top +
              (s ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) -
              (parseInt(t(e).css("borderTopWidth"), 10) || 0) -
              (parseInt(t(e).css("paddingBottom"), 10) || 0) -
              this.helperProportions.height -
              this.margins.top,
          ]));
    },
    _convertPositionTo: function (e, i) {
      i || (i = this.position);
      var s = "absolute" === e ? 1 : -1,
        n =
          "absolute" !== this.cssPosition ||
          (this.scrollParent[0] !== document &&
            t.contains(this.scrollParent[0], this.offsetParent[0]))
            ? this.scrollParent
            : this.offsetParent,
        o = /(html|body)/i.test(n[0].tagName);
      return {
        top:
          i.top +
          this.offset.relative.top * s +
          this.offset.parent.top * s -
          ("fixed" === this.cssPosition
            ? -this.scrollParent.scrollTop()
            : o
            ? 0
            : n.scrollTop()) *
            s,
        left:
          i.left +
          this.offset.relative.left * s +
          this.offset.parent.left * s -
          ("fixed" === this.cssPosition
            ? -this.scrollParent.scrollLeft()
            : o
            ? 0
            : n.scrollLeft()) *
            s,
      };
    },
    _generatePosition: function (e) {
      var i,
        s,
        n = this.options,
        o = e.pageX,
        a = e.pageY,
        r =
          "absolute" !== this.cssPosition ||
          (this.scrollParent[0] !== document &&
            t.contains(this.scrollParent[0], this.offsetParent[0]))
            ? this.scrollParent
            : this.offsetParent,
        h = /(html|body)/i.test(r[0].tagName);
      return (
        "relative" !== this.cssPosition ||
          (this.scrollParent[0] !== document &&
            this.scrollParent[0] !== this.offsetParent[0]) ||
          (this.offset.relative = this._getRelativeOffset()),
        this.originalPosition &&
          (this.containment &&
            (e.pageX - this.offset.click.left < this.containment[0] &&
              (o = this.containment[0] + this.offset.click.left),
            e.pageY - this.offset.click.top < this.containment[1] &&
              (a = this.containment[1] + this.offset.click.top),
            e.pageX - this.offset.click.left > this.containment[2] &&
              (o = this.containment[2] + this.offset.click.left),
            e.pageY - this.offset.click.top > this.containment[3] &&
              (a = this.containment[3] + this.offset.click.top)),
          n.grid &&
            ((i =
              this.originalPageY +
              Math.round((a - this.originalPageY) / n.grid[1]) * n.grid[1]),
            (a = this.containment
              ? i - this.offset.click.top >= this.containment[1] &&
                i - this.offset.click.top <= this.containment[3]
                ? i
                : i - this.offset.click.top >= this.containment[1]
                ? i - n.grid[1]
                : i + n.grid[1]
              : i),
            (s =
              this.originalPageX +
              Math.round((o - this.originalPageX) / n.grid[0]) * n.grid[0]),
            (o = this.containment
              ? s - this.offset.click.left >= this.containment[0] &&
                s - this.offset.click.left <= this.containment[2]
                ? s
                : s - this.offset.click.left >= this.containment[0]
                ? s - n.grid[0]
                : s + n.grid[0]
              : s))),
        {
          top:
            a -
            this.offset.click.top -
            this.offset.relative.top -
            this.offset.parent.top +
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollTop()
              : h
              ? 0
              : r.scrollTop()),
          left:
            o -
            this.offset.click.left -
            this.offset.relative.left -
            this.offset.parent.left +
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : h
              ? 0
              : r.scrollLeft()),
        }
      );
    },
    _rearrange: function (t, e, i, s) {
      i
        ? i[0].appendChild(this.placeholder[0])
        : e.item[0].parentNode.insertBefore(
            this.placeholder[0],
            "down" === this.direction ? e.item[0] : e.item[0].nextSibling
          ),
        (this.counter = this.counter ? ++this.counter : 1);
      var n = this.counter;
      this._delay(function () {
        n === this.counter && this.refreshPositions(!s);
      });
    },
    _clear: function (t, e) {
      function i(t, e, i) {
        return function (s) {
          i._trigger(t, s, e._uiHash(e));
        };
      }
      this.reverting = !1;
      var s,
        n = [];
      if (
        (!this._noFinalSort &&
          this.currentItem.parent().length &&
          this.placeholder.before(this.currentItem),
        (this._noFinalSort = null),
        this.helper[0] === this.currentItem[0])
      ) {
        for (s in this._storedCSS)
          ("auto" === this._storedCSS[s] || "static" === this._storedCSS[s]) &&
            (this._storedCSS[s] = "");
        this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
      } else this.currentItem.show();
      for (
        this.fromOutside &&
          !e &&
          n.push(function (t) {
            this._trigger("receive", t, this._uiHash(this.fromOutside));
          }),
          (!this.fromOutside &&
            this.domPosition.prev ===
              this.currentItem.prev().not(".ui-sortable-helper")[0] &&
            this.domPosition.parent === this.currentItem.parent()[0]) ||
            e ||
            n.push(function (t) {
              this._trigger("update", t, this._uiHash());
            }),
          this !== this.currentContainer &&
            (e ||
              (n.push(function (t) {
                this._trigger("remove", t, this._uiHash());
              }),
              n.push(
                function (t) {
                  return function (e) {
                    t._trigger("receive", e, this._uiHash(this));
                  };
                }.call(this, this.currentContainer)
              ),
              n.push(
                function (t) {
                  return function (e) {
                    t._trigger("update", e, this._uiHash(this));
                  };
                }.call(this, this.currentContainer)
              ))),
          s = this.containers.length - 1;
        s >= 0;
        s--
      )
        e || n.push(i("deactivate", this, this.containers[s])),
          this.containers[s].containerCache.over &&
            (n.push(i("out", this, this.containers[s])),
            (this.containers[s].containerCache.over = 0));
      if (
        (this.storedCursor &&
          (this.document.find("body").css("cursor", this.storedCursor),
          this.storedStylesheet.remove()),
        this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
        this._storedZIndex &&
          this.helper.css(
            "zIndex",
            "auto" === this._storedZIndex ? "" : this._storedZIndex
          ),
        (this.dragging = !1),
        this.cancelHelperRemoval)
      ) {
        if (!e) {
          for (
            this._trigger("beforeStop", t, this._uiHash()), s = 0;
            n.length > s;
            s++
          )
            n[s].call(this, t);
          this._trigger("stop", t, this._uiHash());
        }
        return (this.fromOutside = !1), !1;
      }
      if (
        (e || this._trigger("beforeStop", t, this._uiHash()),
        this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
        this.helper[0] !== this.currentItem[0] && this.helper.remove(),
        (this.helper = null),
        !e)
      ) {
        for (s = 0; n.length > s; s++) n[s].call(this, t);
        this._trigger("stop", t, this._uiHash());
      }
      return (this.fromOutside = !1), !0;
    },
    _trigger: function () {
      t.Widget.prototype._trigger.apply(this, arguments) === !1 &&
        this.cancel();
    },
    _uiHash: function (e) {
      var i = e || this;
      return {
        helper: i.helper,
        placeholder: i.placeholder || t([]),
        position: i.position,
        originalPosition: i.originalPosition,
        offset: i.positionAbs,
        item: i.currentItem,
        sender: e ? e.element : null,
      };
    },
  });
})(jQuery);
(function (e) {
  var t = 0,
    i = {},
    a = {};
  (i.height =
    i.paddingTop =
    i.paddingBottom =
    i.borderTopWidth =
    i.borderBottomWidth =
      "hide"),
    (a.height =
      a.paddingTop =
      a.paddingBottom =
      a.borderTopWidth =
      a.borderBottomWidth =
        "show"),
    e.widget("ui.accordion", {
      version: "1.10.4",
      options: {
        active: 0,
        animate: {},
        collapsible: !1,
        event: "click",
        header: "> li > :first-child,> :not(li):even",
        heightStyle: "auto",
        icons: {
          activeHeader: "ui-icon-triangle-1-s",
          header: "ui-icon-triangle-1-e",
        },
        activate: null,
        beforeActivate: null,
      },
      _create: function () {
        var t = this.options;
        (this.prevShow = this.prevHide = e()),
          this.element
            .addClass("ui-accordion ui-widget ui-helper-reset")
            .attr("role", "tablist"),
          t.collapsible ||
            (t.active !== !1 && null != t.active) ||
            (t.active = 0),
          this._processPanels(),
          0 > t.active && (t.active += this.headers.length),
          this._refresh();
      },
      _getCreateEventData: function () {
        return {
          header: this.active,
          panel: this.active.length ? this.active.next() : e(),
          content: this.active.length ? this.active.next() : e(),
        };
      },
      _createIcons: function () {
        var t = this.options.icons;
        t &&
          (e("<span>")
            .addClass("ui-accordion-header-icon ui-icon " + t.header)
            .prependTo(this.headers),
          this.active
            .children(".ui-accordion-header-icon")
            .removeClass(t.header)
            .addClass(t.activeHeader),
          this.headers.addClass("ui-accordion-icons"));
      },
      _destroyIcons: function () {
        this.headers
          .removeClass("ui-accordion-icons")
          .children(".ui-accordion-header-icon")
          .remove();
      },
      _destroy: function () {
        var e;
        this.element
          .removeClass("ui-accordion ui-widget ui-helper-reset")
          .removeAttr("role"),
          this.headers
            .removeClass(
              "ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top"
            )
            .removeAttr("role")
            .removeAttr("aria-expanded")
            .removeAttr("aria-selected")
            .removeAttr("aria-controls")
            .removeAttr("tabIndex")
            .each(function () {
              /^ui-accordion/.test(this.id) && this.removeAttribute("id");
            }),
          this._destroyIcons(),
          (e = this.headers
            .next()
            .css("display", "")
            .removeAttr("role")
            .removeAttr("aria-hidden")
            .removeAttr("aria-labelledby")
            .removeClass(
              "ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled"
            )
            .each(function () {
              /^ui-accordion/.test(this.id) && this.removeAttribute("id");
            })),
          "content" !== this.options.heightStyle && e.css("height", "");
      },
      _setOption: function (e, t) {
        return "active" === e
          ? (this._activate(t), undefined)
          : ("event" === e &&
              (this.options.event &&
                this._off(this.headers, this.options.event),
              this._setupEvents(t)),
            this._super(e, t),
            "collapsible" !== e ||
              t ||
              this.options.active !== !1 ||
              this._activate(0),
            "icons" === e && (this._destroyIcons(), t && this._createIcons()),
            "disabled" === e &&
              this.headers
                .add(this.headers.next())
                .toggleClass("ui-state-disabled", !!t),
            undefined);
      },
      _keydown: function (t) {
        if (!t.altKey && !t.ctrlKey) {
          var i = e.ui.keyCode,
            a = this.headers.length,
            s = this.headers.index(t.target),
            n = !1;
          switch (t.keyCode) {
            case i.RIGHT:
            case i.DOWN:
              n = this.headers[(s + 1) % a];
              break;
            case i.LEFT:
            case i.UP:
              n = this.headers[(s - 1 + a) % a];
              break;
            case i.SPACE:
            case i.ENTER:
              this._eventHandler(t);
              break;
            case i.HOME:
              n = this.headers[0];
              break;
            case i.END:
              n = this.headers[a - 1];
          }
          n &&
            (e(t.target).attr("tabIndex", -1),
            e(n).attr("tabIndex", 0),
            n.focus(),
            t.preventDefault());
        }
      },
      _panelKeyDown: function (t) {
        t.keyCode === e.ui.keyCode.UP &&
          t.ctrlKey &&
          e(t.currentTarget).prev().focus();
      },
      refresh: function () {
        var t = this.options;
        this._processPanels(),
          (t.active === !1 && t.collapsible === !0) || !this.headers.length
            ? ((t.active = !1), (this.active = e()))
            : t.active === !1
            ? this._activate(0)
            : this.active.length && !e.contains(this.element[0], this.active[0])
            ? this.headers.length ===
              this.headers.find(".ui-state-disabled").length
              ? ((t.active = !1), (this.active = e()))
              : this._activate(Math.max(0, t.active - 1))
            : (t.active = this.headers.index(this.active)),
          this._destroyIcons(),
          this._refresh();
      },
      _processPanels: function () {
        (this.headers = this.element
          .find(this.options.header)
          .addClass(
            "ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"
          )),
          this.headers
            .next()
            .addClass(
              "ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"
            )
            .filter(":not(.ui-accordion-content-active)")
            .hide();
      },
      _refresh: function () {
        var i,
          a = this.options,
          s = a.heightStyle,
          n = this.element.parent(),
          r = (this.accordionId =
            "ui-accordion-" + (this.element.attr("id") || ++t));
        (this.active = this._findActive(a.active)
          .addClass("ui-accordion-header-active ui-state-active ui-corner-top")
          .removeClass("ui-corner-all")),
          this.active.next().addClass("ui-accordion-content-active").show(),
          this.headers
            .attr("role", "tab")
            .each(function (t) {
              var i = e(this),
                a = i.attr("id"),
                s = i.next(),
                n = s.attr("id");
              a || ((a = r + "-header-" + t), i.attr("id", a)),
                n || ((n = r + "-panel-" + t), s.attr("id", n)),
                i.attr("aria-controls", n),
                s.attr("aria-labelledby", a);
            })
            .next()
            .attr("role", "tabpanel"),
          this.headers
            .not(this.active)
            .attr({
              "aria-selected": "false",
              "aria-expanded": "false",
              tabIndex: -1,
            })
            .next()
            .attr({ "aria-hidden": "true" })
            .hide(),
          this.active.length
            ? this.active
                .attr({
                  "aria-selected": "true",
                  "aria-expanded": "true",
                  tabIndex: 0,
                })
                .next()
                .attr({ "aria-hidden": "false" })
            : this.headers.eq(0).attr("tabIndex", 0),
          this._createIcons(),
          this._setupEvents(a.event),
          "fill" === s
            ? ((i = n.height()),
              this.element.siblings(":visible").each(function () {
                var t = e(this),
                  a = t.css("position");
                "absolute" !== a && "fixed" !== a && (i -= t.outerHeight(!0));
              }),
              this.headers.each(function () {
                i -= e(this).outerHeight(!0);
              }),
              this.headers
                .next()
                .each(function () {
                  e(this).height(
                    Math.max(0, i - e(this).innerHeight() + e(this).height())
                  );
                })
                .css("overflow", "auto"))
            : "auto" === s &&
              ((i = 0),
              this.headers
                .next()
                .each(function () {
                  i = Math.max(i, e(this).css("height", "").height());
                })
                .height(i));
      },
      _activate: function (t) {
        var i = this._findActive(t)[0];
        i !== this.active[0] &&
          ((i = i || this.active[0]),
          this._eventHandler({
            target: i,
            currentTarget: i,
            preventDefault: e.noop,
          }));
      },
      _findActive: function (t) {
        return "number" == typeof t ? this.headers.eq(t) : e();
      },
      _setupEvents: function (t) {
        var i = { keydown: "_keydown" };
        t &&
          e.each(t.split(" "), function (e, t) {
            i[t] = "_eventHandler";
          }),
          this._off(this.headers.add(this.headers.next())),
          this._on(this.headers, i),
          this._on(this.headers.next(), { keydown: "_panelKeyDown" }),
          this._hoverable(this.headers),
          this._focusable(this.headers);
      },
      _eventHandler: function (t) {
        var i = this.options,
          a = this.active,
          s = e(t.currentTarget),
          n = s[0] === a[0],
          r = n && i.collapsible,
          o = r ? e() : s.next(),
          h = a.next(),
          d = {
            oldHeader: a,
            oldPanel: h,
            newHeader: r ? e() : s,
            newPanel: o,
          };
        t.preventDefault(),
          (n && !i.collapsible) ||
            this._trigger("beforeActivate", t, d) === !1 ||
            ((i.active = r ? !1 : this.headers.index(s)),
            (this.active = n ? e() : s),
            this._toggle(d),
            a.removeClass("ui-accordion-header-active ui-state-active"),
            i.icons &&
              a
                .children(".ui-accordion-header-icon")
                .removeClass(i.icons.activeHeader)
                .addClass(i.icons.header),
            n ||
              (s
                .removeClass("ui-corner-all")
                .addClass(
                  "ui-accordion-header-active ui-state-active ui-corner-top"
                ),
              i.icons &&
                s
                  .children(".ui-accordion-header-icon")
                  .removeClass(i.icons.header)
                  .addClass(i.icons.activeHeader),
              s.next().addClass("ui-accordion-content-active")));
      },
      _toggle: function (t) {
        var i = t.newPanel,
          a = this.prevShow.length ? this.prevShow : t.oldPanel;
        this.prevShow.add(this.prevHide).stop(!0, !0),
          (this.prevShow = i),
          (this.prevHide = a),
          this.options.animate
            ? this._animate(i, a, t)
            : (a.hide(), i.show(), this._toggleComplete(t)),
          a.attr({ "aria-hidden": "true" }),
          a.prev().attr("aria-selected", "false"),
          i.length && a.length
            ? a.prev().attr({ tabIndex: -1, "aria-expanded": "false" })
            : i.length &&
              this.headers
                .filter(function () {
                  return 0 === e(this).attr("tabIndex");
                })
                .attr("tabIndex", -1),
          i
            .attr("aria-hidden", "false")
            .prev()
            .attr({
              "aria-selected": "true",
              tabIndex: 0,
              "aria-expanded": "true",
            });
      },
      _animate: function (e, t, s) {
        var n,
          r,
          o,
          h = this,
          d = 0,
          c = e.length && (!t.length || e.index() < t.index()),
          l = this.options.animate || {},
          u = (c && l.down) || l,
          v = function () {
            h._toggleComplete(s);
          };
        return (
          "number" == typeof u && (o = u),
          "string" == typeof u && (r = u),
          (r = r || u.easing || l.easing),
          (o = o || u.duration || l.duration),
          t.length
            ? e.length
              ? ((n = e.show().outerHeight()),
                t.animate(i, {
                  duration: o,
                  easing: r,
                  step: function (e, t) {
                    t.now = Math.round(e);
                  },
                }),
                e.hide().animate(a, {
                  duration: o,
                  easing: r,
                  complete: v,
                  step: function (e, i) {
                    (i.now = Math.round(e)),
                      "height" !== i.prop
                        ? (d += i.now)
                        : "content" !== h.options.heightStyle &&
                          ((i.now = Math.round(n - t.outerHeight() - d)),
                          (d = 0));
                  },
                }),
                undefined)
              : t.animate(i, o, r, v)
            : e.animate(a, o, r, v)
        );
      },
      _toggleComplete: function (e) {
        var t = e.oldPanel;
        t
          .removeClass("ui-accordion-content-active")
          .prev()
          .removeClass("ui-corner-top")
          .addClass("ui-corner-all"),
          t.length && (t.parent()[0].className = t.parent()[0].className),
          this._trigger("activate", null, e);
      },
    });
})(jQuery);
(function (e) {
  e.widget("ui.autocomplete", {
    version: "1.10.4",
    defaultElement: "<input>",
    options: {
      appendTo: null,
      autoFocus: !1,
      delay: 300,
      minLength: 1,
      position: { my: "left top", at: "left bottom", collision: "none" },
      source: null,
      change: null,
      close: null,
      focus: null,
      open: null,
      response: null,
      search: null,
      select: null,
    },
    requestIndex: 0,
    pending: 0,
    _create: function () {
      var t,
        i,
        s,
        n = this.element[0].nodeName.toLowerCase(),
        a = "textarea" === n,
        o = "input" === n;
      (this.isMultiLine = a
        ? !0
        : o
        ? !1
        : this.element.prop("isContentEditable")),
        (this.valueMethod = this.element[a || o ? "val" : "text"]),
        (this.isNewMenu = !0),
        this.element
          .addClass("ui-autocomplete-input")
          .attr("autocomplete", "off"),
        this._on(this.element, {
          keydown: function (n) {
            if (this.element.prop("readOnly"))
              return (t = !0), (s = !0), (i = !0), undefined;
            (t = !1), (s = !1), (i = !1);
            var a = e.ui.keyCode;
            switch (n.keyCode) {
              case a.PAGE_UP:
                (t = !0), this._move("previousPage", n);
                break;
              case a.PAGE_DOWN:
                (t = !0), this._move("nextPage", n);
                break;
              case a.UP:
                (t = !0), this._keyEvent("previous", n);
                break;
              case a.DOWN:
                (t = !0), this._keyEvent("next", n);
                break;
              case a.ENTER:
              case a.NUMPAD_ENTER:
                this.menu.active &&
                  ((t = !0), n.preventDefault(), this.menu.select(n));
                break;
              case a.TAB:
                this.menu.active && this.menu.select(n);
                break;
              case a.ESCAPE:
                this.menu.element.is(":visible") &&
                  (this._value(this.term), this.close(n), n.preventDefault());
                break;
              default:
                (i = !0), this._searchTimeout(n);
            }
          },
          keypress: function (s) {
            if (t)
              return (
                (t = !1),
                (!this.isMultiLine || this.menu.element.is(":visible")) &&
                  s.preventDefault(),
                undefined
              );
            if (!i) {
              var n = e.ui.keyCode;
              switch (s.keyCode) {
                case n.PAGE_UP:
                  this._move("previousPage", s);
                  break;
                case n.PAGE_DOWN:
                  this._move("nextPage", s);
                  break;
                case n.UP:
                  this._keyEvent("previous", s);
                  break;
                case n.DOWN:
                  this._keyEvent("next", s);
              }
            }
          },
          input: function (e) {
            return s
              ? ((s = !1), e.preventDefault(), undefined)
              : (this._searchTimeout(e), undefined);
          },
          focus: function () {
            (this.selectedItem = null), (this.previous = this._value());
          },
          blur: function (e) {
            return this.cancelBlur
              ? (delete this.cancelBlur, undefined)
              : (clearTimeout(this.searching),
                this.close(e),
                this._change(e),
                undefined);
          },
        }),
        this._initSource(),
        (this.menu = e("<ul>")
          .addClass("ui-autocomplete ui-front")
          .appendTo(this._appendTo())
          .menu({ role: null })
          .hide()
          .data("ui-menu")),
        this._on(this.menu.element, {
          mousedown: function (t) {
            t.preventDefault(),
              (this.cancelBlur = !0),
              this._delay(function () {
                delete this.cancelBlur;
              });
            var i = this.menu.element[0];
            e(t.target).closest(".ui-menu-item").length ||
              this._delay(function () {
                var t = this;
                this.document.one("mousedown", function (s) {
                  s.target === t.element[0] ||
                    s.target === i ||
                    e.contains(i, s.target) ||
                    t.close();
                });
              });
          },
          menufocus: function (t, i) {
            if (
              this.isNewMenu &&
              ((this.isNewMenu = !1),
              t.originalEvent && /^mouse/.test(t.originalEvent.type))
            )
              return (
                this.menu.blur(),
                this.document.one("mousemove", function () {
                  e(t.target).trigger(t.originalEvent);
                }),
                undefined
              );
            var s = i.item.data("ui-autocomplete-item");
            !1 !== this._trigger("focus", t, { item: s })
              ? t.originalEvent &&
                /^key/.test(t.originalEvent.type) &&
                this._value(s.value)
              : this.liveRegion.text(s.value);
          },
          menuselect: function (e, t) {
            var i = t.item.data("ui-autocomplete-item"),
              s = this.previous;
            this.element[0] !== this.document[0].activeElement &&
              (this.element.focus(),
              (this.previous = s),
              this._delay(function () {
                (this.previous = s), (this.selectedItem = i);
              })),
              !1 !== this._trigger("select", e, { item: i }) &&
                this._value(i.value),
              (this.term = this._value()),
              this.close(e),
              (this.selectedItem = i);
          },
        }),
        (this.liveRegion = e("<span>", {
          role: "status",
          "aria-live": "polite",
        })
          .addClass("ui-helper-hidden-accessible")
          .insertBefore(this.element)),
        this._on(this.window, {
          beforeunload: function () {
            this.element.removeAttr("autocomplete");
          },
        });
    },
    _destroy: function () {
      clearTimeout(this.searching),
        this.element
          .removeClass("ui-autocomplete-input")
          .removeAttr("autocomplete"),
        this.menu.element.remove(),
        this.liveRegion.remove();
    },
    _setOption: function (e, t) {
      this._super(e, t),
        "source" === e && this._initSource(),
        "appendTo" === e && this.menu.element.appendTo(this._appendTo()),
        "disabled" === e && t && this.xhr && this.xhr.abort();
    },
    _appendTo: function () {
      var t = this.options.appendTo;
      return (
        t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)),
        t || (t = this.element.closest(".ui-front")),
        t.length || (t = this.document[0].body),
        t
      );
    },
    _initSource: function () {
      var t,
        i,
        s = this;
      e.isArray(this.options.source)
        ? ((t = this.options.source),
          (this.source = function (i, s) {
            s(e.ui.autocomplete.filter(t, i.term));
          }))
        : "string" == typeof this.options.source
        ? ((i = this.options.source),
          (this.source = function (t, n) {
            s.xhr && s.xhr.abort(),
              (s.xhr = e.ajax({
                url: i,
                data: t,
                dataType: "json",
                success: function (e) {
                  n(e);
                },
                error: function () {
                  n([]);
                },
              }));
          }))
        : (this.source = this.options.source);
    },
    _searchTimeout: function (e) {
      clearTimeout(this.searching),
        (this.searching = this._delay(function () {
          this.term !== this._value() &&
            ((this.selectedItem = null), this.search(null, e));
        }, this.options.delay));
    },
    search: function (e, t) {
      return (
        (e = null != e ? e : this._value()),
        (this.term = this._value()),
        e.length < this.options.minLength
          ? this.close(t)
          : this._trigger("search", t) !== !1
          ? this._search(e)
          : undefined
      );
    },
    _search: function (e) {
      this.pending++,
        this.element.addClass("ui-autocomplete-loading"),
        (this.cancelSearch = !1),
        this.source({ term: e }, this._response());
    },
    _response: function () {
      var t = ++this.requestIndex;
      return e.proxy(function (e) {
        t === this.requestIndex && this.__response(e),
          this.pending--,
          this.pending || this.element.removeClass("ui-autocomplete-loading");
      }, this);
    },
    __response: function (e) {
      e && (e = this._normalize(e)),
        this._trigger("response", null, { content: e }),
        !this.options.disabled && e && e.length && !this.cancelSearch
          ? (this._suggest(e), this._trigger("open"))
          : this._close();
    },
    close: function (e) {
      (this.cancelSearch = !0), this._close(e);
    },
    _close: function (e) {
      this.menu.element.is(":visible") &&
        (this.menu.element.hide(),
        this.menu.blur(),
        (this.isNewMenu = !0),
        this._trigger("close", e));
    },
    _change: function (e) {
      this.previous !== this._value() &&
        this._trigger("change", e, { item: this.selectedItem });
    },
    _normalize: function (t) {
      return t.length && t[0].label && t[0].value
        ? t
        : e.map(t, function (t) {
            return "string" == typeof t
              ? { label: t, value: t }
              : e.extend(
                  { label: t.label || t.value, value: t.value || t.label },
                  t
                );
          });
    },
    _suggest: function (t) {
      var i = this.menu.element.empty();
      this._renderMenu(i, t),
        (this.isNewMenu = !0),
        this.menu.refresh(),
        i.show(),
        this._resizeMenu(),
        i.position(e.extend({ of: this.element }, this.options.position)),
        this.options.autoFocus && this.menu.next();
    },
    _resizeMenu: function () {
      var e = this.menu.element;
      e.outerWidth(
        Math.max(e.width("").outerWidth() + 1, this.element.outerWidth())
      );
    },
    _renderMenu: function (t, i) {
      var s = this;
      e.each(i, function (e, i) {
        s._renderItemData(t, i);
      });
    },
    _renderItemData: function (e, t) {
      return this._renderItem(e, t).data("ui-autocomplete-item", t);
    },
    _renderItem: function (t, i) {
      return e("<li>").append(e("<a>").text(i.label)).appendTo(t);
    },
    _move: function (e, t) {
      return this.menu.element.is(":visible")
        ? (this.menu.isFirstItem() && /^previous/.test(e)) ||
          (this.menu.isLastItem() && /^next/.test(e))
          ? (this._value(this.term), this.menu.blur(), undefined)
          : (this.menu[e](t), undefined)
        : (this.search(null, t), undefined);
    },
    widget: function () {
      return this.menu.element;
    },
    _value: function () {
      return this.valueMethod.apply(this.element, arguments);
    },
    _keyEvent: function (e, t) {
      (!this.isMultiLine || this.menu.element.is(":visible")) &&
        (this._move(e, t), t.preventDefault());
    },
  }),
    e.extend(e.ui.autocomplete, {
      escapeRegex: function (e) {
        return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
      },
      filter: function (t, i) {
        var s = RegExp(e.ui.autocomplete.escapeRegex(i), "i");
        return e.grep(t, function (e) {
          return s.test(e.label || e.value || e);
        });
      },
    }),
    e.widget("ui.autocomplete", e.ui.autocomplete, {
      options: {
        messages: {
          noResults: "No search results.",
          results: function (e) {
            return (
              e +
              (e > 1 ? " results are" : " result is") +
              " available, use up and down arrow keys to navigate."
            );
          },
        },
      },
      __response: function (e) {
        var t;
        this._superApply(arguments),
          this.options.disabled ||
            this.cancelSearch ||
            ((t =
              e && e.length
                ? this.options.messages.results(e.length)
                : this.options.messages.noResults),
            this.liveRegion.text(t));
      },
    });
})(jQuery);
(function (e) {
  var t,
    i = "ui-button ui-widget ui-state-default ui-corner-all",
    n =
      "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
    s = function () {
      var t = e(this);
      setTimeout(function () {
        t.find(":ui-button").button("refresh");
      }, 1);
    },
    a = function (t) {
      var i = t.name,
        n = t.form,
        s = e([]);
      return (
        i &&
          ((i = i.replace(/'/g, "\\'")),
          (s = n
            ? e(n).find("[name='" + i + "']")
            : e("[name='" + i + "']", t.ownerDocument).filter(function () {
                return !this.form;
              }))),
        s
      );
    };
  e.widget("ui.button", {
    version: "1.10.4",
    defaultElement: "<button>",
    options: {
      disabled: null,
      text: !0,
      label: null,
      icons: { primary: null, secondary: null },
    },
    _create: function () {
      this.element
        .closest("form")
        .unbind("reset" + this.eventNamespace)
        .bind("reset" + this.eventNamespace, s),
        "boolean" != typeof this.options.disabled
          ? (this.options.disabled = !!this.element.prop("disabled"))
          : this.element.prop("disabled", this.options.disabled),
        this._determineButtonType(),
        (this.hasTitle = !!this.buttonElement.attr("title"));
      var n = this,
        o = this.options,
        r = "checkbox" === this.type || "radio" === this.type,
        h = r ? "" : "ui-state-active";
      null === o.label &&
        (o.label =
          "input" === this.type
            ? this.buttonElement.val()
            : this.buttonElement.html()),
        this._hoverable(this.buttonElement),
        this.buttonElement
          .addClass(i)
          .attr("role", "button")
          .bind("mouseenter" + this.eventNamespace, function () {
            o.disabled || (this === t && e(this).addClass("ui-state-active"));
          })
          .bind("mouseleave" + this.eventNamespace, function () {
            o.disabled || e(this).removeClass(h);
          })
          .bind("click" + this.eventNamespace, function (e) {
            o.disabled && (e.preventDefault(), e.stopImmediatePropagation());
          }),
        this._on({
          focus: function () {
            this.buttonElement.addClass("ui-state-focus");
          },
          blur: function () {
            this.buttonElement.removeClass("ui-state-focus");
          },
        }),
        r &&
          this.element.bind("change" + this.eventNamespace, function () {
            n.refresh();
          }),
        "checkbox" === this.type
          ? this.buttonElement.bind("click" + this.eventNamespace, function () {
              return o.disabled ? !1 : undefined;
            })
          : "radio" === this.type
          ? this.buttonElement.bind("click" + this.eventNamespace, function () {
              if (o.disabled) return !1;
              e(this).addClass("ui-state-active"),
                n.buttonElement.attr("aria-pressed", "true");
              var t = n.element[0];
              a(t)
                .not(t)
                .map(function () {
                  return e(this).button("widget")[0];
                })
                .removeClass("ui-state-active")
                .attr("aria-pressed", "false");
            })
          : (this.buttonElement
              .bind("mousedown" + this.eventNamespace, function () {
                return o.disabled
                  ? !1
                  : (e(this).addClass("ui-state-active"),
                    (t = this),
                    n.document.one("mouseup", function () {
                      t = null;
                    }),
                    undefined);
              })
              .bind("mouseup" + this.eventNamespace, function () {
                return o.disabled
                  ? !1
                  : (e(this).removeClass("ui-state-active"), undefined);
              })
              .bind("keydown" + this.eventNamespace, function (t) {
                return o.disabled
                  ? !1
                  : ((t.keyCode === e.ui.keyCode.SPACE ||
                      t.keyCode === e.ui.keyCode.ENTER) &&
                      e(this).addClass("ui-state-active"),
                    undefined);
              })
              .bind(
                "keyup" + this.eventNamespace + " blur" + this.eventNamespace,
                function () {
                  e(this).removeClass("ui-state-active");
                }
              ),
            this.buttonElement.is("a") &&
              this.buttonElement.keyup(function (t) {
                t.keyCode === e.ui.keyCode.SPACE && e(this).click();
              })),
        this._setOption("disabled", o.disabled),
        this._resetButton();
    },
    _determineButtonType: function () {
      var e, t, i;
      (this.type = this.element.is("[type=checkbox]")
        ? "checkbox"
        : this.element.is("[type=radio]")
        ? "radio"
        : this.element.is("input")
        ? "input"
        : "button"),
        "checkbox" === this.type || "radio" === this.type
          ? ((e = this.element.parents().last()),
            (t = "label[for='" + this.element.attr("id") + "']"),
            (this.buttonElement = e.find(t)),
            this.buttonElement.length ||
              ((e = e.length ? e.siblings() : this.element.siblings()),
              (this.buttonElement = e.filter(t)),
              this.buttonElement.length || (this.buttonElement = e.find(t))),
            this.element.addClass("ui-helper-hidden-accessible"),
            (i = this.element.is(":checked")),
            i && this.buttonElement.addClass("ui-state-active"),
            this.buttonElement.prop("aria-pressed", i))
          : (this.buttonElement = this.element);
    },
    widget: function () {
      return this.buttonElement;
    },
    _destroy: function () {
      this.element.removeClass("ui-helper-hidden-accessible"),
        this.buttonElement
          .removeClass(i + " ui-state-active " + n)
          .removeAttr("role")
          .removeAttr("aria-pressed")
          .html(this.buttonElement.find(".ui-button-text").html()),
        this.hasTitle || this.buttonElement.removeAttr("title");
    },
    _setOption: function (e, t) {
      return (
        this._super(e, t),
        "disabled" === e
          ? (this.element.prop("disabled", !!t),
            t && this.buttonElement.removeClass("ui-state-focus"),
            undefined)
          : (this._resetButton(), undefined)
      );
    },
    refresh: function () {
      var t = this.element.is("input, button")
        ? this.element.is(":disabled")
        : this.element.hasClass("ui-button-disabled");
      t !== this.options.disabled && this._setOption("disabled", t),
        "radio" === this.type
          ? a(this.element[0]).each(function () {
              e(this).is(":checked")
                ? e(this)
                    .button("widget")
                    .addClass("ui-state-active")
                    .attr("aria-pressed", "true")
                : e(this)
                    .button("widget")
                    .removeClass("ui-state-active")
                    .attr("aria-pressed", "false");
            })
          : "checkbox" === this.type &&
            (this.element.is(":checked")
              ? this.buttonElement
                  .addClass("ui-state-active")
                  .attr("aria-pressed", "true")
              : this.buttonElement
                  .removeClass("ui-state-active")
                  .attr("aria-pressed", "false"));
    },
    _resetButton: function () {
      if ("input" === this.type)
        return (
          this.options.label && this.element.val(this.options.label), undefined
        );
      var t = this.buttonElement.removeClass(n),
        i = e("<span></span>", this.document[0])
          .addClass("ui-button-text")
          .html(this.options.label)
          .appendTo(t.empty())
          .text(),
        s = this.options.icons,
        a = s.primary && s.secondary,
        o = [];
      s.primary || s.secondary
        ? (this.options.text &&
            o.push(
              "ui-button-text-icon" +
                (a ? "s" : s.primary ? "-primary" : "-secondary")
            ),
          s.primary &&
            t.prepend(
              "<span class='ui-button-icon-primary ui-icon " +
                s.primary +
                "'></span>"
            ),
          s.secondary &&
            t.append(
              "<span class='ui-button-icon-secondary ui-icon " +
                s.secondary +
                "'></span>"
            ),
          this.options.text ||
            (o.push(a ? "ui-button-icons-only" : "ui-button-icon-only"),
            this.hasTitle || t.attr("title", e.trim(i))))
        : o.push("ui-button-text-only"),
        t.addClass(o.join(" "));
    },
  }),
    e.widget("ui.buttonset", {
      version: "1.10.4",
      options: {
        items:
          "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)",
      },
      _create: function () {
        this.element.addClass("ui-buttonset");
      },
      _init: function () {
        this.refresh();
      },
      _setOption: function (e, t) {
        "disabled" === e && this.buttons.button("option", e, t),
          this._super(e, t);
      },
      refresh: function () {
        var t = "rtl" === this.element.css("direction");
        this.buttons = this.element
          .find(this.options.items)
          .filter(":ui-button")
          .button("refresh")
          .end()
          .not(":ui-button")
          .button()
          .end()
          .map(function () {
            return e(this).button("widget")[0];
          })
          .removeClass("ui-corner-all ui-corner-left ui-corner-right")
          .filter(":first")
          .addClass(t ? "ui-corner-right" : "ui-corner-left")
          .end()
          .filter(":last")
          .addClass(t ? "ui-corner-left" : "ui-corner-right")
          .end()
          .end();
      },
      _destroy: function () {
        this.element.removeClass("ui-buttonset"),
          this.buttons
            .map(function () {
              return e(this).button("widget")[0];
            })
            .removeClass("ui-corner-left ui-corner-right")
            .end()
            .button("destroy");
      },
    });
})(jQuery);
(function (e, t) {
  function i() {
    (this._curInst = null),
      (this._keyEvent = !1),
      (this._disabledInputs = []),
      (this._datepickerShowing = !1),
      (this._inDialog = !1),
      (this._mainDivId = "ui-datepicker-div"),
      (this._inlineClass = "ui-datepicker-inline"),
      (this._appendClass = "ui-datepicker-append"),
      (this._triggerClass = "ui-datepicker-trigger"),
      (this._dialogClass = "ui-datepicker-dialog"),
      (this._disableClass = "ui-datepicker-disabled"),
      (this._unselectableClass = "ui-datepicker-unselectable"),
      (this._currentClass = "ui-datepicker-current-day"),
      (this._dayOverClass = "ui-datepicker-days-cell-over"),
      (this.regional = []),
      (this.regional[""] = {
        closeText: "Done",
        prevText: "Prev",
        nextText: "Next",
        currentText: "Today",
        monthNames: [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December",
        ],
        monthNamesShort: [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "Jun",
          "Jul",
          "Aug",
          "Sep",
          "Oct",
          "Nov",
          "Dec",
        ],
        dayNames: [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
        ],
        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
        weekHeader: "Wk",
        dateFormat: "mm/dd/yy",
        firstDay: 0,
        isRTL: !1,
        showMonthAfterYear: !1,
        yearSuffix: "",
      }),
      (this._defaults = {
        showOn: "focus",
        showAnim: "fadeIn",
        showOptions: {},
        defaultDate: null,
        appendText: "",
        buttonText: "...",
        buttonImage: "",
        buttonImageOnly: !1,
        hideIfNoPrevNext: !1,
        navigationAsDateFormat: !1,
        gotoCurrent: !1,
        changeMonth: !1,
        changeYear: !1,
        yearRange: "c-10:c+10",
        showOtherMonths: !1,
        selectOtherMonths: !1,
        showWeek: !1,
        calculateWeek: this.iso8601Week,
        shortYearCutoff: "+10",
        minDate: null,
        maxDate: null,
        duration: "fast",
        beforeShowDay: null,
        beforeShow: null,
        onSelect: null,
        onChangeMonthYear: null,
        onClose: null,
        numberOfMonths: 1,
        showCurrentAtPos: 0,
        stepMonths: 1,
        stepBigMonths: 12,
        altField: "",
        altFormat: "",
        constrainInput: !0,
        showButtonPanel: !1,
        autoSize: !1,
        disabled: !1,
      }),
      e.extend(this._defaults, this.regional[""]),
      (this.dpDiv = a(
        e(
          "<div id='" +
            this._mainDivId +
            "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"
        )
      ));
  }
  function a(t) {
    var i =
      "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
    return t
      .delegate(i, "mouseout", function () {
        e(this).removeClass("ui-state-hover"),
          -1 !== this.className.indexOf("ui-datepicker-prev") &&
            e(this).removeClass("ui-datepicker-prev-hover"),
          -1 !== this.className.indexOf("ui-datepicker-next") &&
            e(this).removeClass("ui-datepicker-next-hover");
      })
      .delegate(i, "mouseover", function () {
        e.datepicker._isDisabledDatepicker(
          n.inline ? t.parent()[0] : n.input[0]
        ) ||
          (e(this)
            .parents(".ui-datepicker-calendar")
            .find("a")
            .removeClass("ui-state-hover"),
          e(this).addClass("ui-state-hover"),
          -1 !== this.className.indexOf("ui-datepicker-prev") &&
            e(this).addClass("ui-datepicker-prev-hover"),
          -1 !== this.className.indexOf("ui-datepicker-next") &&
            e(this).addClass("ui-datepicker-next-hover"));
      });
  }
  function s(t, i) {
    e.extend(t, i);
    for (var a in i) null == i[a] && (t[a] = i[a]);
    return t;
  }
  e.extend(e.ui, { datepicker: { version: "1.10.4" } });
  var n,
    r = "datepicker";
  e.extend(i.prototype, {
    markerClassName: "hasDatepicker",
    maxRows: 4,
    _widgetDatepicker: function () {
      return this.dpDiv;
    },
    setDefaults: function (e) {
      return s(this._defaults, e || {}), this;
    },
    _attachDatepicker: function (t, i) {
      var a, s, n;
      (a = t.nodeName.toLowerCase()),
        (s = "div" === a || "span" === a),
        t.id || ((this.uuid += 1), (t.id = "dp" + this.uuid)),
        (n = this._newInst(e(t), s)),
        (n.settings = e.extend({}, i || {})),
        "input" === a
          ? this._connectDatepicker(t, n)
          : s && this._inlineDatepicker(t, n);
    },
    _newInst: function (t, i) {
      var s = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
      return {
        id: s,
        input: t,
        selectedDay: 0,
        selectedMonth: 0,
        selectedYear: 0,
        drawMonth: 0,
        drawYear: 0,
        inline: i,
        dpDiv: i
          ? a(
              e(
                "<div class='" +
                  this._inlineClass +
                  " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"
              )
            )
          : this.dpDiv,
      };
    },
    _connectDatepicker: function (t, i) {
      var a = e(t);
      (i.append = e([])),
        (i.trigger = e([])),
        a.hasClass(this.markerClassName) ||
          (this._attachments(a, i),
          a
            .addClass(this.markerClassName)
            .keydown(this._doKeyDown)
            .keypress(this._doKeyPress)
            .keyup(this._doKeyUp),
          this._autoSize(i),
          e.data(t, r, i),
          i.settings.disabled && this._disableDatepicker(t));
    },
    _attachments: function (t, i) {
      var a,
        s,
        n,
        r = this._get(i, "appendText"),
        o = this._get(i, "isRTL");
      i.append && i.append.remove(),
        r &&
          ((i.append = e(
            "<span class='" + this._appendClass + "'>" + r + "</span>"
          )),
          t[o ? "before" : "after"](i.append)),
        t.unbind("focus", this._showDatepicker),
        i.trigger && i.trigger.remove(),
        (a = this._get(i, "showOn")),
        ("focus" === a || "both" === a) && t.focus(this._showDatepicker),
        ("button" === a || "both" === a) &&
          ((s = this._get(i, "buttonText")),
          (n = this._get(i, "buttonImage")),
          (i.trigger = e(
            this._get(i, "buttonImageOnly")
              ? e("<img/>")
                  .addClass(this._triggerClass)
                  .attr({ src: n, alt: s, title: s })
              : e("<button type='button'></button>")
                  .addClass(this._triggerClass)
                  .html(n ? e("<img/>").attr({ src: n, alt: s, title: s }) : s)
          )),
          t[o ? "before" : "after"](i.trigger),
          i.trigger.click(function () {
            return (
              e.datepicker._datepickerShowing &&
              e.datepicker._lastInput === t[0]
                ? e.datepicker._hideDatepicker()
                : e.datepicker._datepickerShowing &&
                  e.datepicker._lastInput !== t[0]
                ? (e.datepicker._hideDatepicker(),
                  e.datepicker._showDatepicker(t[0]))
                : e.datepicker._showDatepicker(t[0]),
              !1
            );
          }));
    },
    _autoSize: function (e) {
      if (this._get(e, "autoSize") && !e.inline) {
        var t,
          i,
          a,
          s,
          n = new Date(2009, 11, 20),
          r = this._get(e, "dateFormat");
        r.match(/[DM]/) &&
          ((t = function (e) {
            for (i = 0, a = 0, s = 0; e.length > s; s++)
              e[s].length > i && ((i = e[s].length), (a = s));
            return a;
          }),
          n.setMonth(
            t(this._get(e, r.match(/MM/) ? "monthNames" : "monthNamesShort"))
          ),
          n.setDate(
            t(this._get(e, r.match(/DD/) ? "dayNames" : "dayNamesShort")) +
              20 -
              n.getDay()
          )),
          e.input.attr("size", this._formatDate(e, n).length);
      }
    },
    _inlineDatepicker: function (t, i) {
      var a = e(t);
      a.hasClass(this.markerClassName) ||
        (a.addClass(this.markerClassName).append(i.dpDiv),
        e.data(t, r, i),
        this._setDate(i, this._getDefaultDate(i), !0),
        this._updateDatepicker(i),
        this._updateAlternate(i),
        i.settings.disabled && this._disableDatepicker(t),
        i.dpDiv.css("display", "block"));
    },
    _dialogDatepicker: function (t, i, a, n, o) {
      var u,
        c,
        h,
        l,
        d,
        p = this._dialogInst;
      return (
        p ||
          ((this.uuid += 1),
          (u = "dp" + this.uuid),
          (this._dialogInput = e(
            "<input type='text' id='" +
              u +
              "' style='position: absolute; top: -100px; width: 0px;'/>"
          )),
          this._dialogInput.keydown(this._doKeyDown),
          e("body").append(this._dialogInput),
          (p = this._dialogInst = this._newInst(this._dialogInput, !1)),
          (p.settings = {}),
          e.data(this._dialogInput[0], r, p)),
        s(p.settings, n || {}),
        (i = i && i.constructor === Date ? this._formatDate(p, i) : i),
        this._dialogInput.val(i),
        (this._pos = o ? (o.length ? o : [o.pageX, o.pageY]) : null),
        this._pos ||
          ((c = document.documentElement.clientWidth),
          (h = document.documentElement.clientHeight),
          (l = document.documentElement.scrollLeft || document.body.scrollLeft),
          (d = document.documentElement.scrollTop || document.body.scrollTop),
          (this._pos = [c / 2 - 100 + l, h / 2 - 150 + d])),
        this._dialogInput
          .css("left", this._pos[0] + 20 + "px")
          .css("top", this._pos[1] + "px"),
        (p.settings.onSelect = a),
        (this._inDialog = !0),
        this.dpDiv.addClass(this._dialogClass),
        this._showDatepicker(this._dialogInput[0]),
        e.blockUI && e.blockUI(this.dpDiv),
        e.data(this._dialogInput[0], r, p),
        this
      );
    },
    _destroyDatepicker: function (t) {
      var i,
        a = e(t),
        s = e.data(t, r);
      a.hasClass(this.markerClassName) &&
        ((i = t.nodeName.toLowerCase()),
        e.removeData(t, r),
        "input" === i
          ? (s.append.remove(),
            s.trigger.remove(),
            a
              .removeClass(this.markerClassName)
              .unbind("focus", this._showDatepicker)
              .unbind("keydown", this._doKeyDown)
              .unbind("keypress", this._doKeyPress)
              .unbind("keyup", this._doKeyUp))
          : ("div" === i || "span" === i) &&
            a.removeClass(this.markerClassName).empty());
    },
    _enableDatepicker: function (t) {
      var i,
        a,
        s = e(t),
        n = e.data(t, r);
      s.hasClass(this.markerClassName) &&
        ((i = t.nodeName.toLowerCase()),
        "input" === i
          ? ((t.disabled = !1),
            n.trigger
              .filter("button")
              .each(function () {
                this.disabled = !1;
              })
              .end()
              .filter("img")
              .css({ opacity: "1.0", cursor: "" }))
          : ("div" === i || "span" === i) &&
            ((a = s.children("." + this._inlineClass)),
            a.children().removeClass("ui-state-disabled"),
            a
              .find("select.ui-datepicker-month, select.ui-datepicker-year")
              .prop("disabled", !1)),
        (this._disabledInputs = e.map(this._disabledInputs, function (e) {
          return e === t ? null : e;
        })));
    },
    _disableDatepicker: function (t) {
      var i,
        a,
        s = e(t),
        n = e.data(t, r);
      s.hasClass(this.markerClassName) &&
        ((i = t.nodeName.toLowerCase()),
        "input" === i
          ? ((t.disabled = !0),
            n.trigger
              .filter("button")
              .each(function () {
                this.disabled = !0;
              })
              .end()
              .filter("img")
              .css({ opacity: "0.5", cursor: "default" }))
          : ("div" === i || "span" === i) &&
            ((a = s.children("." + this._inlineClass)),
            a.children().addClass("ui-state-disabled"),
            a
              .find("select.ui-datepicker-month, select.ui-datepicker-year")
              .prop("disabled", !0)),
        (this._disabledInputs = e.map(this._disabledInputs, function (e) {
          return e === t ? null : e;
        })),
        (this._disabledInputs[this._disabledInputs.length] = t));
    },
    _isDisabledDatepicker: function (e) {
      if (!e) return !1;
      for (var t = 0; this._disabledInputs.length > t; t++)
        if (this._disabledInputs[t] === e) return !0;
      return !1;
    },
    _getInst: function (t) {
      try {
        return e.data(t, r);
      } catch (i) {
        throw "Missing instance data for this datepicker";
      }
    },
    _optionDatepicker: function (i, a, n) {
      var r,
        o,
        u,
        c,
        h = this._getInst(i);
      return 2 === arguments.length && "string" == typeof a
        ? "defaults" === a
          ? e.extend({}, e.datepicker._defaults)
          : h
          ? "all" === a
            ? e.extend({}, h.settings)
            : this._get(h, a)
          : null
        : ((r = a || {}),
          "string" == typeof a && ((r = {}), (r[a] = n)),
          h &&
            (this._curInst === h && this._hideDatepicker(),
            (o = this._getDateDatepicker(i, !0)),
            (u = this._getMinMaxDate(h, "min")),
            (c = this._getMinMaxDate(h, "max")),
            s(h.settings, r),
            null !== u &&
              r.dateFormat !== t &&
              r.minDate === t &&
              (h.settings.minDate = this._formatDate(h, u)),
            null !== c &&
              r.dateFormat !== t &&
              r.maxDate === t &&
              (h.settings.maxDate = this._formatDate(h, c)),
            "disabled" in r &&
              (r.disabled
                ? this._disableDatepicker(i)
                : this._enableDatepicker(i)),
            this._attachments(e(i), h),
            this._autoSize(h),
            this._setDate(h, o),
            this._updateAlternate(h),
            this._updateDatepicker(h)),
          t);
    },
    _changeDatepicker: function (e, t, i) {
      this._optionDatepicker(e, t, i);
    },
    _refreshDatepicker: function (e) {
      var t = this._getInst(e);
      t && this._updateDatepicker(t);
    },
    _setDateDatepicker: function (e, t) {
      var i = this._getInst(e);
      i &&
        (this._setDate(i, t),
        this._updateDatepicker(i),
        this._updateAlternate(i));
    },
    _getDateDatepicker: function (e, t) {
      var i = this._getInst(e);
      return (
        i && !i.inline && this._setDateFromField(i, t),
        i ? this._getDate(i) : null
      );
    },
    _doKeyDown: function (t) {
      var i,
        a,
        s,
        n = e.datepicker._getInst(t.target),
        r = !0,
        o = n.dpDiv.is(".ui-datepicker-rtl");
      if (((n._keyEvent = !0), e.datepicker._datepickerShowing))
        switch (t.keyCode) {
          case 9:
            e.datepicker._hideDatepicker(), (r = !1);
            break;
          case 13:
            return (
              (s = e(
                "td." +
                  e.datepicker._dayOverClass +
                  ":not(." +
                  e.datepicker._currentClass +
                  ")",
                n.dpDiv
              )),
              s[0] &&
                e.datepicker._selectDay(
                  t.target,
                  n.selectedMonth,
                  n.selectedYear,
                  s[0]
                ),
              (i = e.datepicker._get(n, "onSelect")),
              i
                ? ((a = e.datepicker._formatDate(n)),
                  i.apply(n.input ? n.input[0] : null, [a, n]))
                : e.datepicker._hideDatepicker(),
              !1
            );
          case 27:
            e.datepicker._hideDatepicker();
            break;
          case 33:
            e.datepicker._adjustDate(
              t.target,
              t.ctrlKey
                ? -e.datepicker._get(n, "stepBigMonths")
                : -e.datepicker._get(n, "stepMonths"),
              "M"
            );
            break;
          case 34:
            e.datepicker._adjustDate(
              t.target,
              t.ctrlKey
                ? +e.datepicker._get(n, "stepBigMonths")
                : +e.datepicker._get(n, "stepMonths"),
              "M"
            );
            break;
          case 35:
            (t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target),
              (r = t.ctrlKey || t.metaKey);
            break;
          case 36:
            (t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target),
              (r = t.ctrlKey || t.metaKey);
            break;
          case 37:
            (t.ctrlKey || t.metaKey) &&
              e.datepicker._adjustDate(t.target, o ? 1 : -1, "D"),
              (r = t.ctrlKey || t.metaKey),
              t.originalEvent.altKey &&
                e.datepicker._adjustDate(
                  t.target,
                  t.ctrlKey
                    ? -e.datepicker._get(n, "stepBigMonths")
                    : -e.datepicker._get(n, "stepMonths"),
                  "M"
                );
            break;
          case 38:
            (t.ctrlKey || t.metaKey) &&
              e.datepicker._adjustDate(t.target, -7, "D"),
              (r = t.ctrlKey || t.metaKey);
            break;
          case 39:
            (t.ctrlKey || t.metaKey) &&
              e.datepicker._adjustDate(t.target, o ? -1 : 1, "D"),
              (r = t.ctrlKey || t.metaKey),
              t.originalEvent.altKey &&
                e.datepicker._adjustDate(
                  t.target,
                  t.ctrlKey
                    ? +e.datepicker._get(n, "stepBigMonths")
                    : +e.datepicker._get(n, "stepMonths"),
                  "M"
                );
            break;
          case 40:
            (t.ctrlKey || t.metaKey) &&
              e.datepicker._adjustDate(t.target, 7, "D"),
              (r = t.ctrlKey || t.metaKey);
            break;
          default:
            r = !1;
        }
      else
        36 === t.keyCode && t.ctrlKey
          ? e.datepicker._showDatepicker(this)
          : (r = !1);
      r && (t.preventDefault(), t.stopPropagation());
    },
    _doKeyPress: function (i) {
      var a,
        s,
        n = e.datepicker._getInst(i.target);
      return e.datepicker._get(n, "constrainInput")
        ? ((a = e.datepicker._possibleChars(
            e.datepicker._get(n, "dateFormat")
          )),
          (s = String.fromCharCode(
            null == i.charCode ? i.keyCode : i.charCode
          )),
          i.ctrlKey || i.metaKey || " " > s || !a || a.indexOf(s) > -1)
        : t;
    },
    _doKeyUp: function (t) {
      var i,
        a = e.datepicker._getInst(t.target);
      if (a.input.val() !== a.lastVal)
        try {
          (i = e.datepicker.parseDate(
            e.datepicker._get(a, "dateFormat"),
            a.input ? a.input.val() : null,
            e.datepicker._getFormatConfig(a)
          )),
            i &&
              (e.datepicker._setDateFromField(a),
              e.datepicker._updateAlternate(a),
              e.datepicker._updateDatepicker(a));
        } catch (s) {}
      return !0;
    },
    _showDatepicker: function (t) {
      if (
        ((t = t.target || t),
        "input" !== t.nodeName.toLowerCase() &&
          (t = e("input", t.parentNode)[0]),
        !e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t)
      ) {
        var i, a, n, r, o, u, c;
        (i = e.datepicker._getInst(t)),
          e.datepicker._curInst &&
            e.datepicker._curInst !== i &&
            (e.datepicker._curInst.dpDiv.stop(!0, !0),
            i &&
              e.datepicker._datepickerShowing &&
              e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),
          (a = e.datepicker._get(i, "beforeShow")),
          (n = a ? a.apply(t, [t, i]) : {}),
          n !== !1 &&
            (s(i.settings, n),
            (i.lastVal = null),
            (e.datepicker._lastInput = t),
            e.datepicker._setDateFromField(i),
            e.datepicker._inDialog && (t.value = ""),
            e.datepicker._pos ||
              ((e.datepicker._pos = e.datepicker._findPos(t)),
              (e.datepicker._pos[1] += t.offsetHeight)),
            (r = !1),
            e(t)
              .parents()
              .each(function () {
                return (r |= "fixed" === e(this).css("position")), !r;
              }),
            (o = { left: e.datepicker._pos[0], top: e.datepicker._pos[1] }),
            (e.datepicker._pos = null),
            i.dpDiv.empty(),
            i.dpDiv.css({
              position: "absolute",
              display: "block",
              top: "-1000px",
            }),
            e.datepicker._updateDatepicker(i),
            (o = e.datepicker._checkOffset(i, o, r)),
            i.dpDiv.css({
              position:
                e.datepicker._inDialog && e.blockUI
                  ? "static"
                  : r
                  ? "fixed"
                  : "absolute",
              display: "none",
              left: o.left + "px",
              top: o.top + "px",
            }),
            i.inline ||
              ((u = e.datepicker._get(i, "showAnim")),
              (c = e.datepicker._get(i, "duration")),
              i.dpDiv.zIndex(e(t).zIndex() + 1),
              (e.datepicker._datepickerShowing = !0),
              e.effects && e.effects.effect[u]
                ? i.dpDiv.show(u, e.datepicker._get(i, "showOptions"), c)
                : i.dpDiv[u || "show"](u ? c : null),
              e.datepicker._shouldFocusInput(i) && i.input.focus(),
              (e.datepicker._curInst = i)));
      }
    },
    _updateDatepicker: function (t) {
      (this.maxRows = 4),
        (n = t),
        t.dpDiv.empty().append(this._generateHTML(t)),
        this._attachHandlers(t),
        t.dpDiv.find("." + this._dayOverClass + " a").mouseover();
      var i,
        a = this._getNumberOfMonths(t),
        s = a[1],
        r = 17;
      t.dpDiv
        .removeClass(
          "ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4"
        )
        .width(""),
        s > 1 &&
          t.dpDiv
            .addClass("ui-datepicker-multi-" + s)
            .css("width", r * s + "em"),
        t.dpDiv[(1 !== a[0] || 1 !== a[1] ? "add" : "remove") + "Class"](
          "ui-datepicker-multi"
        ),
        t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"](
          "ui-datepicker-rtl"
        ),
        t === e.datepicker._curInst &&
          e.datepicker._datepickerShowing &&
          e.datepicker._shouldFocusInput(t) &&
          t.input.focus(),
        t.yearshtml &&
          ((i = t.yearshtml),
          setTimeout(function () {
            i === t.yearshtml &&
              t.yearshtml &&
              t.dpDiv
                .find("select.ui-datepicker-year:first")
                .replaceWith(t.yearshtml),
              (i = t.yearshtml = null);
          }, 0));
    },
    _shouldFocusInput: function (e) {
      return (
        e.input &&
        e.input.is(":visible") &&
        !e.input.is(":disabled") &&
        !e.input.is(":focus")
      );
    },
    _checkOffset: function (t, i, a) {
      var s = t.dpDiv.outerWidth(),
        n = t.dpDiv.outerHeight(),
        r = t.input ? t.input.outerWidth() : 0,
        o = t.input ? t.input.outerHeight() : 0,
        u =
          document.documentElement.clientWidth +
          (a ? 0 : e(document).scrollLeft()),
        c =
          document.documentElement.clientHeight +
          (a ? 0 : e(document).scrollTop());
      return (
        (i.left -= this._get(t, "isRTL") ? s - r : 0),
        (i.left -=
          a && i.left === t.input.offset().left ? e(document).scrollLeft() : 0),
        (i.top -=
          a && i.top === t.input.offset().top + o
            ? e(document).scrollTop()
            : 0),
        (i.left -= Math.min(
          i.left,
          i.left + s > u && u > s ? Math.abs(i.left + s - u) : 0
        )),
        (i.top -= Math.min(
          i.top,
          i.top + n > c && c > n ? Math.abs(n + o) : 0
        )),
        i
      );
    },
    _findPos: function (t) {
      for (
        var i, a = this._getInst(t), s = this._get(a, "isRTL");
        t &&
        ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t));

      )
        t = t[s ? "previousSibling" : "nextSibling"];
      return (i = e(t).offset()), [i.left, i.top];
    },
    _hideDatepicker: function (t) {
      var i,
        a,
        s,
        n,
        o = this._curInst;
      !o ||
        (t && o !== e.data(t, r)) ||
        (this._datepickerShowing &&
          ((i = this._get(o, "showAnim")),
          (a = this._get(o, "duration")),
          (s = function () {
            e.datepicker._tidyDialog(o);
          }),
          e.effects && (e.effects.effect[i] || e.effects[i])
            ? o.dpDiv.hide(i, e.datepicker._get(o, "showOptions"), a, s)
            : o.dpDiv[
                "slideDown" === i
                  ? "slideUp"
                  : "fadeIn" === i
                  ? "fadeOut"
                  : "hide"
              ](i ? a : null, s),
          i || s(),
          (this._datepickerShowing = !1),
          (n = this._get(o, "onClose")),
          n &&
            n.apply(o.input ? o.input[0] : null, [
              o.input ? o.input.val() : "",
              o,
            ]),
          (this._lastInput = null),
          this._inDialog &&
            (this._dialogInput.css({
              position: "absolute",
              left: "0",
              top: "-100px",
            }),
            e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))),
          (this._inDialog = !1)));
    },
    _tidyDialog: function (e) {
      e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");
    },
    _checkExternalClick: function (t) {
      if (e.datepicker._curInst) {
        var i = e(t.target),
          a = e.datepicker._getInst(i[0]);
        ((i[0].id !== e.datepicker._mainDivId &&
          0 === i.parents("#" + e.datepicker._mainDivId).length &&
          !i.hasClass(e.datepicker.markerClassName) &&
          !i.closest("." + e.datepicker._triggerClass).length &&
          e.datepicker._datepickerShowing &&
          (!e.datepicker._inDialog || !e.blockUI)) ||
          (i.hasClass(e.datepicker.markerClassName) &&
            e.datepicker._curInst !== a)) &&
          e.datepicker._hideDatepicker();
      }
    },
    _adjustDate: function (t, i, a) {
      var s = e(t),
        n = this._getInst(s[0]);
      this._isDisabledDatepicker(s[0]) ||
        (this._adjustInstDate(
          n,
          i + ("M" === a ? this._get(n, "showCurrentAtPos") : 0),
          a
        ),
        this._updateDatepicker(n));
    },
    _gotoToday: function (t) {
      var i,
        a = e(t),
        s = this._getInst(a[0]);
      this._get(s, "gotoCurrent") && s.currentDay
        ? ((s.selectedDay = s.currentDay),
          (s.drawMonth = s.selectedMonth = s.currentMonth),
          (s.drawYear = s.selectedYear = s.currentYear))
        : ((i = new Date()),
          (s.selectedDay = i.getDate()),
          (s.drawMonth = s.selectedMonth = i.getMonth()),
          (s.drawYear = s.selectedYear = i.getFullYear())),
        this._notifyChange(s),
        this._adjustDate(a);
    },
    _selectMonthYear: function (t, i, a) {
      var s = e(t),
        n = this._getInst(s[0]);
      (n["selected" + ("M" === a ? "Month" : "Year")] = n[
        "draw" + ("M" === a ? "Month" : "Year")
      ] =
        parseInt(i.options[i.selectedIndex].value, 10)),
        this._notifyChange(n),
        this._adjustDate(s);
    },
    _selectDay: function (t, i, a, s) {
      var n,
        r = e(t);
      e(s).hasClass(this._unselectableClass) ||
        this._isDisabledDatepicker(r[0]) ||
        ((n = this._getInst(r[0])),
        (n.selectedDay = n.currentDay = e("a", s).html()),
        (n.selectedMonth = n.currentMonth = i),
        (n.selectedYear = n.currentYear = a),
        this._selectDate(
          t,
          this._formatDate(n, n.currentDay, n.currentMonth, n.currentYear)
        ));
    },
    _clearDate: function (t) {
      var i = e(t);
      this._selectDate(i, "");
    },
    _selectDate: function (t, i) {
      var a,
        s = e(t),
        n = this._getInst(s[0]);
      (i = null != i ? i : this._formatDate(n)),
        n.input && n.input.val(i),
        this._updateAlternate(n),
        (a = this._get(n, "onSelect")),
        a
          ? a.apply(n.input ? n.input[0] : null, [i, n])
          : n.input && n.input.trigger("change"),
        n.inline
          ? this._updateDatepicker(n)
          : (this._hideDatepicker(),
            (this._lastInput = n.input[0]),
            "object" != typeof n.input[0] && n.input.focus(),
            (this._lastInput = null));
    },
    _updateAlternate: function (t) {
      var i,
        a,
        s,
        n = this._get(t, "altField");
      n &&
        ((i = this._get(t, "altFormat") || this._get(t, "dateFormat")),
        (a = this._getDate(t)),
        (s = this.formatDate(i, a, this._getFormatConfig(t))),
        e(n).each(function () {
          e(this).val(s);
        }));
    },
    noWeekends: function (e) {
      var t = e.getDay();
      return [t > 0 && 6 > t, ""];
    },
    iso8601Week: function (e) {
      var t,
        i = new Date(e.getTime());
      return (
        i.setDate(i.getDate() + 4 - (i.getDay() || 7)),
        (t = i.getTime()),
        i.setMonth(0),
        i.setDate(1),
        Math.floor(Math.round((t - i) / 864e5) / 7) + 1
      );
    },
    parseDate: function (i, a, s) {
      if (null == i || null == a) throw "Invalid arguments";
      if (((a = "object" == typeof a ? "" + a : a + ""), "" === a)) return null;
      var n,
        r,
        o,
        u,
        c = 0,
        h = (s ? s.shortYearCutoff : null) || this._defaults.shortYearCutoff,
        l =
          "string" != typeof h
            ? h
            : (new Date().getFullYear() % 100) + parseInt(h, 10),
        d = (s ? s.dayNamesShort : null) || this._defaults.dayNamesShort,
        p = (s ? s.dayNames : null) || this._defaults.dayNames,
        g = (s ? s.monthNamesShort : null) || this._defaults.monthNamesShort,
        m = (s ? s.monthNames : null) || this._defaults.monthNames,
        f = -1,
        _ = -1,
        v = -1,
        k = -1,
        y = !1,
        b = function (e) {
          var t = i.length > n + 1 && i.charAt(n + 1) === e;
          return t && n++, t;
        },
        D = function (e) {
          var t = b(e),
            i =
              "@" === e
                ? 14
                : "!" === e
                ? 20
                : "y" === e && t
                ? 4
                : "o" === e
                ? 3
                : 2,
            s = RegExp("^\\d{1," + i + "}"),
            n = a.substring(c).match(s);
          if (!n) throw "Missing number at position " + c;
          return (c += n[0].length), parseInt(n[0], 10);
        },
        w = function (i, s, n) {
          var r = -1,
            o = e
              .map(b(i) ? n : s, function (e, t) {
                return [[t, e]];
              })
              .sort(function (e, t) {
                return -(e[1].length - t[1].length);
              });
          if (
            (e.each(o, function (e, i) {
              var s = i[1];
              return a.substr(c, s.length).toLowerCase() === s.toLowerCase()
                ? ((r = i[0]), (c += s.length), !1)
                : t;
            }),
            -1 !== r)
          )
            return r + 1;
          throw "Unknown name at position " + c;
        },
        M = function () {
          if (a.charAt(c) !== i.charAt(n))
            throw "Unexpected literal at position " + c;
          c++;
        };
      for (n = 0; i.length > n; n++)
        if (y) "'" !== i.charAt(n) || b("'") ? M() : (y = !1);
        else
          switch (i.charAt(n)) {
            case "d":
              v = D("d");
              break;
            case "D":
              w("D", d, p);
              break;
            case "o":
              k = D("o");
              break;
            case "m":
              _ = D("m");
              break;
            case "M":
              _ = w("M", g, m);
              break;
            case "y":
              f = D("y");
              break;
            case "@":
              (u = new Date(D("@"))),
                (f = u.getFullYear()),
                (_ = u.getMonth() + 1),
                (v = u.getDate());
              break;
            case "!":
              (u = new Date((D("!") - this._ticksTo1970) / 1e4)),
                (f = u.getFullYear()),
                (_ = u.getMonth() + 1),
                (v = u.getDate());
              break;
            case "'":
              b("'") ? M() : (y = !0);
              break;
            default:
              M();
          }
      if (a.length > c && ((o = a.substr(c)), !/^\s+/.test(o)))
        throw "Extra/unparsed characters found in date: " + o;
      if (
        (-1 === f
          ? (f = new Date().getFullYear())
          : 100 > f &&
            (f +=
              new Date().getFullYear() -
              (new Date().getFullYear() % 100) +
              (l >= f ? 0 : -100)),
        k > -1)
      )
        for (_ = 1, v = k; ; ) {
          if (((r = this._getDaysInMonth(f, _ - 1)), r >= v)) break;
          _++, (v -= r);
        }
      if (
        ((u = this._daylightSavingAdjust(new Date(f, _ - 1, v))),
        u.getFullYear() !== f || u.getMonth() + 1 !== _ || u.getDate() !== v)
      )
        throw "Invalid date";
      return u;
    },
    ATOM: "yy-mm-dd",
    COOKIE: "D, dd M yy",
    ISO_8601: "yy-mm-dd",
    RFC_822: "D, d M y",
    RFC_850: "DD, dd-M-y",
    RFC_1036: "D, d M y",
    RFC_1123: "D, d M yy",
    RFC_2822: "D, d M yy",
    RSS: "D, d M y",
    TICKS: "!",
    TIMESTAMP: "@",
    W3C: "yy-mm-dd",
    _ticksTo1970:
      1e7 *
      60 *
      60 *
      24 *
      (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
    formatDate: function (e, t, i) {
      if (!t) return "";
      var a,
        s = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
        n = (i ? i.dayNames : null) || this._defaults.dayNames,
        r = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
        o = (i ? i.monthNames : null) || this._defaults.monthNames,
        u = function (t) {
          var i = e.length > a + 1 && e.charAt(a + 1) === t;
          return i && a++, i;
        },
        c = function (e, t, i) {
          var a = "" + t;
          if (u(e)) for (; i > a.length; ) a = "0" + a;
          return a;
        },
        h = function (e, t, i, a) {
          return u(e) ? a[t] : i[t];
        },
        l = "",
        d = !1;
      if (t)
        for (a = 0; e.length > a; a++)
          if (d) "'" !== e.charAt(a) || u("'") ? (l += e.charAt(a)) : (d = !1);
          else
            switch (e.charAt(a)) {
              case "d":
                l += c("d", t.getDate(), 2);
                break;
              case "D":
                l += h("D", t.getDay(), s, n);
                break;
              case "o":
                l += c(
                  "o",
                  Math.round(
                    (new Date(
                      t.getFullYear(),
                      t.getMonth(),
                      t.getDate()
                    ).getTime() -
                      new Date(t.getFullYear(), 0, 0).getTime()) /
                      864e5
                  ),
                  3
                );
                break;
              case "m":
                l += c("m", t.getMonth() + 1, 2);
                break;
              case "M":
                l += h("M", t.getMonth(), r, o);
                break;
              case "y":
                l += u("y")
                  ? t.getFullYear()
                  : (10 > t.getYear() % 100 ? "0" : "") + (t.getYear() % 100);
                break;
              case "@":
                l += t.getTime();
                break;
              case "!":
                l += 1e4 * t.getTime() + this._ticksTo1970;
                break;
              case "'":
                u("'") ? (l += "'") : (d = !0);
                break;
              default:
                l += e.charAt(a);
            }
      return l;
    },
    _possibleChars: function (e) {
      var t,
        i = "",
        a = !1,
        s = function (i) {
          var a = e.length > t + 1 && e.charAt(t + 1) === i;
          return a && t++, a;
        };
      for (t = 0; e.length > t; t++)
        if (a) "'" !== e.charAt(t) || s("'") ? (i += e.charAt(t)) : (a = !1);
        else
          switch (e.charAt(t)) {
            case "d":
            case "m":
            case "y":
            case "@":
              i += "0123456789";
              break;
            case "D":
            case "M":
              return null;
            case "'":
              s("'") ? (i += "'") : (a = !0);
              break;
            default:
              i += e.charAt(t);
          }
      return i;
    },
    _get: function (e, i) {
      return e.settings[i] !== t ? e.settings[i] : this._defaults[i];
    },
    _setDateFromField: function (e, t) {
      if (e.input.val() !== e.lastVal) {
        var i = this._get(e, "dateFormat"),
          a = (e.lastVal = e.input ? e.input.val() : null),
          s = this._getDefaultDate(e),
          n = s,
          r = this._getFormatConfig(e);
        try {
          n = this.parseDate(i, a, r) || s;
        } catch (o) {
          a = t ? "" : a;
        }
        (e.selectedDay = n.getDate()),
          (e.drawMonth = e.selectedMonth = n.getMonth()),
          (e.drawYear = e.selectedYear = n.getFullYear()),
          (e.currentDay = a ? n.getDate() : 0),
          (e.currentMonth = a ? n.getMonth() : 0),
          (e.currentYear = a ? n.getFullYear() : 0),
          this._adjustInstDate(e);
      }
    },
    _getDefaultDate: function (e) {
      return this._restrictMinMax(
        e,
        this._determineDate(e, this._get(e, "defaultDate"), new Date())
      );
    },
    _determineDate: function (t, i, a) {
      var s = function (e) {
          var t = new Date();
          return t.setDate(t.getDate() + e), t;
        },
        n = function (i) {
          try {
            return e.datepicker.parseDate(
              e.datepicker._get(t, "dateFormat"),
              i,
              e.datepicker._getFormatConfig(t)
            );
          } catch (a) {}
          for (
            var s =
                (i.toLowerCase().match(/^c/)
                  ? e.datepicker._getDate(t)
                  : null) || new Date(),
              n = s.getFullYear(),
              r = s.getMonth(),
              o = s.getDate(),
              u = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
              c = u.exec(i);
            c;

          ) {
            switch (c[2] || "d") {
              case "d":
              case "D":
                o += parseInt(c[1], 10);
                break;
              case "w":
              case "W":
                o += 7 * parseInt(c[1], 10);
                break;
              case "m":
              case "M":
                (r += parseInt(c[1], 10)),
                  (o = Math.min(o, e.datepicker._getDaysInMonth(n, r)));
                break;
              case "y":
              case "Y":
                (n += parseInt(c[1], 10)),
                  (o = Math.min(o, e.datepicker._getDaysInMonth(n, r)));
            }
            c = u.exec(i);
          }
          return new Date(n, r, o);
        },
        r =
          null == i || "" === i
            ? a
            : "string" == typeof i
            ? n(i)
            : "number" == typeof i
            ? isNaN(i)
              ? a
              : s(i)
            : new Date(i.getTime());
      return (
        (r = r && "Invalid Date" == "" + r ? a : r),
        r &&
          (r.setHours(0),
          r.setMinutes(0),
          r.setSeconds(0),
          r.setMilliseconds(0)),
        this._daylightSavingAdjust(r)
      );
    },
    _daylightSavingAdjust: function (e) {
      return e
        ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e)
        : null;
    },
    _setDate: function (e, t, i) {
      var a = !t,
        s = e.selectedMonth,
        n = e.selectedYear,
        r = this._restrictMinMax(e, this._determineDate(e, t, new Date()));
      (e.selectedDay = e.currentDay = r.getDate()),
        (e.drawMonth = e.selectedMonth = e.currentMonth = r.getMonth()),
        (e.drawYear = e.selectedYear = e.currentYear = r.getFullYear()),
        (s === e.selectedMonth && n === e.selectedYear) ||
          i ||
          this._notifyChange(e),
        this._adjustInstDate(e),
        e.input && e.input.val(a ? "" : this._formatDate(e));
    },
    _getDate: function (e) {
      var t =
        !e.currentYear || (e.input && "" === e.input.val())
          ? null
          : this._daylightSavingAdjust(
              new Date(e.currentYear, e.currentMonth, e.currentDay)
            );
      return t;
    },
    _attachHandlers: function (t) {
      var i = this._get(t, "stepMonths"),
        a = "#" + t.id.replace(/\\\\/g, "\\");
      t.dpDiv.find("[data-handler]").map(function () {
        var t = {
          prev: function () {
            e.datepicker._adjustDate(a, -i, "M");
          },
          next: function () {
            e.datepicker._adjustDate(a, +i, "M");
          },
          hide: function () {
            e.datepicker._hideDatepicker();
          },
          today: function () {
            e.datepicker._gotoToday(a);
          },
          selectDay: function () {
            return (
              e.datepicker._selectDay(
                a,
                +this.getAttribute("data-month"),
                +this.getAttribute("data-year"),
                this
              ),
              !1
            );
          },
          selectMonth: function () {
            return e.datepicker._selectMonthYear(a, this, "M"), !1;
          },
          selectYear: function () {
            return e.datepicker._selectMonthYear(a, this, "Y"), !1;
          },
        };
        e(this).bind(
          this.getAttribute("data-event"),
          t[this.getAttribute("data-handler")]
        );
      });
    },
    _generateHTML: function (e) {
      var t,
        i,
        a,
        s,
        n,
        r,
        o,
        u,
        c,
        h,
        l,
        d,
        p,
        g,
        m,
        f,
        _,
        v,
        k,
        y,
        b,
        D,
        w,
        M,
        C,
        x,
        I,
        N,
        T,
        A,
        E,
        S,
        Y,
        F,
        P,
        O,
        j,
        K,
        R,
        H = new Date(),
        W = this._daylightSavingAdjust(
          new Date(H.getFullYear(), H.getMonth(), H.getDate())
        ),
        L = this._get(e, "isRTL"),
        U = this._get(e, "showButtonPanel"),
        B = this._get(e, "hideIfNoPrevNext"),
        z = this._get(e, "navigationAsDateFormat"),
        q = this._getNumberOfMonths(e),
        G = this._get(e, "showCurrentAtPos"),
        J = this._get(e, "stepMonths"),
        Q = 1 !== q[0] || 1 !== q[1],
        V = this._daylightSavingAdjust(
          e.currentDay
            ? new Date(e.currentYear, e.currentMonth, e.currentDay)
            : new Date(9999, 9, 9)
        ),
        $ = this._getMinMaxDate(e, "min"),
        X = this._getMinMaxDate(e, "max"),
        Z = e.drawMonth - G,
        et = e.drawYear;
      if ((0 > Z && ((Z += 12), et--), X))
        for (
          t = this._daylightSavingAdjust(
            new Date(
              X.getFullYear(),
              X.getMonth() - q[0] * q[1] + 1,
              X.getDate()
            )
          ),
            t = $ && $ > t ? $ : t;
          this._daylightSavingAdjust(new Date(et, Z, 1)) > t;

        )
          Z--, 0 > Z && ((Z = 11), et--);
      for (
        e.drawMonth = Z,
          e.drawYear = et,
          i = this._get(e, "prevText"),
          i = z
            ? this.formatDate(
                i,
                this._daylightSavingAdjust(new Date(et, Z - J, 1)),
                this._getFormatConfig(e)
              )
            : i,
          a = this._canAdjustMonth(e, -1, et, Z)
            ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" +
              i +
              "'><span class='ui-icon ui-icon-circle-triangle-" +
              (L ? "e" : "w") +
              "'>" +
              i +
              "</span></a>"
            : B
            ? ""
            : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" +
              i +
              "'><span class='ui-icon ui-icon-circle-triangle-" +
              (L ? "e" : "w") +
              "'>" +
              i +
              "</span></a>",
          s = this._get(e, "nextText"),
          s = z
            ? this.formatDate(
                s,
                this._daylightSavingAdjust(new Date(et, Z + J, 1)),
                this._getFormatConfig(e)
              )
            : s,
          n = this._canAdjustMonth(e, 1, et, Z)
            ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" +
              s +
              "'><span class='ui-icon ui-icon-circle-triangle-" +
              (L ? "w" : "e") +
              "'>" +
              s +
              "</span></a>"
            : B
            ? ""
            : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" +
              s +
              "'><span class='ui-icon ui-icon-circle-triangle-" +
              (L ? "w" : "e") +
              "'>" +
              s +
              "</span></a>",
          r = this._get(e, "currentText"),
          o = this._get(e, "gotoCurrent") && e.currentDay ? V : W,
          r = z ? this.formatDate(r, o, this._getFormatConfig(e)) : r,
          u = e.inline
            ? ""
            : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" +
              this._get(e, "closeText") +
              "</button>",
          c = U
            ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" +
              (L ? u : "") +
              (this._isInRange(e, o)
                ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" +
                  r +
                  "</button>"
                : "") +
              (L ? "" : u) +
              "</div>"
            : "",
          h = parseInt(this._get(e, "firstDay"), 10),
          h = isNaN(h) ? 0 : h,
          l = this._get(e, "showWeek"),
          d = this._get(e, "dayNames"),
          p = this._get(e, "dayNamesMin"),
          g = this._get(e, "monthNames"),
          m = this._get(e, "monthNamesShort"),
          f = this._get(e, "beforeShowDay"),
          _ = this._get(e, "showOtherMonths"),
          v = this._get(e, "selectOtherMonths"),
          k = this._getDefaultDate(e),
          y = "",
          D = 0;
        q[0] > D;
        D++
      ) {
        for (w = "", this.maxRows = 4, M = 0; q[1] > M; M++) {
          if (
            ((C = this._daylightSavingAdjust(new Date(et, Z, e.selectedDay))),
            (x = " ui-corner-all"),
            (I = ""),
            Q)
          ) {
            if (((I += "<div class='ui-datepicker-group"), q[1] > 1))
              switch (M) {
                case 0:
                  (I += " ui-datepicker-group-first"),
                    (x = " ui-corner-" + (L ? "right" : "left"));
                  break;
                case q[1] - 1:
                  (I += " ui-datepicker-group-last"),
                    (x = " ui-corner-" + (L ? "left" : "right"));
                  break;
                default:
                  (I += " ui-datepicker-group-middle"), (x = "");
              }
            I += "'>";
          }
          for (
            I +=
              "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" +
              x +
              "'>" +
              (/all|left/.test(x) && 0 === D ? (L ? n : a) : "") +
              (/all|right/.test(x) && 0 === D ? (L ? a : n) : "") +
              this._generateMonthYearHeader(
                e,
                Z,
                et,
                $,
                X,
                D > 0 || M > 0,
                g,
                m
              ) +
              "</div><table class='ui-datepicker-calendar'><thead>" +
              "<tr>",
              N = l
                ? "<th class='ui-datepicker-week-col'>" +
                  this._get(e, "weekHeader") +
                  "</th>"
                : "",
              b = 0;
            7 > b;
            b++
          )
            (T = (b + h) % 7),
              (N +=
                "<th" +
                ((b + h + 6) % 7 >= 5
                  ? " class='ui-datepicker-week-end'"
                  : "") +
                ">" +
                "<span title='" +
                d[T] +
                "'>" +
                p[T] +
                "</span></th>");
          for (
            I += N + "</tr></thead><tbody>",
              A = this._getDaysInMonth(et, Z),
              et === e.selectedYear &&
                Z === e.selectedMonth &&
                (e.selectedDay = Math.min(e.selectedDay, A)),
              E = (this._getFirstDayOfMonth(et, Z) - h + 7) % 7,
              S = Math.ceil((E + A) / 7),
              Y = Q ? (this.maxRows > S ? this.maxRows : S) : S,
              this.maxRows = Y,
              F = this._daylightSavingAdjust(new Date(et, Z, 1 - E)),
              P = 0;
            Y > P;
            P++
          ) {
            for (
              I += "<tr>",
                O = l
                  ? "<td class='ui-datepicker-week-col'>" +
                    this._get(e, "calculateWeek")(F) +
                    "</td>"
                  : "",
                b = 0;
              7 > b;
              b++
            )
              (j = f ? f.apply(e.input ? e.input[0] : null, [F]) : [!0, ""]),
                (K = F.getMonth() !== Z),
                (R = (K && !v) || !j[0] || ($ && $ > F) || (X && F > X)),
                (O +=
                  "<td class='" +
                  ((b + h + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") +
                  (K ? " ui-datepicker-other-month" : "") +
                  ((F.getTime() === C.getTime() &&
                    Z === e.selectedMonth &&
                    e._keyEvent) ||
                  (k.getTime() === F.getTime() && k.getTime() === C.getTime())
                    ? " " + this._dayOverClass
                    : "") +
                  (R
                    ? " " + this._unselectableClass + " ui-state-disabled"
                    : "") +
                  (K && !_
                    ? ""
                    : " " +
                      j[1] +
                      (F.getTime() === V.getTime()
                        ? " " + this._currentClass
                        : "") +
                      (F.getTime() === W.getTime()
                        ? " ui-datepicker-today"
                        : "")) +
                  "'" +
                  ((K && !_) || !j[2]
                    ? ""
                    : " title='" + j[2].replace(/'/g, "&#39;") + "'") +
                  (R
                    ? ""
                    : " data-handler='selectDay' data-event='click' data-month='" +
                      F.getMonth() +
                      "' data-year='" +
                      F.getFullYear() +
                      "'") +
                  ">" +
                  (K && !_
                    ? "&#xa0;"
                    : R
                    ? "<span class='ui-state-default'>" +
                      F.getDate() +
                      "</span>"
                    : "<a class='ui-state-default" +
                      (F.getTime() === W.getTime()
                        ? " ui-state-highlight"
                        : "") +
                      (F.getTime() === V.getTime() ? " ui-state-active" : "") +
                      (K ? " ui-priority-secondary" : "") +
                      "' href='#'>" +
                      F.getDate() +
                      "</a>") +
                  "</td>"),
                F.setDate(F.getDate() + 1),
                (F = this._daylightSavingAdjust(F));
            I += O + "</tr>";
          }
          Z++,
            Z > 11 && ((Z = 0), et++),
            (I +=
              "</tbody></table>" +
              (Q
                ? "</div>" +
                  (q[0] > 0 && M === q[1] - 1
                    ? "<div class='ui-datepicker-row-break'></div>"
                    : "")
                : "")),
            (w += I);
        }
        y += w;
      }
      return (y += c), (e._keyEvent = !1), y;
    },
    _generateMonthYearHeader: function (e, t, i, a, s, n, r, o) {
      var u,
        c,
        h,
        l,
        d,
        p,
        g,
        m,
        f = this._get(e, "changeMonth"),
        _ = this._get(e, "changeYear"),
        v = this._get(e, "showMonthAfterYear"),
        k = "<div class='ui-datepicker-title'>",
        y = "";
      if (n || !f) y += "<span class='ui-datepicker-month'>" + r[t] + "</span>";
      else {
        for (
          u = a && a.getFullYear() === i,
            c = s && s.getFullYear() === i,
            y +=
              "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",
            h = 0;
          12 > h;
          h++
        )
          (!u || h >= a.getMonth()) &&
            (!c || s.getMonth() >= h) &&
            (y +=
              "<option value='" +
              h +
              "'" +
              (h === t ? " selected='selected'" : "") +
              ">" +
              o[h] +
              "</option>");
        y += "</select>";
      }
      if ((v || (k += y + (!n && f && _ ? "" : "&#xa0;")), !e.yearshtml))
        if (((e.yearshtml = ""), n || !_))
          k += "<span class='ui-datepicker-year'>" + i + "</span>";
        else {
          for (
            l = this._get(e, "yearRange").split(":"),
              d = new Date().getFullYear(),
              p = function (e) {
                var t = e.match(/c[+\-].*/)
                  ? i + parseInt(e.substring(1), 10)
                  : e.match(/[+\-].*/)
                  ? d + parseInt(e, 10)
                  : parseInt(e, 10);
                return isNaN(t) ? d : t;
              },
              g = p(l[0]),
              m = Math.max(g, p(l[1] || "")),
              g = a ? Math.max(g, a.getFullYear()) : g,
              m = s ? Math.min(m, s.getFullYear()) : m,
              e.yearshtml +=
                "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
            m >= g;
            g++
          )
            e.yearshtml +=
              "<option value='" +
              g +
              "'" +
              (g === i ? " selected='selected'" : "") +
              ">" +
              g +
              "</option>";
          (e.yearshtml += "</select>"),
            (k += e.yearshtml),
            (e.yearshtml = null);
        }
      return (
        (k += this._get(e, "yearSuffix")),
        v && (k += (!n && f && _ ? "" : "&#xa0;") + y),
        (k += "</div>")
      );
    },
    _adjustInstDate: function (e, t, i) {
      var a = e.drawYear + ("Y" === i ? t : 0),
        s = e.drawMonth + ("M" === i ? t : 0),
        n =
          Math.min(e.selectedDay, this._getDaysInMonth(a, s)) +
          ("D" === i ? t : 0),
        r = this._restrictMinMax(
          e,
          this._daylightSavingAdjust(new Date(a, s, n))
        );
      (e.selectedDay = r.getDate()),
        (e.drawMonth = e.selectedMonth = r.getMonth()),
        (e.drawYear = e.selectedYear = r.getFullYear()),
        ("M" === i || "Y" === i) && this._notifyChange(e);
    },
    _restrictMinMax: function (e, t) {
      var i = this._getMinMaxDate(e, "min"),
        a = this._getMinMaxDate(e, "max"),
        s = i && i > t ? i : t;
      return a && s > a ? a : s;
    },
    _notifyChange: function (e) {
      var t = this._get(e, "onChangeMonthYear");
      t &&
        t.apply(e.input ? e.input[0] : null, [
          e.selectedYear,
          e.selectedMonth + 1,
          e,
        ]);
    },
    _getNumberOfMonths: function (e) {
      var t = this._get(e, "numberOfMonths");
      return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t;
    },
    _getMinMaxDate: function (e, t) {
      return this._determineDate(e, this._get(e, t + "Date"), null);
    },
    _getDaysInMonth: function (e, t) {
      return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate();
    },
    _getFirstDayOfMonth: function (e, t) {
      return new Date(e, t, 1).getDay();
    },
    _canAdjustMonth: function (e, t, i, a) {
      var s = this._getNumberOfMonths(e),
        n = this._daylightSavingAdjust(
          new Date(i, a + (0 > t ? t : s[0] * s[1]), 1)
        );
      return (
        0 > t && n.setDate(this._getDaysInMonth(n.getFullYear(), n.getMonth())),
        this._isInRange(e, n)
      );
    },
    _isInRange: function (e, t) {
      var i,
        a,
        s = this._getMinMaxDate(e, "min"),
        n = this._getMinMaxDate(e, "max"),
        r = null,
        o = null,
        u = this._get(e, "yearRange");
      return (
        u &&
          ((i = u.split(":")),
          (a = new Date().getFullYear()),
          (r = parseInt(i[0], 10)),
          (o = parseInt(i[1], 10)),
          i[0].match(/[+\-].*/) && (r += a),
          i[1].match(/[+\-].*/) && (o += a)),
        (!s || t.getTime() >= s.getTime()) &&
          (!n || t.getTime() <= n.getTime()) &&
          (!r || t.getFullYear() >= r) &&
          (!o || o >= t.getFullYear())
      );
    },
    _getFormatConfig: function (e) {
      var t = this._get(e, "shortYearCutoff");
      return (
        (t =
          "string" != typeof t
            ? t
            : (new Date().getFullYear() % 100) + parseInt(t, 10)),
        {
          shortYearCutoff: t,
          dayNamesShort: this._get(e, "dayNamesShort"),
          dayNames: this._get(e, "dayNames"),
          monthNamesShort: this._get(e, "monthNamesShort"),
          monthNames: this._get(e, "monthNames"),
        }
      );
    },
    _formatDate: function (e, t, i, a) {
      t ||
        ((e.currentDay = e.selectedDay),
        (e.currentMonth = e.selectedMonth),
        (e.currentYear = e.selectedYear));
      var s = t
        ? "object" == typeof t
          ? t
          : this._daylightSavingAdjust(new Date(a, i, t))
        : this._daylightSavingAdjust(
            new Date(e.currentYear, e.currentMonth, e.currentDay)
          );
      return this.formatDate(
        this._get(e, "dateFormat"),
        s,
        this._getFormatConfig(e)
      );
    },
  }),
    (e.fn.datepicker = function (t) {
      if (!this.length) return this;
      e.datepicker.initialized ||
        (e(document).mousedown(e.datepicker._checkExternalClick),
        (e.datepicker.initialized = !0)),
        0 === e("#" + e.datepicker._mainDivId).length &&
          e("body").append(e.datepicker.dpDiv);
      var i = Array.prototype.slice.call(arguments, 1);
      return "string" != typeof t ||
        ("isDisabled" !== t && "getDate" !== t && "widget" !== t)
        ? "option" === t &&
          2 === arguments.length &&
          "string" == typeof arguments[1]
          ? e.datepicker["_" + t + "Datepicker"].apply(
              e.datepicker,
              [this[0]].concat(i)
            )
          : this.each(function () {
              "string" == typeof t
                ? e.datepicker["_" + t + "Datepicker"].apply(
                    e.datepicker,
                    [this].concat(i)
                  )
                : e.datepicker._attachDatepicker(this, t);
            })
        : e.datepicker["_" + t + "Datepicker"].apply(
            e.datepicker,
            [this[0]].concat(i)
          );
    }),
    (e.datepicker = new i()),
    (e.datepicker.initialized = !1),
    (e.datepicker.uuid = new Date().getTime()),
    (e.datepicker.version = "1.10.4");
})(jQuery);
(function (e) {
  var t = {
      buttons: !0,
      height: !0,
      maxHeight: !0,
      maxWidth: !0,
      minHeight: !0,
      minWidth: !0,
      width: !0,
    },
    i = { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 };
  e.widget("ui.dialog", {
    version: "1.10.4",
    options: {
      appendTo: "body",
      autoOpen: !0,
      buttons: [],
      closeOnEscape: !0,
      closeText: "close",
      dialogClass: "",
      draggable: !0,
      hide: null,
      height: "auto",
      maxHeight: null,
      maxWidth: null,
      minHeight: 150,
      minWidth: 150,
      modal: !1,
      position: {
        my: "center",
        at: "center",
        of: window,
        collision: "fit",
        using: function (t) {
          var i = e(this).css(t).offset().top;
          0 > i && e(this).css("top", t.top - i);
        },
      },
      resizable: !0,
      show: null,
      title: null,
      width: 300,
      beforeClose: null,
      close: null,
      drag: null,
      dragStart: null,
      dragStop: null,
      focus: null,
      open: null,
      resize: null,
      resizeStart: null,
      resizeStop: null,
    },
    _create: function () {
      (this.originalCss = {
        display: this.element[0].style.display,
        width: this.element[0].style.width,
        minHeight: this.element[0].style.minHeight,
        maxHeight: this.element[0].style.maxHeight,
        height: this.element[0].style.height,
      }),
        (this.originalPosition = {
          parent: this.element.parent(),
          index: this.element.parent().children().index(this.element),
        }),
        (this.originalTitle = this.element.attr("title")),
        (this.options.title = this.options.title || this.originalTitle),
        this._createWrapper(),
        this.element
          .show()
          .removeAttr("title")
          .addClass("ui-dialog-content ui-widget-content")
          .appendTo(this.uiDialog),
        this._createTitlebar(),
        this._createButtonPane(),
        this.options.draggable && e.fn.draggable && this._makeDraggable(),
        this.options.resizable && e.fn.resizable && this._makeResizable(),
        (this._isOpen = !1);
    },
    _init: function () {
      this.options.autoOpen && this.open();
    },
    _appendTo: function () {
      var t = this.options.appendTo;
      return t && (t.jquery || t.nodeType)
        ? e(t)
        : this.document.find(t || "body").eq(0);
    },
    _destroy: function () {
      var e,
        t = this.originalPosition;
      this._destroyOverlay(),
        this.element
          .removeUniqueId()
          .removeClass("ui-dialog-content ui-widget-content")
          .css(this.originalCss)
          .detach(),
        this.uiDialog.stop(!0, !0).remove(),
        this.originalTitle && this.element.attr("title", this.originalTitle),
        (e = t.parent.children().eq(t.index)),
        e.length && e[0] !== this.element[0]
          ? e.before(this.element)
          : t.parent.append(this.element);
    },
    widget: function () {
      return this.uiDialog;
    },
    disable: e.noop,
    enable: e.noop,
    close: function (t) {
      var i,
        a = this;
      if (this._isOpen && this._trigger("beforeClose", t) !== !1) {
        if (
          ((this._isOpen = !1),
          this._destroyOverlay(),
          !this.opener.filter(":focusable").focus().length)
        )
          try {
            (i = this.document[0].activeElement),
              i && "body" !== i.nodeName.toLowerCase() && e(i).blur();
          } catch (s) {}
        this._hide(this.uiDialog, this.options.hide, function () {
          a._trigger("close", t);
        });
      }
    },
    isOpen: function () {
      return this._isOpen;
    },
    moveToTop: function () {
      this._moveToTop();
    },
    _moveToTop: function (e, t) {
      var i = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog)
        .length;
      return i && !t && this._trigger("focus", e), i;
    },
    open: function () {
      var t = this;
      return this._isOpen
        ? (this._moveToTop() && this._focusTabbable(), undefined)
        : ((this._isOpen = !0),
          (this.opener = e(this.document[0].activeElement)),
          this._size(),
          this._position(),
          this._createOverlay(),
          this._moveToTop(null, !0),
          this._show(this.uiDialog, this.options.show, function () {
            t._focusTabbable(), t._trigger("focus");
          }),
          this._trigger("open"),
          undefined);
    },
    _focusTabbable: function () {
      var e = this.element.find("[autofocus]");
      e.length || (e = this.element.find(":tabbable")),
        e.length || (e = this.uiDialogButtonPane.find(":tabbable")),
        e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")),
        e.length || (e = this.uiDialog),
        e.eq(0).focus();
    },
    _keepFocus: function (t) {
      function i() {
        var t = this.document[0].activeElement,
          i = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);
        i || this._focusTabbable();
      }
      t.preventDefault(), i.call(this), this._delay(i);
    },
    _createWrapper: function () {
      (this.uiDialog = e("<div>")
        .addClass(
          "ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " +
            this.options.dialogClass
        )
        .hide()
        .attr({ tabIndex: -1, role: "dialog" })
        .appendTo(this._appendTo())),
        this._on(this.uiDialog, {
          keydown: function (t) {
            if (
              this.options.closeOnEscape &&
              !t.isDefaultPrevented() &&
              t.keyCode &&
              t.keyCode === e.ui.keyCode.ESCAPE
            )
              return t.preventDefault(), this.close(t), undefined;
            if (t.keyCode === e.ui.keyCode.TAB) {
              var i = this.uiDialog.find(":tabbable"),
                a = i.filter(":first"),
                s = i.filter(":last");
              (t.target !== s[0] && t.target !== this.uiDialog[0]) || t.shiftKey
                ? (t.target !== a[0] && t.target !== this.uiDialog[0]) ||
                  !t.shiftKey ||
                  (s.focus(1), t.preventDefault())
                : (a.focus(1), t.preventDefault());
            }
          },
          mousedown: function (e) {
            this._moveToTop(e) && this._focusTabbable();
          },
        }),
        this.element.find("[aria-describedby]").length ||
          this.uiDialog.attr({
            "aria-describedby": this.element.uniqueId().attr("id"),
          });
    },
    _createTitlebar: function () {
      var t;
      (this.uiDialogTitlebar = e("<div>")
        .addClass(
          "ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"
        )
        .prependTo(this.uiDialog)),
        this._on(this.uiDialogTitlebar, {
          mousedown: function (t) {
            e(t.target).closest(".ui-dialog-titlebar-close") ||
              this.uiDialog.focus();
          },
        }),
        (this.uiDialogTitlebarClose = e("<button type='button'></button>")
          .button({
            label: this.options.closeText,
            icons: { primary: "ui-icon-closethick" },
            text: !1,
          })
          .addClass("ui-dialog-titlebar-close")
          .appendTo(this.uiDialogTitlebar)),
        this._on(this.uiDialogTitlebarClose, {
          click: function (e) {
            e.preventDefault(), this.close(e);
          },
        }),
        (t = e("<span>")
          .uniqueId()
          .addClass("ui-dialog-title")
          .prependTo(this.uiDialogTitlebar)),
        this._title(t),
        this.uiDialog.attr({ "aria-labelledby": t.attr("id") });
    },
    _title: function (e) {
      this.options.title || e.html("&#160;"), e.text(this.options.title);
    },
    _createButtonPane: function () {
      (this.uiDialogButtonPane = e("<div>").addClass(
        "ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"
      )),
        (this.uiButtonSet = e("<div>")
          .addClass("ui-dialog-buttonset")
          .appendTo(this.uiDialogButtonPane)),
        this._createButtons();
    },
    _createButtons: function () {
      var t = this,
        i = this.options.buttons;
      return (
        this.uiDialogButtonPane.remove(),
        this.uiButtonSet.empty(),
        e.isEmptyObject(i) || (e.isArray(i) && !i.length)
          ? (this.uiDialog.removeClass("ui-dialog-buttons"), undefined)
          : (e.each(i, function (i, a) {
              var s, n;
              (a = e.isFunction(a) ? { click: a, text: i } : a),
                (a = e.extend({ type: "button" }, a)),
                (s = a.click),
                (a.click = function () {
                  s.apply(t.element[0], arguments);
                }),
                (n = { icons: a.icons, text: a.showText }),
                delete a.icons,
                delete a.showText,
                e("<button></button>", a).button(n).appendTo(t.uiButtonSet);
            }),
            this.uiDialog.addClass("ui-dialog-buttons"),
            this.uiDialogButtonPane.appendTo(this.uiDialog),
            undefined)
      );
    },
    _makeDraggable: function () {
      function t(e) {
        return { position: e.position, offset: e.offset };
      }
      var i = this,
        a = this.options;
      this.uiDialog.draggable({
        cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
        handle: ".ui-dialog-titlebar",
        containment: "document",
        start: function (a, s) {
          e(this).addClass("ui-dialog-dragging"),
            i._blockFrames(),
            i._trigger("dragStart", a, t(s));
        },
        drag: function (e, a) {
          i._trigger("drag", e, t(a));
        },
        stop: function (s, n) {
          (a.position = [
            n.position.left - i.document.scrollLeft(),
            n.position.top - i.document.scrollTop(),
          ]),
            e(this).removeClass("ui-dialog-dragging"),
            i._unblockFrames(),
            i._trigger("dragStop", s, t(n));
        },
      });
    },
    _makeResizable: function () {
      function t(e) {
        return {
          originalPosition: e.originalPosition,
          originalSize: e.originalSize,
          position: e.position,
          size: e.size,
        };
      }
      var i = this,
        a = this.options,
        s = a.resizable,
        n = this.uiDialog.css("position"),
        r = "string" == typeof s ? s : "n,e,s,w,se,sw,ne,nw";
      this.uiDialog
        .resizable({
          cancel: ".ui-dialog-content",
          containment: "document",
          alsoResize: this.element,
          maxWidth: a.maxWidth,
          maxHeight: a.maxHeight,
          minWidth: a.minWidth,
          minHeight: this._minHeight(),
          handles: r,
          start: function (a, s) {
            e(this).addClass("ui-dialog-resizing"),
              i._blockFrames(),
              i._trigger("resizeStart", a, t(s));
          },
          resize: function (e, a) {
            i._trigger("resize", e, t(a));
          },
          stop: function (s, n) {
            (a.height = e(this).height()),
              (a.width = e(this).width()),
              e(this).removeClass("ui-dialog-resizing"),
              i._unblockFrames(),
              i._trigger("resizeStop", s, t(n));
          },
        })
        .css("position", n);
    },
    _minHeight: function () {
      var e = this.options;
      return "auto" === e.height
        ? e.minHeight
        : Math.min(e.minHeight, e.height);
    },
    _position: function () {
      var e = this.uiDialog.is(":visible");
      e || this.uiDialog.show(),
        this.uiDialog.position(this.options.position),
        e || this.uiDialog.hide();
    },
    _setOptions: function (a) {
      var s = this,
        n = !1,
        r = {};
      e.each(a, function (e, a) {
        s._setOption(e, a), e in t && (n = !0), e in i && (r[e] = a);
      }),
        n && (this._size(), this._position()),
        this.uiDialog.is(":data(ui-resizable)") &&
          this.uiDialog.resizable("option", r);
    },
    _setOption: function (e, t) {
      var i,
        a,
        s = this.uiDialog;
      "dialogClass" === e &&
        s.removeClass(this.options.dialogClass).addClass(t),
        "disabled" !== e &&
          (this._super(e, t),
          "appendTo" === e && this.uiDialog.appendTo(this._appendTo()),
          "buttons" === e && this._createButtons(),
          "closeText" === e &&
            this.uiDialogTitlebarClose.button({ label: "" + t }),
          "draggable" === e &&
            ((i = s.is(":data(ui-draggable)")),
            i && !t && s.draggable("destroy"),
            !i && t && this._makeDraggable()),
          "position" === e && this._position(),
          "resizable" === e &&
            ((a = s.is(":data(ui-resizable)")),
            a && !t && s.resizable("destroy"),
            a && "string" == typeof t && s.resizable("option", "handles", t),
            a || t === !1 || this._makeResizable()),
          "title" === e &&
            this._title(this.uiDialogTitlebar.find(".ui-dialog-title")));
    },
    _size: function () {
      var e,
        t,
        i,
        a = this.options;
      this.element
        .show()
        .css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }),
        a.minWidth > a.width && (a.width = a.minWidth),
        (e = this.uiDialog
          .css({ height: "auto", width: a.width })
          .outerHeight()),
        (t = Math.max(0, a.minHeight - e)),
        (i =
          "number" == typeof a.maxHeight
            ? Math.max(0, a.maxHeight - e)
            : "none"),
        "auto" === a.height
          ? this.element.css({ minHeight: t, maxHeight: i, height: "auto" })
          : this.element.height(Math.max(0, a.height - e)),
        this.uiDialog.is(":data(ui-resizable)") &&
          this.uiDialog.resizable("option", "minHeight", this._minHeight());
    },
    _blockFrames: function () {
      this.iframeBlocks = this.document.find("iframe").map(function () {
        var t = e(this);
        return e("<div>")
          .css({
            position: "absolute",
            width: t.outerWidth(),
            height: t.outerHeight(),
          })
          .appendTo(t.parent())
          .offset(t.offset())[0];
      });
    },
    _unblockFrames: function () {
      this.iframeBlocks &&
        (this.iframeBlocks.remove(), delete this.iframeBlocks);
    },
    _allowInteraction: function (t) {
      return e(t.target).closest(".ui-dialog").length
        ? !0
        : !!e(t.target).closest(".ui-datepicker").length;
    },
    _createOverlay: function () {
      if (this.options.modal) {
        var t = this,
          i = this.widgetFullName;
        e.ui.dialog.overlayInstances ||
          this._delay(function () {
            e.ui.dialog.overlayInstances &&
              this.document.bind("focusin.dialog", function (a) {
                t._allowInteraction(a) ||
                  (a.preventDefault(),
                  e(".ui-dialog:visible:last .ui-dialog-content")
                    .data(i)
                    ._focusTabbable());
              });
          }),
          (this.overlay = e("<div>")
            .addClass("ui-widget-overlay ui-front")
            .appendTo(this._appendTo())),
          this._on(this.overlay, { mousedown: "_keepFocus" }),
          e.ui.dialog.overlayInstances++;
      }
    },
    _destroyOverlay: function () {
      this.options.modal &&
        this.overlay &&
        (e.ui.dialog.overlayInstances--,
        e.ui.dialog.overlayInstances || this.document.unbind("focusin.dialog"),
        this.overlay.remove(),
        (this.overlay = null));
    },
  }),
    (e.ui.dialog.overlayInstances = 0),
    e.uiBackCompat !== !1 &&
      e.widget("ui.dialog", e.ui.dialog, {
        _position: function () {
          var t,
            i = this.options.position,
            a = [],
            s = [0, 0];
          i
            ? (("string" == typeof i || ("object" == typeof i && "0" in i)) &&
                ((a = i.split ? i.split(" ") : [i[0], i[1]]),
                1 === a.length && (a[1] = a[0]),
                e.each(["left", "top"], function (e, t) {
                  +a[e] === a[e] && ((s[e] = a[e]), (a[e] = t));
                }),
                (i = {
                  my:
                    a[0] +
                    (0 > s[0] ? s[0] : "+" + s[0]) +
                    " " +
                    a[1] +
                    (0 > s[1] ? s[1] : "+" + s[1]),
                  at: a.join(" "),
                })),
              (i = e.extend({}, e.ui.dialog.prototype.options.position, i)))
            : (i = e.ui.dialog.prototype.options.position),
            (t = this.uiDialog.is(":visible")),
            t || this.uiDialog.show(),
            this.uiDialog.position(i),
            t || this.uiDialog.hide();
        },
      });
})(jQuery);
(function (t) {
  t.widget("ui.menu", {
    version: "1.10.4",
    defaultElement: "<ul>",
    delay: 300,
    options: {
      icons: { submenu: "ui-icon-carat-1-e" },
      menus: "ul",
      position: { my: "left top", at: "right top" },
      role: "menu",
      blur: null,
      focus: null,
      select: null,
    },
    _create: function () {
      (this.activeMenu = this.element),
        (this.mouseHandled = !1),
        this.element
          .uniqueId()
          .addClass("ui-menu ui-widget ui-widget-content ui-corner-all")
          .toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length)
          .attr({ role: this.options.role, tabIndex: 0 })
          .bind(
            "click" + this.eventNamespace,
            t.proxy(function (t) {
              this.options.disabled && t.preventDefault();
            }, this)
          ),
        this.options.disabled &&
          this.element
            .addClass("ui-state-disabled")
            .attr("aria-disabled", "true"),
        this._on({
          "mousedown .ui-menu-item > a": function (t) {
            t.preventDefault();
          },
          "click .ui-state-disabled > a": function (t) {
            t.preventDefault();
          },
          "click .ui-menu-item:has(a)": function (e) {
            var i = t(e.target).closest(".ui-menu-item");
            !this.mouseHandled &&
              i.not(".ui-state-disabled").length &&
              (this.select(e),
              e.isPropagationStopped() || (this.mouseHandled = !0),
              i.has(".ui-menu").length
                ? this.expand(e)
                : !this.element.is(":focus") &&
                  t(this.document[0].activeElement).closest(".ui-menu")
                    .length &&
                  (this.element.trigger("focus", [!0]),
                  this.active &&
                    1 === this.active.parents(".ui-menu").length &&
                    clearTimeout(this.timer)));
          },
          "mouseenter .ui-menu-item": function (e) {
            var i = t(e.currentTarget);
            i
              .siblings()
              .children(".ui-state-active")
              .removeClass("ui-state-active"),
              this.focus(e, i);
          },
          mouseleave: "collapseAll",
          "mouseleave .ui-menu": "collapseAll",
          focus: function (t, e) {
            var i = this.active || this.element.children(".ui-menu-item").eq(0);
            e || this.focus(t, i);
          },
          blur: function (e) {
            this._delay(function () {
              t.contains(this.element[0], this.document[0].activeElement) ||
                this.collapseAll(e);
            });
          },
          keydown: "_keydown",
        }),
        this.refresh(),
        this._on(this.document, {
          click: function (e) {
            t(e.target).closest(".ui-menu").length || this.collapseAll(e),
              (this.mouseHandled = !1);
          },
        });
    },
    _destroy: function () {
      this.element
        .removeAttr("aria-activedescendant")
        .find(".ui-menu")
        .addBack()
        .removeClass(
          "ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons"
        )
        .removeAttr("role")
        .removeAttr("tabIndex")
        .removeAttr("aria-labelledby")
        .removeAttr("aria-expanded")
        .removeAttr("aria-hidden")
        .removeAttr("aria-disabled")
        .removeUniqueId()
        .show(),
        this.element
          .find(".ui-menu-item")
          .removeClass("ui-menu-item")
          .removeAttr("role")
          .removeAttr("aria-disabled")
          .children("a")
          .removeUniqueId()
          .removeClass("ui-corner-all ui-state-hover")
          .removeAttr("tabIndex")
          .removeAttr("role")
          .removeAttr("aria-haspopup")
          .children()
          .each(function () {
            var e = t(this);
            e.data("ui-menu-submenu-carat") && e.remove();
          }),
        this.element
          .find(".ui-menu-divider")
          .removeClass("ui-menu-divider ui-widget-content");
    },
    _keydown: function (e) {
      function i(t) {
        return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
      }
      var s,
        n,
        a,
        o,
        r,
        l = !0;
      switch (e.keyCode) {
        case t.ui.keyCode.PAGE_UP:
          this.previousPage(e);
          break;
        case t.ui.keyCode.PAGE_DOWN:
          this.nextPage(e);
          break;
        case t.ui.keyCode.HOME:
          this._move("first", "first", e);
          break;
        case t.ui.keyCode.END:
          this._move("last", "last", e);
          break;
        case t.ui.keyCode.UP:
          this.previous(e);
          break;
        case t.ui.keyCode.DOWN:
          this.next(e);
          break;
        case t.ui.keyCode.LEFT:
          this.collapse(e);
          break;
        case t.ui.keyCode.RIGHT:
          this.active &&
            !this.active.is(".ui-state-disabled") &&
            this.expand(e);
          break;
        case t.ui.keyCode.ENTER:
        case t.ui.keyCode.SPACE:
          this._activate(e);
          break;
        case t.ui.keyCode.ESCAPE:
          this.collapse(e);
          break;
        default:
          (l = !1),
            (n = this.previousFilter || ""),
            (a = String.fromCharCode(e.keyCode)),
            (o = !1),
            clearTimeout(this.filterTimer),
            a === n ? (o = !0) : (a = n + a),
            (r = RegExp("^" + i(a), "i")),
            (s = this.activeMenu.children(".ui-menu-item").filter(function () {
              return r.test(t(this).children("a").text());
            })),
            (s =
              o && -1 !== s.index(this.active.next())
                ? this.active.nextAll(".ui-menu-item")
                : s),
            s.length ||
              ((a = String.fromCharCode(e.keyCode)),
              (r = RegExp("^" + i(a), "i")),
              (s = this.activeMenu
                .children(".ui-menu-item")
                .filter(function () {
                  return r.test(t(this).children("a").text());
                }))),
            s.length
              ? (this.focus(e, s),
                s.length > 1
                  ? ((this.previousFilter = a),
                    (this.filterTimer = this._delay(function () {
                      delete this.previousFilter;
                    }, 1e3)))
                  : delete this.previousFilter)
              : delete this.previousFilter;
      }
      l && e.preventDefault();
    },
    _activate: function (t) {
      this.active.is(".ui-state-disabled") ||
        (this.active.children("a[aria-haspopup='true']").length
          ? this.expand(t)
          : this.select(t));
    },
    refresh: function () {
      var e,
        i = this.options.icons.submenu,
        s = this.element.find(this.options.menus);
      this.element.toggleClass(
        "ui-menu-icons",
        !!this.element.find(".ui-icon").length
      ),
        s
          .filter(":not(.ui-menu)")
          .addClass("ui-menu ui-widget ui-widget-content ui-corner-all")
          .hide()
          .attr({
            role: this.options.role,
            "aria-hidden": "true",
            "aria-expanded": "false",
          })
          .each(function () {
            var e = t(this),
              s = e.prev("a"),
              n = t("<span>")
                .addClass("ui-menu-icon ui-icon " + i)
                .data("ui-menu-submenu-carat", !0);
            s.attr("aria-haspopup", "true").prepend(n),
              e.attr("aria-labelledby", s.attr("id"));
          }),
        (e = s.add(this.element)),
        e
          .children(":not(.ui-menu-item):has(a)")
          .addClass("ui-menu-item")
          .attr("role", "presentation")
          .children("a")
          .uniqueId()
          .addClass("ui-corner-all")
          .attr({ tabIndex: -1, role: this._itemRole() }),
        e.children(":not(.ui-menu-item)").each(function () {
          var e = t(this);
          /[^\-\u2014\u2013\s]/.test(e.text()) ||
            e.addClass("ui-widget-content ui-menu-divider");
        }),
        e.children(".ui-state-disabled").attr("aria-disabled", "true"),
        this.active &&
          !t.contains(this.element[0], this.active[0]) &&
          this.blur();
    },
    _itemRole: function () {
      return { menu: "menuitem", listbox: "option" }[this.options.role];
    },
    _setOption: function (t, e) {
      "icons" === t &&
        this.element
          .find(".ui-menu-icon")
          .removeClass(this.options.icons.submenu)
          .addClass(e.submenu),
        this._super(t, e);
    },
    focus: function (t, e) {
      var i, s;
      this.blur(t, t && "focus" === t.type),
        this._scrollIntoView(e),
        (this.active = e.first()),
        (s = this.active.children("a").addClass("ui-state-focus")),
        this.options.role &&
          this.element.attr("aria-activedescendant", s.attr("id")),
        this.active
          .parent()
          .closest(".ui-menu-item")
          .children("a:first")
          .addClass("ui-state-active"),
        t && "keydown" === t.type
          ? this._close()
          : (this.timer = this._delay(function () {
              this._close();
            }, this.delay)),
        (i = e.children(".ui-menu")),
        i.length && t && /^mouse/.test(t.type) && this._startOpening(i),
        (this.activeMenu = e.parent()),
        this._trigger("focus", t, { item: e });
    },
    _scrollIntoView: function (e) {
      var i, s, n, a, o, r;
      this._hasScroll() &&
        ((i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0),
        (s = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0),
        (n = e.offset().top - this.activeMenu.offset().top - i - s),
        (a = this.activeMenu.scrollTop()),
        (o = this.activeMenu.height()),
        (r = e.height()),
        0 > n
          ? this.activeMenu.scrollTop(a + n)
          : n + r > o && this.activeMenu.scrollTop(a + n - o + r));
    },
    blur: function (t, e) {
      e || clearTimeout(this.timer),
        this.active &&
          (this.active.children("a").removeClass("ui-state-focus"),
          (this.active = null),
          this._trigger("blur", t, { item: this.active }));
    },
    _startOpening: function (t) {
      clearTimeout(this.timer),
        "true" === t.attr("aria-hidden") &&
          (this.timer = this._delay(function () {
            this._close(), this._open(t);
          }, this.delay));
    },
    _open: function (e) {
      var i = t.extend({ of: this.active }, this.options.position);
      clearTimeout(this.timer),
        this.element
          .find(".ui-menu")
          .not(e.parents(".ui-menu"))
          .hide()
          .attr("aria-hidden", "true"),
        e
          .show()
          .removeAttr("aria-hidden")
          .attr("aria-expanded", "true")
          .position(i);
    },
    collapseAll: function (e, i) {
      clearTimeout(this.timer),
        (this.timer = this._delay(function () {
          var s = i
            ? this.element
            : t(e && e.target).closest(this.element.find(".ui-menu"));
          s.length || (s = this.element),
            this._close(s),
            this.blur(e),
            (this.activeMenu = s);
        }, this.delay));
    },
    _close: function (t) {
      t || (t = this.active ? this.active.parent() : this.element),
        t
          .find(".ui-menu")
          .hide()
          .attr("aria-hidden", "true")
          .attr("aria-expanded", "false")
          .end()
          .find("a.ui-state-active")
          .removeClass("ui-state-active");
    },
    collapse: function (t) {
      var e =
        this.active &&
        this.active.parent().closest(".ui-menu-item", this.element);
      e && e.length && (this._close(), this.focus(t, e));
    },
    expand: function (t) {
      var e =
        this.active &&
        this.active.children(".ui-menu ").children(".ui-menu-item").first();
      e &&
        e.length &&
        (this._open(e.parent()),
        this._delay(function () {
          this.focus(t, e);
        }));
    },
    next: function (t) {
      this._move("next", "first", t);
    },
    previous: function (t) {
      this._move("prev", "last", t);
    },
    isFirstItem: function () {
      return this.active && !this.active.prevAll(".ui-menu-item").length;
    },
    isLastItem: function () {
      return this.active && !this.active.nextAll(".ui-menu-item").length;
    },
    _move: function (t, e, i) {
      var s;
      this.active &&
        (s =
          "first" === t || "last" === t
            ? this.active["first" === t ? "prevAll" : "nextAll"](
                ".ui-menu-item"
              ).eq(-1)
            : this.active[t + "All"](".ui-menu-item").eq(0)),
        (s && s.length && this.active) ||
          (s = this.activeMenu.children(".ui-menu-item")[e]()),
        this.focus(i, s);
    },
    nextPage: function (e) {
      var i, s, n;
      return this.active
        ? (this.isLastItem() ||
            (this._hasScroll()
              ? ((s = this.active.offset().top),
                (n = this.element.height()),
                this.active.nextAll(".ui-menu-item").each(function () {
                  return (i = t(this)), 0 > i.offset().top - s - n;
                }),
                this.focus(e, i))
              : this.focus(
                  e,
                  this.activeMenu
                    .children(".ui-menu-item")
                    [this.active ? "last" : "first"]()
                )),
          undefined)
        : (this.next(e), undefined);
    },
    previousPage: function (e) {
      var i, s, n;
      return this.active
        ? (this.isFirstItem() ||
            (this._hasScroll()
              ? ((s = this.active.offset().top),
                (n = this.element.height()),
                this.active.prevAll(".ui-menu-item").each(function () {
                  return (i = t(this)), i.offset().top - s + n > 0;
                }),
                this.focus(e, i))
              : this.focus(
                  e,
                  this.activeMenu.children(".ui-menu-item").first()
                )),
          undefined)
        : (this.next(e), undefined);
    },
    _hasScroll: function () {
      return this.element.outerHeight() < this.element.prop("scrollHeight");
    },
    select: function (e) {
      this.active = this.active || t(e.target).closest(".ui-menu-item");
      var i = { item: this.active };
      this.active.has(".ui-menu").length || this.collapseAll(e, !0),
        this._trigger("select", e, i);
    },
  });
})(jQuery);
(function (t, e) {
  t.widget("ui.progressbar", {
    version: "1.10.4",
    options: { max: 100, value: 0, change: null, complete: null },
    min: 0,
    _create: function () {
      (this.oldValue = this.options.value = this._constrainedValue()),
        this.element
          .addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all")
          .attr({ role: "progressbar", "aria-valuemin": this.min }),
        (this.valueDiv = t(
          "<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>"
        ).appendTo(this.element)),
        this._refreshValue();
    },
    _destroy: function () {
      this.element
        .removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all")
        .removeAttr("role")
        .removeAttr("aria-valuemin")
        .removeAttr("aria-valuemax")
        .removeAttr("aria-valuenow"),
        this.valueDiv.remove();
    },
    value: function (t) {
      return t === e
        ? this.options.value
        : ((this.options.value = this._constrainedValue(t)),
          this._refreshValue(),
          e);
    },
    _constrainedValue: function (t) {
      return (
        t === e && (t = this.options.value),
        (this.indeterminate = t === !1),
        "number" != typeof t && (t = 0),
        this.indeterminate
          ? !1
          : Math.min(this.options.max, Math.max(this.min, t))
      );
    },
    _setOptions: function (t) {
      var e = t.value;
      delete t.value,
        this._super(t),
        (this.options.value = this._constrainedValue(e)),
        this._refreshValue();
    },
    _setOption: function (t, e) {
      "max" === t && (e = Math.max(this.min, e)), this._super(t, e);
    },
    _percentage: function () {
      return this.indeterminate
        ? 100
        : (100 * (this.options.value - this.min)) /
            (this.options.max - this.min);
    },
    _refreshValue: function () {
      var e = this.options.value,
        i = this._percentage();
      this.valueDiv
        .toggle(this.indeterminate || e > this.min)
        .toggleClass("ui-corner-right", e === this.options.max)
        .width(i.toFixed(0) + "%"),
        this.element.toggleClass(
          "ui-progressbar-indeterminate",
          this.indeterminate
        ),
        this.indeterminate
          ? (this.element.removeAttr("aria-valuenow"),
            this.overlayDiv ||
              (this.overlayDiv = t(
                "<div class='ui-progressbar-overlay'></div>"
              ).appendTo(this.valueDiv)))
          : (this.element.attr({
              "aria-valuemax": this.options.max,
              "aria-valuenow": e,
            }),
            this.overlayDiv &&
              (this.overlayDiv.remove(), (this.overlayDiv = null))),
        this.oldValue !== e && ((this.oldValue = e), this._trigger("change")),
        e === this.options.max && this._trigger("complete");
    },
  });
})(jQuery);
(function (t) {
  var e = 5;
  t.widget("ui.slider", t.ui.mouse, {
    version: "1.10.4",
    widgetEventPrefix: "slide",
    options: {
      animate: !1,
      distance: 0,
      max: 100,
      min: 0,
      orientation: "horizontal",
      range: !1,
      step: 1,
      value: 0,
      values: null,
      change: null,
      slide: null,
      start: null,
      stop: null,
    },
    _create: function () {
      (this._keySliding = !1),
        (this._mouseSliding = !1),
        (this._animateOff = !0),
        (this._handleIndex = null),
        this._detectOrientation(),
        this._mouseInit(),
        this.element.addClass(
          "ui-slider ui-slider-" +
            this.orientation +
            " ui-widget" +
            " ui-widget-content" +
            " ui-corner-all"
        ),
        this._refresh(),
        this._setOption("disabled", this.options.disabled),
        (this._animateOff = !1);
    },
    _refresh: function () {
      this._createRange(),
        this._createHandles(),
        this._setupEvents(),
        this._refreshValue();
    },
    _createHandles: function () {
      var e,
        i,
        s = this.options,
        n = this.element
          .find(".ui-slider-handle")
          .addClass("ui-state-default ui-corner-all"),
        a =
          "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
        o = [];
      for (
        i = (s.values && s.values.length) || 1,
          n.length > i && (n.slice(i).remove(), (n = n.slice(0, i))),
          e = n.length;
        i > e;
        e++
      )
        o.push(a);
      (this.handles = n.add(t(o.join("")).appendTo(this.element))),
        (this.handle = this.handles.eq(0)),
        this.handles.each(function (e) {
          t(this).data("ui-slider-handle-index", e);
        });
    },
    _createRange: function () {
      var e = this.options,
        i = "";
      e.range
        ? (e.range === !0 &&
            (e.values
              ? e.values.length && 2 !== e.values.length
                ? (e.values = [e.values[0], e.values[0]])
                : t.isArray(e.values) && (e.values = e.values.slice(0))
              : (e.values = [this._valueMin(), this._valueMin()])),
          this.range && this.range.length
            ? this.range
                .removeClass("ui-slider-range-min ui-slider-range-max")
                .css({ left: "", bottom: "" })
            : ((this.range = t("<div></div>").appendTo(this.element)),
              (i = "ui-slider-range ui-widget-header ui-corner-all")),
          this.range.addClass(
            i +
              ("min" === e.range || "max" === e.range
                ? " ui-slider-range-" + e.range
                : "")
          ))
        : (this.range && this.range.remove(), (this.range = null));
    },
    _setupEvents: function () {
      var t = this.handles.add(this.range).filter("a");
      this._off(t),
        this._on(t, this._handleEvents),
        this._hoverable(t),
        this._focusable(t);
    },
    _destroy: function () {
      this.handles.remove(),
        this.range && this.range.remove(),
        this.element.removeClass(
          "ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"
        ),
        this._mouseDestroy();
    },
    _mouseCapture: function (e) {
      var i,
        s,
        n,
        a,
        o,
        r,
        l,
        h,
        u = this,
        c = this.options;
      return c.disabled
        ? !1
        : ((this.elementSize = {
            width: this.element.outerWidth(),
            height: this.element.outerHeight(),
          }),
          (this.elementOffset = this.element.offset()),
          (i = { x: e.pageX, y: e.pageY }),
          (s = this._normValueFromMouse(i)),
          (n = this._valueMax() - this._valueMin() + 1),
          this.handles.each(function (e) {
            var i = Math.abs(s - u.values(e));
            (n > i ||
              (n === i &&
                (e === u._lastChangedValue || u.values(e) === c.min))) &&
              ((n = i), (a = t(this)), (o = e));
          }),
          (r = this._start(e, o)),
          r === !1
            ? !1
            : ((this._mouseSliding = !0),
              (this._handleIndex = o),
              a.addClass("ui-state-active").focus(),
              (l = a.offset()),
              (h = !t(e.target).parents().addBack().is(".ui-slider-handle")),
              (this._clickOffset = h
                ? { left: 0, top: 0 }
                : {
                    left: e.pageX - l.left - a.width() / 2,
                    top:
                      e.pageY -
                      l.top -
                      a.height() / 2 -
                      (parseInt(a.css("borderTopWidth"), 10) || 0) -
                      (parseInt(a.css("borderBottomWidth"), 10) || 0) +
                      (parseInt(a.css("marginTop"), 10) || 0),
                  }),
              this.handles.hasClass("ui-state-hover") || this._slide(e, o, s),
              (this._animateOff = !0),
              !0));
    },
    _mouseStart: function () {
      return !0;
    },
    _mouseDrag: function (t) {
      var e = { x: t.pageX, y: t.pageY },
        i = this._normValueFromMouse(e);
      return this._slide(t, this._handleIndex, i), !1;
    },
    _mouseStop: function (t) {
      return (
        this.handles.removeClass("ui-state-active"),
        (this._mouseSliding = !1),
        this._stop(t, this._handleIndex),
        this._change(t, this._handleIndex),
        (this._handleIndex = null),
        (this._clickOffset = null),
        (this._animateOff = !1),
        !1
      );
    },
    _detectOrientation: function () {
      this.orientation =
        "vertical" === this.options.orientation ? "vertical" : "horizontal";
    },
    _normValueFromMouse: function (t) {
      var e, i, s, n, a;
      return (
        "horizontal" === this.orientation
          ? ((e = this.elementSize.width),
            (i =
              t.x -
              this.elementOffset.left -
              (this._clickOffset ? this._clickOffset.left : 0)))
          : ((e = this.elementSize.height),
            (i =
              t.y -
              this.elementOffset.top -
              (this._clickOffset ? this._clickOffset.top : 0))),
        (s = i / e),
        s > 1 && (s = 1),
        0 > s && (s = 0),
        "vertical" === this.orientation && (s = 1 - s),
        (n = this._valueMax() - this._valueMin()),
        (a = this._valueMin() + s * n),
        this._trimAlignValue(a)
      );
    },
    _start: function (t, e) {
      var i = { handle: this.handles[e], value: this.value() };
      return (
        this.options.values &&
          this.options.values.length &&
          ((i.value = this.values(e)), (i.values = this.values())),
        this._trigger("start", t, i)
      );
    },
    _slide: function (t, e, i) {
      var s, n, a;
      this.options.values && this.options.values.length
        ? ((s = this.values(e ? 0 : 1)),
          2 === this.options.values.length &&
            this.options.range === !0 &&
            ((0 === e && i > s) || (1 === e && s > i)) &&
            (i = s),
          i !== this.values(e) &&
            ((n = this.values()),
            (n[e] = i),
            (a = this._trigger("slide", t, {
              handle: this.handles[e],
              value: i,
              values: n,
            })),
            (s = this.values(e ? 0 : 1)),
            a !== !1 && this.values(e, i)))
        : i !== this.value() &&
          ((a = this._trigger("slide", t, {
            handle: this.handles[e],
            value: i,
          })),
          a !== !1 && this.value(i));
    },
    _stop: function (t, e) {
      var i = { handle: this.handles[e], value: this.value() };
      this.options.values &&
        this.options.values.length &&
        ((i.value = this.values(e)), (i.values = this.values())),
        this._trigger("stop", t, i);
    },
    _change: function (t, e) {
      if (!this._keySliding && !this._mouseSliding) {
        var i = { handle: this.handles[e], value: this.value() };
        this.options.values &&
          this.options.values.length &&
          ((i.value = this.values(e)), (i.values = this.values())),
          (this._lastChangedValue = e),
          this._trigger("change", t, i);
      }
    },
    value: function (t) {
      return arguments.length
        ? ((this.options.value = this._trimAlignValue(t)),
          this._refreshValue(),
          this._change(null, 0),
          undefined)
        : this._value();
    },
    values: function (e, i) {
      var s, n, a;
      if (arguments.length > 1)
        return (
          (this.options.values[e] = this._trimAlignValue(i)),
          this._refreshValue(),
          this._change(null, e),
          undefined
        );
      if (!arguments.length) return this._values();
      if (!t.isArray(arguments[0]))
        return this.options.values && this.options.values.length
          ? this._values(e)
          : this.value();
      for (
        s = this.options.values, n = arguments[0], a = 0;
        s.length > a;
        a += 1
      )
        (s[a] = this._trimAlignValue(n[a])), this._change(null, a);
      this._refreshValue();
    },
    _setOption: function (e, i) {
      var s,
        n = 0;
      switch (
        ("range" === e &&
          this.options.range === !0 &&
          ("min" === i
            ? ((this.options.value = this._values(0)),
              (this.options.values = null))
            : "max" === i &&
              ((this.options.value = this._values(
                this.options.values.length - 1
              )),
              (this.options.values = null))),
        t.isArray(this.options.values) && (n = this.options.values.length),
        t.Widget.prototype._setOption.apply(this, arguments),
        e)
      ) {
        case "orientation":
          this._detectOrientation(),
            this.element
              .removeClass("ui-slider-horizontal ui-slider-vertical")
              .addClass("ui-slider-" + this.orientation),
            this._refreshValue();
          break;
        case "value":
          (this._animateOff = !0),
            this._refreshValue(),
            this._change(null, 0),
            (this._animateOff = !1);
          break;
        case "values":
          for (
            this._animateOff = !0, this._refreshValue(), s = 0;
            n > s;
            s += 1
          )
            this._change(null, s);
          this._animateOff = !1;
          break;
        case "min":
        case "max":
          (this._animateOff = !0),
            this._refreshValue(),
            (this._animateOff = !1);
          break;
        case "range":
          (this._animateOff = !0), this._refresh(), (this._animateOff = !1);
      }
    },
    _value: function () {
      var t = this.options.value;
      return (t = this._trimAlignValue(t));
    },
    _values: function (t) {
      var e, i, s;
      if (arguments.length)
        return (e = this.options.values[t]), (e = this._trimAlignValue(e));
      if (this.options.values && this.options.values.length) {
        for (i = this.options.values.slice(), s = 0; i.length > s; s += 1)
          i[s] = this._trimAlignValue(i[s]);
        return i;
      }
      return [];
    },
    _trimAlignValue: function (t) {
      if (this._valueMin() >= t) return this._valueMin();
      if (t >= this._valueMax()) return this._valueMax();
      var e = this.options.step > 0 ? this.options.step : 1,
        i = (t - this._valueMin()) % e,
        s = t - i;
      return (
        2 * Math.abs(i) >= e && (s += i > 0 ? e : -e), parseFloat(s.toFixed(5))
      );
    },
    _valueMin: function () {
      return this.options.min;
    },
    _valueMax: function () {
      return this.options.max;
    },
    _refreshValue: function () {
      var e,
        i,
        s,
        n,
        a,
        o = this.options.range,
        r = this.options,
        l = this,
        h = this._animateOff ? !1 : r.animate,
        u = {};
      this.options.values && this.options.values.length
        ? this.handles.each(function (s) {
            (i =
              100 *
              ((l.values(s) - l._valueMin()) /
                (l._valueMax() - l._valueMin()))),
              (u["horizontal" === l.orientation ? "left" : "bottom"] = i + "%"),
              t(this).stop(1, 1)[h ? "animate" : "css"](u, r.animate),
              l.options.range === !0 &&
                ("horizontal" === l.orientation
                  ? (0 === s &&
                      l.range
                        .stop(1, 1)
                        [h ? "animate" : "css"]({ left: i + "%" }, r.animate),
                    1 === s &&
                      l.range[h ? "animate" : "css"](
                        { width: i - e + "%" },
                        { queue: !1, duration: r.animate }
                      ))
                  : (0 === s &&
                      l.range
                        .stop(1, 1)
                        [h ? "animate" : "css"]({ bottom: i + "%" }, r.animate),
                    1 === s &&
                      l.range[h ? "animate" : "css"](
                        { height: i - e + "%" },
                        { queue: !1, duration: r.animate }
                      ))),
              (e = i);
          })
        : ((s = this.value()),
          (n = this._valueMin()),
          (a = this._valueMax()),
          (i = a !== n ? 100 * ((s - n) / (a - n)) : 0),
          (u["horizontal" === this.orientation ? "left" : "bottom"] = i + "%"),
          this.handle.stop(1, 1)[h ? "animate" : "css"](u, r.animate),
          "min" === o &&
            "horizontal" === this.orientation &&
            this.range
              .stop(1, 1)
              [h ? "animate" : "css"]({ width: i + "%" }, r.animate),
          "max" === o &&
            "horizontal" === this.orientation &&
            this.range[h ? "animate" : "css"](
              { width: 100 - i + "%" },
              { queue: !1, duration: r.animate }
            ),
          "min" === o &&
            "vertical" === this.orientation &&
            this.range
              .stop(1, 1)
              [h ? "animate" : "css"]({ height: i + "%" }, r.animate),
          "max" === o &&
            "vertical" === this.orientation &&
            this.range[h ? "animate" : "css"](
              { height: 100 - i + "%" },
              { queue: !1, duration: r.animate }
            ));
    },
    _handleEvents: {
      keydown: function (i) {
        var s,
          n,
          a,
          o,
          r = t(i.target).data("ui-slider-handle-index");
        switch (i.keyCode) {
          case t.ui.keyCode.HOME:
          case t.ui.keyCode.END:
          case t.ui.keyCode.PAGE_UP:
          case t.ui.keyCode.PAGE_DOWN:
          case t.ui.keyCode.UP:
          case t.ui.keyCode.RIGHT:
          case t.ui.keyCode.DOWN:
          case t.ui.keyCode.LEFT:
            if (
              (i.preventDefault(),
              !this._keySliding &&
                ((this._keySliding = !0),
                t(i.target).addClass("ui-state-active"),
                (s = this._start(i, r)),
                s === !1))
            )
              return;
        }
        switch (
          ((o = this.options.step),
          (n = a =
            this.options.values && this.options.values.length
              ? this.values(r)
              : this.value()),
          i.keyCode)
        ) {
          case t.ui.keyCode.HOME:
            a = this._valueMin();
            break;
          case t.ui.keyCode.END:
            a = this._valueMax();
            break;
          case t.ui.keyCode.PAGE_UP:
            a = this._trimAlignValue(
              n + (this._valueMax() - this._valueMin()) / e
            );
            break;
          case t.ui.keyCode.PAGE_DOWN:
            a = this._trimAlignValue(
              n - (this._valueMax() - this._valueMin()) / e
            );
            break;
          case t.ui.keyCode.UP:
          case t.ui.keyCode.RIGHT:
            if (n === this._valueMax()) return;
            a = this._trimAlignValue(n + o);
            break;
          case t.ui.keyCode.DOWN:
          case t.ui.keyCode.LEFT:
            if (n === this._valueMin()) return;
            a = this._trimAlignValue(n - o);
        }
        this._slide(i, r, a);
      },
      click: function (t) {
        t.preventDefault();
      },
      keyup: function (e) {
        var i = t(e.target).data("ui-slider-handle-index");
        this._keySliding &&
          ((this._keySliding = !1),
          this._stop(e, i),
          this._change(e, i),
          t(e.target).removeClass("ui-state-active"));
      },
    },
  });
})(jQuery);
(function (t) {
  function e(t) {
    return function () {
      var e = this.element.val();
      t.apply(this, arguments),
        this._refresh(),
        e !== this.element.val() && this._trigger("change");
    };
  }
  t.widget("ui.spinner", {
    version: "1.10.4",
    defaultElement: "<input>",
    widgetEventPrefix: "spin",
    options: {
      culture: null,
      icons: { down: "ui-icon-triangle-1-s", up: "ui-icon-triangle-1-n" },
      incremental: !0,
      max: null,
      min: null,
      numberFormat: null,
      page: 10,
      step: 1,
      change: null,
      spin: null,
      start: null,
      stop: null,
    },
    _create: function () {
      this._setOption("max", this.options.max),
        this._setOption("min", this.options.min),
        this._setOption("step", this.options.step),
        "" !== this.value() && this._value(this.element.val(), !0),
        this._draw(),
        this._on(this._events),
        this._refresh(),
        this._on(this.window, {
          beforeunload: function () {
            this.element.removeAttr("autocomplete");
          },
        });
    },
    _getCreateOptions: function () {
      var e = {},
        i = this.element;
      return (
        t.each(["min", "max", "step"], function (t, s) {
          var n = i.attr(s);
          void 0 !== n && n.length && (e[s] = n);
        }),
        e
      );
    },
    _events: {
      keydown: function (t) {
        this._start(t) && this._keydown(t) && t.preventDefault();
      },
      keyup: "_stop",
      focus: function () {
        this.previous = this.element.val();
      },
      blur: function (t) {
        return this.cancelBlur
          ? (delete this.cancelBlur, void 0)
          : (this._stop(),
            this._refresh(),
            this.previous !== this.element.val() && this._trigger("change", t),
            void 0);
      },
      mousewheel: function (t, e) {
        if (e) {
          if (!this.spinning && !this._start(t)) return !1;
          this._spin((e > 0 ? 1 : -1) * this.options.step, t),
            clearTimeout(this.mousewheelTimer),
            (this.mousewheelTimer = this._delay(function () {
              this.spinning && this._stop(t);
            }, 100)),
            t.preventDefault();
        }
      },
      "mousedown .ui-spinner-button": function (e) {
        function i() {
          var t = this.element[0] === this.document[0].activeElement;
          t ||
            (this.element.focus(),
            (this.previous = s),
            this._delay(function () {
              this.previous = s;
            }));
        }
        var s;
        (s =
          this.element[0] === this.document[0].activeElement
            ? this.previous
            : this.element.val()),
          e.preventDefault(),
          i.call(this),
          (this.cancelBlur = !0),
          this._delay(function () {
            delete this.cancelBlur, i.call(this);
          }),
          this._start(e) !== !1 &&
            this._repeat(
              null,
              t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
              e
            );
      },
      "mouseup .ui-spinner-button": "_stop",
      "mouseenter .ui-spinner-button": function (e) {
        return t(e.currentTarget).hasClass("ui-state-active")
          ? this._start(e) === !1
            ? !1
            : (this._repeat(
                null,
                t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                e
              ),
              void 0)
          : void 0;
      },
      "mouseleave .ui-spinner-button": "_stop",
    },
    _draw: function () {
      var t = (this.uiSpinner = this.element
        .addClass("ui-spinner-input")
        .attr("autocomplete", "off")
        .wrap(this._uiSpinnerHtml())
        .parent()
        .append(this._buttonHtml()));
      this.element.attr("role", "spinbutton"),
        (this.buttons = t
          .find(".ui-spinner-button")
          .attr("tabIndex", -1)
          .button()
          .removeClass("ui-corner-all")),
        this.buttons.height() > Math.ceil(0.5 * t.height()) &&
          t.height() > 0 &&
          t.height(t.height()),
        this.options.disabled && this.disable();
    },
    _keydown: function (e) {
      var i = this.options,
        s = t.ui.keyCode;
      switch (e.keyCode) {
        case s.UP:
          return this._repeat(null, 1, e), !0;
        case s.DOWN:
          return this._repeat(null, -1, e), !0;
        case s.PAGE_UP:
          return this._repeat(null, i.page, e), !0;
        case s.PAGE_DOWN:
          return this._repeat(null, -i.page, e), !0;
      }
      return !1;
    },
    _uiSpinnerHtml: function () {
      return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";
    },
    _buttonHtml: function () {
      return (
        "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " +
        this.options.icons.up +
        "'>&#9650;</span>" +
        "</a>" +
        "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" +
        "<span class='ui-icon " +
        this.options.icons.down +
        "'>&#9660;</span>" +
        "</a>"
      );
    },
    _start: function (t) {
      return this.spinning || this._trigger("start", t) !== !1
        ? (this.counter || (this.counter = 1), (this.spinning = !0), !0)
        : !1;
    },
    _repeat: function (t, e, i) {
      (t = t || 500),
        clearTimeout(this.timer),
        (this.timer = this._delay(function () {
          this._repeat(40, e, i);
        }, t)),
        this._spin(e * this.options.step, i);
    },
    _spin: function (t, e) {
      var i = this.value() || 0;
      this.counter || (this.counter = 1),
        (i = this._adjustValue(i + t * this._increment(this.counter))),
        (this.spinning && this._trigger("spin", e, { value: i }) === !1) ||
          (this._value(i), this.counter++);
    },
    _increment: function (e) {
      var i = this.options.incremental;
      return i
        ? t.isFunction(i)
          ? i(e)
          : Math.floor((e * e * e) / 5e4 - (e * e) / 500 + (17 * e) / 200 + 1)
        : 1;
    },
    _precision: function () {
      var t = this._precisionOf(this.options.step);
      return (
        null !== this.options.min &&
          (t = Math.max(t, this._precisionOf(this.options.min))),
        t
      );
    },
    _precisionOf: function (t) {
      var e = "" + t,
        i = e.indexOf(".");
      return -1 === i ? 0 : e.length - i - 1;
    },
    _adjustValue: function (t) {
      var e,
        i,
        s = this.options;
      return (
        (e = null !== s.min ? s.min : 0),
        (i = t - e),
        (i = Math.round(i / s.step) * s.step),
        (t = e + i),
        (t = parseFloat(t.toFixed(this._precision()))),
        null !== s.max && t > s.max
          ? s.max
          : null !== s.min && s.min > t
          ? s.min
          : t
      );
    },
    _stop: function (t) {
      this.spinning &&
        (clearTimeout(this.timer),
        clearTimeout(this.mousewheelTimer),
        (this.counter = 0),
        (this.spinning = !1),
        this._trigger("stop", t));
    },
    _setOption: function (t, e) {
      if ("culture" === t || "numberFormat" === t) {
        var i = this._parse(this.element.val());
        return (this.options[t] = e), this.element.val(this._format(i)), void 0;
      }
      ("max" === t || "min" === t || "step" === t) &&
        "string" == typeof e &&
        (e = this._parse(e)),
        "icons" === t &&
          (this.buttons
            .first()
            .find(".ui-icon")
            .removeClass(this.options.icons.up)
            .addClass(e.up),
          this.buttons
            .last()
            .find(".ui-icon")
            .removeClass(this.options.icons.down)
            .addClass(e.down)),
        this._super(t, e),
        "disabled" === t &&
          (e
            ? (this.element.prop("disabled", !0),
              this.buttons.button("disable"))
            : (this.element.prop("disabled", !1),
              this.buttons.button("enable")));
    },
    _setOptions: e(function (t) {
      this._super(t), this._value(this.element.val());
    }),
    _parse: function (t) {
      return (
        "string" == typeof t &&
          "" !== t &&
          (t =
            window.Globalize && this.options.numberFormat
              ? Globalize.parseFloat(t, 10, this.options.culture)
              : +t),
        "" === t || isNaN(t) ? null : t
      );
    },
    _format: function (t) {
      return "" === t
        ? ""
        : window.Globalize && this.options.numberFormat
        ? Globalize.format(t, this.options.numberFormat, this.options.culture)
        : t;
    },
    _refresh: function () {
      this.element.attr({
        "aria-valuemin": this.options.min,
        "aria-valuemax": this.options.max,
        "aria-valuenow": this._parse(this.element.val()),
      });
    },
    _value: function (t, e) {
      var i;
      "" !== t &&
        ((i = this._parse(t)),
        null !== i && (e || (i = this._adjustValue(i)), (t = this._format(i)))),
        this.element.val(t),
        this._refresh();
    },
    _destroy: function () {
      this.element
        .removeClass("ui-spinner-input")
        .prop("disabled", !1)
        .removeAttr("autocomplete")
        .removeAttr("role")
        .removeAttr("aria-valuemin")
        .removeAttr("aria-valuemax")
        .removeAttr("aria-valuenow"),
        this.uiSpinner.replaceWith(this.element);
    },
    stepUp: e(function (t) {
      this._stepUp(t);
    }),
    _stepUp: function (t) {
      this._start() && (this._spin((t || 1) * this.options.step), this._stop());
    },
    stepDown: e(function (t) {
      this._stepDown(t);
    }),
    _stepDown: function (t) {
      this._start() &&
        (this._spin((t || 1) * -this.options.step), this._stop());
    },
    pageUp: e(function (t) {
      this._stepUp((t || 1) * this.options.page);
    }),
    pageDown: e(function (t) {
      this._stepDown((t || 1) * this.options.page);
    }),
    value: function (t) {
      return arguments.length
        ? (e(this._value).call(this, t), void 0)
        : this._parse(this.element.val());
    },
    widget: function () {
      return this.uiSpinner;
    },
  });
})(jQuery);
(function (t, e) {
  function i() {
    return ++n;
  }
  function s(t) {
    return (
      (t = t.cloneNode(!1)),
      t.hash.length > 1 &&
        decodeURIComponent(t.href.replace(a, "")) ===
          decodeURIComponent(location.href.replace(a, ""))
    );
  }
  var n = 0,
    a = /#.*$/;
  t.widget("ui.tabs", {
    version: "1.10.4",
    delay: 300,
    options: {
      active: null,
      collapsible: !1,
      event: "click",
      heightStyle: "content",
      hide: null,
      show: null,
      activate: null,
      beforeActivate: null,
      beforeLoad: null,
      load: null,
    },
    _create: function () {
      var e = this,
        i = this.options;
      (this.running = !1),
        this.element
          .addClass("ui-tabs ui-widget ui-widget-content ui-corner-all")
          .toggleClass("ui-tabs-collapsible", i.collapsible)
          .delegate(
            ".ui-tabs-nav > li",
            "mousedown" + this.eventNamespace,
            function (e) {
              t(this).is(".ui-state-disabled") && e.preventDefault();
            }
          )
          .delegate(
            ".ui-tabs-anchor",
            "focus" + this.eventNamespace,
            function () {
              t(this).closest("li").is(".ui-state-disabled") && this.blur();
            }
          ),
        this._processTabs(),
        (i.active = this._initialActive()),
        t.isArray(i.disabled) &&
          (i.disabled = t
            .unique(
              i.disabled.concat(
                t.map(this.tabs.filter(".ui-state-disabled"), function (t) {
                  return e.tabs.index(t);
                })
              )
            )
            .sort()),
        (this.active =
          this.options.active !== !1 && this.anchors.length
            ? this._findActive(i.active)
            : t()),
        this._refresh(),
        this.active.length && this.load(i.active);
    },
    _initialActive: function () {
      var i = this.options.active,
        s = this.options.collapsible,
        n = location.hash.substring(1);
      return (
        null === i &&
          (n &&
            this.tabs.each(function (s, a) {
              return t(a).attr("aria-controls") === n ? ((i = s), !1) : e;
            }),
          null === i &&
            (i = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
          (null === i || -1 === i) && (i = this.tabs.length ? 0 : !1)),
        i !== !1 &&
          ((i = this.tabs.index(this.tabs.eq(i))),
          -1 === i && (i = s ? !1 : 0)),
        !s && i === !1 && this.anchors.length && (i = 0),
        i
      );
    },
    _getCreateEventData: function () {
      return {
        tab: this.active,
        panel: this.active.length ? this._getPanelForTab(this.active) : t(),
      };
    },
    _tabKeydown: function (i) {
      var s = t(this.document[0].activeElement).closest("li"),
        n = this.tabs.index(s),
        a = !0;
      if (!this._handlePageNav(i)) {
        switch (i.keyCode) {
          case t.ui.keyCode.RIGHT:
          case t.ui.keyCode.DOWN:
            n++;
            break;
          case t.ui.keyCode.UP:
          case t.ui.keyCode.LEFT:
            (a = !1), n--;
            break;
          case t.ui.keyCode.END:
            n = this.anchors.length - 1;
            break;
          case t.ui.keyCode.HOME:
            n = 0;
            break;
          case t.ui.keyCode.SPACE:
            return (
              i.preventDefault(),
              clearTimeout(this.activating),
              this._activate(n),
              e
            );
          case t.ui.keyCode.ENTER:
            return (
              i.preventDefault(),
              clearTimeout(this.activating),
              this._activate(n === this.options.active ? !1 : n),
              e
            );
          default:
            return;
        }
        i.preventDefault(),
          clearTimeout(this.activating),
          (n = this._focusNextTab(n, a)),
          i.ctrlKey ||
            (s.attr("aria-selected", "false"),
            this.tabs.eq(n).attr("aria-selected", "true"),
            (this.activating = this._delay(function () {
              this.option("active", n);
            }, this.delay)));
      }
    },
    _panelKeydown: function (e) {
      this._handlePageNav(e) ||
        (e.ctrlKey &&
          e.keyCode === t.ui.keyCode.UP &&
          (e.preventDefault(), this.active.focus()));
    },
    _handlePageNav: function (i) {
      return i.altKey && i.keyCode === t.ui.keyCode.PAGE_UP
        ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0)
        : i.altKey && i.keyCode === t.ui.keyCode.PAGE_DOWN
        ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0)
        : e;
    },
    _findNextTab: function (e, i) {
      function s() {
        return e > n && (e = 0), 0 > e && (e = n), e;
      }
      for (
        var n = this.tabs.length - 1;
        -1 !== t.inArray(s(), this.options.disabled);

      )
        e = i ? e + 1 : e - 1;
      return e;
    },
    _focusNextTab: function (t, e) {
      return (t = this._findNextTab(t, e)), this.tabs.eq(t).focus(), t;
    },
    _setOption: function (t, i) {
      return "active" === t
        ? (this._activate(i), e)
        : "disabled" === t
        ? (this._setupDisabled(i), e)
        : (this._super(t, i),
          "collapsible" === t &&
            (this.element.toggleClass("ui-tabs-collapsible", i),
            i || this.options.active !== !1 || this._activate(0)),
          "event" === t && this._setupEvents(i),
          "heightStyle" === t && this._setupHeightStyle(i),
          e);
    },
    _tabId: function (t) {
      return t.attr("aria-controls") || "ui-tabs-" + i();
    },
    _sanitizeSelector: function (t) {
      return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : "";
    },
    refresh: function () {
      var e = this.options,
        i = this.tablist.children(":has(a[href])");
      (e.disabled = t.map(i.filter(".ui-state-disabled"), function (t) {
        return i.index(t);
      })),
        this._processTabs(),
        e.active !== !1 && this.anchors.length
          ? this.active.length && !t.contains(this.tablist[0], this.active[0])
            ? this.tabs.length === e.disabled.length
              ? ((e.active = !1), (this.active = t()))
              : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1))
            : (e.active = this.tabs.index(this.active))
          : ((e.active = !1), (this.active = t())),
        this._refresh();
    },
    _refresh: function () {
      this._setupDisabled(this.options.disabled),
        this._setupEvents(this.options.event),
        this._setupHeightStyle(this.options.heightStyle),
        this.tabs
          .not(this.active)
          .attr({ "aria-selected": "false", tabIndex: -1 }),
        this.panels
          .not(this._getPanelForTab(this.active))
          .hide()
          .attr({ "aria-expanded": "false", "aria-hidden": "true" }),
        this.active.length
          ? (this.active
              .addClass("ui-tabs-active ui-state-active")
              .attr({ "aria-selected": "true", tabIndex: 0 }),
            this._getPanelForTab(this.active)
              .show()
              .attr({ "aria-expanded": "true", "aria-hidden": "false" }))
          : this.tabs.eq(0).attr("tabIndex", 0);
    },
    _processTabs: function () {
      var e = this;
      (this.tablist = this._getList()
        .addClass(
          "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"
        )
        .attr("role", "tablist")),
        (this.tabs = this.tablist
          .find("> li:has(a[href])")
          .addClass("ui-state-default ui-corner-top")
          .attr({ role: "tab", tabIndex: -1 })),
        (this.anchors = this.tabs
          .map(function () {
            return t("a", this)[0];
          })
          .addClass("ui-tabs-anchor")
          .attr({ role: "presentation", tabIndex: -1 })),
        (this.panels = t()),
        this.anchors.each(function (i, n) {
          var a,
            o,
            r,
            h = t(n).uniqueId().attr("id"),
            l = t(n).closest("li"),
            c = l.attr("aria-controls");
          s(n)
            ? ((a = n.hash), (o = e.element.find(e._sanitizeSelector(a))))
            : ((r = e._tabId(l)),
              (a = "#" + r),
              (o = e.element.find(a)),
              o.length ||
                ((o = e._createPanel(r)),
                o.insertAfter(e.panels[i - 1] || e.tablist)),
              o.attr("aria-live", "polite")),
            o.length && (e.panels = e.panels.add(o)),
            c && l.data("ui-tabs-aria-controls", c),
            l.attr({ "aria-controls": a.substring(1), "aria-labelledby": h }),
            o.attr("aria-labelledby", h);
        }),
        this.panels
          .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
          .attr("role", "tabpanel");
    },
    _getList: function () {
      return this.tablist || this.element.find("ol,ul").eq(0);
    },
    _createPanel: function (e) {
      return t("<div>")
        .attr("id", e)
        .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
        .data("ui-tabs-destroy", !0);
    },
    _setupDisabled: function (e) {
      t.isArray(e) &&
        (e.length ? e.length === this.anchors.length && (e = !0) : (e = !1));
      for (var i, s = 0; (i = this.tabs[s]); s++)
        e === !0 || -1 !== t.inArray(s, e)
          ? t(i).addClass("ui-state-disabled").attr("aria-disabled", "true")
          : t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
      this.options.disabled = e;
    },
    _setupEvents: function (e) {
      var i = {
        click: function (t) {
          t.preventDefault();
        },
      };
      e &&
        t.each(e.split(" "), function (t, e) {
          i[e] = "_eventHandler";
        }),
        this._off(this.anchors.add(this.tabs).add(this.panels)),
        this._on(this.anchors, i),
        this._on(this.tabs, { keydown: "_tabKeydown" }),
        this._on(this.panels, { keydown: "_panelKeydown" }),
        this._focusable(this.tabs),
        this._hoverable(this.tabs);
    },
    _setupHeightStyle: function (e) {
      var i,
        s = this.element.parent();
      "fill" === e
        ? ((i = s.height()),
          (i -= this.element.outerHeight() - this.element.height()),
          this.element.siblings(":visible").each(function () {
            var e = t(this),
              s = e.css("position");
            "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0));
          }),
          this.element
            .children()
            .not(this.panels)
            .each(function () {
              i -= t(this).outerHeight(!0);
            }),
          this.panels
            .each(function () {
              t(this).height(
                Math.max(0, i - t(this).innerHeight() + t(this).height())
              );
            })
            .css("overflow", "auto"))
        : "auto" === e &&
          ((i = 0),
          this.panels
            .each(function () {
              i = Math.max(i, t(this).height("").height());
            })
            .height(i));
    },
    _eventHandler: function (e) {
      var i = this.options,
        s = this.active,
        n = t(e.currentTarget),
        a = n.closest("li"),
        o = a[0] === s[0],
        r = o && i.collapsible,
        h = r ? t() : this._getPanelForTab(a),
        l = s.length ? this._getPanelForTab(s) : t(),
        c = { oldTab: s, oldPanel: l, newTab: r ? t() : a, newPanel: h };
      e.preventDefault(),
        a.hasClass("ui-state-disabled") ||
          a.hasClass("ui-tabs-loading") ||
          this.running ||
          (o && !i.collapsible) ||
          this._trigger("beforeActivate", e, c) === !1 ||
          ((i.active = r ? !1 : this.tabs.index(a)),
          (this.active = o ? t() : a),
          this.xhr && this.xhr.abort(),
          l.length ||
            h.length ||
            t.error("jQuery UI Tabs: Mismatching fragment identifier."),
          h.length && this.load(this.tabs.index(a), e),
          this._toggle(e, c));
    },
    _toggle: function (e, i) {
      function s() {
        (a.running = !1), a._trigger("activate", e, i);
      }
      function n() {
        i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),
          o.length && a.options.show
            ? a._show(o, a.options.show, s)
            : (o.show(), s());
      }
      var a = this,
        o = i.newPanel,
        r = i.oldPanel;
      (this.running = !0),
        r.length && this.options.hide
          ? this._hide(r, this.options.hide, function () {
              i.oldTab
                .closest("li")
                .removeClass("ui-tabs-active ui-state-active"),
                n();
            })
          : (i.oldTab
              .closest("li")
              .removeClass("ui-tabs-active ui-state-active"),
            r.hide(),
            n()),
        r.attr({ "aria-expanded": "false", "aria-hidden": "true" }),
        i.oldTab.attr("aria-selected", "false"),
        o.length && r.length
          ? i.oldTab.attr("tabIndex", -1)
          : o.length &&
            this.tabs
              .filter(function () {
                return 0 === t(this).attr("tabIndex");
              })
              .attr("tabIndex", -1),
        o.attr({ "aria-expanded": "true", "aria-hidden": "false" }),
        i.newTab.attr({ "aria-selected": "true", tabIndex: 0 });
    },
    _activate: function (e) {
      var i,
        s = this._findActive(e);
      s[0] !== this.active[0] &&
        (s.length || (s = this.active),
        (i = s.find(".ui-tabs-anchor")[0]),
        this._eventHandler({
          target: i,
          currentTarget: i,
          preventDefault: t.noop,
        }));
    },
    _findActive: function (e) {
      return e === !1 ? t() : this.tabs.eq(e);
    },
    _getIndex: function (t) {
      return (
        "string" == typeof t &&
          (t = this.anchors.index(this.anchors.filter("[href$='" + t + "']"))),
        t
      );
    },
    _destroy: function () {
      this.xhr && this.xhr.abort(),
        this.element.removeClass(
          "ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"
        ),
        this.tablist
          .removeClass(
            "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"
          )
          .removeAttr("role"),
        this.anchors
          .removeClass("ui-tabs-anchor")
          .removeAttr("role")
          .removeAttr("tabIndex")
          .removeUniqueId(),
        this.tabs.add(this.panels).each(function () {
          t.data(this, "ui-tabs-destroy")
            ? t(this).remove()
            : t(this)
                .removeClass(
                  "ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel"
                )
                .removeAttr("tabIndex")
                .removeAttr("aria-live")
                .removeAttr("aria-busy")
                .removeAttr("aria-selected")
                .removeAttr("aria-labelledby")
                .removeAttr("aria-hidden")
                .removeAttr("aria-expanded")
                .removeAttr("role");
        }),
        this.tabs.each(function () {
          var e = t(this),
            i = e.data("ui-tabs-aria-controls");
          i
            ? e.attr("aria-controls", i).removeData("ui-tabs-aria-controls")
            : e.removeAttr("aria-controls");
        }),
        this.panels.show(),
        "content" !== this.options.heightStyle && this.panels.css("height", "");
    },
    enable: function (i) {
      var s = this.options.disabled;
      s !== !1 &&
        (i === e
          ? (s = !1)
          : ((i = this._getIndex(i)),
            (s = t.isArray(s)
              ? t.map(s, function (t) {
                  return t !== i ? t : null;
                })
              : t.map(this.tabs, function (t, e) {
                  return e !== i ? e : null;
                }))),
        this._setupDisabled(s));
    },
    disable: function (i) {
      var s = this.options.disabled;
      if (s !== !0) {
        if (i === e) s = !0;
        else {
          if (((i = this._getIndex(i)), -1 !== t.inArray(i, s))) return;
          s = t.isArray(s) ? t.merge([i], s).sort() : [i];
        }
        this._setupDisabled(s);
      }
    },
    load: function (e, i) {
      e = this._getIndex(e);
      var n = this,
        a = this.tabs.eq(e),
        o = a.find(".ui-tabs-anchor"),
        r = this._getPanelForTab(a),
        h = { tab: a, panel: r };
      s(o[0]) ||
        ((this.xhr = t.ajax(this._ajaxSettings(o, i, h))),
        this.xhr &&
          "canceled" !== this.xhr.statusText &&
          (a.addClass("ui-tabs-loading"),
          r.attr("aria-busy", "true"),
          this.xhr
            .success(function (t) {
              setTimeout(function () {
                r.html(t), n._trigger("load", i, h);
              }, 1);
            })
            .complete(function (t, e) {
              setTimeout(function () {
                "abort" === e && n.panels.stop(!1, !0),
                  a.removeClass("ui-tabs-loading"),
                  r.removeAttr("aria-busy"),
                  t === n.xhr && delete n.xhr;
              }, 1);
            })));
    },
    _ajaxSettings: function (e, i, s) {
      var n = this;
      return {
        url: e.attr("href"),
        beforeSend: function (e, a) {
          return n._trigger(
            "beforeLoad",
            i,
            t.extend({ jqXHR: e, ajaxSettings: a }, s)
          );
        },
      };
    },
    _getPanelForTab: function (e) {
      var i = t(e).attr("aria-controls");
      return this.element.find(this._sanitizeSelector("#" + i));
    },
  });
})(jQuery);
(function (t) {
  function e(e, i) {
    var s = (e.attr("aria-describedby") || "").split(/\s+/);
    s.push(i),
      e.data("ui-tooltip-id", i).attr("aria-describedby", t.trim(s.join(" ")));
  }
  function i(e) {
    var i = e.data("ui-tooltip-id"),
      s = (e.attr("aria-describedby") || "").split(/\s+/),
      n = t.inArray(i, s);
    -1 !== n && s.splice(n, 1),
      e.removeData("ui-tooltip-id"),
      (s = t.trim(s.join(" "))),
      s ? e.attr("aria-describedby", s) : e.removeAttr("aria-describedby");
  }
  var s = 0;
  t.widget("ui.tooltip", {
    version: "1.10.4",
    options: {
      content: function () {
        var e = t(this).attr("title") || "";
        return t("<a>").text(e).html();
      },
      hide: !0,
      items: "[title]:not([disabled])",
      position: {
        my: "left top+15",
        at: "left bottom",
        collision: "flipfit flip",
      },
      show: !0,
      tooltipClass: null,
      track: !1,
      close: null,
      open: null,
    },
    _create: function () {
      this._on({ mouseover: "open", focusin: "open" }),
        (this.tooltips = {}),
        (this.parents = {}),
        this.options.disabled && this._disable();
    },
    _setOption: function (e, i) {
      var s = this;
      return "disabled" === e
        ? (this[i ? "_disable" : "_enable"](), (this.options[e] = i), void 0)
        : (this._super(e, i),
          "content" === e &&
            t.each(this.tooltips, function (t, e) {
              s._updateContent(e);
            }),
          void 0);
    },
    _disable: function () {
      var e = this;
      t.each(this.tooltips, function (i, s) {
        var n = t.Event("blur");
        (n.target = n.currentTarget = s[0]), e.close(n, !0);
      }),
        this.element
          .find(this.options.items)
          .addBack()
          .each(function () {
            var e = t(this);
            e.is("[title]") &&
              e.data("ui-tooltip-title", e.attr("title")).attr("title", "");
          });
    },
    _enable: function () {
      this.element
        .find(this.options.items)
        .addBack()
        .each(function () {
          var e = t(this);
          e.data("ui-tooltip-title") &&
            e.attr("title", e.data("ui-tooltip-title"));
        });
    },
    open: function (e) {
      var i = this,
        s = t(e ? e.target : this.element).closest(this.options.items);
      s.length &&
        !s.data("ui-tooltip-id") &&
        (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")),
        s.data("ui-tooltip-open", !0),
        e &&
          "mouseover" === e.type &&
          s.parents().each(function () {
            var e,
              s = t(this);
            s.data("ui-tooltip-open") &&
              ((e = t.Event("blur")),
              (e.target = e.currentTarget = this),
              i.close(e, !0)),
              s.attr("title") &&
                (s.uniqueId(),
                (i.parents[this.id] = {
                  element: this,
                  title: s.attr("title"),
                }),
                s.attr("title", ""));
          }),
        this._updateContent(s, e));
    },
    _updateContent: function (t, e) {
      var i,
        s = this.options.content,
        n = this,
        o = e ? e.type : null;
      return "string" == typeof s
        ? this._open(e, t, s)
        : ((i = s.call(t[0], function (i) {
            t.data("ui-tooltip-open") &&
              n._delay(function () {
                e && (e.type = o), this._open(e, t, i);
              });
          })),
          i && this._open(e, t, i),
          void 0);
    },
    _open: function (i, s, n) {
      function o(t) {
        (l.of = t), a.is(":hidden") || a.position(l);
      }
      var a,
        r,
        h,
        l = t.extend({}, this.options.position);
      if (n) {
        if (((a = this._find(s)), a.length))
          return a.find(".ui-tooltip-content").html(n), void 0;
        s.is("[title]") &&
          (i && "mouseover" === i.type
            ? s.attr("title", "")
            : s.removeAttr("title")),
          (a = this._tooltip(s)),
          e(s, a.attr("id")),
          a.find(".ui-tooltip-content").html(n),
          this.options.track && i && /^mouse/.test(i.type)
            ? (this._on(this.document, { mousemove: o }), o(i))
            : a.position(t.extend({ of: s }, this.options.position)),
          a.hide(),
          this._show(a, this.options.show),
          this.options.show &&
            this.options.show.delay &&
            (h = this.delayedShow =
              setInterval(function () {
                a.is(":visible") && (o(l.of), clearInterval(h));
              }, t.fx.interval)),
          this._trigger("open", i, { tooltip: a }),
          (r = {
            keyup: function (e) {
              if (e.keyCode === t.ui.keyCode.ESCAPE) {
                var i = t.Event(e);
                (i.currentTarget = s[0]), this.close(i, !0);
              }
            },
            remove: function () {
              this._removeTooltip(a);
            },
          }),
          (i && "mouseover" !== i.type) || (r.mouseleave = "close"),
          (i && "focusin" !== i.type) || (r.focusout = "close"),
          this._on(!0, s, r);
      }
    },
    close: function (e) {
      var s = this,
        n = t(e ? e.currentTarget : this.element),
        o = this._find(n);
      this.closing ||
        (clearInterval(this.delayedShow),
        n.data("ui-tooltip-title") &&
          n.attr("title", n.data("ui-tooltip-title")),
        i(n),
        o.stop(!0),
        this._hide(o, this.options.hide, function () {
          s._removeTooltip(t(this));
        }),
        n.removeData("ui-tooltip-open"),
        this._off(n, "mouseleave focusout keyup"),
        n[0] !== this.element[0] && this._off(n, "remove"),
        this._off(this.document, "mousemove"),
        e &&
          "mouseleave" === e.type &&
          t.each(this.parents, function (e, i) {
            t(i.element).attr("title", i.title), delete s.parents[e];
          }),
        (this.closing = !0),
        this._trigger("close", e, { tooltip: o }),
        (this.closing = !1));
    },
    _tooltip: function (e) {
      var i = "ui-tooltip-" + s++,
        n = t("<div>")
          .attr({ id: i, role: "tooltip" })
          .addClass(
            "ui-tooltip ui-widget ui-corner-all ui-widget-content " +
              (this.options.tooltipClass || "")
          );
      return (
        t("<div>").addClass("ui-tooltip-content").appendTo(n),
        n.appendTo(this.document[0].body),
        (this.tooltips[i] = e),
        n
      );
    },
    _find: function (e) {
      var i = e.data("ui-tooltip-id");
      return i ? t("#" + i) : t();
    },
    _removeTooltip: function (t) {
      t.remove(), delete this.tooltips[t.attr("id")];
    },
    _destroy: function () {
      var e = this;
      t.each(this.tooltips, function (i, s) {
        var n = t.Event("blur");
        (n.target = n.currentTarget = s[0]),
          e.close(n, !0),
          t("#" + i).remove(),
          s.data("ui-tooltip-title") &&
            (s.attr("title", s.data("ui-tooltip-title")),
            s.removeData("ui-tooltip-title"));
      });
    },
  });
})(jQuery);
(function (t, e) {
  var i = "ui-effects-";
  (t.effects = { effect: {} }),
    (function (t, e) {
      function i(t, e, i) {
        var s = u[e.type] || {};
        return null == t
          ? i || !e.def
            ? null
            : e.def
          : ((t = s.floor ? ~~t : parseFloat(t)),
            isNaN(t)
              ? e.def
              : s.mod
              ? (t + s.mod) % s.mod
              : 0 > t
              ? 0
              : t > s.max
              ? s.max
              : t);
      }
      function s(i) {
        var s = h(),
          n = (s._rgba = []);
        return (
          (i = i.toLowerCase()),
          f(l, function (t, a) {
            var o,
              r = a.re.exec(i),
              l = r && a.parse(r),
              h = a.space || "rgba";
            return l
              ? ((o = s[h](l)),
                (s[c[h].cache] = o[c[h].cache]),
                (n = s._rgba = o._rgba),
                !1)
              : e;
          }),
          n.length
            ? ("0,0,0,0" === n.join() && t.extend(n, a.transparent), s)
            : a[i]
        );
      }
      function n(t, e, i) {
        return (
          (i = (i + 1) % 1),
          1 > 6 * i
            ? t + 6 * (e - t) * i
            : 1 > 2 * i
            ? e
            : 2 > 3 * i
            ? t + 6 * (e - t) * (2 / 3 - i)
            : t
        );
      }
      var a,
        o =
          "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
        r = /^([\-+])=\s*(\d+\.?\d*)/,
        l = [
          {
            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function (t) {
              return [t[1], t[2], t[3], t[4]];
            },
          },
          {
            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function (t) {
              return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]];
            },
          },
          {
            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
            parse: function (t) {
              return [
                parseInt(t[1], 16),
                parseInt(t[2], 16),
                parseInt(t[3], 16),
              ];
            },
          },
          {
            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
            parse: function (t) {
              return [
                parseInt(t[1] + t[1], 16),
                parseInt(t[2] + t[2], 16),
                parseInt(t[3] + t[3], 16),
              ];
            },
          },
          {
            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            space: "hsla",
            parse: function (t) {
              return [t[1], t[2] / 100, t[3] / 100, t[4]];
            },
          },
        ],
        h = (t.Color = function (e, i, s, n) {
          return new t.Color.fn.parse(e, i, s, n);
        }),
        c = {
          rgba: {
            props: {
              red: { idx: 0, type: "byte" },
              green: { idx: 1, type: "byte" },
              blue: { idx: 2, type: "byte" },
            },
          },
          hsla: {
            props: {
              hue: { idx: 0, type: "degrees" },
              saturation: { idx: 1, type: "percent" },
              lightness: { idx: 2, type: "percent" },
            },
          },
        },
        u = {
          byte: { floor: !0, max: 255 },
          percent: { max: 1 },
          degrees: { mod: 360, floor: !0 },
        },
        d = (h.support = {}),
        p = t("<p>")[0],
        f = t.each;
      (p.style.cssText = "background-color:rgba(1,1,1,.5)"),
        (d.rgba = p.style.backgroundColor.indexOf("rgba") > -1),
        f(c, function (t, e) {
          (e.cache = "_" + t),
            (e.props.alpha = { idx: 3, type: "percent", def: 1 });
        }),
        (h.fn = t.extend(h.prototype, {
          parse: function (n, o, r, l) {
            if (n === e) return (this._rgba = [null, null, null, null]), this;
            (n.jquery || n.nodeType) && ((n = t(n).css(o)), (o = e));
            var u = this,
              d = t.type(n),
              p = (this._rgba = []);
            return (
              o !== e && ((n = [n, o, r, l]), (d = "array")),
              "string" === d
                ? this.parse(s(n) || a._default)
                : "array" === d
                ? (f(c.rgba.props, function (t, e) {
                    p[e.idx] = i(n[e.idx], e);
                  }),
                  this)
                : "object" === d
                ? (n instanceof h
                    ? f(c, function (t, e) {
                        n[e.cache] && (u[e.cache] = n[e.cache].slice());
                      })
                    : f(c, function (e, s) {
                        var a = s.cache;
                        f(s.props, function (t, e) {
                          if (!u[a] && s.to) {
                            if ("alpha" === t || null == n[t]) return;
                            u[a] = s.to(u._rgba);
                          }
                          u[a][e.idx] = i(n[t], e, !0);
                        }),
                          u[a] &&
                            0 > t.inArray(null, u[a].slice(0, 3)) &&
                            ((u[a][3] = 1), s.from && (u._rgba = s.from(u[a])));
                      }),
                  this)
                : e
            );
          },
          is: function (t) {
            var i = h(t),
              s = !0,
              n = this;
            return (
              f(c, function (t, a) {
                var o,
                  r = i[a.cache];
                return (
                  r &&
                    ((o = n[a.cache] || (a.to && a.to(n._rgba)) || []),
                    f(a.props, function (t, i) {
                      return null != r[i.idx] ? (s = r[i.idx] === o[i.idx]) : e;
                    })),
                  s
                );
              }),
              s
            );
          },
          _space: function () {
            var t = [],
              e = this;
            return (
              f(c, function (i, s) {
                e[s.cache] && t.push(i);
              }),
              t.pop()
            );
          },
          transition: function (t, e) {
            var s = h(t),
              n = s._space(),
              a = c[n],
              o = 0 === this.alpha() ? h("transparent") : this,
              r = o[a.cache] || a.to(o._rgba),
              l = r.slice();
            return (
              (s = s[a.cache]),
              f(a.props, function (t, n) {
                var a = n.idx,
                  o = r[a],
                  h = s[a],
                  c = u[n.type] || {};
                null !== h &&
                  (null === o
                    ? (l[a] = h)
                    : (c.mod &&
                        (h - o > c.mod / 2
                          ? (o += c.mod)
                          : o - h > c.mod / 2 && (o -= c.mod)),
                      (l[a] = i((h - o) * e + o, n))));
              }),
              this[n](l)
            );
          },
          blend: function (e) {
            if (1 === this._rgba[3]) return this;
            var i = this._rgba.slice(),
              s = i.pop(),
              n = h(e)._rgba;
            return h(
              t.map(i, function (t, e) {
                return (1 - s) * n[e] + s * t;
              })
            );
          },
          toRgbaString: function () {
            var e = "rgba(",
              i = t.map(this._rgba, function (t, e) {
                return null == t ? (e > 2 ? 1 : 0) : t;
              });
            return 1 === i[3] && (i.pop(), (e = "rgb(")), e + i.join() + ")";
          },
          toHslaString: function () {
            var e = "hsla(",
              i = t.map(this.hsla(), function (t, e) {
                return (
                  null == t && (t = e > 2 ? 1 : 0),
                  e && 3 > e && (t = Math.round(100 * t) + "%"),
                  t
                );
              });
            return 1 === i[3] && (i.pop(), (e = "hsl(")), e + i.join() + ")";
          },
          toHexString: function (e) {
            var i = this._rgba.slice(),
              s = i.pop();
            return (
              e && i.push(~~(255 * s)),
              "#" +
                t
                  .map(i, function (t) {
                    return (
                      (t = (t || 0).toString(16)), 1 === t.length ? "0" + t : t
                    );
                  })
                  .join("")
            );
          },
          toString: function () {
            return 0 === this._rgba[3] ? "transparent" : this.toRgbaString();
          },
        })),
        (h.fn.parse.prototype = h.fn),
        (c.hsla.to = function (t) {
          if (null == t[0] || null == t[1] || null == t[2])
            return [null, null, null, t[3]];
          var e,
            i,
            s = t[0] / 255,
            n = t[1] / 255,
            a = t[2] / 255,
            o = t[3],
            r = Math.max(s, n, a),
            l = Math.min(s, n, a),
            h = r - l,
            c = r + l,
            u = 0.5 * c;
          return (
            (e =
              l === r
                ? 0
                : s === r
                ? (60 * (n - a)) / h + 360
                : n === r
                ? (60 * (a - s)) / h + 120
                : (60 * (s - n)) / h + 240),
            (i = 0 === h ? 0 : 0.5 >= u ? h / c : h / (2 - c)),
            [Math.round(e) % 360, i, u, null == o ? 1 : o]
          );
        }),
        (c.hsla.from = function (t) {
          if (null == t[0] || null == t[1] || null == t[2])
            return [null, null, null, t[3]];
          var e = t[0] / 360,
            i = t[1],
            s = t[2],
            a = t[3],
            o = 0.5 >= s ? s * (1 + i) : s + i - s * i,
            r = 2 * s - o;
          return [
            Math.round(255 * n(r, o, e + 1 / 3)),
            Math.round(255 * n(r, o, e)),
            Math.round(255 * n(r, o, e - 1 / 3)),
            a,
          ];
        }),
        f(c, function (s, n) {
          var a = n.props,
            o = n.cache,
            l = n.to,
            c = n.from;
          (h.fn[s] = function (s) {
            if ((l && !this[o] && (this[o] = l(this._rgba)), s === e))
              return this[o].slice();
            var n,
              r = t.type(s),
              u = "array" === r || "object" === r ? s : arguments,
              d = this[o].slice();
            return (
              f(a, function (t, e) {
                var s = u["object" === r ? t : e.idx];
                null == s && (s = d[e.idx]), (d[e.idx] = i(s, e));
              }),
              c ? ((n = h(c(d))), (n[o] = d), n) : h(d)
            );
          }),
            f(a, function (e, i) {
              h.fn[e] ||
                (h.fn[e] = function (n) {
                  var a,
                    o = t.type(n),
                    l = "alpha" === e ? (this._hsla ? "hsla" : "rgba") : s,
                    h = this[l](),
                    c = h[i.idx];
                  return "undefined" === o
                    ? c
                    : ("function" === o &&
                        ((n = n.call(this, c)), (o = t.type(n))),
                      null == n && i.empty
                        ? this
                        : ("string" === o &&
                            ((a = r.exec(n)),
                            a &&
                              (n =
                                c +
                                parseFloat(a[2]) * ("+" === a[1] ? 1 : -1))),
                          (h[i.idx] = n),
                          this[l](h)));
                });
            });
        }),
        (h.hook = function (e) {
          var i = e.split(" ");
          f(i, function (e, i) {
            (t.cssHooks[i] = {
              set: function (e, n) {
                var a,
                  o,
                  r = "";
                if (
                  "transparent" !== n &&
                  ("string" !== t.type(n) || (a = s(n)))
                ) {
                  if (((n = h(a || n)), !d.rgba && 1 !== n._rgba[3])) {
                    for (
                      o = "backgroundColor" === i ? e.parentNode : e;
                      ("" === r || "transparent" === r) && o && o.style;

                    )
                      try {
                        (r = t.css(o, "backgroundColor")), (o = o.parentNode);
                      } catch (l) {}
                    n = n.blend(r && "transparent" !== r ? r : "_default");
                  }
                  n = n.toRgbaString();
                }
                try {
                  e.style[i] = n;
                } catch (l) {}
              },
            }),
              (t.fx.step[i] = function (e) {
                e.colorInit ||
                  ((e.start = h(e.elem, i)),
                  (e.end = h(e.end)),
                  (e.colorInit = !0)),
                  t.cssHooks[i].set(e.elem, e.start.transition(e.end, e.pos));
              });
          });
        }),
        h.hook(o),
        (t.cssHooks.borderColor = {
          expand: function (t) {
            var e = {};
            return (
              f(["Top", "Right", "Bottom", "Left"], function (i, s) {
                e["border" + s + "Color"] = t;
              }),
              e
            );
          },
        }),
        (a = t.Color.names =
          {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff",
          });
    })(jQuery),
    (function () {
      function i(e) {
        var i,
          s,
          n = e.ownerDocument.defaultView
            ? e.ownerDocument.defaultView.getComputedStyle(e, null)
            : e.currentStyle,
          a = {};
        if (n && n.length && n[0] && n[n[0]])
          for (s = n.length; s--; )
            (i = n[s]), "string" == typeof n[i] && (a[t.camelCase(i)] = n[i]);
        else for (i in n) "string" == typeof n[i] && (a[i] = n[i]);
        return a;
      }
      function s(e, i) {
        var s,
          n,
          o = {};
        for (s in i)
          (n = i[s]),
            e[s] !== n &&
              (a[s] || ((t.fx.step[s] || !isNaN(parseFloat(n))) && (o[s] = n)));
        return o;
      }
      var n = ["add", "remove", "toggle"],
        a = {
          border: 1,
          borderBottom: 1,
          borderColor: 1,
          borderLeft: 1,
          borderRight: 1,
          borderTop: 1,
          borderWidth: 1,
          margin: 1,
          padding: 1,
        };
      t.each(
        [
          "borderLeftStyle",
          "borderRightStyle",
          "borderBottomStyle",
          "borderTopStyle",
        ],
        function (e, i) {
          t.fx.step[i] = function (t) {
            (("none" !== t.end && !t.setAttr) || (1 === t.pos && !t.setAttr)) &&
              (jQuery.style(t.elem, i, t.end), (t.setAttr = !0));
          };
        }
      ),
        t.fn.addBack ||
          (t.fn.addBack = function (t) {
            return this.add(
              null == t ? this.prevObject : this.prevObject.filter(t)
            );
          }),
        (t.effects.animateClass = function (e, a, o, r) {
          var l = t.speed(a, o, r);
          return this.queue(function () {
            var a,
              o = t(this),
              r = o.attr("class") || "",
              h = l.children ? o.find("*").addBack() : o;
            (h = h.map(function () {
              var e = t(this);
              return { el: e, start: i(this) };
            })),
              (a = function () {
                t.each(n, function (t, i) {
                  e[i] && o[i + "Class"](e[i]);
                });
              }),
              a(),
              (h = h.map(function () {
                return (
                  (this.end = i(this.el[0])),
                  (this.diff = s(this.start, this.end)),
                  this
                );
              })),
              o.attr("class", r),
              (h = h.map(function () {
                var e = this,
                  i = t.Deferred(),
                  s = t.extend({}, l, {
                    queue: !1,
                    complete: function () {
                      i.resolve(e);
                    },
                  });
                return this.el.animate(this.diff, s), i.promise();
              })),
              t.when.apply(t, h.get()).done(function () {
                a(),
                  t.each(arguments, function () {
                    var e = this.el;
                    t.each(this.diff, function (t) {
                      e.css(t, "");
                    });
                  }),
                  l.complete.call(o[0]);
              });
          });
        }),
        t.fn.extend({
          addClass: (function (e) {
            return function (i, s, n, a) {
              return s
                ? t.effects.animateClass.call(this, { add: i }, s, n, a)
                : e.apply(this, arguments);
            };
          })(t.fn.addClass),
          removeClass: (function (e) {
            return function (i, s, n, a) {
              return arguments.length > 1
                ? t.effects.animateClass.call(this, { remove: i }, s, n, a)
                : e.apply(this, arguments);
            };
          })(t.fn.removeClass),
          toggleClass: (function (i) {
            return function (s, n, a, o, r) {
              return "boolean" == typeof n || n === e
                ? a
                  ? t.effects.animateClass.call(
                      this,
                      n ? { add: s } : { remove: s },
                      a,
                      o,
                      r
                    )
                  : i.apply(this, arguments)
                : t.effects.animateClass.call(this, { toggle: s }, n, a, o);
            };
          })(t.fn.toggleClass),
          switchClass: function (e, i, s, n, a) {
            return t.effects.animateClass.call(
              this,
              { add: i, remove: e },
              s,
              n,
              a
            );
          },
        });
    })(),
    (function () {
      function s(e, i, s, n) {
        return (
          t.isPlainObject(e) && ((i = e), (e = e.effect)),
          (e = { effect: e }),
          null == i && (i = {}),
          t.isFunction(i) && ((n = i), (s = null), (i = {})),
          ("number" == typeof i || t.fx.speeds[i]) &&
            ((n = s), (s = i), (i = {})),
          t.isFunction(s) && ((n = s), (s = null)),
          i && t.extend(e, i),
          (s = s || i.duration),
          (e.duration = t.fx.off
            ? 0
            : "number" == typeof s
            ? s
            : s in t.fx.speeds
            ? t.fx.speeds[s]
            : t.fx.speeds._default),
          (e.complete = n || i.complete),
          e
        );
      }
      function n(e) {
        return !e || "number" == typeof e || t.fx.speeds[e]
          ? !0
          : "string" != typeof e || t.effects.effect[e]
          ? t.isFunction(e)
            ? !0
            : "object" != typeof e || e.effect
            ? !1
            : !0
          : !0;
      }
      t.extend(t.effects, {
        version: "1.10.4",
        save: function (t, e) {
          for (var s = 0; e.length > s; s++)
            null !== e[s] && t.data(i + e[s], t[0].style[e[s]]);
        },
        restore: function (t, s) {
          var n, a;
          for (a = 0; s.length > a; a++)
            null !== s[a] &&
              ((n = t.data(i + s[a])), n === e && (n = ""), t.css(s[a], n));
        },
        setMode: function (t, e) {
          return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e;
        },
        getBaseline: function (t, e) {
          var i, s;
          switch (t[0]) {
            case "top":
              i = 0;
              break;
            case "middle":
              i = 0.5;
              break;
            case "bottom":
              i = 1;
              break;
            default:
              i = t[0] / e.height;
          }
          switch (t[1]) {
            case "left":
              s = 0;
              break;
            case "center":
              s = 0.5;
              break;
            case "right":
              s = 1;
              break;
            default:
              s = t[1] / e.width;
          }
          return { x: s, y: i };
        },
        createWrapper: function (e) {
          if (e.parent().is(".ui-effects-wrapper")) return e.parent();
          var i = {
              width: e.outerWidth(!0),
              height: e.outerHeight(!0),
              float: e.css("float"),
            },
            s = t("<div></div>")
              .addClass("ui-effects-wrapper")
              .css({
                fontSize: "100%",
                background: "transparent",
                border: "none",
                margin: 0,
                padding: 0,
              }),
            n = { width: e.width(), height: e.height() },
            a = document.activeElement;
          try {
            a.id;
          } catch (o) {
            a = document.body;
          }
          return (
            e.wrap(s),
            (e[0] === a || t.contains(e[0], a)) && t(a).focus(),
            (s = e.parent()),
            "static" === e.css("position")
              ? (s.css({ position: "relative" }),
                e.css({ position: "relative" }))
              : (t.extend(i, {
                  position: e.css("position"),
                  zIndex: e.css("z-index"),
                }),
                t.each(["top", "left", "bottom", "right"], function (t, s) {
                  (i[s] = e.css(s)),
                    isNaN(parseInt(i[s], 10)) && (i[s] = "auto");
                }),
                e.css({
                  position: "relative",
                  top: 0,
                  left: 0,
                  right: "auto",
                  bottom: "auto",
                })),
            e.css(n),
            s.css(i).show()
          );
        },
        removeWrapper: function (e) {
          var i = document.activeElement;
          return (
            e.parent().is(".ui-effects-wrapper") &&
              (e.parent().replaceWith(e),
              (e[0] === i || t.contains(e[0], i)) && t(i).focus()),
            e
          );
        },
        setTransition: function (e, i, s, n) {
          return (
            (n = n || {}),
            t.each(i, function (t, i) {
              var a = e.cssUnit(i);
              a[0] > 0 && (n[i] = a[0] * s + a[1]);
            }),
            n
          );
        },
      }),
        t.fn.extend({
          effect: function () {
            function e(e) {
              function s() {
                t.isFunction(a) && a.call(n[0]), t.isFunction(e) && e();
              }
              var n = t(this),
                a = i.complete,
                r = i.mode;
              (n.is(":hidden") ? "hide" === r : "show" === r)
                ? (n[r](), s())
                : o.call(n[0], i, s);
            }
            var i = s.apply(this, arguments),
              n = i.mode,
              a = i.queue,
              o = t.effects.effect[i.effect];
            return t.fx.off || !o
              ? n
                ? this[n](i.duration, i.complete)
                : this.each(function () {
                    i.complete && i.complete.call(this);
                  })
              : a === !1
              ? this.each(e)
              : this.queue(a || "fx", e);
          },
          show: (function (t) {
            return function (e) {
              if (n(e)) return t.apply(this, arguments);
              var i = s.apply(this, arguments);
              return (i.mode = "show"), this.effect.call(this, i);
            };
          })(t.fn.show),
          hide: (function (t) {
            return function (e) {
              if (n(e)) return t.apply(this, arguments);
              var i = s.apply(this, arguments);
              return (i.mode = "hide"), this.effect.call(this, i);
            };
          })(t.fn.hide),
          toggle: (function (t) {
            return function (e) {
              if (n(e) || "boolean" == typeof e)
                return t.apply(this, arguments);
              var i = s.apply(this, arguments);
              return (i.mode = "toggle"), this.effect.call(this, i);
            };
          })(t.fn.toggle),
          cssUnit: function (e) {
            var i = this.css(e),
              s = [];
            return (
              t.each(["em", "px", "%", "pt"], function (t, e) {
                i.indexOf(e) > 0 && (s = [parseFloat(i), e]);
              }),
              s
            );
          },
        });
    })(),
    (function () {
      var e = {};
      t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (t, i) {
        e[i] = function (e) {
          return Math.pow(e, t + 2);
        };
      }),
        t.extend(e, {
          Sine: function (t) {
            return 1 - Math.cos((t * Math.PI) / 2);
          },
          Circ: function (t) {
            return 1 - Math.sqrt(1 - t * t);
          },
          Elastic: function (t) {
            return 0 === t || 1 === t
              ? t
              : -Math.pow(2, 8 * (t - 1)) *
                  Math.sin(((80 * (t - 1) - 7.5) * Math.PI) / 15);
          },
          Back: function (t) {
            return t * t * (3 * t - 2);
          },
          Bounce: function (t) {
            for (var e, i = 4; ((e = Math.pow(2, --i)) - 1) / 11 > t; );
            return (
              1 / Math.pow(4, 3 - i) -
              7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
            );
          },
        }),
        t.each(e, function (e, i) {
          (t.easing["easeIn" + e] = i),
            (t.easing["easeOut" + e] = function (t) {
              return 1 - i(1 - t);
            }),
            (t.easing["easeInOut" + e] = function (t) {
              return 0.5 > t ? i(2 * t) / 2 : 1 - i(-2 * t + 2) / 2;
            });
        });
    })();
})(jQuery);
(function (t) {
  var e = /up|down|vertical/,
    i = /up|left|vertical|horizontal/;
  t.effects.effect.blind = function (s, n) {
    var a,
      o,
      r,
      l = t(this),
      h = ["position", "top", "bottom", "left", "right", "height", "width"],
      c = t.effects.setMode(l, s.mode || "hide"),
      u = s.direction || "up",
      d = e.test(u),
      p = d ? "height" : "width",
      f = d ? "top" : "left",
      g = i.test(u),
      m = {},
      v = "show" === c;
    l.parent().is(".ui-effects-wrapper")
      ? t.effects.save(l.parent(), h)
      : t.effects.save(l, h),
      l.show(),
      (a = t.effects.createWrapper(l).css({ overflow: "hidden" })),
      (o = a[p]()),
      (r = parseFloat(a.css(f)) || 0),
      (m[p] = v ? o : 0),
      g ||
        (l
          .css(d ? "bottom" : "right", 0)
          .css(d ? "top" : "left", "auto")
          .css({ position: "absolute" }),
        (m[f] = v ? r : o + r)),
      v && (a.css(p, 0), g || a.css(f, r + o)),
      a.animate(m, {
        duration: s.duration,
        easing: s.easing,
        queue: !1,
        complete: function () {
          "hide" === c && l.hide(),
            t.effects.restore(l, h),
            t.effects.removeWrapper(l),
            n();
        },
      });
  };
})(jQuery);
(function (t) {
  t.effects.effect.bounce = function (e, i) {
    var s,
      n,
      a,
      o = t(this),
      r = ["position", "top", "bottom", "left", "right", "height", "width"],
      l = t.effects.setMode(o, e.mode || "effect"),
      h = "hide" === l,
      c = "show" === l,
      u = e.direction || "up",
      d = e.distance,
      p = e.times || 5,
      f = 2 * p + (c || h ? 1 : 0),
      g = e.duration / f,
      m = e.easing,
      v = "up" === u || "down" === u ? "top" : "left",
      _ = "up" === u || "left" === u,
      b = o.queue(),
      y = b.length;
    for (
      (c || h) && r.push("opacity"),
        t.effects.save(o, r),
        o.show(),
        t.effects.createWrapper(o),
        d || (d = o["top" === v ? "outerHeight" : "outerWidth"]() / 3),
        c &&
          ((a = { opacity: 1 }),
          (a[v] = 0),
          o
            .css("opacity", 0)
            .css(v, _ ? 2 * -d : 2 * d)
            .animate(a, g, m)),
        h && (d /= Math.pow(2, p - 1)),
        a = {},
        a[v] = 0,
        s = 0;
      p > s;
      s++
    )
      (n = {}),
        (n[v] = (_ ? "-=" : "+=") + d),
        o.animate(n, g, m).animate(a, g, m),
        (d = h ? 2 * d : d / 2);
    h &&
      ((n = { opacity: 0 }),
      (n[v] = (_ ? "-=" : "+=") + d),
      o.animate(n, g, m)),
      o.queue(function () {
        h && o.hide(), t.effects.restore(o, r), t.effects.removeWrapper(o), i();
      }),
      y > 1 && b.splice.apply(b, [1, 0].concat(b.splice(y, f + 1))),
      o.dequeue();
  };
})(jQuery);
(function (t) {
  t.effects.effect.clip = function (e, i) {
    var s,
      n,
      a,
      o = t(this),
      r = ["position", "top", "bottom", "left", "right", "height", "width"],
      l = t.effects.setMode(o, e.mode || "hide"),
      h = "show" === l,
      c = e.direction || "vertical",
      u = "vertical" === c,
      d = u ? "height" : "width",
      p = u ? "top" : "left",
      f = {};
    t.effects.save(o, r),
      o.show(),
      (s = t.effects.createWrapper(o).css({ overflow: "hidden" })),
      (n = "IMG" === o[0].tagName ? s : o),
      (a = n[d]()),
      h && (n.css(d, 0), n.css(p, a / 2)),
      (f[d] = h ? a : 0),
      (f[p] = h ? 0 : a / 2),
      n.animate(f, {
        queue: !1,
        duration: e.duration,
        easing: e.easing,
        complete: function () {
          h || o.hide(),
            t.effects.restore(o, r),
            t.effects.removeWrapper(o),
            i();
        },
      });
  };
})(jQuery);
(function (t) {
  t.effects.effect.drop = function (e, i) {
    var s,
      n = t(this),
      a = [
        "position",
        "top",
        "bottom",
        "left",
        "right",
        "opacity",
        "height",
        "width",
      ],
      o = t.effects.setMode(n, e.mode || "hide"),
      r = "show" === o,
      l = e.direction || "left",
      h = "up" === l || "down" === l ? "top" : "left",
      c = "up" === l || "left" === l ? "pos" : "neg",
      u = { opacity: r ? 1 : 0 };
    t.effects.save(n, a),
      n.show(),
      t.effects.createWrapper(n),
      (s = e.distance || n["top" === h ? "outerHeight" : "outerWidth"](!0) / 2),
      r && n.css("opacity", 0).css(h, "pos" === c ? -s : s),
      (u[h] =
        (r ? ("pos" === c ? "+=" : "-=") : "pos" === c ? "-=" : "+=") + s),
      n.animate(u, {
        queue: !1,
        duration: e.duration,
        easing: e.easing,
        complete: function () {
          "hide" === o && n.hide(),
            t.effects.restore(n, a),
            t.effects.removeWrapper(n),
            i();
        },
      });
  };
})(jQuery);
(function (t) {
  t.effects.effect.explode = function (e, i) {
    function s() {
      b.push(this), b.length === u * d && n();
    }
    function n() {
      p.css({ visibility: "visible" }), t(b).remove(), g || p.hide(), i();
    }
    var a,
      o,
      r,
      l,
      h,
      c,
      u = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3,
      d = u,
      p = t(this),
      f = t.effects.setMode(p, e.mode || "hide"),
      g = "show" === f,
      m = p.show().css("visibility", "hidden").offset(),
      v = Math.ceil(p.outerWidth() / d),
      _ = Math.ceil(p.outerHeight() / u),
      b = [];
    for (a = 0; u > a; a++)
      for (l = m.top + a * _, c = a - (u - 1) / 2, o = 0; d > o; o++)
        (r = m.left + o * v),
          (h = o - (d - 1) / 2),
          p
            .clone()
            .appendTo("body")
            .wrap("<div></div>")
            .css({
              position: "absolute",
              visibility: "visible",
              left: -o * v,
              top: -a * _,
            })
            .parent()
            .addClass("ui-effects-explode")
            .css({
              position: "absolute",
              overflow: "hidden",
              width: v,
              height: _,
              left: r + (g ? h * v : 0),
              top: l + (g ? c * _ : 0),
              opacity: g ? 0 : 1,
            })
            .animate(
              {
                left: r + (g ? 0 : h * v),
                top: l + (g ? 0 : c * _),
                opacity: g ? 1 : 0,
              },
              e.duration || 500,
              e.easing,
              s
            );
  };
})(jQuery);
(function (t) {
  t.effects.effect.fade = function (e, i) {
    var s = t(this),
      n = t.effects.setMode(s, e.mode || "toggle");
    s.animate(
      { opacity: n },
      { queue: !1, duration: e.duration, easing: e.easing, complete: i }
    );
  };
})(jQuery);
(function (t) {
  t.effects.effect.fold = function (e, i) {
    var s,
      n,
      a = t(this),
      o = ["position", "top", "bottom", "left", "right", "height", "width"],
      r = t.effects.setMode(a, e.mode || "hide"),
      l = "show" === r,
      h = "hide" === r,
      c = e.size || 15,
      u = /([0-9]+)%/.exec(c),
      d = !!e.horizFirst,
      p = l !== d,
      f = p ? ["width", "height"] : ["height", "width"],
      g = e.duration / 2,
      m = {},
      v = {};
    t.effects.save(a, o),
      a.show(),
      (s = t.effects.createWrapper(a).css({ overflow: "hidden" })),
      (n = p ? [s.width(), s.height()] : [s.height(), s.width()]),
      u && (c = (parseInt(u[1], 10) / 100) * n[h ? 0 : 1]),
      l && s.css(d ? { height: 0, width: c } : { height: c, width: 0 }),
      (m[f[0]] = l ? n[0] : c),
      (v[f[1]] = l ? n[1] : 0),
      s.animate(m, g, e.easing).animate(v, g, e.easing, function () {
        h && a.hide(), t.effects.restore(a, o), t.effects.removeWrapper(a), i();
      });
  };
})(jQuery);
(function (t) {
  t.effects.effect.highlight = function (e, i) {
    var s = t(this),
      n = ["backgroundImage", "backgroundColor", "opacity"],
      a = t.effects.setMode(s, e.mode || "show"),
      o = { backgroundColor: s.css("backgroundColor") };
    "hide" === a && (o.opacity = 0),
      t.effects.save(s, n),
      s
        .show()
        .css({ backgroundImage: "none", backgroundColor: e.color || "#ffff99" })
        .animate(o, {
          queue: !1,
          duration: e.duration,
          easing: e.easing,
          complete: function () {
            "hide" === a && s.hide(), t.effects.restore(s, n), i();
          },
        });
  };
})(jQuery);
(function (t) {
  t.effects.effect.pulsate = function (e, i) {
    var s,
      n = t(this),
      a = t.effects.setMode(n, e.mode || "show"),
      o = "show" === a,
      r = "hide" === a,
      l = o || "hide" === a,
      h = 2 * (e.times || 5) + (l ? 1 : 0),
      c = e.duration / h,
      u = 0,
      d = n.queue(),
      p = d.length;
    for (
      (o || !n.is(":visible")) && (n.css("opacity", 0).show(), (u = 1)), s = 1;
      h > s;
      s++
    )
      n.animate({ opacity: u }, c, e.easing), (u = 1 - u);
    n.animate({ opacity: u }, c, e.easing),
      n.queue(function () {
        r && n.hide(), i();
      }),
      p > 1 && d.splice.apply(d, [1, 0].concat(d.splice(p, h + 1))),
      n.dequeue();
  };
})(jQuery);
(function (t) {
  (t.effects.effect.puff = function (e, i) {
    var s = t(this),
      n = t.effects.setMode(s, e.mode || "hide"),
      a = "hide" === n,
      o = parseInt(e.percent, 10) || 150,
      r = o / 100,
      l = {
        height: s.height(),
        width: s.width(),
        outerHeight: s.outerHeight(),
        outerWidth: s.outerWidth(),
      };
    t.extend(e, {
      effect: "scale",
      queue: !1,
      fade: !0,
      mode: n,
      complete: i,
      percent: a ? o : 100,
      from: a
        ? l
        : {
            height: l.height * r,
            width: l.width * r,
            outerHeight: l.outerHeight * r,
            outerWidth: l.outerWidth * r,
          },
    }),
      s.effect(e);
  }),
    (t.effects.effect.scale = function (e, i) {
      var s = t(this),
        n = t.extend(!0, {}, e),
        a = t.effects.setMode(s, e.mode || "effect"),
        o =
          parseInt(e.percent, 10) ||
          (0 === parseInt(e.percent, 10) ? 0 : "hide" === a ? 0 : 100),
        r = e.direction || "both",
        l = e.origin,
        h = {
          height: s.height(),
          width: s.width(),
          outerHeight: s.outerHeight(),
          outerWidth: s.outerWidth(),
        },
        c = {
          y: "horizontal" !== r ? o / 100 : 1,
          x: "vertical" !== r ? o / 100 : 1,
        };
      (n.effect = "size"),
        (n.queue = !1),
        (n.complete = i),
        "effect" !== a &&
          ((n.origin = l || ["middle", "center"]), (n.restore = !0)),
        (n.from =
          e.from ||
          ("show" === a
            ? { height: 0, width: 0, outerHeight: 0, outerWidth: 0 }
            : h)),
        (n.to = {
          height: h.height * c.y,
          width: h.width * c.x,
          outerHeight: h.outerHeight * c.y,
          outerWidth: h.outerWidth * c.x,
        }),
        n.fade &&
          ("show" === a && ((n.from.opacity = 0), (n.to.opacity = 1)),
          "hide" === a && ((n.from.opacity = 1), (n.to.opacity = 0))),
        s.effect(n);
    }),
    (t.effects.effect.size = function (e, i) {
      var s,
        n,
        a,
        o = t(this),
        r = [
          "position",
          "top",
          "bottom",
          "left",
          "right",
          "width",
          "height",
          "overflow",
          "opacity",
        ],
        l = [
          "position",
          "top",
          "bottom",
          "left",
          "right",
          "overflow",
          "opacity",
        ],
        h = ["width", "height", "overflow"],
        c = ["fontSize"],
        u = [
          "borderTopWidth",
          "borderBottomWidth",
          "paddingTop",
          "paddingBottom",
        ],
        d = [
          "borderLeftWidth",
          "borderRightWidth",
          "paddingLeft",
          "paddingRight",
        ],
        p = t.effects.setMode(o, e.mode || "effect"),
        f = e.restore || "effect" !== p,
        g = e.scale || "both",
        m = e.origin || ["middle", "center"],
        v = o.css("position"),
        _ = f ? r : l,
        b = { height: 0, width: 0, outerHeight: 0, outerWidth: 0 };
      "show" === p && o.show(),
        (s = {
          height: o.height(),
          width: o.width(),
          outerHeight: o.outerHeight(),
          outerWidth: o.outerWidth(),
        }),
        "toggle" === e.mode && "show" === p
          ? ((o.from = e.to || b), (o.to = e.from || s))
          : ((o.from = e.from || ("show" === p ? b : s)),
            (o.to = e.to || ("hide" === p ? b : s))),
        (a = {
          from: { y: o.from.height / s.height, x: o.from.width / s.width },
          to: { y: o.to.height / s.height, x: o.to.width / s.width },
        }),
        ("box" === g || "both" === g) &&
          (a.from.y !== a.to.y &&
            ((_ = _.concat(u)),
            (o.from = t.effects.setTransition(o, u, a.from.y, o.from)),
            (o.to = t.effects.setTransition(o, u, a.to.y, o.to))),
          a.from.x !== a.to.x &&
            ((_ = _.concat(d)),
            (o.from = t.effects.setTransition(o, d, a.from.x, o.from)),
            (o.to = t.effects.setTransition(o, d, a.to.x, o.to)))),
        ("content" === g || "both" === g) &&
          a.from.y !== a.to.y &&
          ((_ = _.concat(c).concat(h)),
          (o.from = t.effects.setTransition(o, c, a.from.y, o.from)),
          (o.to = t.effects.setTransition(o, c, a.to.y, o.to))),
        t.effects.save(o, _),
        o.show(),
        t.effects.createWrapper(o),
        o.css("overflow", "hidden").css(o.from),
        m &&
          ((n = t.effects.getBaseline(m, s)),
          (o.from.top = (s.outerHeight - o.outerHeight()) * n.y),
          (o.from.left = (s.outerWidth - o.outerWidth()) * n.x),
          (o.to.top = (s.outerHeight - o.to.outerHeight) * n.y),
          (o.to.left = (s.outerWidth - o.to.outerWidth) * n.x)),
        o.css(o.from),
        ("content" === g || "both" === g) &&
          ((u = u.concat(["marginTop", "marginBottom"]).concat(c)),
          (d = d.concat(["marginLeft", "marginRight"])),
          (h = r.concat(u).concat(d)),
          o.find("*[width]").each(function () {
            var i = t(this),
              s = {
                height: i.height(),
                width: i.width(),
                outerHeight: i.outerHeight(),
                outerWidth: i.outerWidth(),
              };
            f && t.effects.save(i, h),
              (i.from = {
                height: s.height * a.from.y,
                width: s.width * a.from.x,
                outerHeight: s.outerHeight * a.from.y,
                outerWidth: s.outerWidth * a.from.x,
              }),
              (i.to = {
                height: s.height * a.to.y,
                width: s.width * a.to.x,
                outerHeight: s.height * a.to.y,
                outerWidth: s.width * a.to.x,
              }),
              a.from.y !== a.to.y &&
                ((i.from = t.effects.setTransition(i, u, a.from.y, i.from)),
                (i.to = t.effects.setTransition(i, u, a.to.y, i.to))),
              a.from.x !== a.to.x &&
                ((i.from = t.effects.setTransition(i, d, a.from.x, i.from)),
                (i.to = t.effects.setTransition(i, d, a.to.x, i.to))),
              i.css(i.from),
              i.animate(i.to, e.duration, e.easing, function () {
                f && t.effects.restore(i, h);
              });
          })),
        o.animate(o.to, {
          queue: !1,
          duration: e.duration,
          easing: e.easing,
          complete: function () {
            0 === o.to.opacity && o.css("opacity", o.from.opacity),
              "hide" === p && o.hide(),
              t.effects.restore(o, _),
              f ||
                ("static" === v
                  ? o.css({
                      position: "relative",
                      top: o.to.top,
                      left: o.to.left,
                    })
                  : t.each(["top", "left"], function (t, e) {
                      o.css(e, function (e, i) {
                        var s = parseInt(i, 10),
                          n = t ? o.to.left : o.to.top;
                        return "auto" === i ? n + "px" : s + n + "px";
                      });
                    })),
              t.effects.removeWrapper(o),
              i();
          },
        });
    });
})(jQuery);
(function (t) {
  t.effects.effect.shake = function (e, i) {
    var s,
      n = t(this),
      a = ["position", "top", "bottom", "left", "right", "height", "width"],
      o = t.effects.setMode(n, e.mode || "effect"),
      r = e.direction || "left",
      l = e.distance || 20,
      h = e.times || 3,
      c = 2 * h + 1,
      u = Math.round(e.duration / c),
      d = "up" === r || "down" === r ? "top" : "left",
      p = "up" === r || "left" === r,
      f = {},
      g = {},
      m = {},
      v = n.queue(),
      _ = v.length;
    for (
      t.effects.save(n, a),
        n.show(),
        t.effects.createWrapper(n),
        f[d] = (p ? "-=" : "+=") + l,
        g[d] = (p ? "+=" : "-=") + 2 * l,
        m[d] = (p ? "-=" : "+=") + 2 * l,
        n.animate(f, u, e.easing),
        s = 1;
      h > s;
      s++
    )
      n.animate(g, u, e.easing).animate(m, u, e.easing);
    n
      .animate(g, u, e.easing)
      .animate(f, u / 2, e.easing)
      .queue(function () {
        "hide" === o && n.hide(),
          t.effects.restore(n, a),
          t.effects.removeWrapper(n),
          i();
      }),
      _ > 1 && v.splice.apply(v, [1, 0].concat(v.splice(_, c + 1))),
      n.dequeue();
  };
})(jQuery);
(function (t) {
  t.effects.effect.slide = function (e, i) {
    var s,
      n = t(this),
      a = ["position", "top", "bottom", "left", "right", "width", "height"],
      o = t.effects.setMode(n, e.mode || "show"),
      r = "show" === o,
      l = e.direction || "left",
      h = "up" === l || "down" === l ? "top" : "left",
      c = "up" === l || "left" === l,
      u = {};
    t.effects.save(n, a),
      n.show(),
      (s = e.distance || n["top" === h ? "outerHeight" : "outerWidth"](!0)),
      t.effects.createWrapper(n).css({ overflow: "hidden" }),
      r && n.css(h, c ? (isNaN(s) ? "-" + s : -s) : s),
      (u[h] = (r ? (c ? "+=" : "-=") : c ? "-=" : "+=") + s),
      n.animate(u, {
        queue: !1,
        duration: e.duration,
        easing: e.easing,
        complete: function () {
          "hide" === o && n.hide(),
            t.effects.restore(n, a),
            t.effects.removeWrapper(n),
            i();
        },
      });
  };
})(jQuery);
(function (t) {
  t.effects.effect.transfer = function (e, i) {
    var s = t(this),
      n = t(e.to),
      a = "fixed" === n.css("position"),
      o = t("body"),
      r = a ? o.scrollTop() : 0,
      l = a ? o.scrollLeft() : 0,
      h = n.offset(),
      c = {
        top: h.top - r,
        left: h.left - l,
        height: n.innerHeight(),
        width: n.innerWidth(),
      },
      u = s.offset(),
      d = t("<div class='ui-effects-transfer'></div>")
        .appendTo(document.body)
        .addClass(e.className)
        .css({
          top: u.top - r,
          left: u.left - l,
          height: s.innerHeight(),
          width: s.innerWidth(),
          position: a ? "fixed" : "absolute",
        })
        .animate(c, e.duration, e.easing, function () {
          d.remove(), i();
        });
  };
})(jQuery);
(function () {
  function W(d, c, b) {
    var a;
    c = c.toLowerCase();
    return (
      (a = d.__allListeners || (b && (d.__allListeners = {}))) &&
      (a[c] || (b && (a[c] = [])))
    );
  }
  function X(d, c, b, a, e, h) {
    a = a && d[c];
    var g;
    for (!a && (a = d[b]); !a && (g = (g || d).parentNode); ) {
      if ("BODY" == g.tagName || (h && !h(g))) return null;
      a = g[b];
    }
    return a && e && !e(a) ? X(a, c, b, !1, e) : a;
  }
  UEDITOR_CONFIG = window.UEDITOR_CONFIG || {};
  var s = window.baidu || {};
  window.baidu = s;
  window.UE = s.editor = window.UE || {};
  UE.plugins = {};
  UE.commands = {};
  UE.instants = {};
  UE.I18N = {};
  UE._customizeUI = {};
  UE.version = "1.4.3";
  var L = (UE.dom = {}),
    r = (UE.browser = (function () {
      var d = navigator.userAgent.toLowerCase(),
        c = window.opera,
        b = {
          ie: /(msie\s|trident.*rv:)([\w.]+)/.test(d),
          opera: !!c && c.version,
          webkit: -1 < d.indexOf(" applewebkit/"),
          mac: -1 < d.indexOf("macintosh"),
          quirks: "BackCompat" == document.compatMode,
        };
      b.gecko = "Gecko" == navigator.product && !b.webkit && !b.opera && !b.ie;
      var a = 0;
      if (b.ie) {
        var a = d.match(/(?:msie\s([\w.]+))/),
          e = d.match(/(?:trident.*rv:([\w.]+))/),
          a =
            a && e && a[1] && e[1]
              ? Math.max(1 * a[1], 1 * e[1])
              : a && a[1]
              ? 1 * a[1]
              : e && e[1]
              ? 1 * e[1]
              : 0;
        b.ie11Compat = 11 == document.documentMode;
        b.ie9Compat = 9 == document.documentMode;
        b.ie8 = !!document.documentMode;
        b.ie8Compat = 8 == document.documentMode;
        b.ie7Compat =
          (7 == a && !document.documentMode) || 7 == document.documentMode;
        b.ie6Compat = 7 > a || b.quirks;
        b.ie9above = 8 < a;
        b.ie9below = 9 > a;
        b.ie11above = 10 < a;
        b.ie11below = 11 > a;
      }
      b.gecko &&
        (e = d.match(/rv:([\d\.]+)/)) &&
        ((e = e[1].split(".")),
        (a = 1e4 * e[0] + 100 * (e[1] || 0) + 1 * (e[2] || 0)));
      /chrome\/(\d+\.\d)/i.test(d) && (b.chrome = +RegExp.$1);
      /(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(d) &&
        !/chrome/i.test(d) &&
        (b.safari = +(RegExp.$1 || RegExp.$2));
      b.opera && (a = parseFloat(c.version()));
      b.webkit && (a = parseFloat(d.match(/ applewebkit\/(\d+)/)[1]));
      b.version = a;
      b.isCompatible =
        !b.mobile &&
        ((b.ie && 6 <= a) ||
          (b.gecko && 10801 <= a) ||
          (b.opera && 9.5 <= a) ||
          (b.air && 1 <= a) ||
          (b.webkit && 522 <= a) ||
          !1);
      return b;
    })()),
    I = r.ie,
    ma = r.opera,
    p = (UE.utils = {
      each: function (d, c, b) {
        if (null != d)
          if (d.length === +d.length)
            for (var a = 0, e = d.length; a < e; a++) {
              if (!1 === c.call(b, d[a], a, d)) return !1;
            }
          else
            for (a in d)
              if (d.hasOwnProperty(a) && !1 === c.call(b, d[a], a, d))
                return !1;
      },
      makeInstance: function (d) {
        var c = new Function();
        c.prototype = d;
        d = new c();
        c.prototype = null;
        return d;
      },
      extend: function (d, c, b) {
        if (c) for (var a in c) (b && d.hasOwnProperty(a)) || (d[a] = c[a]);
        return d;
      },
      extend2: function (d) {
        for (var c = arguments, b = 1; b < c.length; b++) {
          var a = c[b],
            e;
          for (e in a) d.hasOwnProperty(e) || (d[e] = a[e]);
        }
        return d;
      },
      inherits: function (d, c) {
        var b = d.prototype,
          a = p.makeInstance(c.prototype);
        p.extend(a, b, !0);
        d.prototype = a;
        return (a.constructor = d);
      },
      bind: function (d, c) {
        return function () {
          return d.apply(c, arguments);
        };
      },
      defer: function (d, c, b) {
        var a;
        return function () {
          b && clearTimeout(a);
          a = setTimeout(d, c);
        };
      },
      indexOf: function (d, c, b) {
        var a = -1;
        b = this.isNumber(b) ? b : 0;
        this.each(d, function (e, h) {
          if (h >= b && e === c) return (a = h), !1;
        });
        return a;
      },
      removeItem: function (d, c) {
        for (var b = 0, a = d.length; b < a; b++)
          d[b] === c && (d.splice(b, 1), b--);
      },
      trim: function (d) {
        return d.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g, "");
      },
      listToMap: function (d) {
        if (!d) return {};
        d = p.isArray(d) ? d : d.split(",");
        for (var c = 0, b, a = {}; (b = d[c++]); )
          a[b.toUpperCase()] = a[b] = 1;
        return a;
      },
      unhtml: function (d, c) {
        return d
          ? d.replace(
              c || /[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,
              function (b, a) {
                return a
                  ? b
                  : {
                      "<": "&lt;",
                      "&": "&amp;",
                      '"': "&quot;",
                      ">": "&gt;",
                      "'": "&#39;",
                    }[b];
              }
            )
          : "";
      },
      html: function (d) {
        return d
          ? d.replace(/&((g|l|quo)t|amp|#39|nbsp);/g, function (c) {
              return {
                "&lt;": "<",
                "&amp;": "&",
                "&quot;": '"',
                "&gt;": ">",
                "&#39;": "'",
                "&nbsp;": " ",
              }[c];
            })
          : "";
      },
      cssStyleToDomStyle: (function () {
        var d = document.createElement("div").style,
          c = {
            float:
              void 0 != d.cssFloat
                ? "cssFloat"
                : void 0 != d.styleFloat
                ? "styleFloat"
                : "float",
          };
        return function (b) {
          return (
            c[b] ||
            (c[b] = b.toLowerCase().replace(/-./g, function (a) {
              return a.charAt(1).toUpperCase();
            }))
          );
        };
      })(),
      loadFile: (function () {
        function d(b, a) {
          try {
            for (var e = 0, h; (h = c[e++]); )
              if (h.doc === b && h.url == (a.src || a.href)) return h;
          } catch (g) {
            return null;
          }
        }
        var c = [];
        return function (b, a, e) {
          var h = d(b, a);
          if (h) h.ready ? e && e() : h.funs.push(e);
          else if (
            (c.push({ doc: b, url: a.src || a.href, funs: [e] }), !b.body)
          ) {
            e = [];
            for (var g in a) "tag" != g && e.push(g + '="' + a[g] + '"');
            b.write("<" + a.tag + " " + e.join(" ") + " ></" + a.tag + ">");
          } else if (!a.id || !b.getElementById(a.id)) {
            var l = b.createElement(a.tag);
            delete a.tag;
            for (g in a) l.setAttribute(g, a[g]);
            l.onload = l.onreadystatechange = function () {
              if (!this.readyState || /loaded|complete/.test(this.readyState)) {
                h = d(b, a);
                if (0 < h.funs.length) {
                  h.ready = 1;
                  for (var e; (e = h.funs.pop()); ) e();
                }
                l.onload = l.onreadystatechange = null;
              }
            };
            l.onerror = function () {
              throw Error(
                "The load " +
                  (a.href || a.src) +
                  " fails,check the url settings of file ueditor.config.js "
              );
            };
            b.getElementsByTagName("head")[0].appendChild(l);
          }
        };
      })(),
      isEmptyObject: function (d) {
        if (null == d) return !0;
        if (this.isArray(d) || this.isString(d)) return 0 === d.length;
        for (var c in d) if (d.hasOwnProperty(c)) return !1;
        return !0;
      },
      fixColor: function (d, c) {
        if (/color/i.test(d) && /rgba?/.test(c)) {
          var b = c.split(",");
          if (3 < b.length) return "";
          c = "#";
          for (var a = 0, e; (e = b[a++]); )
            (e = parseInt(e.replace(/[^\d]/gi, ""), 10).toString(16)),
              (c += 1 == e.length ? "0" + e : e);
          c = c.toUpperCase();
        }
        return c;
      },
      optCss: function (d) {
        function c(a, b) {
          if (!a) return "";
          var g = a.top,
            c = a.bottom,
            k = a.left,
            d = a.right,
            n = "";
          if (g && k && c && d)
            n +=
              ";" +
              b +
              ":" +
              (g == c && c == k && k == d
                ? g
                : g == c && k == d
                ? g + " " + k
                : k == d
                ? g + " " + k + " " + c
                : g + " " + d + " " + c + " " + k) +
              ";";
          else for (var f in a) n += ";" + b + "-" + f + ":" + a[f] + ";";
          return n;
        }
        var b, a;
        d = d.replace(
          /(padding|margin|border)\-([^:]+):([^;]+);?/gi,
          function (e, c, g, l) {
            if (1 == l.split(" ").length)
              switch (c) {
                case "padding":
                  return !b && (b = {}), (b[g] = l), "";
                case "margin":
                  return !a && (a = {}), (a[g] = l), "";
                case "border":
                  return "initial" == l ? "" : e;
              }
            return e;
          }
        );
        d += c(b, "padding") + c(a, "margin");
        return d
          .replace(/^[ \n\r\t;]*|[ \n\r\t]*$/, "")
          .replace(/;([ \n\r\t]+)|\1;/g, ";")
          .replace(/(&((l|g)t|quot|#39))?;{2,}/g, function (a, b) {
            return b ? b + ";;" : ";";
          });
      },
      clone: function (d, c) {
        var b;
        c = c || {};
        for (var a in d)
          d.hasOwnProperty(a) &&
            ((b = d[a]),
            "object" == typeof b
              ? ((c[a] = p.isArray(b) ? [] : {}), p.clone(d[a], c[a]))
              : (c[a] = b));
        return c;
      },
      transUnitToPx: function (d) {
        if (!/(pt|cm)/.test(d)) return d;
        var c;
        d.replace(/([\d.]+)(\w+)/, function (b, a, e) {
          d = a;
          c = e;
        });
        switch (c) {
          case "cm":
            d = 25 * parseFloat(d);
            break;
          case "pt":
            d = Math.round((96 * parseFloat(d)) / 72);
        }
        return d + (d ? "px" : "");
      },
      domReady: (function () {
        function d(b) {
          for (b.isReady = !0; (b = c.pop()); b());
        }
        var c = [];
        return function (b, a) {
          a = a || window;
          var e = a.document;
          b && c.push(b);
          "complete" === e.readyState
            ? d(e)
            : (e.isReady && d(e),
              r.ie && 11 != r.version
                ? ((function () {
                    if (!e.isReady) {
                      try {
                        e.documentElement.doScroll("left");
                      } catch (a) {
                        setTimeout(arguments.callee, 0);
                        return;
                      }
                      d(e);
                    }
                  })(),
                  a.attachEvent("onload", function () {
                    d(e);
                  }))
                : (e.addEventListener(
                    "DOMContentLoaded",
                    function () {
                      e.removeEventListener(
                        "DOMContentLoaded",
                        arguments.callee,
                        !1
                      );
                      d(e);
                    },
                    !1
                  ),
                  a.addEventListener(
                    "load",
                    function () {
                      d(e);
                    },
                    !1
                  )));
        };
      })(),
      cssRule:
        r.ie && 11 != r.version
          ? function (d, c, b) {
              var a, e;
              if (void 0 === c || (c && c.nodeType && 9 == c.nodeType)) {
                if (
                  ((b = c && c.nodeType && 9 == c.nodeType ? c : b || document),
                  (a = b.indexList || (b.indexList = {})),
                  (e = a[d]),
                  void 0 !== e)
                )
                  return b.styleSheets[e].cssText;
              } else {
                b = b || document;
                a = b.indexList || (b.indexList = {});
                e = a[d];
                if ("" === c)
                  return void 0 !== e
                    ? ((b.styleSheets[e].cssText = ""), delete a[d], !0)
                    : !1;
                void 0 !== e
                  ? (sheetStyle = b.styleSheets[e])
                  : ((sheetStyle = b.createStyleSheet(
                      "",
                      (e = b.styleSheets.length)
                    )),
                    (a[d] = e));
                sheetStyle.cssText = c;
              }
            }
          : function (d, c, b) {
              var a;
              if (void 0 === c || (c && c.nodeType && 9 == c.nodeType))
                return (
                  (b = c && c.nodeType && 9 == c.nodeType ? c : b || document),
                  (a = b.getElementById(d)) ? a.innerHTML : void 0
                );
              b = b || document;
              a = b.getElementById(d);
              if ("" === c) return a ? (a.parentNode.removeChild(a), !0) : !1;
              a
                ? (a.innerHTML = c)
                : ((a = b.createElement("style")),
                  (a.id = d),
                  (a.innerHTML = c),
                  b.getElementsByTagName("head")[0].appendChild(a));
            },
      sort: function (d, c) {
        c =
          c ||
          function (a, e) {
            return a.localeCompare(e);
          };
        for (var b = 0, a = d.length; b < a; b++)
          for (var e = b, h = d.length; e < h; e++)
            if (0 < c(d[b], d[e])) {
              var g = d[b];
              d[b] = d[e];
              d[e] = g;
            }
        return d;
      },
      serializeParam: function (d) {
        var c = [],
          b;
        for (b in d)
          if ("method" != b && "timeout" != b && "async" != b)
            if (
              "function" != (typeof d[b]).toLowerCase() &&
              "object" != (typeof d[b]).toLowerCase()
            )
              c.push(encodeURIComponent(b) + "=" + encodeURIComponent(d[b]));
            else if (p.isArray(d[b]))
              for (var a = 0; a < d[b].length; a++)
                c.push(
                  encodeURIComponent(b) + "[]=" + encodeURIComponent(d[b][a])
                );
        return c.join("&");
      },
      formatUrl: function (d) {
        d = d.replace(/&&/g, "&");
        d = d.replace(/\?&/g, "?");
        d = d.replace(/&$/g, "");
        d = d.replace(/&#/g, "#");
        return (d = d.replace(/&+/g, "&"));
      },
      isCrossDomainUrl: function (d) {
        var c = document.createElement("a");
        c.href = d;
        r.ie && (c.href = c.href);
        return !(
          c.protocol == location.protocol &&
          c.hostname == location.hostname &&
          (c.port == location.port ||
            ("80" == c.port && "" == location.port) ||
            ("" == c.port && "80" == location.port))
        );
      },
      clearEmptyAttrs: function (d) {
        for (var c in d) "" === d[c] && delete d[c];
        return d;
      },
      str2json: function (d) {
        return p.isString(d)
          ? window.JSON
            ? JSON.parse(d)
            : new Function("return " + p.trim(d || ""))()
          : null;
      },
      json2str: (function () {
        if (window.JSON) return JSON.stringify;
        var d = {
            "\b": "\\b",
            "\t": "\\t",
            "\n": "\\n",
            "\f": "\\f",
            "\r": "\\r",
            '"': '\\"',
            "\\": "\\\\",
          },
          c = function (a) {
            /["\\\x00-\x1f]/.test(a) &&
              (a = a.replace(/["\\\x00-\x1f]/g, function (a) {
                var b = d[a];
                if (b) return b;
                b = a.charCodeAt();
                return (
                  "\\u00" +
                  Math.floor(b / 16).toString(16) +
                  (b % 16).toString(16)
                );
              }));
            return '"' + a + '"';
          },
          b = function (a) {
            return 10 > a ? "0" + a : a;
          };
        return function (a) {
          switch (typeof a) {
            case "undefined":
              return "undefined";
            case "number":
              return isFinite(a) ? String(a) : "null";
            case "string":
              return c(a);
            case "boolean":
              return String(a);
            default:
              if (null === a) return "null";
              if (p.isArray(a)) {
                var e = ["["],
                  h = a.length,
                  g,
                  l,
                  k;
                for (l = 0; l < h; l++)
                  switch (((k = a[l]), typeof k)) {
                    case "undefined":
                    case "function":
                    case "unknown":
                      break;
                    default:
                      g && e.push(","), e.push(p.json2str(k)), (g = 1);
                  }
                e.push("]");
                return e.join("");
              }
              if (p.isDate(a))
                return (
                  '"' +
                  a.getFullYear() +
                  "-" +
                  b(a.getMonth() + 1) +
                  "-" +
                  b(a.getDate()) +
                  "T" +
                  b(a.getHours()) +
                  ":" +
                  b(a.getMinutes()) +
                  ":" +
                  b(a.getSeconds()) +
                  '"'
                );
              g = ["{"];
              l = p.json2str;
              for (h in a)
                if (Object.prototype.hasOwnProperty.call(a, h))
                  switch (((k = a[h]), typeof k)) {
                    case "undefined":
                    case "unknown":
                    case "function":
                      break;
                    default:
                      e && g.push(","), (e = 1), g.push(l(h) + ":" + l(k));
                  }
              g.push("}");
              return g.join("");
          }
        };
      })(),
    });
  p.each(
    "String Function Array Number RegExp Object Date".split(" "),
    function (d) {
      UE.utils["is" + d] = function (c) {
        return Object.prototype.toString.apply(c) == "[object " + d + "]";
      };
    }
  );
  var Z = (UE.EventBase = function () {});
  Z.prototype = {
    addListener: function (d, c) {
      d = p.trim(d).split(/\s+/);
      for (var b = 0, a; (a = d[b++]); ) W(this, a, !0).push(c);
    },
    on: function (d, c) {
      return this.addListener(d, c);
    },
    off: function (d, c) {
      return this.removeListener(d, c);
    },
    trigger: function () {
      return this.fireEvent.apply(this, arguments);
    },
    removeListener: function (d, c) {
      d = p.trim(d).split(/\s+/);
      for (var b = 0, a; (a = d[b++]); ) p.removeItem(W(this, a) || [], c);
    },
    fireEvent: function () {
      for (
        var d = arguments[0], d = p.trim(d).split(" "), c = 0, b;
        (b = d[c++]);

      ) {
        var a = W(this, b),
          e,
          h,
          g;
        if (a)
          for (g = a.length; g--; )
            if (a[g]) {
              h = a[g].apply(this, arguments);
              if (!0 === h) return h;
              void 0 !== h && (e = h);
            }
        if ((h = this["on" + b.toLowerCase()])) e = h.apply(this, arguments);
      }
      return e;
    },
  };
  var v = (L.dtd = (function () {
      function d(a) {
        for (var e in a) a[e.toUpperCase()] = a[e];
        return a;
      }
      var c = p.extend2,
        b = d({ isindex: 1, fieldset: 1 }),
        a = d({ input: 1, button: 1, select: 1, textarea: 1, label: 1 }),
        e = c(d({ a: 1 }), a),
        h = c({ iframe: 1 }, e),
        g = d({
          hr: 1,
          ul: 1,
          menu: 1,
          div: 1,
          blockquote: 1,
          noscript: 1,
          table: 1,
          center: 1,
          address: 1,
          dir: 1,
          pre: 1,
          h5: 1,
          dl: 1,
          h4: 1,
          noframes: 1,
          h6: 1,
          ol: 1,
          h1: 1,
          h3: 1,
          h2: 1,
        }),
        l = d({ ins: 1, del: 1, script: 1, style: 1 }),
        k = c(
          d({
            b: 1,
            acronym: 1,
            bdo: 1,
            var: 1,
            "#": 1,
            abbr: 1,
            code: 1,
            br: 1,
            i: 1,
            cite: 1,
            kbd: 1,
            u: 1,
            strike: 1,
            s: 1,
            tt: 1,
            strong: 1,
            q: 1,
            samp: 1,
            em: 1,
            dfn: 1,
            span: 1,
          }),
          l
        ),
        m = c(
          d({
            sub: 1,
            img: 1,
            embed: 1,
            object: 1,
            sup: 1,
            basefont: 1,
            map: 1,
            applet: 1,
            font: 1,
            big: 1,
            small: 1,
          }),
          k
        ),
        n = c(d({ p: 1 }), m),
        a = c(d({ iframe: 1 }), m, a),
        m = d({
          img: 1,
          embed: 1,
          noscript: 1,
          br: 1,
          kbd: 1,
          center: 1,
          button: 1,
          basefont: 1,
          h5: 1,
          h4: 1,
          samp: 1,
          h6: 1,
          ol: 1,
          h1: 1,
          h3: 1,
          h2: 1,
          form: 1,
          font: 1,
          "#": 1,
          select: 1,
          menu: 1,
          ins: 1,
          abbr: 1,
          label: 1,
          code: 1,
          table: 1,
          script: 1,
          cite: 1,
          input: 1,
          iframe: 1,
          strong: 1,
          textarea: 1,
          noframes: 1,
          big: 1,
          small: 1,
          span: 1,
          hr: 1,
          sub: 1,
          bdo: 1,
          var: 1,
          div: 1,
          object: 1,
          sup: 1,
          strike: 1,
          dir: 1,
          map: 1,
          dl: 1,
          applet: 1,
          del: 1,
          isindex: 1,
          fieldset: 1,
          ul: 1,
          b: 1,
          acronym: 1,
          a: 1,
          blockquote: 1,
          i: 1,
          u: 1,
          s: 1,
          tt: 1,
          address: 1,
          q: 1,
          pre: 1,
          p: 1,
          em: 1,
          dfn: 1,
        }),
        f = c(d({ a: 0 }), a),
        t = d({ tr: 1 }),
        w = d({ "#": 1 }),
        y = c(d({ param: 1 }), m),
        u = c(d({ form: 1 }), b, h, g, n),
        C = d({ li: 1, ol: 1, ul: 1 }),
        E = d({ style: 1, script: 1 }),
        G = d({ base: 1, link: 1, meta: 1, title: 1 }),
        E = c(G, E),
        A = d({ head: 1, body: 1 }),
        N = d({ html: 1 }),
        r = d({
          address: 1,
          blockquote: 1,
          center: 1,
          dir: 1,
          div: 1,
          dl: 1,
          fieldset: 1,
          form: 1,
          h1: 1,
          h2: 1,
          h3: 1,
          h4: 1,
          h5: 1,
          h6: 1,
          hr: 1,
          isindex: 1,
          menu: 1,
          noframes: 1,
          ol: 1,
          p: 1,
          pre: 1,
          table: 1,
          ul: 1,
        }),
        s = d({
          area: 1,
          base: 1,
          basefont: 1,
          br: 1,
          col: 1,
          command: 1,
          dialog: 1,
          embed: 1,
          hr: 1,
          img: 1,
          input: 1,
          isindex: 1,
          keygen: 1,
          link: 1,
          meta: 1,
          param: 1,
          source: 1,
          track: 1,
          wbr: 1,
        });
      return d({
        $nonBodyContent: c(N, A, G),
        $block: r,
        $inline: f,
        $inlineWithA: c(d({ a: 1 }), f),
        $body: c(d({ script: 1, style: 1 }), r),
        $cdata: d({ script: 1, style: 1 }),
        $empty: s,
        $nonChild: d({ iframe: 1, textarea: 1 }),
        $listItem: d({ dd: 1, dt: 1, li: 1 }),
        $list: d({ ul: 1, ol: 1, dl: 1 }),
        $isNotEmpty: d({
          table: 1,
          ul: 1,
          ol: 1,
          dl: 1,
          iframe: 1,
          area: 1,
          base: 1,
          col: 1,
          hr: 1,
          img: 1,
          embed: 1,
          input: 1,
          link: 1,
          meta: 1,
          param: 1,
          h1: 1,
          h2: 1,
          h3: 1,
          h4: 1,
          h5: 1,
          h6: 1,
        }),
        $removeEmpty: d({
          a: 1,
          abbr: 1,
          acronym: 1,
          address: 1,
          b: 1,
          bdo: 1,
          big: 1,
          cite: 1,
          code: 1,
          del: 1,
          dfn: 1,
          em: 1,
          font: 1,
          i: 1,
          ins: 1,
          label: 1,
          kbd: 1,
          q: 1,
          s: 1,
          samp: 1,
          small: 1,
          span: 1,
          strike: 1,
          strong: 1,
          sub: 1,
          sup: 1,
          tt: 1,
          u: 1,
          var: 1,
        }),
        $removeEmptyBlock: d({ p: 1, div: 1 }),
        $tableContent: d({
          caption: 1,
          col: 1,
          colgroup: 1,
          tbody: 1,
          td: 1,
          tfoot: 1,
          th: 1,
          thead: 1,
          tr: 1,
          table: 1,
        }),
        $notTransContent: d({ pre: 1, script: 1, style: 1, textarea: 1 }),
        html: A,
        head: E,
        style: w,
        script: w,
        body: u,
        base: {},
        link: {},
        meta: {},
        title: w,
        col: {},
        tr: d({ td: 1, th: 1 }),
        img: {},
        embed: {},
        colgroup: d({ thead: 1, col: 1, tbody: 1, tr: 1, tfoot: 1 }),
        noscript: u,
        td: u,
        br: {},
        th: u,
        center: u,
        kbd: f,
        button: c(n, g),
        basefont: {},
        h5: f,
        h4: f,
        samp: f,
        h6: f,
        ol: C,
        h1: f,
        h3: f,
        option: w,
        h2: f,
        form: c(b, h, g, n),
        select: d({ optgroup: 1, option: 1 }),
        font: f,
        ins: f,
        menu: C,
        abbr: f,
        label: f,
        table: d({
          thead: 1,
          col: 1,
          tbody: 1,
          tr: 1,
          colgroup: 1,
          caption: 1,
          tfoot: 1,
        }),
        code: f,
        tfoot: t,
        cite: f,
        li: u,
        input: {},
        iframe: u,
        strong: f,
        textarea: w,
        noframes: u,
        big: f,
        small: f,
        span: d({
          "#": 1,
          br: 1,
          b: 1,
          strong: 1,
          u: 1,
          i: 1,
          em: 1,
          sub: 1,
          sup: 1,
          strike: 1,
          span: 1,
        }),
        hr: f,
        dt: f,
        sub: f,
        optgroup: d({ option: 1 }),
        param: {},
        bdo: f,
        var: f,
        div: u,
        object: y,
        sup: f,
        dd: u,
        strike: f,
        area: {},
        dir: C,
        map: c(d({ area: 1, form: 1, p: 1 }), b, l, g),
        applet: y,
        dl: d({ dt: 1, dd: 1 }),
        del: f,
        isindex: {},
        fieldset: c(d({ legend: 1 }), m),
        thead: t,
        ul: C,
        acronym: f,
        b: f,
        a: c(d({ a: 1 }), a),
        blockquote: c(d({ td: 1, tr: 1, tbody: 1, li: 1 }), u),
        caption: f,
        i: f,
        u: f,
        tbody: t,
        s: f,
        address: c(h, n),
        tt: f,
        legend: f,
        q: f,
        pre: c(k, e),
        p: c(d({ a: 1 }), f),
        em: f,
        dfn: f,
      });
    })()),
    ea =
      I && 9 > r.version
        ? {
            tabindex: "tabIndex",
            readonly: "readOnly",
            for: "htmlFor",
            class: "className",
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
          }
        : { tabindex: "tabIndex", readonly: "readOnly" },
    oa = p.listToMap(
      "-webkit-box -moz-box block list-item table table-row-group table-header-group table-footer-group table-row table-column-group table-column table-cell table-caption".split(
        " "
      )
    ),
    f = (L.domUtils = {
      NODE_ELEMENT: 1,
      NODE_DOCUMENT: 9,
      NODE_TEXT: 3,
      NODE_COMMENT: 8,
      NODE_DOCUMENT_FRAGMENT: 11,
      POSITION_IDENTICAL: 0,
      POSITION_DISCONNECTED: 1,
      POSITION_FOLLOWING: 2,
      POSITION_PRECEDING: 4,
      POSITION_IS_CONTAINED: 8,
      POSITION_CONTAINS: 16,
      fillChar: I && "6" == r.version ? "\ufeff" : "\u200b",
      keys: {
        8: 1,
        46: 1,
        16: 1,
        17: 1,
        18: 1,
        37: 1,
        38: 1,
        39: 1,
        40: 1,
        13: 1,
      },
      getPosition: function (d, c) {
        if (d === c) return 0;
        var b,
          a = [d],
          e = [c];
        for (b = d; (b = b.parentNode); ) {
          if (b === c) return 10;
          a.push(b);
        }
        for (b = c; (b = b.parentNode); ) {
          if (b === d) return 20;
          e.push(b);
        }
        a.reverse();
        e.reverse();
        if (a[0] !== e[0]) return 1;
        for (b = -1; b++, a[b] === e[b]; );
        d = a[b];
        for (c = e[b]; (d = d.nextSibling); ) if (d === c) return 4;
        return 2;
      },
      getNodeIndex: function (d, c) {
        for (var b = d, a = 0; (b = b.previousSibling); )
          c && 3 == b.nodeType
            ? b.nodeType != b.nextSibling.nodeType && a++
            : a++;
        return a;
      },
      inDoc: function (d, c) {
        return 10 == f.getPosition(d, c);
      },
      findParent: function (d, c, b) {
        if (d && !f.isBody(d))
          for (d = b ? d : d.parentNode; d; ) {
            if (!c || c(d) || f.isBody(d))
              return c && !c(d) && f.isBody(d) ? null : d;
            d = d.parentNode;
          }
        return null;
      },
      findParentByTagName: function (d, c, b, a) {
        c = p.listToMap(p.isArray(c) ? c : [c]);
        return f.findParent(
          d,
          function (e) {
            return c[e.tagName] && !(a && a(e));
          },
          b
        );
      },
      findParents: function (d, c, b, a) {
        for (
          c = c && ((b && b(d)) || !b) ? [d] : [];
          (d = f.findParent(d, b));

        )
          c.push(d);
        return a ? c : c.reverse();
      },
      insertAfter: function (d, c) {
        return d.nextSibling
          ? d.parentNode.insertBefore(c, d.nextSibling)
          : d.parentNode.appendChild(c);
      },
      remove: function (d, c) {
        var b = d.parentNode,
          a;
        if (b) {
          if (c && d.hasChildNodes())
            for (; (a = d.firstChild); ) b.insertBefore(a, d);
          b.removeChild(d);
        }
        return d;
      },
      getNextDomNode: function (d, c, b, a) {
        return X(d, "firstChild", "nextSibling", c, b, a);
      },
      getPreDomNode: function (d, c, b, a) {
        return X(d, "lastChild", "previousSibling", c, b, a);
      },
      isBookmarkNode: function (d) {
        return 1 == d.nodeType && d.id && /^_baidu_bookmark_/i.test(d.id);
      },
      getWindow: function (d) {
        d = d.ownerDocument || d;
        return d.defaultView || d.parentWindow;
      },
      getCommonAncestor: function (d, c) {
        if (d === c) return d;
        for (var b = [d], a = [c], e = d, h = -1; (e = e.parentNode); ) {
          if (e === c) return e;
          b.push(e);
        }
        for (e = c; (e = e.parentNode); ) {
          if (e === d) return e;
          a.push(e);
        }
        b.reverse();
        for (a.reverse(); h++, b[h] === a[h]; );
        return 0 == h ? null : b[h - 1];
      },
      clearEmptySibling: function (d, c, b) {
        function a(a, b) {
          for (
            var g;
            a &&
            !f.isBookmarkNode(a) &&
            (f.isEmptyInlineElement(a) ||
              !RegExp("[^\t\n\r" + f.fillChar + "]").test(a.nodeValue));

          )
            (g = a[b]), f.remove(a), (a = g);
        }
        !c && a(d.nextSibling, "nextSibling");
        !b && a(d.previousSibling, "previousSibling");
      },
      split: function (d, c) {
        var b = d.ownerDocument;
        if (r.ie && c == d.nodeValue.length) {
          var a = b.createTextNode("");
          return f.insertAfter(d, a);
        }
        a = d.splitText(c);
        r.ie8 && ((b = b.createTextNode("")), f.insertAfter(a, b), f.remove(b));
        return a;
      },
      isWhitespace: function (d) {
        return !RegExp("[^ \t\n\r" + f.fillChar + "]").test(d.nodeValue);
      },
      getXY: function (d) {
        for (var c = 0, b = 0; d.offsetParent; )
          (b += d.offsetTop), (c += d.offsetLeft), (d = d.offsetParent);
        return { x: c, y: b };
      },
      on: function (d, c, b) {
        var a = p.isArray(c) ? c : p.trim(c).split(/\s+/),
          e = a.length;
        if (e)
          for (; e--; )
            if (((c = a[e]), d.addEventListener)) d.addEventListener(c, b, !1);
            else {
              b._d || (b._d = { els: [] });
              var h = c + b.toString(),
                g = p.indexOf(b._d.els, d);
              (b._d[h] && -1 != g) ||
                (-1 == g && b._d.els.push(d),
                b._d[h] ||
                  (b._d[h] = function (a) {
                    return b.call(a.srcElement, a || window.event);
                  }),
                d.attachEvent("on" + c, b._d[h]));
            }
        d = null;
      },
      un: function (d, c, b) {
        var a = p.isArray(c) ? c : p.trim(c).split(/\s+/),
          e = a.length;
        if (e)
          for (; e--; )
            if (((c = a[e]), d.removeEventListener))
              d.removeEventListener(c, b, !1);
            else {
              var h = c + b.toString();
              try {
                d.detachEvent("on" + c, b._d ? b._d[h] : b);
              } catch (g) {}
              b._d &&
                b._d[h] &&
                ((c = p.indexOf(b._d.els, d)),
                -1 != c && b._d.els.splice(c, 1),
                0 == b._d.els.length && delete b._d[h]);
            }
      },
      isSameElement: function (d, c) {
        if (d.tagName != c.tagName) return !1;
        var b = d.attributes,
          a = c.attributes;
        if (!I && b.length != a.length) return !1;
        for (var e, h, g = 0, l = 0, k = 0; (e = b[k++]); ) {
          if ("style" == e.nodeName)
            if ((e.specified && g++, f.isSameStyle(d, c))) continue;
            else return !1;
          if (I)
            if (e.specified) g++, (h = a.getNamedItem(e.nodeName));
            else continue;
          else h = c.attributes[e.nodeName];
          if (!h.specified || e.nodeValue != h.nodeValue) return !1;
        }
        if (I) {
          for (k = 0; (h = a[k++]); ) h.specified && l++;
          if (g != l) return !1;
        }
        return !0;
      },
      isSameStyle: function (d, c) {
        var b = d.style.cssText
            .replace(/( ?; ?)/g, ";")
            .replace(/( ?: ?)/g, ":"),
          a = c.style.cssText.replace(/( ?; ?)/g, ";").replace(/( ?: ?)/g, ":");
        if (r.opera) {
          b = d.style;
          a = c.style;
          if (b.length != a.length) return !1;
          for (var e in b)
            if (!/^(\d+|csstext)$/i.test(e) && b[e] != a[e]) return !1;
          return !0;
        }
        if (!b || !a) return b == a;
        b = b.split(";");
        a = a.split(";");
        if (b.length != a.length) return !1;
        e = 0;
        for (var h; (h = b[e++]); ) if (-1 == p.indexOf(a, h)) return !1;
        return !0;
      },
      isBlockElm: function (d) {
        return (
          1 == d.nodeType &&
          (v.$block[d.tagName] || oa[f.getComputedStyle(d, "display")]) &&
          !v.$nonChild[d.tagName]
        );
      },
      isBody: function (d) {
        return d && 1 == d.nodeType && "body" == d.tagName.toLowerCase();
      },
      breakParent: function (d, c) {
        var b,
          a = d,
          e = d,
          h,
          g;
        do {
          a = a.parentNode;
          h
            ? ((b = a.cloneNode(!1)),
              b.appendChild(h),
              (h = b),
              (b = a.cloneNode(!1)),
              b.appendChild(g),
              (g = b))
            : ((h = a.cloneNode(!1)), (g = h.cloneNode(!1)));
          for (; (b = e.previousSibling); ) h.insertBefore(b, h.firstChild);
          for (; (b = e.nextSibling); ) g.appendChild(b);
          e = a;
        } while (c !== a);
        b = c.parentNode;
        b.insertBefore(h, c);
        b.insertBefore(g, c);
        b.insertBefore(d, g);
        f.remove(c);
        return d;
      },
      isEmptyInlineElement: function (d) {
        if (1 != d.nodeType || !v.$removeEmpty[d.tagName]) return 0;
        for (d = d.firstChild; d; ) {
          if (
            f.isBookmarkNode(d) ||
            (1 == d.nodeType && !f.isEmptyInlineElement(d)) ||
            (3 == d.nodeType && !f.isWhitespace(d))
          )
            return 0;
          d = d.nextSibling;
        }
        return 1;
      },
      trimWhiteTextNode: function (d) {
        function c(b) {
          for (var a; (a = d[b]) && 3 == a.nodeType && f.isWhitespace(a); )
            d.removeChild(a);
        }
        c("firstChild");
        c("lastChild");
      },
      mergeChild: function (d, c, b) {
        c = f.getElementsByTagName(d, d.tagName.toLowerCase());
        for (var a = 0, e; (e = c[a++]); )
          if (e.parentNode && !f.isBookmarkNode(e))
            if ("span" == e.tagName.toLowerCase()) {
              if (
                d === e.parentNode &&
                (f.trimWhiteTextNode(d), 1 == d.childNodes.length)
              ) {
                d.style.cssText = e.style.cssText + ";" + d.style.cssText;
                f.remove(e, !0);
                continue;
              }
              e.style.cssText = d.style.cssText + ";" + e.style.cssText;
              if (b) {
                var h = b.style;
                if (h)
                  for (var h = h.split(";"), g = 0, l; (l = h[g++]); )
                    e.style[p.cssStyleToDomStyle(l.split(":")[0])] =
                      l.split(":")[1];
              }
              f.isSameStyle(e, d) && f.remove(e, !0);
            } else f.isSameElement(d, e) && f.remove(e, !0);
      },
      getElementsByTagName: function (d, c, b) {
        if (b && p.isString(b)) {
          var a = b;
          b = function (e) {
            return f.hasClass(e, a);
          };
        }
        c = p
          .trim(c)
          .replace(/[ ]{2,}/g, " ")
          .split(" ");
        for (var e = [], h = 0, g; (g = c[h++]); ) {
          g = d.getElementsByTagName(g);
          for (var l = 0, k; (k = g[l++]); ) (b && !b(k)) || e.push(k);
        }
        return e;
      },
      mergeToParent: function (d) {
        for (var c = d.parentNode; c && v.$removeEmpty[c.tagName]; ) {
          if (c.tagName == d.tagName || "A" == c.tagName) {
            f.trimWhiteTextNode(c);
            if (
              ("SPAN" == c.tagName && !f.isSameStyle(c, d)) ||
              ("A" == c.tagName && "SPAN" == d.tagName)
            )
              if (1 < c.childNodes.length || c !== d.parentNode) {
                d.style.cssText = c.style.cssText + ";" + d.style.cssText;
                c = c.parentNode;
                continue;
              } else
                (c.style.cssText += ";" + d.style.cssText),
                  "A" == c.tagName && (c.style.textDecoration = "underline");
            if ("A" != c.tagName) {
              c === d.parentNode && f.remove(d, !0);
              break;
            }
          }
          c = c.parentNode;
        }
      },
      mergeSibling: function (d, c, b) {
        function a(a, b, g) {
          var c;
          if (
            (c = g[a]) &&
            !f.isBookmarkNode(c) &&
            1 == c.nodeType &&
            f.isSameElement(g, c)
          ) {
            for (; c.firstChild; )
              "firstChild" == b
                ? g.insertBefore(c.lastChild, g.firstChild)
                : g.appendChild(c.firstChild);
            f.remove(c);
          }
        }
        !c && a("previousSibling", "firstChild", d);
        !b && a("nextSibling", "lastChild", d);
      },
      unSelectable:
        (I && r.ie9below) || r.opera
          ? function (d) {
              d.onselectstart = function () {
                return !1;
              };
              d.onclick =
                d.onkeyup =
                d.onkeydown =
                  function () {
                    return !1;
                  };
              d.unselectable = "on";
              d.setAttribute("unselectable", "on");
              for (var c = 0, b; (b = d.all[c++]); )
                switch (b.tagName.toLowerCase()) {
                  case "iframe":
                  case "textarea":
                  case "input":
                  case "select":
                    break;
                  default:
                    (b.unselectable = "on"),
                      d.setAttribute("unselectable", "on");
                }
            }
          : function (d) {
              d.style.MozUserSelect =
                d.style.webkitUserSelect =
                d.style.msUserSelect =
                d.style.KhtmlUserSelect =
                  "none";
            },
      removeAttributes: function (d, c) {
        c = p.isArray(c)
          ? c
          : p
              .trim(c)
              .replace(/[ ]{2,}/g, " ")
              .split(" ");
        for (var b = 0, a; (a = c[b++]); ) {
          a = ea[a] || a;
          switch (a) {
            case "className":
              d[a] = "";
              break;
            case "style":
              d.style.cssText = "";
              var e = d.getAttributeNode("style");
              !r.ie && e && d.removeAttributeNode(e);
          }
          d.removeAttribute(a);
        }
      },
      createElement: function (d, c, b) {
        return f.setAttributes(d.createElement(c), b);
      },
      setAttributes: function (d, c) {
        for (var b in c)
          if (c.hasOwnProperty(b)) {
            var a = c[b];
            switch (b) {
              case "class":
                d.className = a;
                break;
              case "style":
                d.style.cssText = d.style.cssText + ";" + a;
                break;
              case "innerHTML":
                d[b] = a;
                break;
              case "value":
                d.value = a;
                break;
              default:
                d.setAttribute(ea[b] || b, a);
            }
          }
        return d;
      },
      getComputedStyle: function (d, c) {
        if (-1 < "width height top left".indexOf(c))
          return (
            d[
              "offset" +
                c.replace(/^\w/, function (a) {
                  return a.toUpperCase();
                })
            ] + "px"
          );
        3 == d.nodeType && (d = d.parentNode);
        if (
          r.ie &&
          9 > r.version &&
          "font-size" == c &&
          !d.style.fontSize &&
          !v.$empty[d.tagName] &&
          !v.$nonChild[d.tagName]
        ) {
          var b = d.ownerDocument.createElement("span");
          b.style.cssText = "padding:0;border:0;font-family:simsun;";
          b.innerHTML = ".";
          d.appendChild(b);
          var a = b.offsetHeight;
          d.removeChild(b);
          b = null;
          return a + "px";
        }
        try {
          b =
            f.getStyle(d, c) ||
            (window.getComputedStyle
              ? f.getWindow(d).getComputedStyle(d, "").getPropertyValue(c)
              : (d.currentStyle || d.style)[p.cssStyleToDomStyle(c)]);
        } catch (e) {
          return "";
        }
        return p.transUnitToPx(p.fixColor(c, b));
      },
      removeClasses: function (d, c) {
        c = p.isArray(c)
          ? c
          : p
              .trim(c)
              .replace(/[ ]{2,}/g, " ")
              .split(" ");
        for (var b = 0, a, e = d.className; (a = c[b++]); )
          e = e.replace(RegExp("\\b" + a + "\\b"), "");
        (e = p.trim(e).replace(/[ ]{2,}/g, " "))
          ? (d.className = e)
          : f.removeAttributes(d, ["class"]);
      },
      addClass: function (d, c) {
        if (d) {
          c = p
            .trim(c)
            .replace(/[ ]{2,}/g, " ")
            .split(" ");
          for (var b = 0, a, e = d.className; (a = c[b++]); )
            RegExp("\\b" + a + "\\b").test(e) || (e += " " + a);
          d.className = p.trim(e);
        }
      },
      hasClass: function (d, c) {
        if (p.isRegExp(c)) return c.test(d.className);
        c = p
          .trim(c)
          .replace(/[ ]{2,}/g, " ")
          .split(" ");
        for (var b = 0, a, e = d.className; (a = c[b++]); )
          if (!RegExp("\\b" + a + "\\b", "i").test(e)) return !1;
        return b - 1 == c.length;
      },
      preventDefault: function (d) {
        d.preventDefault ? d.preventDefault() : (d.returnValue = !1);
      },
      removeStyle: function (d, c) {
        r.ie
          ? ("color" == c && (c = "(^|;)" + c),
            (d.style.cssText = d.style.cssText.replace(
              RegExp(c + "[^:]*:[^;]+;?", "ig"),
              ""
            )))
          : d.style.removeProperty
          ? d.style.removeProperty(c)
          : d.style.removeAttribute(p.cssStyleToDomStyle(c));
        d.style.cssText || f.removeAttributes(d, ["style"]);
      },
      getStyle: function (d, c) {
        var b = d.style[p.cssStyleToDomStyle(c)];
        return p.fixColor(c, b);
      },
      setStyle: function (d, c, b) {
        d.style[p.cssStyleToDomStyle(c)] = b;
        p.trim(d.style.cssText) || this.removeAttributes(d, "style");
      },
      setStyles: function (d, c) {
        for (var b in c) c.hasOwnProperty(b) && f.setStyle(d, b, c[b]);
      },
      removeDirtyAttr: function (d) {
        for (var c = 0, b, a = d.getElementsByTagName("*"); (b = a[c++]); )
          b.removeAttribute("_moz_dirty");
        d.removeAttribute("_moz_dirty");
      },
      getChildCount: function (d, c) {
        var b = 0,
          a = d.firstChild;
        for (
          c =
            c ||
            function () {
              return 1;
            };
          a;

        )
          c(a) && b++, (a = a.nextSibling);
        return b;
      },
      isEmptyNode: function (d) {
        return (
          !d.firstChild ||
          0 ==
            f.getChildCount(d, function (c) {
              return !f.isBr(c) && !f.isBookmarkNode(c) && !f.isWhitespace(c);
            })
        );
      },
      clearSelectedArr: function (d) {
        for (var c; (c = d.pop()); ) f.removeAttributes(c, ["class"]);
      },
      scrollToView: function (d, c, b) {
        var a = (function () {
          var a = c.document,
            b = "CSS1Compat" == a.compatMode;
          return {
            width:
              (b ? a.documentElement.clientWidth : a.body.clientWidth) || 0,
            height:
              (b ? a.documentElement.clientHeight : a.body.clientHeight) || 0,
          };
        })().height;
        b = -1 * a + b + (d.offsetHeight || 0);
        d = f.getXY(d);
        b += d.y;
        d = (function (a) {
          if ("pageXOffset" in a)
            return { x: a.pageXOffset || 0, y: a.pageYOffset || 0 };
          a = a.document;
          return {
            x: a.documentElement.scrollLeft || a.body.scrollLeft || 0,
            y: a.documentElement.scrollTop || a.body.scrollTop || 0,
          };
        })(c).y;
        (b > d || b < d - a) && c.scrollTo(0, b + (0 > b ? -20 : 20));
      },
      isBr: function (d) {
        return 1 == d.nodeType && "BR" == d.tagName;
      },
      isFillChar: function (d, c) {
        if (3 != d.nodeType) return !1;
        var b = d.nodeValue;
        return c
          ? RegExp("^" + f.fillChar).test(b)
          : !b.replace(RegExp(f.fillChar, "g"), "").length;
      },
      isStartInblock: function (d) {
        d = d.cloneRange();
        var c = 0,
          b = d.startContainer,
          a;
        if (1 == b.nodeType && b.childNodes[d.startOffset])
          for (
            var b = b.childNodes[d.startOffset], e = b.previousSibling;
            e && f.isFillChar(e);

          )
            (b = e), (e = e.previousSibling);
        this.isFillChar(b, !0) &&
          1 == d.startOffset &&
          (d.setStartBefore(b), (b = d.startContainer));
        for (; b && f.isFillChar(b); ) (a = b), (b = b.previousSibling);
        a && (d.setStartBefore(a), (b = d.startContainer));
        for (
          1 == b.nodeType &&
          f.isEmptyNode(b) &&
          1 == d.startOffset &&
          d.setStart(b, 0).collapse(!0);
          !d.startOffset;

        ) {
          b = d.startContainer;
          if (f.isBlockElm(b) || f.isBody(b)) {
            c = 1;
            break;
          }
          var e = d.startContainer.previousSibling,
            h;
          if (e) {
            for (; e && f.isFillChar(e); ) (h = e), (e = e.previousSibling);
            h ? d.setStartBefore(h) : d.setStartBefore(d.startContainer);
          } else d.setStartBefore(d.startContainer);
        }
        return c && !f.isBody(d.startContainer) ? 1 : 0;
      },
      isEmptyBlock: function (d, c) {
        if (1 != d.nodeType) return 0;
        c = c || RegExp("[ \u00a0\t\r\n" + f.fillChar + "]", "g");
        if (0 < d[r.ie ? "innerText" : "textContent"].replace(c, "").length)
          return 0;
        for (var b in v.$isNotEmpty)
          if (d.getElementsByTagName(b).length) return 0;
        return 1;
      },
      setViewportOffset: function (d, c) {
        var b = parseInt(d.style.left) | 0,
          a = parseInt(d.style.top) | 0,
          e = d.getBoundingClientRect(),
          h = c.left - e.left,
          e = c.top - e.top;
        h && (d.style.left = b + h + "px");
        e && (d.style.top = a + e + "px");
      },
      fillNode: function (d, c) {
        var b = r.ie ? d.createTextNode(f.fillChar) : d.createElement("br");
        c.innerHTML = "";
        c.appendChild(b);
      },
      moveChild: function (d, c, b) {
        for (; d.firstChild; )
          b && c.firstChild
            ? c.insertBefore(d.lastChild, c.firstChild)
            : c.appendChild(d.firstChild);
      },
      hasNoAttributes: function (d) {
        return r.ie ? /^<\w+\s*?>/.test(d.outerHTML) : 0 == d.attributes.length;
      },
      isCustomeNode: function (d) {
        return 1 == d.nodeType && d.getAttribute("_ue_custom_node_");
      },
      isTagNode: function (d, c) {
        return (
          1 == d.nodeType && RegExp("\\b" + d.tagName + "\\b", "i").test(c)
        );
      },
      filterNodeList: function (d, c, b) {
        var a = [];
        if (!p.isFunction(c)) {
          var e = c;
          c = function (a) {
            return (
              -1 !=
              p.indexOf(
                p.isArray(e) ? e : e.split(" "),
                a.tagName.toLowerCase()
              )
            );
          };
        }
        p.each(d, function (e) {
          c(e) && a.push(e);
        });
        return 0 == a.length ? null : 1 != a.length && b ? a : a[0];
      },
      isInNodeEndBoundary: function (d, c) {
        var b = d.startContainer;
        if (
          (3 == b.nodeType && d.startOffset != b.nodeValue.length) ||
          (1 == b.nodeType && d.startOffset != b.childNodes.length)
        )
          return 0;
        for (; b !== c; ) {
          if (b.nextSibling) return 0;
          b = b.parentNode;
        }
        return 1;
      },
      isBoundaryNode: function (d, c) {
        for (var b; !f.isBody(d); )
          if (((b = d), (d = d.parentNode), b !== d[c])) return !1;
        return !0;
      },
      fillHtml: r.ie11below ? "&nbsp;" : "<br/>",
    }),
    P = RegExp(f.fillChar, "g");
  (function () {
    function d(a) {
      return (
        !a.collapsed &&
        1 == a.startContainer.nodeType &&
        a.startContainer === a.endContainer &&
        1 == a.endOffset - a.startOffset
      );
    }
    function c(a, e, g, b) {
      1 == e.nodeType &&
        (v.$empty[e.tagName] || v.$nonChild[e.tagName]) &&
        ((g = f.getNodeIndex(e) + (a ? 0 : 1)), (e = e.parentNode));
      a
        ? ((b.startContainer = e),
          (b.startOffset = g),
          b.endContainer || b.collapse(!0))
        : ((b.endContainer = e),
          (b.endOffset = g),
          b.startContainer || b.collapse(!1));
      b.collapsed =
        b.startContainer &&
        b.endContainer &&
        b.startContainer === b.endContainer &&
        b.startOffset == b.endOffset;
      return b;
    }
    function b(a, e) {
      var g = a.startContainer,
        b = a.endContainer,
        c = a.startOffset,
        l = a.endOffset,
        k = a.document,
        h = k.createDocumentFragment(),
        d,
        p;
      1 == g.nodeType &&
        (g = g.childNodes[c] || (d = g.appendChild(k.createTextNode(""))));
      1 == b.nodeType &&
        (b = b.childNodes[l] || (p = b.appendChild(k.createTextNode(""))));
      if (g === b && 3 == g.nodeType)
        return (
          h.appendChild(k.createTextNode(g.substringData(c, l - c))),
          e && (g.deleteData(c, l - c), a.collapse(!0)),
          h
        );
      for (
        var A,
          N,
          r = h,
          s = f.findParents(g, !0),
          v = f.findParents(b, !0),
          z = 0;
        s[z] == v[z];

      )
        z++;
      for (var H = z, D; (D = s[H]); H++) {
        A = D.nextSibling;
        D == g
          ? d ||
            (3 == a.startContainer.nodeType
              ? (r.appendChild(k.createTextNode(g.nodeValue.slice(c))),
                e && g.deleteData(c, g.nodeValue.length - c))
              : r.appendChild(e ? g : g.cloneNode(!0)))
          : ((N = D.cloneNode(!1)), r.appendChild(N));
        for (; A && A !== b && A !== v[H]; )
          (D = A.nextSibling), r.appendChild(e ? A : A.cloneNode(!0)), (A = D);
        r = N;
      }
      r = h;
      s[z] || (r.appendChild(s[z - 1].cloneNode(!1)), (r = r.firstChild));
      for (H = z; (c = v[H]); H++) {
        A = c.previousSibling;
        c == b
          ? p ||
            3 != a.endContainer.nodeType ||
            (r.appendChild(k.createTextNode(b.substringData(0, l))),
            e && b.deleteData(0, l))
          : ((N = c.cloneNode(!1)), r.appendChild(N));
        if (H != z || !s[z])
          for (; A && A !== g; )
            (c = A.previousSibling),
              r.insertBefore(e ? A : A.cloneNode(!0), r.firstChild),
              (A = c);
        r = N;
      }
      e &&
        a
          .setStartBefore(v[z] ? (s[z] ? v[z] : s[z - 1]) : v[z - 1])
          .collapse(!0);
      d && f.remove(d);
      p && f.remove(p);
      return h;
    }
    function a(a, g) {
      try {
        if (l && f.inDoc(l, a))
          if (l.nodeValue.replace(P, "").length)
            l.nodeValue = l.nodeValue.replace(P, "");
          else {
            var e = l.parentNode;
            for (
              f.remove(l);
              e &&
              f.isEmptyInlineElement(e) &&
              (r.safari
                ? !(f.getPosition(e, g) & f.POSITION_CONTAINS)
                : !e.contains(g));

            )
              (l = e.parentNode), f.remove(e), (e = l);
          }
      } catch (b) {}
    }
    function e(a, e) {
      var g;
      for (a = a[e]; a && f.isFillChar(a); ) (g = a[e]), f.remove(a), (a = g);
    }
    var h = 0,
      g = f.fillChar,
      l,
      k = (L.Range = function (a) {
        this.startContainer =
          this.startOffset =
          this.endContainer =
          this.endOffset =
            null;
        this.document = a;
        this.collapsed = !0;
      });
    k.prototype = {
      cloneContents: function () {
        return this.collapsed ? null : b(this, 0);
      },
      deleteContents: function () {
        var a;
        this.collapsed || b(this, 1);
        r.webkit &&
          ((a = this.startContainer),
          3 != a.nodeType ||
            a.nodeValue.length ||
            (this.setStartBefore(a).collapse(!0), f.remove(a)));
        return this;
      },
      extractContents: function () {
        return this.collapsed ? null : b(this, 2);
      },
      setStart: function (a, e) {
        return c(!0, a, e, this);
      },
      setEnd: function (a, e) {
        return c(!1, a, e, this);
      },
      setStartAfter: function (a) {
        return this.setStart(a.parentNode, f.getNodeIndex(a) + 1);
      },
      setStartBefore: function (a) {
        return this.setStart(a.parentNode, f.getNodeIndex(a));
      },
      setEndAfter: function (a) {
        return this.setEnd(a.parentNode, f.getNodeIndex(a) + 1);
      },
      setEndBefore: function (a) {
        return this.setEnd(a.parentNode, f.getNodeIndex(a));
      },
      setStartAtFirst: function (a) {
        return this.setStart(a, 0);
      },
      setStartAtLast: function (a) {
        return this.setStart(
          a,
          3 == a.nodeType ? a.nodeValue.length : a.childNodes.length
        );
      },
      setEndAtFirst: function (a) {
        return this.setEnd(a, 0);
      },
      setEndAtLast: function (a) {
        return this.setEnd(
          a,
          3 == a.nodeType ? a.nodeValue.length : a.childNodes.length
        );
      },
      selectNode: function (a) {
        return this.setStartBefore(a).setEndAfter(a);
      },
      selectNodeContents: function (a) {
        return this.setStart(a, 0).setEndAtLast(a);
      },
      cloneRange: function () {
        return new k(this.document)
          .setStart(this.startContainer, this.startOffset)
          .setEnd(this.endContainer, this.endOffset);
      },
      collapse: function (a) {
        a
          ? ((this.endContainer = this.startContainer),
            (this.endOffset = this.startOffset))
          : ((this.startContainer = this.endContainer),
            (this.startOffset = this.endOffset));
        this.collapsed = !0;
        return this;
      },
      shrinkBoundary: function (a) {
        function e(a) {
          return (
            1 == a.nodeType &&
            !f.isBookmarkNode(a) &&
            !v.$empty[a.tagName] &&
            !v.$nonChild[a.tagName]
          );
        }
        for (
          var g, b = this.collapsed;
          1 == this.startContainer.nodeType &&
          (g = this.startContainer.childNodes[this.startOffset]) &&
          e(g);

        )
          this.setStart(g, 0);
        if (b) return this.collapse(!0);
        if (!a)
          for (
            ;
            1 == this.endContainer.nodeType &&
            0 < this.endOffset &&
            (g = this.endContainer.childNodes[this.endOffset - 1]) &&
            e(g);

          )
            this.setEnd(g, g.childNodes.length);
        return this;
      },
      getCommonAncestor: function (a, e) {
        var g = this.startContainer,
          b = this.endContainer;
        return g === b
          ? a &&
            d(this) &&
            ((g = g.childNodes[this.startOffset]), 1 == g.nodeType)
            ? g
            : e && 3 == g.nodeType
            ? g.parentNode
            : g
          : f.getCommonAncestor(g, b);
      },
      trimBoundary: function (a) {
        this.txtToElmBoundary();
        var g = this.startContainer,
          e = this.startOffset,
          b = this.collapsed,
          c = this.endContainer;
        if (3 == g.nodeType) {
          if (0 == e) this.setStartBefore(g);
          else if (e >= g.nodeValue.length) this.setStartAfter(g);
          else {
            var l = f.split(g, e);
            g === c
              ? this.setEnd(l, this.endOffset - e)
              : g.parentNode === c && (this.endOffset += 1);
            this.setStartBefore(l);
          }
          if (b) return this.collapse(!0);
        }
        a ||
          ((e = this.endOffset),
          (c = this.endContainer),
          3 == c.nodeType &&
            (0 == e
              ? this.setEndBefore(c)
              : (e < c.nodeValue.length && f.split(c, e),
                this.setEndAfter(c))));
        return this;
      },
      txtToElmBoundary: function (a) {
        function g(a, e) {
          var b = a[e + "Container"],
            c = a[e + "Offset"];
          if (3 == b.nodeType)
            if (!c)
              a[
                "set" +
                  e.replace(/(\w)/, function (a) {
                    return a.toUpperCase();
                  }) +
                  "Before"
              ](b);
            else if (c >= b.nodeValue.length)
              a[
                "set" +
                  e.replace(/(\w)/, function (a) {
                    return a.toUpperCase();
                  }) +
                  "After"
              ](b);
        }
        if (a || !this.collapsed) g(this, "start"), g(this, "end");
        return this;
      },
      insertNode: function (a) {
        var g = a,
          e = 1;
        11 == a.nodeType && ((g = a.firstChild), (e = a.childNodes.length));
        this.trimBoundary(!0);
        var b = this.startContainer,
          c = b.childNodes[this.startOffset];
        c ? b.insertBefore(a, c) : b.appendChild(a);
        g.parentNode === this.endContainer && (this.endOffset += e);
        return this.setStartBefore(g);
      },
      setCursor: function (a, g) {
        return this.collapse(!a).select(g);
      },
      createBookmark: function (a, g) {
        var e,
          b = this.document.createElement("span");
        b.style.cssText = "display:none;line-height:0px;";
        b.appendChild(this.document.createTextNode("\u200d"));
        b.id = "_baidu_bookmark_start_" + (g ? "" : h++);
        this.collapsed ||
          ((e = b.cloneNode(!0)),
          (e.id = "_baidu_bookmark_end_" + (g ? "" : h++)));
        this.insertNode(b);
        e && this.collapse().insertNode(e).setEndBefore(e);
        this.setStartAfter(b);
        return { start: a ? b.id : b, end: e ? (a ? e.id : e) : null, id: a };
      },
      moveToBookmark: function (a) {
        var e = a.id ? this.document.getElementById(a.start) : a.start;
        a = a.end && a.id ? this.document.getElementById(a.end) : a.end;
        this.setStartBefore(e);
        f.remove(e);
        a ? (this.setEndBefore(a), f.remove(a)) : this.collapse(!0);
        return this;
      },
      enlarge: function (a, e) {
        var g = f.isBody,
          b,
          c,
          l = this.document.createTextNode("");
        if (a) {
          c = this.startContainer;
          1 == c.nodeType
            ? c.childNodes[this.startOffset]
              ? (b = c = c.childNodes[this.startOffset])
              : (c.appendChild(l), (b = c = l))
            : (b = c);
          for (;;) {
            if (f.isBlockElm(c)) {
              for (c = b; (b = c.previousSibling) && !f.isBlockElm(b); ) c = b;
              this.setStartBefore(c);
              break;
            }
            b = c;
            c = c.parentNode;
          }
          c = this.endContainer;
          1 == c.nodeType
            ? ((b = c.childNodes[this.endOffset])
                ? c.insertBefore(l, b)
                : c.appendChild(l),
              (b = c = l))
            : (b = c);
          for (;;) {
            if (f.isBlockElm(c)) {
              for (c = b; (b = c.nextSibling) && !f.isBlockElm(b); ) c = b;
              this.setEndAfter(c);
              break;
            }
            b = c;
            c = c.parentNode;
          }
          l.parentNode === this.endContainer && this.endOffset--;
          f.remove(l);
        }
        if (!this.collapsed) {
          for (
            ;
            !(
              0 != this.startOffset ||
              (e && e(this.startContainer)) ||
              g(this.startContainer)
            );

          )
            this.setStartBefore(this.startContainer);
          for (
            ;
            !(
              this.endOffset !=
                (1 == this.endContainer.nodeType
                  ? this.endContainer.childNodes.length
                  : this.endContainer.nodeValue.length) ||
              (e && e(this.endContainer)) ||
              g(this.endContainer)
            );

          )
            this.setEndAfter(this.endContainer);
        }
        return this;
      },
      enlargeToBlockElm: function (a) {
        for (; !f.isBlockElm(this.startContainer); )
          this.setStartBefore(this.startContainer);
        if (!a)
          for (; !f.isBlockElm(this.endContainer); )
            this.setEndAfter(this.endContainer);
        return this;
      },
      adjustmentBoundary: function () {
        if (!this.collapsed) {
          for (
            ;
            !f.isBody(this.startContainer) &&
            this.startOffset ==
              this.startContainer[
                3 == this.startContainer.nodeType ? "nodeValue" : "childNodes"
              ].length &&
            this.startContainer[
              3 == this.startContainer.nodeType ? "nodeValue" : "childNodes"
            ].length;

          )
            this.setStartAfter(this.startContainer);
          for (
            ;
            !f.isBody(this.endContainer) &&
            !this.endOffset &&
            this.endContainer[
              3 == this.endContainer.nodeType ? "nodeValue" : "childNodes"
            ].length;

          )
            this.setEndBefore(this.endContainer);
        }
        return this;
      },
      applyInlineStyle: function (a, e, g) {
        if (this.collapsed) return this;
        this.trimBoundary()
          .enlarge(!1, function (a) {
            return 1 == a.nodeType && f.isBlockElm(a);
          })
          .adjustmentBoundary();
        for (
          var b = this.createBookmark(),
            c = b.end,
            l = function (a) {
              return 1 == a.nodeType
                ? "br" != a.tagName.toLowerCase()
                : !f.isWhitespace(a);
            },
            k = f.getNextDomNode(b.start, !1, l),
            h,
            d,
            p = this.cloneRange();
          k && f.getPosition(k, c) & f.POSITION_PRECEDING;

        )
          if (3 == k.nodeType || v[a][k.tagName]) {
            p.setStartBefore(k);
            for (h = k; h && (3 == h.nodeType || v[a][h.tagName]) && h !== c; )
              (d = h),
                (h = f.getNextDomNode(h, 1 == h.nodeType, null, function (e) {
                  return v[a][e.tagName];
                }));
            var k = p.setEndAfter(d).extractContents(),
              A;
            if (g && 0 < g.length) {
              var N;
              N = A = g[0].cloneNode(!1);
              for (var r = 1, s; (s = g[r++]); )
                A.appendChild(s.cloneNode(!1)), (A = A.firstChild);
            } else A = p.document.createElement(a);
            e && f.setAttributes(A, e);
            A.appendChild(k);
            p.insertNode(g ? N : A);
            var T;
            "span" == a &&
            e.style &&
            /text\-decoration/.test(e.style) &&
            (T = f.findParentByTagName(A, "a", !0))
              ? (f.setAttributes(T, e), f.remove(A, !0), (A = T))
              : (f.mergeSibling(A), f.clearEmptySibling(A));
            f.mergeChild(A, e);
            k = f.getNextDomNode(A, !1, l);
            f.mergeToParent(A);
            if (h === c) break;
          } else k = f.getNextDomNode(k, !0, l);
        return this.moveToBookmark(b);
      },
      removeInlineStyle: function (a) {
        if (this.collapsed) return this;
        a = p.isArray(a) ? a : [a];
        this.shrinkBoundary().adjustmentBoundary();
        for (var e = this.startContainer, g = this.endContainer; ; ) {
          if (1 == e.nodeType) {
            if (-1 < p.indexOf(a, e.tagName.toLowerCase())) break;
            if ("body" == e.tagName.toLowerCase()) {
              e = null;
              break;
            }
          }
          e = e.parentNode;
        }
        for (;;) {
          if (1 == g.nodeType) {
            if (-1 < p.indexOf(a, g.tagName.toLowerCase())) break;
            if ("body" == g.tagName.toLowerCase()) {
              g = null;
              break;
            }
          }
          g = g.parentNode;
        }
        var b = this.createBookmark(),
          c,
          l;
        e &&
          ((l = this.cloneRange().setEndBefore(b.start).setStartBefore(e)),
          (c = l.extractContents()),
          l.insertNode(c),
          f.clearEmptySibling(e, !0),
          e.parentNode.insertBefore(b.start, e));
        g &&
          ((l = this.cloneRange().setStartAfter(b.end).setEndAfter(g)),
          (c = l.extractContents()),
          l.insertNode(c),
          f.clearEmptySibling(g, !1, !0),
          g.parentNode.insertBefore(b.end, g.nextSibling));
        for (
          e = f.getNextDomNode(b.start, !1, function (a) {
            return 1 == a.nodeType;
          });
          e && e !== b.end;

        )
          (g = f.getNextDomNode(e, !0, function (a) {
            return 1 == a.nodeType;
          })),
            -1 < p.indexOf(a, e.tagName.toLowerCase()) && f.remove(e, !0),
            (e = g);
        return this.moveToBookmark(b);
      },
      getClosedNode: function () {
        var a;
        if (!this.collapsed) {
          var e = this.cloneRange().adjustmentBoundary().shrinkBoundary();
          d(e) &&
            (e = e.startContainer.childNodes[e.startOffset]) &&
            1 == e.nodeType &&
            (v.$empty[e.tagName] || v.$nonChild[e.tagName]) &&
            (a = e);
        }
        return a;
      },
      select: r.ie
        ? function (b, c) {
            var k;
            this.collapsed || this.shrinkBoundary();
            var h = this.getClosedNode();
            if (h && !c) {
              try {
                (k = this.document.body.createControlRange()),
                  k.addElement(h),
                  k.select();
              } catch (d) {}
              return this;
            }
            var h = this.createBookmark(),
              y = h.start;
            k = this.document.body.createTextRange();
            k.moveToElementText(y);
            k.moveStart("character", 1);
            if (!this.collapsed) {
              var u = this.document.body.createTextRange(),
                y = h.end;
              u.moveToElementText(y);
              k.setEndPoint("EndToEnd", u);
            } else if (!b && 3 != this.startContainer.nodeType) {
              var u = this.document.createTextNode(g),
                C = this.document.createElement("span");
              C.appendChild(this.document.createTextNode(g));
              y.parentNode.insertBefore(C, y);
              y.parentNode.insertBefore(u, y);
              a(this.document, u);
              l = u;
              e(C, "previousSibling");
              e(y, "nextSibling");
              k.moveStart("character", -1);
              k.collapse(!0);
            }
            this.moveToBookmark(h);
            C && f.remove(C);
            try {
              k.select();
            } catch (E) {}
            return this;
          }
        : function (b) {
            function c(a) {
              function e(b, g, c) {
                3 == b.nodeType &&
                  b.nodeValue.length < g &&
                  (a[c + "Offset"] = b.nodeValue.length);
              }
              e(a.startContainer, a.startOffset, "start");
              e(a.endContainer, a.endOffset, "end");
            }
            var k = f.getWindow(this.document),
              h = k.getSelection();
            r.gecko ? this.document.body.focus() : k.focus();
            if (h) {
              h.removeAllRanges();
              this.collapsed &&
                !b &&
                ((b = k = this.startContainer),
                1 == k.nodeType && (b = k.childNodes[this.startOffset]),
                (3 == k.nodeType && this.startOffset) ||
                  (b
                    ? b.previousSibling && 3 == b.previousSibling.nodeType
                    : k.lastChild && 3 == k.lastChild.nodeType) ||
                  ((b = this.document.createTextNode(g)),
                  this.insertNode(b),
                  a(this.document, b),
                  e(b, "previousSibling"),
                  e(b, "nextSibling"),
                  (l = b),
                  this.setStart(b, r.webkit ? 1 : 0).collapse(!0)));
              k = this.document.createRange();
              if (
                this.collapsed &&
                r.opera &&
                1 == this.startContainer.nodeType
              )
                if ((b = this.startContainer.childNodes[this.startOffset])) {
                  for (; b && f.isBlockElm(b); )
                    if (1 == b.nodeType && b.childNodes[0]) b = b.childNodes[0];
                    else break;
                  b && this.setStartBefore(b).collapse(!0);
                } else
                  (b = this.startContainer.lastChild) &&
                    f.isBr(b) &&
                    this.setStartBefore(b).collapse(!0);
              c(this);
              k.setStart(this.startContainer, this.startOffset);
              k.setEnd(this.endContainer, this.endOffset);
              h.addRange(k);
            }
            return this;
          },
      scrollToView: function (a, e) {
        a = a ? window : f.getWindow(this.document);
        var b = this.document.createElement("span");
        b.innerHTML = "&nbsp;";
        this.cloneRange().insertNode(b);
        f.scrollToView(b, a, e);
        f.remove(b);
        return this;
      },
      inFillChar: function () {
        var a = this.startContainer;
        return this.collapsed &&
          3 == a.nodeType &&
          a.nodeValue.replace(RegExp("^" + f.fillChar), "").length + 1 ==
            a.nodeValue.length
          ? !0
          : !1;
      },
      createAddress: function (a, e) {
        function b(a) {
          for (
            var g = a ? c.startContainer : c.endContainer,
              l = f.findParents(g, !0, function (a) {
                return !f.isBody(a);
              }),
              k = [],
              h = 0,
              d;
            (d = l[h++]);

          )
            k.push(f.getNodeIndex(d, e));
          l = 0;
          if (e)
            if (3 == g.nodeType) {
              for (g = g.previousSibling; g && 3 == g.nodeType; )
                (l += g.nodeValue.replace(P, "").length),
                  (g = g.previousSibling);
              l += a ? c.startOffset : c.endOffset;
            } else if ((g = g.childNodes[a ? c.startOffset : c.endOffset]))
              l = f.getNodeIndex(g, e);
            else
              for (
                g = a ? c.startContainer : c.endContainer, a = g.firstChild;
                a;

              )
                if (f.isFillChar(a)) a = a.nextSibling;
                else if ((l++, 3 == a.nodeType))
                  for (; a && 3 == a.nodeType; ) a = a.nextSibling;
                else a = a.nextSibling;
          else l = a ? (f.isFillChar(g) ? 0 : c.startOffset) : c.endOffset;
          0 > l && (l = 0);
          k.push(l);
          return k;
        }
        var g = {},
          c = this;
        g.startAddress = b(!0);
        a || (g.endAddress = c.collapsed ? [].concat(g.startAddress) : b());
        return g;
      },
      moveToAddress: function (a, e) {
        function g(a, e) {
          for (
            var c = b.document.body, l, k, h = 0, d, f = a.length;
            h < f;
            h++
          )
            if (((d = a[h]), (l = c), (c = c.childNodes[d]), !c)) {
              k = d;
              break;
            }
          e
            ? c
              ? b.setStartBefore(c)
              : b.setStart(l, k)
            : c
            ? b.setEndBefore(c)
            : b.setEnd(l, k);
        }
        var b = this;
        g(a.startAddress, !0);
        !e && a.endAddress && g(a.endAddress);
        return b;
      },
      equals: function (a) {
        for (var e in this)
          if (this.hasOwnProperty(e) && this[e] !== a[e]) return !1;
        return !0;
      },
      traversal: function (a, e) {
        if (this.collapsed) return this;
        for (
          var b = this.createBookmark(),
            g = b.end,
            c = f.getNextDomNode(b.start, !1, e);
          c && c !== g && f.getPosition(c, g) & f.POSITION_PRECEDING;

        ) {
          var l = f.getNextDomNode(c, !1, e);
          a(c);
          c = l;
        }
        return this.moveToBookmark(b);
      },
    };
  })();
  (function () {
    function d(a, e) {
      var b = f.getNodeIndex;
      a = a.duplicate();
      a.collapse(e);
      var g = a.parentElement();
      if (!g.hasChildNodes()) return { container: g, offset: 0 };
      for (
        var c = g.children,
          k,
          d = a.duplicate(),
          n = 0,
          q = c.length - 1,
          t = -1;
        n <= q;

      ) {
        t = Math.floor((n + q) / 2);
        k = c[t];
        d.moveToElementText(k);
        var w = d.compareEndPoints("StartToStart", a);
        if (0 < w) q = t - 1;
        else if (0 > w) n = t + 1;
        else return { container: g, offset: b(k) };
      }
      if (-1 == t) {
        d.moveToElementText(g);
        d.setEndPoint("StartToStart", a);
        d = d.text.replace(/(\r\n|\r)/g, "\n").length;
        c = g.childNodes;
        if (!d)
          return (
            (k = c[c.length - 1]), { container: k, offset: k.nodeValue.length }
          );
        for (b = c.length; 0 < d; ) d -= c[--b].nodeValue.length;
        return { container: c[b], offset: -d };
      }
      d.collapse(0 < w);
      d.setEndPoint(0 < w ? "StartToStart" : "EndToStart", a);
      d = d.text.replace(/(\r\n|\r)/g, "\n").length;
      if (!d)
        return v.$empty[k.tagName] || v.$nonChild[k.tagName]
          ? { container: g, offset: b(k) + (0 < w ? 0 : 1) }
          : { container: k, offset: 0 < w ? 0 : k.childNodes.length };
      for (; 0 < d; )
        try {
          (c = k),
            (k = k[0 < w ? "previousSibling" : "nextSibling"]),
            (d -= k.nodeValue.length);
        } catch (y) {
          return { container: g, offset: b(c) };
        }
      return { container: k, offset: 0 < w ? -d : k.nodeValue.length + d };
    }
    function c(a, e) {
      if (a.item) e.selectNode(a.item(0));
      else {
        var b = d(a, !0);
        e.setStart(b.container, b.offset);
        0 != a.compareEndPoints("StartToEnd", a) &&
          ((b = d(a, !1)), e.setEnd(b.container, b.offset));
      }
      return e;
    }
    function b(a) {
      var b;
      try {
        b = a.getNative().createRange();
      } catch (c) {
        return null;
      }
      var g = b.item ? b.item(0) : b.parentElement();
      return (g.ownerDocument || g) === a.document ? b : null;
    }
    (L.Selection = function (a) {
      var e = this;
      e.document = a;
      r.ie9below &&
        ((a = f.getWindow(a).frameElement),
        f.on(a, "beforedeactivate", function () {
          e._bakIERange = e.getIERange();
        }),
        f.on(a, "activate", function () {
          try {
            !b(e) && e._bakIERange && e._bakIERange.select();
          } catch (a) {}
          e._bakIERange = null;
        }));
      a = a = null;
    }).prototype = {
      rangeInBody: function (a, b) {
        var c =
          r.ie9below || b
            ? a.item
              ? a.item()
              : a.parentElement()
            : a.startContainer;
        return c === this.document.body || f.inDoc(c, this.document);
      },
      getNative: function () {
        var a = this.document;
        try {
          return a
            ? r.ie9below
              ? a.selection
              : f.getWindow(a).getSelection()
            : null;
        } catch (b) {
          return null;
        }
      },
      getIERange: function () {
        var a = b(this);
        return !a && this._bakIERange ? this._bakIERange : a;
      },
      cache: function () {
        this.clear();
        this._cachedRange = this.getRange();
        this._cachedStartElement = this.getStart();
        this._cachedStartElementPath = this.getStartElementPath();
      },
      getStartElementPath: function () {
        if (this._cachedStartElementPath) return this._cachedStartElementPath;
        var a = this.getStart();
        return a ? f.findParents(a, !0, null, !0) : [];
      },
      clear: function () {
        this._cachedStartElementPath =
          this._cachedRange =
          this._cachedStartElement =
            null;
      },
      isFocus: function () {
        try {
          if (r.ie9below) {
            var a = b(this);
            return !(!a || !this.rangeInBody(a));
          }
          return !!this.getNative().rangeCount;
        } catch (e) {
          return !1;
        }
      },
      getRange: function () {
        function a(a) {
          for (
            var g = b.document.body.firstChild, c = a.collapsed;
            g && g.firstChild;

          )
            a.setStart(g, 0), (g = g.firstChild);
          a.startContainer || a.setStart(b.document.body, 0);
          c && a.collapse(!0);
        }
        var b = this;
        if (null != b._cachedRange) return this._cachedRange;
        var h = new s.editor.dom.Range(b.document);
        if (r.ie9below) {
          var g = b.getIERange();
          if (g)
            try {
              c(g, h);
            } catch (l) {
              a(h);
            }
          else a(h);
        } else {
          var k = b.getNative();
          if (k && k.rangeCount)
            (g = k.getRangeAt(0)),
              (k = k.getRangeAt(k.rangeCount - 1)),
              h
                .setStart(g.startContainer, g.startOffset)
                .setEnd(k.endContainer, k.endOffset),
              h.collapsed &&
                f.isBody(h.startContainer) &&
                !h.startOffset &&
                a(h);
          else {
            if (
              this._bakRange &&
              f.inDoc(this._bakRange.startContainer, this.document)
            )
              return this._bakRange;
            a(h);
          }
        }
        return (this._bakRange = h);
      },
      getStart: function () {
        if (this._cachedStartElement) return this._cachedStartElement;
        var a = r.ie9below ? this.getIERange() : this.getRange(),
          b,
          c;
        if (r.ie9below) {
          if (!a) return this.document.body.firstChild;
          if (a.item) return a.item(0);
          b = a.duplicate();
          0 < b.text.length && b.moveStart("character", 1);
          b.collapse(1);
          b = b.parentElement();
          for (c = a = a.parentElement(); (a = a.parentNode); )
            if (a == b) {
              b = c;
              break;
            }
        } else if (
          (a.shrinkBoundary(),
          (b = a.startContainer),
          1 == b.nodeType &&
            b.hasChildNodes() &&
            (b =
              b.childNodes[Math.min(b.childNodes.length - 1, a.startOffset)]),
          3 == b.nodeType)
        )
          return b.parentNode;
        return b;
      },
      getText: function () {
        var a;
        return this.isFocus() && (a = this.getNative())
          ? ((a = r.ie9below ? a.createRange() : a.getRangeAt(0)),
            r.ie9below ? a.text : a.toString())
          : "";
      },
      clearRange: function () {
        this.getNative()[r.ie9below ? "empty" : "removeAllRanges"]();
      },
    };
  })();
  (function () {
    function d(a, b) {
      var c;
      if (b.textarea)
        if (p.isString(b.textarea))
          for (
            var e = 0, h, d = f.getElementsByTagName(a, "textarea");
            (h = d[e++]);

          ) {
            if (h.id == "ueditor_textarea_" + b.options.textarea) {
              c = h;
              break;
            }
          }
        else c = b.textarea;
      c ||
        (a.appendChild(
          (c = f.createElement(document, "textarea", {
            name: b.options.textarea,
            id: "ueditor_textarea_" + b.options.textarea,
            style: "display:none",
          }))
        ),
        (b.textarea = c));
      !c.getAttribute("name") && c.setAttribute("name", b.options.textarea);
      c.value = b.hasContents()
        ? b.options.allHtmlEnabled
          ? b.getAllHtml()
          : b.getContent(null, null, !0)
        : "";
    }
    function c(a) {
      for (var b in a) return b;
    }
    function b(a) {
      a.langIsReady = !0;
      a.fireEvent("langReady");
    }
    var a = 0,
      e,
      h = (UE.Editor = function (g) {
        var e = this;
        e.uid = a++;
        Z.call(e);
        e.commands = {};
        e.options = p.extend(p.clone(g || {}), UEDITOR_CONFIG, !0);
        e.shortcutkeys = {};
        e.inputRules = [];
        e.outputRules = [];
        e.setOpt(h.defaultOptions(e));
        e.loadServerConfig();
        p.isEmptyObject(UE.I18N)
          ? p.loadFile(
              document,
              {
                src:
                  e.options.langPath +
                  e.options.lang +
                  "/" +
                  e.options.lang +
                  ".js",
                tag: "script",
                type: "text/javascript",
                defer: "defer",
              },
              function () {
                UE.plugin.load(e);
                b(e);
              }
            )
          : ((e.options.lang = c(UE.I18N)), UE.plugin.load(e), b(e));
        UE.instants["ueditorInstant" + e.uid] = e;
      });
    h.prototype = {
      registerCommand: function (a, b) {
        this.commands[a] = b;
      },
      ready: function (a) {
        a && (this.isReady ? a.apply(this) : this.addListener("ready", a));
      },
      setOpt: function (a, b) {
        var e = {};
        p.isString(a) ? (e[a] = b) : (e = a);
        p.extend(this.options, e, !0);
      },
      getOpt: function (a) {
        return this.options[a];
      },
      destroy: function () {
        this.fireEvent("destroy");
        var a = this.container.parentNode,
          b = this.textarea;
        b
          ? (b.style.display = "")
          : ((b = document.createElement("textarea")),
            a.parentNode.insertBefore(b, a));
        b.style.width = this.iframe.offsetWidth + "px";
        b.style.height = this.iframe.offsetHeight + "px";
        b.value = this.getContent();
        b.id = this.key;
        a.innerHTML = "";
        f.remove(a);
        var a = this.key,
          e;
        for (e in this) this.hasOwnProperty(e) && delete this[e];
        UE.delEditor(a);
      },
      render: function (a) {
        var b = this.options;
        p.isString(a) && (a = document.getElementById(a));
        if (a) {
          b.minFrameWidth = b.initialFrameWidth
            ? b.initialFrameWidth
            : (b.initialFrameWidth = a.offsetWidth);
          b.initialFrameHeight
            ? (b.minFrameHeight = b.initialFrameHeight)
            : (b.initialFrameHeight = b.minFrameHeight = a.offsetHeight);
          a.style.width = /%$/.test(b.initialFrameWidth)
            ? "100%"
            : b.initialFrameWidth -
              parseInt(f.getComputedStyle(a, "padding-left")) -
              parseInt(f.getComputedStyle(a, "padding-right")) +
              "px";
          a.style.height = /%$/.test(b.initialFrameHeight)
            ? "100%"
            : b.initialFrameHeight -
              parseInt(f.getComputedStyle(a, "padding-top")) -
              parseInt(f.getComputedStyle(a, "padding-bottom")) +
              "px";
          a.style.zIndex = b.zIndex;
          var e =
            (I && 9 > r.version ? "" : "<!DOCTYPE html>") +
            "<html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head><style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}</style>" +
            (b.iframeCssUrl
              ? "<link rel='stylesheet' type='text/css' href='" +
                p.unhtml(b.iframeCssUrl) +
                "'/>"
              : "") +
            (b.initialStyle ? "<style>" + b.initialStyle + "</style>" : "") +
            "</head><body class='view' ></body><script type='text/javascript' " +
            (I ? "defer='defer'" : "") +
            " id='_initialScript'>setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant" +
            this.uid +
            "'];editor._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);\x3c/script></html>";
          a.appendChild(
            f.createElement(document, "iframe", {
              id: "ueditor_" + this.uid,
              width: "100%",
              height: "100%",
              frameborder: "0",
              src:
                "javascript:void(function(){document.open();" +
                (b.customDomain && document.domain != location.hostname
                  ? 'document.domain="' + document.domain + '";'
                  : "") +
                'document.write("' +
                e +
                '");document.close();}())',
            })
          );
          a.style.overflow = "hidden";
          setTimeout(function () {
            /%$/.test(b.initialFrameWidth) &&
              (b.minFrameWidth = b.initialFrameWidth = a.offsetWidth);
            /%$/.test(b.initialFrameHeight) &&
              ((b.minFrameHeight = b.initialFrameHeight = a.offsetHeight),
              (a.style.height = b.initialFrameHeight + "px"));
          });
        }
      },
      _setup: function (a) {
        var b = this,
          e = b.options;
        I
          ? ((a.body.disabled = !0),
            (a.body.contentEditable = !0),
            (a.body.disabled = !1))
          : (a.body.contentEditable = !0);
        a.body.spellcheck = !1;
        b.document = a;
        b.window = a.defaultView || a.parentWindow;
        b.iframe = b.window.frameElement;
        b.body = a.body;
        b.selection = new L.Selection(a);
        var c;
        r.gecko && (c = this.selection.getNative()) && c.removeAllRanges();
        this._initEvents();
        for (var h = this.iframe.parentNode; !f.isBody(h); h = h.parentNode)
          if ("FORM" == h.tagName) {
            b.form = h;
            if (b.options.autoSyncData)
              f.on(b.window, "blur", function () {
                d(h, b);
              });
            else
              f.on(h, "submit", function () {
                d(this, b);
              });
            break;
          }
        if (e.initialContent)
          if (e.autoClearinitialContent) {
            var q = b.execCommand;
            b.execCommand = function () {
              b.fireEvent("firstBeforeExecCommand");
              return q.apply(b, arguments);
            };
            this._setDefaultContent(e.initialContent);
          } else this.setContent(e.initialContent, !1, !0);
        f.isEmptyNode(b.body) &&
          (b.body.innerHTML = "<p>" + (r.ie ? "" : "<br/>") + "</p>");
        e.focus &&
          setTimeout(function () {
            b.focus(b.options.focusInEnd);
            !b.options.autoClearinitialContent && b._selectionChange();
          }, 0);
        b.container || (b.container = this.iframe.parentNode);
        e.fullscreen && b.ui && b.ui.setFullScreen(!0);
        try {
          b.document.execCommand("2D-position", !1, !1);
        } catch (t) {}
        try {
          b.document.execCommand("enableInlineTableEditing", !1, !1);
        } catch (w) {}
        try {
          b.document.execCommand("enableObjectResizing", !1, !1);
        } catch (y) {}
        b._bindshortcutKeys();
        b.isReady = 1;
        b.fireEvent("ready");
        e.onready && e.onready.call(b);
        if (!r.ie9below)
          f.on(b.window, ["blur", "focus"], function (a) {
            if ("blur" == a.type) {
              b._bakRange = b.selection.getRange();
              try {
                (b._bakNativeRange = b.selection.getNative().getRangeAt(0)),
                  b.selection.getNative().removeAllRanges();
              } catch (e) {
                b._bakNativeRange = null;
              }
            } else
              try {
                b._bakRange && b._bakRange.select();
              } catch (c) {}
          });
        r.gecko &&
          10902 >= r.version &&
          ((b.body.contentEditable = !1),
          setTimeout(function () {
            b.body.contentEditable = !0;
          }, 100),
          setInterval(function () {
            b.body.style.height = b.iframe.offsetHeight - 20 + "px";
          }, 100));
        !e.isShow && b.setHide();
        e.readonly && b.setDisabled();
      },
      sync: function (a) {
        (a = a
          ? document.getElementById(a)
          : f.findParent(
              this.iframe.parentNode,
              function (a) {
                return "FORM" == a.tagName;
              },
              !0
            )) && d(a, this);
      },
      setHeight: function (a, b) {
        a !== parseInt(this.iframe.parentNode.style.height) &&
          (this.iframe.parentNode.style.height = a + "px");
        !b &&
          (this.options.minFrameHeight = this.options.initialFrameHeight = a);
        this.body.style.height = a + "px";
        !b && this.trigger("setHeight");
      },
      addshortcutkey: function (a, b) {
        var e = {};
        b ? (e[a] = b) : (e = a);
        p.extend(this.shortcutkeys, e);
      },
      _bindshortcutKeys: function () {
        var a = this,
          b = this.shortcutkeys;
        a.addListener("keydown", function (e, c) {
          var h = c.keyCode || c.which,
            d;
          for (d in b)
            for (var t = b[d].split(","), w = 0, y; (y = t[w++]); ) {
              y = y.split(":");
              var u = y[0];
              y = y[1];
              if (
                /^(ctrl)(\+shift)?\+(\d+)$/.test(u.toLowerCase()) ||
                /^(\d+)$/.test(u)
              )
                if (
                  ("ctrl" == RegExp.$1 &&
                    (c.ctrlKey || c.metaKey) &&
                    ("" != RegExp.$2 ? c[RegExp.$2.slice(1) + "Key"] : 1) &&
                    h == RegExp.$3) ||
                  h == RegExp.$1
                )
                  -1 != a.queryCommandState(d, y) && a.execCommand(d, y),
                    f.preventDefault(c);
            }
        });
      },
      getContent: function (a, b, e, c, h) {
        a && p.isFunction(a) && ((b = a), (a = ""));
        if (b ? !b() : !this.hasContents()) return "";
        this.fireEvent("beforegetcontent");
        b = UE.htmlparser(this.body.innerHTML, c);
        this.filterOutputRule(b);
        this.fireEvent("aftergetcontent", a, b);
        return b.toHtml(h);
      },
      getAllHtml: function () {
        var a = [];
        this.fireEvent("getAllHtml", a);
        if (r.ie && 8 < r.version) {
          var b = "";
          p.each(this.document.styleSheets, function (a) {
            b += a.href
              ? '<link rel="stylesheet" type="text/css" href="' +
                a.href +
                '" />'
              : "<style>" + a.cssText + "</style>";
          });
          p.each(this.document.getElementsByTagName("script"), function (a) {
            b += a.outerHTML;
          });
        }
        return (
          "<html><head>" +
          (this.options.charset
            ? '<meta http-equiv="Content-Type" content="text/html; charset=' +
              this.options.charset +
              '"/>'
            : "") +
          (b || this.document.getElementsByTagName("head")[0].innerHTML) +
          a.join("\n") +
          "</head><body " +
          (I && 9 > r.version ? 'class="view"' : "") +
          ">" +
          this.getContent(null, null, !0) +
          "</body></html>"
        );
      },
      getPlainTxt: function () {
        var a = RegExp(f.fillChar, "g"),
          b = this.body.innerHTML.replace(/[\n\r]/g, ""),
          b = b
            .replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi, "\n")
            .replace(/<br\/?>/gi, "\n")
            .replace(/<[^>/]+>/g, "")
            .replace(/(\n)?<\/([^>]+)>/g, function (a, b, e) {
              return v.$block[e] ? "\n" : b ? b : "";
            });
        return b
          .replace(a, "")
          .replace(/\u00a0/g, " ")
          .replace(/&nbsp;/g, " ");
      },
      getContentTxt: function () {
        return this.body[r.ie ? "innerText" : "textContent"]
          .replace(RegExp(f.fillChar, "g"), "")
          .replace(/\u00a0/g, " ");
      },
      setContent: function (a, b, e) {
        this.fireEvent("beforesetcontent", a);
        a = UE.htmlparser(a);
        this.filterInputRule(a);
        a = a.toHtml();
        this.body.innerHTML = (b ? this.body.innerHTML : "") + a;
        if ("p" == this.options.enterTag)
          if (
            ((b = this.body.firstChild),
            !b ||
              (1 == b.nodeType &&
                (v.$cdata[b.tagName] ||
                  ("DIV" == b.tagName && b.getAttribute("cdata_tag")) ||
                  f.isCustomeNode(b)) &&
                b === this.body.lastChild))
          )
            this.body.innerHTML =
              "<p>" +
              (r.ie ? "&nbsp;" : "<br/>") +
              "</p>" +
              this.body.innerHTML;
          else
            for (var c = this.document.createElement("p"); b; ) {
              for (
                ;
                b &&
                (3 == b.nodeType ||
                  (1 == b.nodeType && v.p[b.tagName] && !v.$cdata[b.tagName]));

              )
                (a = b.nextSibling), c.appendChild(b), (b = a);
              if (c.firstChild)
                if (b)
                  b.parentNode.insertBefore(c, b),
                    (c = this.document.createElement("p"));
                else {
                  this.body.appendChild(c);
                  break;
                }
              b = b.nextSibling;
            }
        this.fireEvent("aftersetcontent");
        this.fireEvent("contentchange");
        !e && this._selectionChange();
        this._bakRange = this._bakIERange = this._bakNativeRange = null;
        var h;
        r.gecko && (h = this.selection.getNative()) && h.removeAllRanges();
        this.options.autoSyncData && this.form && d(this.form, this);
      },
      focus: function (a) {
        try {
          var b = this.selection.getRange();
          if (a) {
            var e = this.body.lastChild;
            e &&
              1 == e.nodeType &&
              !v.$empty[e.tagName] &&
              (f.isEmptyBlock(e) ? b.setStartAtFirst(e) : b.setStartAtLast(e),
              b.collapse(!0));
            b.setCursor(!0);
          } else
            !b.collapsed &&
              f.isBody(b.startContainer) &&
              0 == b.startOffset &&
              (e = this.body.firstChild) &&
              1 == e.nodeType &&
              !v.$empty[e.tagName] &&
              b.setStartAtFirst(e).collapse(!0),
              b.select(!0);
          this.fireEvent("focus selectionchange");
        } catch (c) {}
      },
      isFocus: function () {
        return this.selection.isFocus();
      },
      blur: function () {
        var a = this.selection.getNative();
        if (a.empty && r.ie) {
          var b = document.body.createTextRange();
          b.moveToElementText(document.body);
          b.collapse(!0);
          b.select();
          a.empty();
        } else a.removeAllRanges();
      },
      _initEvents: function () {
        var a = this,
          b = a.document,
          e = a.window;
        a._proxyDomEvent = p.bind(a._proxyDomEvent, a);
        f.on(
          b,
          "click contextmenu mousedown keydown keyup keypress mouseup mouseover mouseout selectstart".split(
            " "
          ),
          a._proxyDomEvent
        );
        f.on(e, ["focus", "blur"], a._proxyDomEvent);
        f.on(a.body, "drop", function (b) {
          r.gecko && b.stopPropagation && b.stopPropagation();
          a.fireEvent("contentchange");
        });
        f.on(b, ["mouseup", "keydown"], function (b) {
          ("keydown" == b.type &&
            (b.ctrlKey || b.metaKey || b.shiftKey || b.altKey)) ||
            (2 != b.button && a._selectionChange(250, b));
        });
      },
      _proxyDomEvent: function (a) {
        return !1 ===
          this.fireEvent("before" + a.type.replace(/^on/, "").toLowerCase()) ||
          !1 === this.fireEvent(a.type.replace(/^on/, ""), a)
          ? !1
          : this.fireEvent("after" + a.type.replace(/^on/, "").toLowerCase());
      },
      _selectionChange: function (a, b) {
        var c = this,
          h = !1,
          d,
          f;
        r.ie &&
          9 > r.version &&
          b &&
          "mouseup" == b.type &&
          !this.selection.getRange().collapsed &&
          ((h = !0), (d = b.clientX), (f = b.clientY));
        clearTimeout(e);
        e = setTimeout(function () {
          if (c.selection && c.selection.getNative()) {
            var a;
            if (h && "None" == c.selection.getNative().type) {
              a = c.document.body.createTextRange();
              try {
                a.moveToPoint(d, f);
              } catch (e) {
                a = null;
              }
            }
            var g;
            a &&
              ((g = c.selection.getIERange),
              (c.selection.getIERange = function () {
                return a;
              }));
            c.selection.cache();
            g && (c.selection.getIERange = g);
            c.selection._cachedRange &&
              c.selection._cachedStartElement &&
              (c.fireEvent("beforeselectionchange"),
              c.fireEvent("selectionchange", !!b),
              c.fireEvent("afterselectionchange"),
              c.selection.clear());
          }
        }, a || 50);
      },
      _callCmdFn: function (a, b) {
        var e = b[0].toLowerCase(),
          c;
        c = (e = this.commands[e] || UE.commands[e]) && e[a];
        if (!((e && c) || "queryCommandState" != a)) return 0;
        if (c) return c.apply(this, b);
      },
      execCommand: function (a) {
        a = a.toLowerCase();
        var b,
          e = this.commands[a] || UE.commands[a];
        if (!e || !e.execCommand) return null;
        e.notNeedUndo || this.__hasEnterExecCommand
          ? ((b = this._callCmdFn("execCommand", arguments)),
            this.__hasEnterExecCommand ||
              e.ignoreContentChange ||
              this._ignoreContentChange ||
              this.fireEvent("contentchange"))
          : ((this.__hasEnterExecCommand = !0),
            -1 != this.queryCommandState.apply(this, arguments) &&
              (this.fireEvent("saveScene"),
              this.fireEvent.apply(
                this,
                ["beforeexeccommand", a].concat(arguments)
              ),
              (b = this._callCmdFn("execCommand", arguments)),
              this.fireEvent.apply(
                this,
                ["afterexeccommand", a].concat(arguments)
              ),
              this.fireEvent("saveScene")),
            (this.__hasEnterExecCommand = !1));
        this.__hasEnterExecCommand ||
          e.ignoreContentChange ||
          this._ignoreContentChange ||
          this._selectionChange();
        return b;
      },
      queryCommandState: function (a) {
        return this._callCmdFn("queryCommandState", arguments);
      },
      queryCommandValue: function (a) {
        return this._callCmdFn("queryCommandValue", arguments);
      },
      hasContents: function (a) {
        if (a)
          for (var b = 0, e; (e = a[b++]); )
            if (0 < this.document.getElementsByTagName(e).length) return !0;
        if (!f.isEmptyBlock(this.body)) return !0;
        a = ["div"];
        for (b = 0; (e = a[b++]); ) {
          e = f.getElementsByTagName(this.document, e);
          for (var c = 0, h; (h = e[c++]); ) if (f.isCustomeNode(h)) return !0;
        }
        return !1;
      },
      reset: function () {
        this.fireEvent("reset");
      },
      setEnabled: function () {
        var a;
        if ("false" == this.body.contentEditable) {
          this.body.contentEditable = !0;
          a = this.selection.getRange();
          try {
            a.moveToBookmark(this.lastBk), delete this.lastBk;
          } catch (b) {
            a.setStartAtFirst(this.body).collapse(!0);
          }
          a.select(!0);
          this.bkqueryCommandState &&
            ((this.queryCommandState = this.bkqueryCommandState),
            delete this.bkqueryCommandState);
          this.bkqueryCommandValue &&
            ((this.queryCommandValue = this.bkqueryCommandValue),
            delete this.bkqueryCommandValue);
          this.fireEvent("selectionchange");
        }
      },
      enable: function () {
        return this.setEnabled();
      },
      setDisabled: function (a) {
        var b = this;
        a = a ? (p.isArray(a) ? a : [a]) : [];
        "true" == b.body.contentEditable &&
          (b.lastBk || (b.lastBk = b.selection.getRange().createBookmark(!0)),
          (b.body.contentEditable = !1),
          (b.bkqueryCommandState = b.queryCommandState),
          (b.bkqueryCommandValue = b.queryCommandValue),
          (b.queryCommandState = function (e) {
            return -1 != p.indexOf(a, e)
              ? b.bkqueryCommandState.apply(b, arguments)
              : -1;
          }),
          (b.queryCommandValue = function (e) {
            return -1 != p.indexOf(a, e)
              ? b.bkqueryCommandValue.apply(b, arguments)
              : null;
          }),
          b.fireEvent("selectionchange"));
      },
      disable: function (a) {
        return this.setDisabled(a);
      },
      _setDefaultContent: (function () {
        function a() {
          var b = this;
          b.document.getElementById("initContent") &&
            ((b.body.innerHTML = "<p>" + (I ? "" : "<br/>") + "</p>"),
            b.removeListener("firstBeforeExecCommand focus", a),
            setTimeout(function () {
              b.focus();
              b._selectionChange();
            }, 0));
        }
        return function (b) {
          this.body.innerHTML = '<p id="initContent">' + b + "</p>";
          this.addListener("firstBeforeExecCommand focus", a);
        };
      })(),
      setShow: function () {
        var a = this.selection.getRange();
        if ("none" == this.container.style.display) {
          try {
            a.moveToBookmark(this.lastBk), delete this.lastBk;
          } catch (b) {
            a.setStartAtFirst(this.body).collapse(!0);
          }
          setTimeout(function () {
            a.select(!0);
          }, 100);
          this.container.style.display = "";
        }
      },
      show: function () {
        return this.setShow();
      },
      setHide: function () {
        this.lastBk ||
          (this.lastBk = this.selection.getRange().createBookmark(!0));
        this.container.style.display = "none";
      },
      hide: function () {
        return this.setHide();
      },
      getLang: function (a) {
        var b = UE.I18N[this.options.lang];
        if (!b) throw Error("not import language file");
        a = (a || "").split(".");
        for (var e = 0, c; (c = a[e++]) && ((b = b[c]), b); );
        return b;
      },
      getContentLength: function (a, b) {
        var e = this.getContent(!1, !1, !0).length;
        if (a) {
          b = (b || []).concat(["hr", "img", "iframe"]);
          for (
            var e = this.getContentTxt().replace(/[\t\r\n]+/g, "").length,
              c = 0,
              h;
            (h = b[c++]);

          )
            e += this.document.getElementsByTagName(h).length;
        }
        return e;
      },
      addInputRule: function (a) {
        this.inputRules.push(a);
      },
      filterInputRule: function (a) {
        for (var b = 0, e; (e = this.inputRules[b++]); ) e.call(this, a);
      },
      addOutputRule: function (a) {
        this.outputRules.push(a);
      },
      filterOutputRule: function (a) {
        for (var b = 0, e; (e = this.outputRules[b++]); ) e.call(this, a);
      },
      getActionUrl: function (a) {
        a = this.getOpt(a) || a;
        var b = this.getOpt("imageUrl"),
          e = this.getOpt("serverUrl");
        !e && b && (e = b.replace(/^(.*[\/]).+([\.].+)$/, "$1controller$2"));
        return e
          ? ((e =
              e + (-1 == e.indexOf("?") ? "?" : "&") + "action=" + (a || "")),
            p.formatUrl(e))
          : "";
      },
    };
    p.inherits(h, Z);
  })();
  UE.Editor.defaultOptions = function (d) {
    d = d.options.UEDITOR_HOME_URL;
    return {
      isShow: !0,
      initialContent: "",
      initialStyle: "",
      autoClearinitialContent: !1,
      iframeCssUrl: d + "themes/iframe.css",
      textarea: "editorValue",
      focus: !1,
      focusInEnd: !0,
      autoClearEmptyNode: !0,
      fullscreen: !1,
      readonly: !1,
      zIndex: 999,
      imagePopup: !0,
      enterTag: "p",
      customDomain: !1,
      lang: "zh-cn",
      langPath: d + "lang/",
      theme: "default",
      themePath: d + "themes/",
      allHtmlEnabled: !1,
      scaleEnabled: !1,
      tableNativeEditInFF: !1,
      autoSyncData: !0,
      fileNameFormat: "{time}{rand:6}",
    };
  };
  (function () {
    UE.Editor.prototype.loadServerConfig = function () {
      function d(b) {
        console && console.error(b);
      }
      var c = this;
      setTimeout(function () {
        try {
          c.options.imageUrl &&
            c.setOpt(
              "serverUrl",
              c.options.imageUrl.replace(
                /^(.*[\/]).+([\.].+)$/,
                "$1controller$2"
              )
            );
          var b = c.getActionUrl("config"),
            a = p.isCrossDomainUrl(b);
          c._serverConfigLoaded = !1;
          b &&
            UE.ajax.request(b, {
              method: "GET",
              dataType: a ? "jsonp" : "",
              onsuccess: function (b) {
                try {
                  var e = a ? b : eval("(" + b.responseText + ")");
                  p.extend(c.options, e);
                  c.fireEvent("serverConfigLoaded");
                  c._serverConfigLoaded = !0;
                } catch (l) {
                  d(c.getLang("loadconfigFormatError"));
                }
              },
              onerror: function () {
                d(c.getLang("loadconfigHttpError"));
              },
            });
        } catch (e) {
          d(c.getLang("loadconfigError"));
        }
      });
    };
    UE.Editor.prototype.isServerConfigLoaded = function () {
      return this._serverConfigLoaded || !1;
    };
    UE.Editor.prototype.afterConfigReady = function (d) {
      if (d && p.isFunction(d)) {
        var c = this,
          b = function () {
            d.apply(c, arguments);
            c.removeListener("serverConfigLoaded", b);
          };
        c.isServerConfigLoaded()
          ? d.call(c, "serverConfigLoaded")
          : c.addListener("serverConfigLoaded", b);
      }
    };
  })();
  UE.ajax = (function () {
    function d(a) {
      var b = [],
        e;
      for (e in a)
        if (
          "method" != e &&
          "timeout" != e &&
          "async" != e &&
          "dataType" != e &&
          "callback" != e &&
          void 0 != a[e] &&
          null != a[e]
        )
          if (
            "function" != (typeof a[e]).toLowerCase() &&
            "object" != (typeof a[e]).toLowerCase()
          )
            b.push(encodeURIComponent(e) + "=" + encodeURIComponent(a[e]));
          else if (p.isArray(a[e]))
            for (var c = 0; c < a[e].length; c++)
              b.push(
                encodeURIComponent(e) + "[]=" + encodeURIComponent(a[e][c])
              );
      return b.join("&");
    }
    function c(a, b) {
      var e = g(),
        c = !1,
        h = {
          method: "POST",
          timeout: 5e3,
          async: !0,
          data: {},
          onsuccess: function () {},
          onerror: function () {},
        };
      "object" === typeof a && ((b = a), (a = b.url));
      if (e && a) {
        var f = b ? p.extend(h, b) : h,
          h = d(f);
        p.isEmptyObject(f.data) || (h += (h ? "&" : "") + d(f.data));
        var w = setTimeout(function () {
            4 != e.readyState && ((c = !0), e.abort(), clearTimeout(w));
          }, f.timeout),
          y = f.method.toUpperCase(),
          u =
            a +
            (-1 == a.indexOf("?") ? "?" : "&") +
            ("POST" == y ? "" : h + "&noCache=" + +new Date());
        e.open(y, u, f.async);
        e.onreadystatechange = function () {
          if (4 == e.readyState)
            if (c || 200 != e.status) f.onerror(e);
            else f.onsuccess(e);
        };
        "POST" == y
          ? (e.setRequestHeader(
              "Content-Type",
              "application/x-www-form-urlencoded"
            ),
            e.send(h))
          : e.send(null);
      }
    }
    function b(a, b) {
      function e(a) {
        return function () {
          try {
            if (a) h.onerror && h.onerror();
            else
              try {
                clearTimeout(E), c.apply(window, arguments);
              } catch (b) {}
          } catch (e) {
            h.onerror && h.onerror.call(window, e);
          } finally {
            h.oncomplete && h.oncomplete.apply(window, arguments);
            g.parentNode && g.parentNode.removeChild(g);
            window[u] = null;
            try {
              delete window[u];
            } catch (k) {}
          }
        };
      }
      var c = b.onsuccess || function () {},
        g = document.createElement("SCRIPT"),
        h = b || {},
        f = h.charset,
        y = h.jsonp || "callback",
        u,
        C = h.timeOut || 0,
        E,
        G = RegExp("(\\?|&)" + y + "=([^&]*)"),
        A;
      if (p.isFunction(c))
        (u =
          "bd__editor__" + Math.floor(2147483648 * Math.random()).toString(36)),
          (window[u] = e(0));
      else if (p.isString(c)) u = c;
      else if ((A = G.exec(a))) u = A[2];
      a = a.replace(G, "$1" + y + "=" + u);
      0 > a.search(G) && (a += (0 > a.indexOf("?") ? "?" : "&") + y + "=" + u);
      y = d(b);
      p.isEmptyObject(b.data) || (y += (y ? "&" : "") + d(b.data));
      y && (a = a.replace(/\?/, "?" + y + "&"));
      g.onerror = e(1);
      C && (E = setTimeout(e(1), C));
      (function (a, b, e) {
        a.setAttribute("type", "text/javascript");
        a.setAttribute("defer", "defer");
        e && a.setAttribute("charset", e);
        a.setAttribute("src", b);
        document.getElementsByTagName("head")[0].appendChild(a);
      })(g, a, f);
    }
    var a = "XMLHttpRequest()";
    try {
      new ActiveXObject("Msxml2.XMLHTTP"),
        (a = "ActiveXObject('Msxml2.XMLHTTP')");
    } catch (e) {
      try {
        new ActiveXObject("Microsoft.XMLHTTP"),
          (a = "ActiveXObject('Microsoft.XMLHTTP')");
      } catch (h) {}
    }
    var g = new Function("return new " + a);
    return {
      request: function (a, e) {
        e && "jsonp" == e.dataType ? b(a, e) : c(a, e);
      },
      getJSONP: function (a, e, c) {
        b(a, { data: e, oncomplete: c });
      },
    };
  })();
  UE.filterWord = (function () {
    function d(b) {
      return (b = b.replace(/[\d.]+\w+/g, function (a) {
        return p.transUnitToPx(a);
      }));
    }
    function c(b) {
      return b
        .replace(/[\t\r\n]+/g, " ")
        .replace(/\x3c!--[\s\S]*?--\x3e/gi, "")
        .replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi, function (a) {
          if (r.opera) return "";
          try {
            if (/Bitmap/i.test(a)) return "";
            var b = a.match(/width:([ \d.]*p[tx])/i)[1],
              c = a.match(/height:([ \d.]*p[tx])/i)[1],
              g = a.match(/src=\s*"([^"]*)"/i)[1];
            return (
              '<img width="' +
              d(b) +
              '" height="' +
              d(c) +
              '" src="' +
              g +
              '" />'
            );
          } catch (l) {
            return "";
          }
        })
        .replace(/<\/?div[^>]*>/g, "")
        .replace(/v:\w+=(["']?)[^'"]+\1/g, "")
        .replace(
          /<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,
          ""
        )
        .replace(
          /<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,
          "<p><strong>$1</strong></p>"
        )
        .replace(
          /\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi,
          function (a, b, c, g) {
            return "class" == b && "MsoListParagraph" == g ? a : "";
          }
        )
        .replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi, function (a, b, c) {
          return c.replace(/[\t\r\n ]+/g, " ");
        })
        .replace(
          /(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,
          function (a, b, c, g) {
            a = [];
            g = g
              .replace(/^\s+|\s+$/, "")
              .replace(/&#39;/g, "'")
              .replace(/&quot;/gi, "'")
              .replace(/[\d.]+(cm|pt)/g, function (a) {
                return p.transUnitToPx(a);
              })
              .split(/;\s*/g);
            c = 0;
            for (var l; (l = g[c]); c++) {
              var k,
                f = l.split(":");
              if (
                2 == f.length &&
                ((l = f[0].toLowerCase()),
                (k = f[1].toLowerCase()),
                !(
                  (/^(background)\w*/.test(l) &&
                    0 == k.replace(/(initial|\s)/g, "").length) ||
                  (/^(margin)\w*/.test(l) && /^0\w+$/.test(k))
                ))
              ) {
                switch (l) {
                  case "mso-padding-alt":
                  case "mso-padding-top-alt":
                  case "mso-padding-right-alt":
                  case "mso-padding-bottom-alt":
                  case "mso-padding-left-alt":
                  case "mso-margin-alt":
                  case "mso-margin-top-alt":
                  case "mso-margin-right-alt":
                  case "mso-margin-bottom-alt":
                  case "mso-margin-left-alt":
                  case "mso-height":
                  case "mso-width":
                  case "mso-vertical-align-alt":
                    /<table/.test(b) ||
                      (a[c] = l.replace(/^mso-|-alt$/g, "") + ":" + d(k));
                    continue;
                  case "horiz-align":
                    a[c] = "text-align:" + k;
                    continue;
                  case "vert-align":
                    a[c] = "vertical-align:" + k;
                    continue;
                  case "font-color":
                  case "mso-foreground":
                    a[c] = "color:" + k;
                    continue;
                  case "mso-background":
                  case "mso-highlight":
                    a[c] = "background:" + k;
                    continue;
                  case "mso-default-height":
                    a[c] = "min-height:" + d(k);
                    continue;
                  case "mso-default-width":
                    a[c] = "min-width:" + d(k);
                    continue;
                  case "mso-padding-between-alt":
                    a[c] = "border-collapse:separate;border-spacing:" + d(k);
                    continue;
                  case "text-line-through":
                    if ("single" == k || "double" == k)
                      a[c] = "text-decoration:line-through";
                    continue;
                  case "mso-zero-height":
                    "yes" == k && (a[c] = "display:none");
                    continue;
                  case "margin":
                    if (!/[1-9]/.test(k)) continue;
                }
                /^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(
                  l
                ) ||
                  (/text\-indent|padding|margin/.test(l) &&
                    /\-[\d.]+/.test(k)) ||
                  (a[c] = l + ":" + f[1]);
              }
            }
            return (
              b +
              (a.length
                ? ' style="' + a.join(";").replace(/;{2,}/g, ";") + '"'
                : "")
            );
          }
        );
    }
    return function (b) {
      return /(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/gi.test(
        b
      )
        ? c(b)
        : b;
    };
  })();
  (function () {
    function d(a, b, e) {
      a.push(q);
      return b + (e ? 1 : -1);
    }
    function c(a, b) {
      for (var e = 0; e < b; e++) a.push(n);
    }
    function b(e, g, h, k) {
      switch (e.type) {
        case "root":
          for (var l = 0, n; (n = e.children[l++]); )
            h &&
              "element" == n.type &&
              !v.$inlineWithA[n.tagName] &&
              1 < l &&
              (d(g, k, !0), c(g, k)),
              b(n, g, h, k);
          break;
        case "text":
          "pre" == e.parentNode.tagName
            ? g.push(e.data)
            : g.push(
                f[e.parentNode.tagName]
                  ? p.html(e.data)
                  : e.data.replace(/[ ]{2}/g, " &nbsp;")
              );
          break;
        case "element":
          a(e, g, h, k);
          break;
        case "comment":
          g.push("\x3c!--" + e.data + "--\x3e");
      }
      return g;
    }
    function a(a, e, g, h) {
      var l = "";
      if (a.attrs) {
        var l = [],
          f = a.attrs,
          n;
        for (n in f)
          l.push(
            n +
              (void 0 !== f[n]
                ? '="' +
                  (k[n]
                    ? p.html(f[n]).replace(/["]/g, function (a) {
                        return "&quot;";
                      })
                    : p.unhtml(f[n])) +
                  '"'
                : "")
          );
        l = l.join(" ");
      }
      e.push(
        "<" +
          a.tagName +
          (l ? " " + l : "") +
          (v.$empty[a.tagName] ? "/" : "") +
          ">"
      );
      g &&
        !v.$inlineWithA[a.tagName] &&
        "pre" != a.tagName &&
        a.children &&
        a.children.length &&
        ((h = d(e, h, !0)), c(e, h));
      if (a.children && a.children.length)
        for (l = 0; (f = a.children[l++]); )
          g &&
            "element" == f.type &&
            !v.$inlineWithA[f.tagName] &&
            1 < l &&
            (d(e, h), c(e, h)),
            b(f, e, g, h);
      v.$empty[a.tagName] ||
        (g &&
          !v.$inlineWithA[a.tagName] &&
          "pre" != a.tagName &&
          a.children &&
          a.children.length &&
          ((h = d(e, h)), c(e, h)),
        e.push("</" + a.tagName + ">"));
    }
    function e(a, b) {
      var c;
      if ("element" == a.type && a.getAttr("id") == b) return a;
      if (a.children && a.children.length)
        for (var g = 0; (c = a.children[g++]); ) if ((c = e(c, b))) return c;
    }
    function h(a, b, e) {
      "element" == a.type && a.tagName == b && e.push(a);
      if (a.children && a.children.length)
        for (var c = 0, g; (g = a.children[c++]); ) h(g, b, e);
    }
    function g(a, b) {
      if (a.children && a.children.length)
        for (var e = 0, c; (c = a.children[e]); )
          g(c, b),
            c.parentNode &&
              (c.children && c.children.length && b(c), c.parentNode && e++);
      else b(a);
    }
    var l = (UE.uNode = function (a) {
        this.type = a.type;
        this.data = a.data;
        this.tagName = a.tagName;
        this.parentNode = a.parentNode;
        this.attrs = a.attrs || {};
        this.children = a.children;
      }),
      k = { href: 1, src: 1, _src: 1, _href: 1, cdata_data: 1 },
      f = { style: 1, script: 1 },
      n = "    ",
      q = "\n";
    l.createElement = function (a) {
      return /[<>]/.test(a)
        ? UE.htmlparser(a).children[0]
        : new l({ type: "element", children: [], tagName: a });
    };
    l.createText = function (a, b) {
      return new UE.uNode({ type: "text", data: b ? a : p.unhtml(a || "") });
    };
    l.prototype = {
      toHtml: function (a) {
        var e = [];
        b(this, e, a, 0);
        return e.join("");
      },
      innerHTML: function (a) {
        if ("element" != this.type || v.$empty[this.tagName]) return this;
        if (p.isString(a)) {
          if (this.children)
            for (var b = 0, e; (e = this.children[b++]); ) e.parentNode = null;
          this.children = [];
          a = UE.htmlparser(a);
          for (b = 0; (e = a.children[b++]); )
            this.children.push(e), (e.parentNode = this);
          return this;
        }
        a = new UE.uNode({ type: "root", children: this.children });
        return a.toHtml();
      },
      innerText: function (a, b) {
        if ("element" != this.type || v.$empty[this.tagName]) return this;
        if (a) {
          if (this.children)
            for (var e = 0, c; (c = this.children[e++]); ) c.parentNode = null;
          this.children = [];
          this.appendChild(l.createText(a, b));
          return this;
        }
        return this.toHtml().replace(/<[^>]+>/g, "");
      },
      getData: function () {
        return "element" == this.type ? "" : this.data;
      },
      firstChild: function () {
        return this.children ? this.children[0] : null;
      },
      lastChild: function () {
        return this.children ? this.children[this.children.length - 1] : null;
      },
      previousSibling: function () {
        for (var a = this.parentNode, b = 0, e; (e = a.children[b]); b++)
          if (e === this) return 0 == b ? null : a.children[b - 1];
      },
      nextSibling: function () {
        for (var a = this.parentNode, b = 0, e; (e = a.children[b++]); )
          if (e === this) return a.children[b];
      },
      replaceChild: function (a, b) {
        if (this.children) {
          a.parentNode && a.parentNode.removeChild(a);
          for (var e = 0, c; (c = this.children[e]); e++)
            if (c === b)
              return (
                this.children.splice(e, 1, a),
                (b.parentNode = null),
                (a.parentNode = this),
                a
              );
        }
      },
      appendChild: function (a) {
        if (
          "root" == this.type ||
          ("element" == this.type && !v.$empty[this.tagName])
        ) {
          this.children || (this.children = []);
          a.parentNode && a.parentNode.removeChild(a);
          for (var b = 0, e; (e = this.children[b]); b++)
            if (e === a) {
              this.children.splice(b, 1);
              break;
            }
          this.children.push(a);
          a.parentNode = this;
          return a;
        }
      },
      insertBefore: function (a, b) {
        if (this.children) {
          a.parentNode && a.parentNode.removeChild(a);
          for (var e = 0, c; (c = this.children[e]); e++)
            if (c === b)
              return this.children.splice(e, 0, a), (a.parentNode = this), a;
        }
      },
      insertAfter: function (a, b) {
        if (this.children) {
          a.parentNode && a.parentNode.removeChild(a);
          for (var e = 0, c; (c = this.children[e]); e++)
            if (c === b)
              return (
                this.children.splice(e + 1, 0, a), (a.parentNode = this), a
              );
        }
      },
      removeChild: function (a, b) {
        if (this.children)
          for (var e = 0, c; (c = this.children[e]); e++)
            if (c === a) {
              this.children.splice(e, 1);
              c.parentNode = null;
              if (b && c.children && c.children.length)
                for (var g = 0, h; (h = c.children[g]); g++)
                  this.children.splice(e + g, 0, h), (h.parentNode = this);
              return c;
            }
      },
      getAttr: function (a) {
        return this.attrs && this.attrs[a.toLowerCase()];
      },
      setAttr: function (a, b) {
        if (a)
          if ((this.attrs || (this.attrs = {}), p.isObject(a)))
            for (var e in a)
              a[e]
                ? (this.attrs[e.toLowerCase()] = a[e])
                : delete this.attrs[e];
          else b ? (this.attrs[a.toLowerCase()] = b) : delete this.attrs[a];
        else delete this.attrs;
      },
      getIndex: function () {
        for (var a = this.parentNode, b = 0, e; (e = a.children[b]); b++)
          if (e === this) return b;
        return -1;
      },
      getNodeById: function (a) {
        var b;
        if (this.children && this.children.length)
          for (var c = 0; (b = this.children[c++]); )
            if ((b = e(b, a))) return b;
      },
      getNodesByTagName: function (a) {
        a = p
          .trim(a)
          .replace(/[ ]{2,}/g, " ")
          .split(" ");
        var b = [],
          e = this;
        p.each(a, function (a) {
          if (e.children && e.children.length)
            for (var c = 0, g; (g = e.children[c++]); ) h(g, a, b);
        });
        return b;
      },
      getStyle: function (a) {
        var b = this.getAttr("style");
        return b
          ? (a = b.match(RegExp("(^|;)\\s*" + a + ":([^;]+)", "i"))) && a[0]
            ? a[2]
            : ""
          : "";
      },
      setStyle: function (a, b) {
        function e(a, b) {
          c = c.replace(RegExp("(^|;)\\s*" + a + ":([^;]+;?)", "gi"), "$1");
          b && (c = a + ":" + p.unhtml(b) + ";" + c);
        }
        var c = this.getAttr("style");
        c || (c = "");
        if (p.isObject(a)) for (var g in a) e(g, a[g]);
        else e(a, b);
        this.setAttr("style", p.trim(c));
      },
      traversal: function (a) {
        this.children && this.children.length && g(this, a);
        return this;
      },
    };
  })();
  UE.htmlparser = function (d, c) {
    function b(a, b) {
      if (n[a.tagName]) {
        var e = k.createElement(n[a.tagName]);
        a.appendChild(e);
        e.appendChild(k.createText(b));
      } else a.appendChild(k.createText(b));
    }
    function a(b, e, c) {
      var g;
      if ((g = m[e])) {
        for (var d = b, f; "root" != d.type; ) {
          if (p.isArray(g) ? -1 != p.indexOf(g, d.tagName) : g == d.tagName) {
            b = d;
            f = !0;
            break;
          }
          d = d.parentNode;
        }
        f || (b = a(b, p.isArray(g) ? g[0] : g));
      }
      g = new k({
        parentNode: b,
        type: "element",
        tagName: e.toLowerCase(),
        children: v.$empty[e] ? null : [],
      });
      if (c) {
        for (d = {}; (f = h.exec(c)); )
          d[f[1].toLowerCase()] = l[f[1].toLowerCase()]
            ? f[2] || f[3] || f[4]
            : p.unhtml(f[2] || f[3] || f[4]);
        g.attrs = d;
      }
      b.children.push(g);
      return v.$empty[e] ? b : g;
    }
    var e =
        /<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\s\/<>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,
      h =
        /([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,
      g = {
        b: 1,
        code: 1,
        i: 1,
        u: 1,
        strike: 1,
        s: 1,
        tt: 1,
        strong: 1,
        q: 1,
        samp: 1,
        em: 1,
        span: 1,
        sub: 1,
        img: 1,
        sup: 1,
        font: 1,
        big: 1,
        small: 1,
        iframe: 1,
        a: 1,
        br: 1,
        pre: 1,
      };
    d = d.replace(RegExp(f.fillChar, "g"), "");
    c ||
      (d = d.replace(
        RegExp(
          "[\\r\\t\\n" +
            (c ? "" : " ") +
            "]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n" +
            (c ? "" : " ") +
            "]*",
          "g"
        ),
        function (a, b) {
          return b && g[b.toLowerCase()]
            ? a.replace(/(^[\n\r]+)|([\n\r]+$)/g, "")
            : a
                .replace(RegExp("^[\\r\\n" + (c ? "" : " ") + "]+"), "")
                .replace(RegExp("[\\r\\n" + (c ? "" : " ") + "]+$"), "");
        }
      ));
    for (
      var l = { href: 1, src: 1 },
        k = UE.uNode,
        m = {
          td: "tr",
          tr: ["tbody", "thead", "tfoot"],
          tbody: "table",
          th: "tr",
          thead: "table",
          tfoot: "table",
          caption: "table",
          li: ["ul", "ol"],
          dt: "dl",
          dd: "dl",
          option: "select",
        },
        n = { ol: "li", ul: "li" },
        q,
        t = 0,
        w = 0,
        y = new k({ type: "root", children: [] }),
        u = y;
      (q = e.exec(d));

    ) {
      t = q.index;
      try {
        if ((t > w && b(u, d.slice(w, t)), q[3]))
          v.$cdata[u.tagName]
            ? b(u, q[0])
            : (u = a(u, q[3].toLowerCase(), q[4]));
        else if (q[1]) {
          if ("root" != u.type)
            if (v.$cdata[u.tagName] && !v.$cdata[q[1]]) b(u, q[0]);
            else {
              for (
                t = u;
                "element" == u.type && u.tagName != q[1].toLowerCase();

              )
                if (((u = u.parentNode), "root" == u.type))
                  throw ((u = t), "break");
              u = u.parentNode;
            }
        } else
          q[2] &&
            u.children.push(
              new k({ type: "comment", data: q[2], parentNode: u })
            );
      } catch (C) {}
      w = e.lastIndex;
    }
    w < d.length && b(u, d.slice(w));
    return y;
  };
  UE.filterNode = (function () {
    function d(c, b) {
      switch (c.type) {
        case "element":
          var a;
          if ((a = b[c.tagName]))
            if ("-" === a) c.parentNode.removeChild(c);
            else if (p.isFunction(a)) {
              var e = c.parentNode,
                h = c.getIndex();
              a(c);
              if (c.parentNode) {
                if (c.children)
                  for (a = 0; (h = c.children[a]); )
                    d(h, b), h.parentNode && a++;
              } else
                for (a = h; (h = e.children[a]); ) d(h, b), h.parentNode && a++;
            } else {
              if ((a = a.$) && c.attrs) {
                var h = {},
                  g;
                for (e in a) {
                  g = c.getAttr(e);
                  if ("style" == e && p.isArray(a[e])) {
                    var l = [];
                    p.each(a[e], function (a) {
                      var b;
                      (b = c.getStyle(a)) && l.push(a + ":" + b);
                    });
                    g = l.join(";");
                  }
                  g && (h[e] = g);
                }
                c.attrs = h;
              }
              if (c.children)
                for (a = 0; (h = c.children[a]); ) d(h, b), h.parentNode && a++;
            }
          else if (v.$cdata[c.tagName]) c.parentNode.removeChild(c);
          else
            for (
              e = c.parentNode,
                h = c.getIndex(),
                c.parentNode.removeChild(c, !0),
                a = h;
              (h = e.children[a]);

            )
              d(h, b), h.parentNode && a++;
          break;
        case "comment":
          c.parentNode.removeChild(c);
      }
    }
    return function (c, b) {
      if (p.isEmptyObject(b)) return c;
      var a;
      (a = b["-"]) &&
        p.each(a.split(" "), function (a) {
          b[a] = "-";
        });
      a = 0;
      for (var e; (e = c.children[a]); ) d(e, b), e.parentNode && a++;
      return c;
    };
  })();
  UE.plugin = (function () {
    var d = {};
    return {
      register: function (c, b, a, e) {
        a && p.isFunction(a) && ((e = a), (a = null));
        d[c] = { optionName: a || c, execFn: b, afterDisabled: e };
      },
      load: function (c) {
        p.each(d, function (b) {
          var a = b.execFn.call(c);
          !1 !== c.options[b.optionName]
            ? a &&
              p.each(a, function (a, b) {
                switch (b.toLowerCase()) {
                  case "shortcutkey":
                    c.addshortcutkey(a);
                    break;
                  case "bindevents":
                    p.each(a, function (a, b) {
                      c.addListener(b, a);
                    });
                    break;
                  case "bindmultievents":
                    p.each(p.isArray(a) ? a : [a], function (a) {
                      var b = p.trim(a.type).split(/\s+/);
                      p.each(b, function (b) {
                        c.addListener(b, a.handler);
                      });
                    });
                    break;
                  case "commands":
                    p.each(a, function (a, b) {
                      c.commands[b] = a;
                    });
                    break;
                  case "outputrule":
                    c.addOutputRule(a);
                    break;
                  case "inputrule":
                    c.addInputRule(a);
                    break;
                  case "defaultoptions":
                    c.setOpt(a);
                }
              })
            : b.afterDisabled && b.afterDisabled.call(c);
        });
        p.each(UE.plugins, function (b) {
          b.call(c);
        });
      },
      run: function (c, b) {
        var a = d[c];
        a && a.exeFn.call(b);
      },
    };
  })();
  var $ = (UE.keymap = {
      Backspace: 8,
      Tab: 9,
      Enter: 13,
      Shift: 16,
      Control: 17,
      Alt: 18,
      CapsLock: 20,
      Esc: 27,
      Spacebar: 32,
      PageUp: 33,
      PageDown: 34,
      End: 35,
      Home: 36,
      Left: 37,
      Up: 38,
      Right: 39,
      Down: 40,
      Insert: 45,
      Del: 46,
      NumLock: 144,
      Cmd: 91,
      "=": 187,
      "-": 189,
      b: 66,
      i: 73,
      z: 90,
      y: 89,
      v: 86,
      x: 88,
      s: 83,
      n: 78,
    }),
    Y = (UE.LocalStorage = (function () {
      function d() {
        var a = document.createElement("div");
        a.style.display = "none";
        if (!a.addBehavior) return null;
        a.addBehavior("#default#userdata");
        return {
          getItem: function (e) {
            var c = null;
            try {
              document.body.appendChild(a),
                a.load(b),
                (c = a.getAttribute(e)),
                document.body.removeChild(a);
            } catch (g) {}
            return c;
          },
          setItem: function (e, c) {
            document.body.appendChild(a);
            a.setAttribute(e, c);
            a.save(b);
            document.body.removeChild(a);
          },
          removeItem: function (e) {
            document.body.appendChild(a);
            a.removeAttribute(e);
            a.save(b);
            document.body.removeChild(a);
          },
        };
      }
      var c = window.localStorage || d() || null,
        b = "localStorage";
      return {
        saveLocalData: function (a, b) {
          return c && b ? (c.setItem(a, b), !0) : !1;
        },
        getLocalData: function (a) {
          return c ? c.getItem(a) : null;
        },
        removeItem: function (a) {
          c && c.removeItem(a);
        },
      };
    })());
  (function () {
    UE.Editor.prototype.setPreferences = function (d, c) {
      var b = {};
      p.isString(d) ? (b[d] = c) : (b = d);
      var a = Y.getLocalData("ueditor_preference");
      a && (a = p.str2json(a)) ? p.extend(a, b) : (a = b);
      a && Y.saveLocalData("ueditor_preference", p.json2str(a));
    };
    UE.Editor.prototype.getPreferences = function (d) {
      var c = Y.getLocalData("ueditor_preference");
      return c && (c = p.str2json(c)) ? (d ? c[d] : c) : null;
    };
    UE.Editor.prototype.removePreferences = function (d) {
      var c = Y.getLocalData("ueditor_preference");
      c && (c = p.str2json(c)) && ((c[d] = void 0), delete c[d]);
      c && Y.saveLocalData("ueditor_preference", p.json2str(c));
    };
  })();
  UE.plugins.defaultfilter = function () {
    var d = this;
    d.setOpt({ allowDivTransToP: !0, disabledTableInTable: !0 });
    d.addInputRule(function (c) {
      function b(a) {
        for (; a && "element" == a.type; ) {
          if ("td" == a.tagName) return !0;
          a = a.parentNode;
        }
        return !1;
      }
      var a = this.options.allowDivTransToP,
        e;
      c.traversal(function (c) {
        if ("element" == c.type)
          if (
            v.$cdata[c.tagName] ||
            !d.options.autoClearEmptyNode ||
            !v.$inline[c.tagName] ||
            v.$empty[c.tagName] ||
            (c.attrs && !p.isEmptyObject(c.attrs))
          )
            switch (c.tagName) {
              case "style":
              case "script":
                c.setAttr({
                  cdata_tag: c.tagName,
                  cdata_data: c.innerHTML() || "",
                  _ue_custom_node_: "true",
                });
                c.tagName = "div";
                c.innerHTML("");
                break;
              case "a":
                (e = c.getAttr("href")) && c.setAttr("_href", e);
                break;
              case "img":
                if ((e = c.getAttr("src")) && /^data:/.test(e)) {
                  c.parentNode.removeChild(c);
                  break;
                }
                c.setAttr("_src", c.getAttr("src"));
                break;
              case "span":
                r.webkit &&
                  (e = c.getStyle("white-space")) &&
                  /nowrap|normal/.test(e) &&
                  (c.setStyle("white-space", ""),
                  d.options.autoClearEmptyNode &&
                    p.isEmptyObject(c.attrs) &&
                    c.parentNode.removeChild(c, !0));
                (e = c.getAttr("id")) &&
                  /^_baidu_bookmark_/i.test(e) &&
                  c.parentNode.removeChild(c);
                break;
              case "p":
                if ((e = c.getAttr("align")))
                  c.setAttr("align"), c.setStyle("text-align", e);
                p.each(c.children, function (a) {
                  if ("element" == a.type && "p" == a.tagName) {
                    var b = a.nextSibling();
                    for (c.parentNode.insertAfter(a, c); b; ) {
                      var e = b.nextSibling();
                      c.parentNode.insertAfter(b, a);
                      a = b;
                      b = e;
                    }
                    return !1;
                  }
                });
                c.firstChild() || c.innerHTML(r.ie ? "&nbsp;" : "<br/>");
                break;
              case "div":
                if (c.getAttr("cdata_tag")) break;
                if ((e = c.getAttr("class")) && /^line number\d+/.test(e))
                  break;
                if (!a) break;
                for (
                  var g, l = UE.uNode.createElement("p");
                  (g = c.firstChild());

                )
                  "text" != g.type && UE.dom.dtd.$block[g.tagName]
                    ? l.firstChild()
                      ? (c.parentNode.insertBefore(l, c),
                        (l = UE.uNode.createElement("p")))
                      : c.parentNode.insertBefore(g, c)
                    : l.appendChild(g);
                l.firstChild() && c.parentNode.insertBefore(l, c);
                c.parentNode.removeChild(c);
                break;
              case "dl":
                c.tagName = "ul";
                break;
              case "dt":
              case "dd":
                c.tagName = "li";
                break;
              case "li":
                ((g = c.getAttr("class")) && /list\-/.test(g)) || c.setAttr();
                g = c.getNodesByTagName("ol ul");
                UE.utils.each(g, function (a) {
                  c.parentNode.insertAfter(a, c);
                });
                break;
              case "td":
              case "th":
              case "caption":
                (c.children && c.children.length) ||
                  c.appendChild(
                    r.ie11below
                      ? UE.uNode.createText(" ")
                      : UE.uNode.createElement("br")
                  );
                break;
              case "table":
                d.options.disabledTableInTable &&
                  b(c) &&
                  (c.parentNode.insertBefore(
                    UE.uNode.createText(c.innerText()),
                    c
                  ),
                  c.parentNode.removeChild(c));
            }
          else
            c.firstChild()
              ? "span" != c.tagName ||
                (c.attrs && !p.isEmptyObject(c.attrs)) ||
                c.parentNode.removeChild(c, !0)
              : c.parentNode.removeChild(c);
      });
    });
    d.addOutputRule(function (c) {
      var b;
      c.traversal(function (a) {
        if ("element" == a.type)
          if (
            !d.options.autoClearEmptyNode ||
            !v.$inline[a.tagName] ||
            v.$empty[a.tagName] ||
            (a.attrs && !p.isEmptyObject(a.attrs))
          )
            switch (a.tagName) {
              case "div":
                if ((b = a.getAttr("cdata_tag")))
                  (a.tagName = b),
                    a.appendChild(UE.uNode.createText(a.getAttr("cdata_data"))),
                    a.setAttr({
                      cdata_tag: "",
                      cdata_data: "",
                      _ue_custom_node_: "",
                    });
                break;
              case "a":
                (b = a.getAttr("_href")) &&
                  a.setAttr({ href: p.html(b), _href: "" });
                break;
              case "span":
                (b = a.getAttr("id")) &&
                  /^_baidu_bookmark_/i.test(b) &&
                  a.parentNode.removeChild(a);
                break;
              case "img":
                (b = a.getAttr("_src")) &&
                  a.setAttr({ src: a.getAttr("_src"), _src: "" });
            }
          else
            a.firstChild()
              ? "span" != a.tagName ||
                (a.attrs && !p.isEmptyObject(a.attrs)) ||
                a.parentNode.removeChild(a, !0)
              : a.parentNode.removeChild(a);
      });
    });
  };
  UE.commands.inserthtml = {
    execCommand: function (d, c, b) {
      var a = this,
        e;
      if (c && !0 !== a.fireEvent("beforeinserthtml", c)) {
        e = a.selection.getRange();
        d = e.document.createElement("div");
        d.style.display = "inline";
        b ||
          ((b = UE.htmlparser(c)),
          a.options.filterRules && UE.filterNode(b, a.options.filterRules),
          a.filterInputRule(b),
          (c = b.toHtml()));
        d.innerHTML = p.trim(c);
        if (
          !e.collapsed &&
          ((b = e.startContainer),
          f.isFillChar(b) && e.setStartBefore(b),
          (b = e.endContainer),
          f.isFillChar(b) && e.setEndAfter(b),
          e.txtToElmBoundary(),
          e.endContainer &&
            1 == e.endContainer.nodeType &&
            (b = e.endContainer.childNodes[e.endOffset]) &&
            f.isBr(b) &&
            e.setEndAfter(b),
          0 == e.startOffset &&
            ((b = e.startContainer),
            f.isBoundaryNode(b, "firstChild") &&
              ((b = e.endContainer),
              e.endOffset ==
                (3 == b.nodeType ? b.nodeValue.length : b.childNodes.length) &&
                f.isBoundaryNode(b, "lastChild") &&
                ((a.body.innerHTML = "<p>" + (r.ie ? "" : "<br/>") + "</p>"),
                e.setStart(a.body.firstChild, 0).collapse(!0)))),
          !e.collapsed && e.deleteContents(),
          1 == e.startContainer.nodeType)
        ) {
          b = e.startContainer.childNodes[e.startOffset];
          var h;
          if (
            b &&
            f.isBlockElm(b) &&
            (h = b.previousSibling) &&
            f.isBlockElm(h)
          ) {
            for (e.setEnd(h, h.childNodes.length).collapse(); b.firstChild; )
              h.appendChild(b.firstChild);
            f.remove(b);
          }
        }
        var g,
          l,
          k = 0,
          m;
        e.inFillChar() &&
          ((b = e.startContainer),
          f.isFillChar(b)
            ? (e.setStartBefore(b).collapse(!0), f.remove(b))
            : f.isFillChar(b, !0) &&
              ((b.nodeValue = b.nodeValue.replace(P, "")),
              e.startOffset--,
              e.collapsed && e.collapse(!0)));
        var n = f.findParentByTagName(e.startContainer, "li", !0);
        if (n) {
          for (var q; (b = d.firstChild); ) {
            for (
              ;
              b && (3 == b.nodeType || !f.isBlockElm(b) || "HR" == b.tagName);

            )
              (q = b.nextSibling), e.insertNode(b).collapse(), (g = b), (b = q);
            if (b)
              if (/^(ol|ul)$/i.test(b.tagName)) {
                for (; b.firstChild; )
                  (g = b.firstChild),
                    f.insertAfter(n, b.firstChild),
                    (n = n.nextSibling);
                f.remove(b);
              } else
                (q = b.nextSibling),
                  (h = a.document.createElement("li")),
                  f.insertAfter(n, h),
                  h.appendChild(b),
                  (g = b),
                  (b = q),
                  (n = h);
          }
          n = f.findParentByTagName(e.startContainer, "li", !0);
          f.isEmptyBlock(n) && f.remove(n);
          g && e.setStartAfter(g).collapse(!0).select(!0);
        } else {
          for (; (b = d.firstChild); ) {
            if (k) {
              for (
                g = a.document.createElement("p");
                b && (3 == b.nodeType || !v.$block[b.tagName]);

              )
                (m = b.nextSibling), g.appendChild(b), (b = m);
              g.firstChild && (b = g);
            }
            e.insertNode(b);
            m = b.nextSibling;
            if (
              !k &&
              b.nodeType == f.NODE_ELEMENT &&
              f.isBlockElm(b) &&
              (g = f.findParent(b, function (a) {
                return f.isBlockElm(a);
              })) &&
              "body" != g.tagName.toLowerCase() &&
              (!v[g.tagName][b.nodeName] || b.parentNode !== g)
            ) {
              if (v[g.tagName][b.nodeName])
                for (l = b.parentNode; l !== g; ) (h = l), (l = l.parentNode);
              else h = g;
              f.breakParent(b, h || l);
              h = b.previousSibling;
              f.trimWhiteTextNode(h);
              h.childNodes.length || f.remove(h);
              !r.ie &&
                (q = b.nextSibling) &&
                f.isBlockElm(q) &&
                q.lastChild &&
                !f.isBr(q.lastChild) &&
                q.appendChild(a.document.createElement("br"));
              k = 1;
            }
            q = b.nextSibling;
            if (!d.firstChild && q && f.isBlockElm(q)) {
              e.setStart(q, 0).collapse(!0);
              break;
            }
            e.setEndAfter(b).collapse();
          }
          b = e.startContainer;
          m && f.isBr(m) && f.remove(m);
          if (f.isBlockElm(b) && f.isEmptyNode(b))
            if ((m = b.nextSibling))
              f.remove(b),
                1 == m.nodeType &&
                  v.$block[m.tagName] &&
                  e.setStart(m, 0).collapse(!0).shrinkBoundary();
            else
              try {
                b.innerHTML = r.ie ? f.fillChar : "<br/>";
              } catch (t) {
                e.setStartBefore(b), f.remove(b);
              }
          try {
            e.select(!0);
          } catch (w) {}
        }
        setTimeout(function () {
          e = a.selection.getRange();
          e.scrollToView(
            a.autoHeightEnabled,
            a.autoHeightEnabled ? f.getXY(a.iframe).y : 0
          );
          a.fireEvent("afterinserthtml", c);
        }, 200);
      }
    },
  };
  UE.plugins.autotypeset = function () {
    function d(a, b) {
      if (!a || 3 == a.nodeType) return 0;
      if (f.isBr(a)) return 1;
      if (a && a.parentNode && k[a.tagName.toLowerCase()])
        return (m && m.contains(a)) || a.getAttribute("pagebreak")
          ? 0
          : b
          ? !f.isEmptyBlock(a)
          : f.isEmptyBlock(a, RegExp("[\\s" + f.fillChar + "]", "g"));
    }
    function c(a) {
      a.style.cssText ||
        (f.removeAttributes(a, ["style"]),
        "span" == a.tagName.toLowerCase() &&
          f.hasNoAttributes(a) &&
          f.remove(a, !0));
    }
    function b(a, b) {
      var e;
      if (b) {
        if (!h.pasteFilter) return;
        e = this.document.createElement("div");
        e.innerHTML = b.html;
      } else e = this.document.body;
      for (var k = f.getElementsByTagName(e, "*"), y = 0, u; (u = k[y++]); )
        if (!0 !== this.fireEvent("excludeNodeinautotype", u)) {
          h.clearFontSize &&
            u.style.fontSize &&
            (f.removeStyle(u, "font-size"), c(u));
          h.clearFontFamily &&
            u.style.fontFamily &&
            (f.removeStyle(u, "font-family"), c(u));
          if (d(u)) {
            if (h.mergeEmptyline)
              for (var C = u.nextSibling, E, G = f.isBr(u); d(C); ) {
                E = C;
                C = E.nextSibling;
                if (G && (!C || (C && !f.isBr(C)))) break;
                f.remove(E);
              }
            if (
              h.removeEmptyline &&
              f.inDoc(u, e) &&
              !l[u.parentNode.tagName.toLowerCase()]
            ) {
              if (f.isBr(u) && (C = u.nextSibling) && !f.isBr(C)) continue;
              f.remove(u);
              continue;
            }
          }
          d(u, !0) &&
            "SPAN" != u.tagName &&
            (h.indent && (u.style.textIndent = h.indentValue),
            h.textAlign && (u.style.textAlign = h.textAlign));
          if (h.removeClass && u.className && !g[u.className.toLowerCase()]) {
            if (m && m.contains(u)) continue;
            f.removeAttributes(u, ["class"]);
          }
          if (
            h.imageBlockLine &&
            "img" == u.tagName.toLowerCase() &&
            !u.getAttribute("emotion")
          )
            if (b)
              switch (((G = u), h.imageBlockLine)) {
                case "left":
                case "right":
                case "none":
                  for (
                    var C = G.parentNode, r;
                    v.$inline[C.tagName] || "A" == C.tagName;

                  )
                    C = C.parentNode;
                  E = C;
                  if (
                    "P" == E.tagName &&
                    "center" == f.getStyle(E, "text-align") &&
                    !f.isBody(E) &&
                    1 ==
                      f.getChildCount(E, function (a) {
                        return !f.isBr(a) && !f.isWhitespace(a);
                      })
                  )
                    if (
                      ((r = E.previousSibling),
                      (C = E.nextSibling),
                      r &&
                        C &&
                        1 == r.nodeType &&
                        1 == C.nodeType &&
                        r.tagName == C.tagName &&
                        f.isBlockElm(r))
                    ) {
                      for (r.appendChild(E.firstChild); C.firstChild; )
                        r.appendChild(C.firstChild);
                      f.remove(E);
                      f.remove(C);
                    } else f.setStyle(E, "text-align", "");
                  f.setStyle(G, "float", h.imageBlockLine);
                  break;
                case "center":
                  if ("center" != this.queryCommandValue("imagefloat")) {
                    C = G.parentNode;
                    f.setStyle(G, "float", "none");
                    for (
                      E = G;
                      C &&
                      1 ==
                        f.getChildCount(C, function (a) {
                          return !f.isBr(a) && !f.isWhitespace(a);
                        }) &&
                      (v.$inline[C.tagName] || "A" == C.tagName);

                    )
                      (E = C), (C = C.parentNode);
                    C = this.document.createElement("p");
                    f.setAttributes(C, { style: "text-align:center" });
                    E.parentNode.insertBefore(C, E);
                    C.appendChild(E);
                    f.setStyle(E, "float", "");
                  }
              }
            else
              this.selection.getRange().selectNode(u).select(),
                this.execCommand("imagefloat", h.imageBlockLine);
          h.removeEmptyNode &&
            h.removeTagNames[u.tagName.toLowerCase()] &&
            f.hasNoAttributes(u) &&
            f.isEmptyBlock(u) &&
            f.remove(u);
        }
      h.tobdc &&
        ((k = UE.htmlparser(e.innerHTML)),
        k.traversal(function (a) {
          if ("text" == a.type) {
            for (
              var b = a.data, b = p.html(b), e = "", c = 0;
              c < b.length;
              c++
            )
              e =
                32 == b.charCodeAt(c)
                  ? e + String.fromCharCode(12288)
                  : 127 > b.charCodeAt(c)
                  ? e + String.fromCharCode(b.charCodeAt(c) + 65248)
                  : e + b.charAt(c);
            a.data = e;
          }
        }),
        (e.innerHTML = k.toHtml()));
      h.bdc2sb &&
        ((k = UE.htmlparser(e.innerHTML)),
        k.traversal(function (a) {
          if ("text" == a.type) {
            for (var b = a.data, e = "", c = 0; c < b.length; c++)
              var g = b.charCodeAt(c),
                e =
                  65281 <= g && 65373 >= g
                    ? e + String.fromCharCode(b.charCodeAt(c) - 65248)
                    : 12288 == g
                    ? e + String.fromCharCode(b.charCodeAt(c) - 12288 + 32)
                    : e + b.charAt(c);
            a.data = e;
          }
        }),
        (e.innerHTML = k.toHtml()));
      b && (b.html = e.innerHTML);
    }
    function a() {
      var a = e.getPreferences("autotypeset");
      p.extend(e.options.autotypeset, a);
    }
    this.setOpt({
      autotypeset: {
        mergeEmptyline: !0,
        removeClass: !0,
        removeEmptyline: !1,
        textAlign: "left",
        imageBlockLine: "center",
        pasteFilter: !1,
        clearFontSize: !1,
        clearFontFamily: !1,
        removeEmptyNode: !1,
        removeTagNames: p.extend({ div: 1 }, v.$removeEmpty),
        indent: !1,
        indentValue: "2em",
        bdc2sb: !1,
        tobdc: !1,
      },
    });
    var e = this,
      h = e.options.autotypeset,
      g = { selectTdClass: 1, pagebreak: 1, anchorclass: 1 },
      l = { li: 1 },
      k = {
        div: 1,
        p: 1,
        blockquote: 1,
        center: 1,
        h1: 1,
        h2: 1,
        h3: 1,
        h4: 1,
        h5: 1,
        h6: 1,
        span: 1,
      },
      m;
    h &&
      (a(),
      h.pasteFilter && e.addListener("beforepaste", b),
      (e.commands.autotypeset = {
        execCommand: function () {
          e.removeListener("beforepaste", b);
          h.pasteFilter && e.addListener("beforepaste", b);
          b.call(e);
        },
      }));
  };
  UE.plugin.register("autosubmit", function () {
    return {
      shortcutkey: { autosubmit: "ctrl+13" },
      commands: {
        autosubmit: {
          execCommand: function () {
            var d = f.findParentByTagName(this.iframe, "form", !1);
            d &&
              !1 !== this.fireEvent("beforesubmit") &&
              (this.sync(), d.submit());
          },
        },
      },
    };
  });
  UE.plugin.register("background", function () {
    function d(a) {
      var b = {};
      a = a.split(";");
      p.each(a, function (a) {
        var e = a.indexOf(":"),
          c = p.trim(a.substr(0, e)).toLowerCase();
        c && (b[c] = p.trim(a.substr(e + 1) || ""));
      });
      return b;
    }
    function c(e) {
      if (e) {
        var c = [],
          g;
        for (g in e) e.hasOwnProperty(g) && c.push(g + ":" + e[g] + "; ");
        p.cssRule(a, c.length ? "body{" + c.join("") + "}" : "", b.document);
      } else p.cssRule(a, "", b.document);
    }
    var b = this,
      a = "editor_background",
      e,
      h = /body[\s]*\{(.+)\}/i,
      g = b.hasContents;
    b.hasContents = function () {
      return b.queryCommandValue("background") ? !0 : g.apply(b, arguments);
    };
    return {
      bindEvents: {
        getAllHtml: function (a, e) {
          var c = this.body,
            g = f.getComputedStyle(c, "background-image"),
            h = "",
            h =
              0 < g.indexOf(b.options.imagePath)
                ? g
                    .substring(g.indexOf(b.options.imagePath), g.length - 1)
                    .replace(/"|\(|\)/gi, "")
                : "none" != g
                ? g.replace(/url\("?|"?\)/gi, "")
                : "",
            g = '<style type="text/css">body{',
            c = {
              "background-color":
                f.getComputedStyle(c, "background-color") || "#ffffff",
              "background-image": h ? "url(" + h + ")" : "",
              "background-repeat":
                f.getComputedStyle(c, "background-repeat") || "",
              "background-position": r.ie
                ? f.getComputedStyle(c, "background-position-x") +
                  " " +
                  f.getComputedStyle(c, "background-position-y")
                : f.getComputedStyle(c, "background-position"),
              height: f.getComputedStyle(c, "height"),
            },
            d;
          for (d in c) c.hasOwnProperty(d) && (g += d + ":" + c[d] + "; ");
          e.push(g + "}</style> ");
        },
        aftersetcontent: function () {
          !1 == e && c();
        },
      },
      inputRule: function (a) {
        e = !1;
        p.each(a.getNodesByTagName("p"), function (a) {
          var b = a.getAttr("data-background");
          b && ((e = !0), c(d(b)), a.parentNode.removeChild(a));
        });
      },
      outputRule: function (b) {
        var e = (p.cssRule(a, this.document) || "")
          .replace(/[\n\r]+/g, "")
          .match(h);
        e &&
          b.appendChild(
            UE.uNode.createElement(
              '<p style="display:none;" data-background="' +
                p.trim(e[1].replace(/"/g, "").replace(/[\s]+/g, " ")) +
                '"><br/></p>'
            )
          );
      },
      commands: {
        background: {
          execCommand: function (a, b) {
            c(b);
          },
          queryCommandValue: function () {
            var b = (p.cssRule(a, this.document) || "")
              .replace(/[\n\r]+/g, "")
              .match(h);
            return b ? d(b[1]) : null;
          },
          notNeedUndo: !0,
        },
      },
    };
  });
  UE.commands.imagefloat = {
    execCommand: function (d, c) {
      var b = this.selection.getRange();
      if (!b.collapsed) {
        var a = b.getClosedNode();
        if (a && "IMG" == a.tagName)
          switch (c) {
            case "left":
            case "right":
            case "none":
              for (
                var e = a.parentNode, h, g;
                v.$inline[e.tagName] || "A" == e.tagName;

              )
                e = e.parentNode;
              h = e;
              if ("P" == h.tagName && "center" == f.getStyle(h, "text-align")) {
                if (
                  !f.isBody(h) &&
                  1 ==
                    f.getChildCount(h, function (a) {
                      return !f.isBr(a) && !f.isWhitespace(a);
                    })
                )
                  if (
                    ((e = h.previousSibling),
                    (g = h.nextSibling),
                    e &&
                      g &&
                      1 == e.nodeType &&
                      1 == g.nodeType &&
                      e.tagName == g.tagName &&
                      f.isBlockElm(e))
                  ) {
                    for (e.appendChild(h.firstChild); g.firstChild; )
                      e.appendChild(g.firstChild);
                    f.remove(h);
                    f.remove(g);
                  } else f.setStyle(h, "text-align", "");
                b.selectNode(a).select();
              }
              f.setStyle(a, "float", "none" == c ? "" : c);
              "none" == c && f.removeAttributes(a, "align");
              break;
            case "center":
              if ("center" != this.queryCommandValue("imagefloat")) {
                e = a.parentNode;
                f.setStyle(a, "float", "");
                f.removeAttributes(a, "align");
                for (
                  h = a;
                  e &&
                  1 ==
                    f.getChildCount(e, function (a) {
                      return !f.isBr(a) && !f.isWhitespace(a);
                    }) &&
                  (v.$inline[e.tagName] || "A" == e.tagName);

                )
                  (h = e), (e = e.parentNode);
                b.setStartBefore(h).setCursor(!1);
                e = this.document.createElement("div");
                e.appendChild(h);
                f.setStyle(h, "float", "");
                this.execCommand(
                  "insertHtml",
                  '<p id="_img_parent_tmp" style="text-align:center">' +
                    e.innerHTML +
                    "</p>"
                );
                h = this.document.getElementById("_img_parent_tmp");
                h.removeAttribute("id");
                h = h.firstChild;
                b.selectNode(h).select();
                (g = h.parentNode.nextSibling) &&
                  f.isEmptyNode(g) &&
                  f.remove(g);
              }
          }
      }
    },
    queryCommandValue: function () {
      var d = this.selection.getRange(),
        c;
      return d.collapsed
        ? "none"
        : (d = d.getClosedNode()) && 1 == d.nodeType && "IMG" == d.tagName
        ? ((c = f.getComputedStyle(d, "float") || d.getAttribute("align")),
          "none" == c &&
            (c =
              "center" == f.getComputedStyle(d.parentNode, "text-align")
                ? "center"
                : c),
          { left: 1, right: 1, center: 1 }[c] ? c : "none")
        : "none";
    },
    queryCommandState: function () {
      var d = this.selection.getRange();
      return d.collapsed
        ? -1
        : (d = d.getClosedNode()) && 1 == d.nodeType && "IMG" == d.tagName
        ? 0
        : -1;
    },
  };
  UE.commands.insertimage = {
    execCommand: function (d, c) {
      c = p.isArray(c) ? c : [c];
      if (c.length) {
        var b = this.selection.getRange(),
          a = b.getClosedNode();
        if (!0 !== this.fireEvent("beforeinsertimage", c)) {
          if (
            !a ||
            !/img/i.test(a.tagName) ||
            ("edui-faked-video" == a.className &&
              -1 == a.className.indexOf("edui-upload-video")) ||
            a.getAttribute("word_img")
          ) {
            var b = [],
              a = "",
              e;
            e = c[0];
            if (1 == c.length)
              (a =
                '<img src="' +
                e.src +
                '" ' +
                (e._src ? ' _src="' + e._src + '" ' : "") +
                (e.width ? 'width="' + e.width + '" ' : "") +
                (e.height ? ' height="' + e.height + '" ' : "") +
                ("left" == e.floatStyle || "right" == e.floatStyle
                  ? ' style="float:' + e.floatStyle + ';"'
                  : "") +
                (e.title && "" != e.title ? ' title="' + e.title + '"' : "") +
                (e.border && "0" != e.border
                  ? ' border="' + e.border + '"'
                  : "") +
                (e.alt && "" != e.alt ? ' alt="' + e.alt + '"' : "") +
                (e.hspace && "0" != e.hspace
                  ? ' hspace = "' + e.hspace + '"'
                  : "") +
                (e.vspace && "0" != e.vspace
                  ? ' vspace = "' + e.vspace + '"'
                  : "") +
                "/>"),
                "center" == e.floatStyle &&
                  (a = '<p style="text-align: center">' + a + "</p>"),
                b.push(a);
            else
              for (var h = 0; (e = c[h++]); )
                (a =
                  "<p " +
                  ("center" == e.floatStyle
                    ? 'style="text-align: center" '
                    : "") +
                  '><img src="' +
                  e.src +
                  '" ' +
                  (e.width ? 'width="' + e.width + '" ' : "") +
                  (e._src ? ' _src="' + e._src + '" ' : "") +
                  (e.height ? ' height="' + e.height + '" ' : "") +
                  ' style="' +
                  (e.floatStyle && "center" != e.floatStyle
                    ? "float:" + e.floatStyle + ";"
                    : "") +
                  (e.border || "") +
                  '" ' +
                  (e.title ? ' title="' + e.title + '"' : "") +
                  " /></p>"),
                  b.push(a);
            this.execCommand("insertHtml", b.join(""));
          } else
            (e = c.shift()),
              (h = e.floatStyle),
              delete e.floatStyle,
              f.setAttributes(a, e),
              this.execCommand("imagefloat", h),
              0 < c.length &&
                (b.setStartAfter(a).setCursor(!1, !0),
                this.execCommand("insertimage", c));
          this.fireEvent("afterinsertimage", c);
        }
      }
    },
  };
  UE.plugins.justify = function () {
    var d = f.isBlockElm,
      c = { left: 1, right: 1, center: 1, justify: 1 },
      b = function (a, b) {
        var c = a.createBookmark(),
          g = function (a) {
            return 1 == a.nodeType
              ? "br" != a.tagName.toLowerCase() && !f.isBookmarkNode(a)
              : !f.isWhitespace(a);
          };
        a.enlarge(!0);
        for (
          var l = a.createBookmark(),
            k = f.getNextDomNode(l.start, !1, g),
            m = a.cloneRange(),
            n;
          k && !(f.getPosition(k, l.end) & f.POSITION_FOLLOWING);

        )
          if (3 != k.nodeType && d(k)) k = f.getNextDomNode(k, !0, g);
          else {
            for (m.setStartBefore(k); k && k !== l.end && !d(k); )
              (n = k),
                (k = f.getNextDomNode(k, !1, null, function (a) {
                  return !d(a);
                }));
            m.setEndAfter(n);
            k = m.getCommonAncestor();
            if (!f.isBody(k) && d(k))
              f.setStyles(k, p.isString(b) ? { "text-align": b } : b);
            else {
              k = a.document.createElement("p");
              f.setStyles(k, p.isString(b) ? { "text-align": b } : b);
              var q = m.extractContents();
              k.appendChild(q);
              m.insertNode(k);
            }
            k = f.getNextDomNode(k, !1, g);
          }
        return a.moveToBookmark(l).moveToBookmark(c);
      };
    UE.commands.justify = {
      execCommand: function (a, e) {
        var c = this.selection.getRange(),
          g;
        c.collapsed &&
          ((g = this.document.createTextNode("p")), c.insertNode(g));
        b(c, e);
        g && (c.setStartBefore(g).collapse(!0), f.remove(g));
        c.select();
        return !0;
      },
      queryCommandValue: function () {
        var a = this.selection.getStart(),
          a = f.getComputedStyle(a, "text-align");
        return c[a] ? a : "left";
      },
      queryCommandState: function () {
        var a = this.selection.getStart();
        return a && f.findParentByTagName(a, ["td", "th", "caption"], !0)
          ? -1
          : 0;
      },
    };
  };
  UE.plugins.font = function () {
    function d(a) {
      for (var b; (b = a.parentNode); )
        if (
          "SPAN" == b.tagName &&
          1 ==
            f.getChildCount(b, function (a) {
              return !f.isBookmarkNode(a) && !f.isBr(a);
            })
        )
          (b.style.cssText += a.style.cssText), f.remove(a, !0), (a = b);
        else break;
    }
    function c(a, b, c) {
      if (
        h[b] &&
        (a.adjustmentBoundary(), !a.collapsed && 1 == a.startContainer.nodeType)
      ) {
        var e = a.startContainer.childNodes[a.startOffset];
        if (e && f.isTagNode(e, "span")) {
          var g = a.createBookmark();
          p.each(f.getElementsByTagName(e, "span"), function (a) {
            !a.parentNode ||
              f.isBookmarkNode(a) ||
              ("backcolor" == b &&
                f.getComputedStyle(a, "background-color").toLowerCase() ===
                  c) ||
              (f.removeStyle(a, h[b]),
              0 == a.style.cssText.replace(/^\s+$/, "").length &&
                f.remove(a, !0));
          });
          a.moveToBookmark(g);
        }
      }
    }
    function b(a, b, e) {
      var g = a.collapsed,
        h = a.createBookmark();
      if (g)
        for (g = h.start.parentNode; v.$inline[g.tagName]; ) g = g.parentNode;
      else g = f.getCommonAncestor(h.start, h.end);
      p.each(f.getElementsByTagName(g, "span"), function (a) {
        if (a.parentNode && !f.isBookmarkNode(a))
          if (/\s*border\s*:\s*none;?\s*/i.test(a.style.cssText))
            /^\s*border\s*:\s*none;?\s*$/.test(a.style.cssText)
              ? f.remove(a, !0)
              : f.removeStyle(a, "border");
          else {
            /border/i.test(a.style.cssText) &&
              "SPAN" == a.parentNode.tagName &&
              /border/i.test(a.parentNode.style.cssText) &&
              (a.style.cssText = a.style.cssText.replace(
                /border[^:]*:[^;]+;?/gi,
                ""
              ));
            if ("fontborder" != b || "none" != e)
              for (
                var c = a.nextSibling;
                c && 1 == c.nodeType && "SPAN" == c.tagName;

              ) {
                if (f.isBookmarkNode(c) && "fontborder" == b) a.appendChild(c);
                else if (
                  (c.style.cssText == a.style.cssText &&
                    (f.moveChild(c, a), f.remove(c)),
                  a.nextSibling === c)
                )
                  break;
                c = a.nextSibling;
              }
            d(a);
            r.ie &&
              8 < r.version &&
              (c = f.findParent(a, function (a) {
                return (
                  "SPAN" == a.tagName &&
                  /background-color/.test(a.style.cssText)
                );
              })) &&
              !/background-color/.test(a.style.cssText) &&
              (a.style.backgroundColor = c.style.backgroundColor);
          }
      });
      a.moveToBookmark(h);
      c(a, b, e);
    }
    var a = {
        forecolor: "color",
        backcolor: "background-color",
        fontsize: "font-size",
        fontfamily: "font-family",
        underline: "text-decoration",
        strikethrough: "text-decoration",
        fontborder: "border",
      },
      e = { underline: 1, strikethrough: 1, fontborder: 1 },
      h = {
        forecolor: "color",
        backcolor: "background-color",
        fontsize: "font-size",
        fontfamily: "font-family",
      };
    this.setOpt({
      fontfamily: [
        { name: "songti", val: "\u5b8b\u4f53,SimSun" },
        { name: "yahei", val: "\u5fae\u8f6f\u96c5\u9ed1,Microsoft YaHei" },
        { name: "kaiti", val: "\u6977\u4f53,\u6977\u4f53_GB2312, SimKai" },
        { name: "heiti", val: "\u9ed1\u4f53, SimHei" },
        { name: "lishu", val: "\u96b6\u4e66, SimLi" },
        { name: "andaleMono", val: "andale mono" },
        { name: "arial", val: "arial, helvetica,sans-serif" },
        { name: "arialBlack", val: "arial black,avant garde" },
        { name: "comicSansMs", val: "comic sans ms" },
        { name: "impact", val: "impact,chicago" },
        { name: "timesNewRoman", val: "times new roman" },
      ],
      fontsize: [10, 11, 12, 14, 16, 18, 20, 24, 36],
    });
    this.addInputRule(function (a) {
      p.each(a.getNodesByTagName("u s del font strike"), function (a) {
        if ("font" == a.tagName) {
          var b = [],
            c;
          for (c in a.attrs)
            switch (c) {
              case "size":
                b.push(
                  "font-size:" +
                    ({
                      1: "10",
                      2: "12",
                      3: "16",
                      4: "18",
                      5: "24",
                      6: "32",
                      7: "48",
                    }[a.attrs[c]] || a.attrs[c]) +
                    "px"
                );
                break;
              case "color":
                b.push("color:" + a.attrs[c]);
                break;
              case "face":
                b.push("font-family:" + a.attrs[c]);
                break;
              case "style":
                b.push(a.attrs[c]);
            }
          a.attrs = { style: b.join(";") };
        } else (b = "u" == a.tagName ? "underline" : "line-through"), (a.attrs = { style: (a.getAttr("style") || "") + "text-decoration:" + b + ";" });
        a.tagName = "span";
      });
    });
    for (var g in a)
      (function (a, c) {
        UE.commands[a] = {
          execCommand: function (g, h) {
            h =
              h ||
              (this.queryCommandState(g)
                ? "none"
                : "underline" == g
                ? "underline"
                : "fontborder" == g
                ? "1px solid #000"
                : "line-through");
            var d = this.selection.getRange(),
              t;
            if ("default" == h)
              d.collapsed &&
                ((t = this.document.createTextNode("font")),
                d.insertNode(t).select()),
                this.execCommand("removeFormat", "span,a", c),
                t && (d.setStartBefore(t).collapse(!0), f.remove(t)),
                b(d, g, h),
                d.select();
            else if (d.collapsed) {
              var w = f.findParentByTagName(d.startContainer, "span", !0);
              t = this.document.createTextNode("font");
              if (
                !w ||
                w.children.length ||
                w[r.ie ? "innerText" : "textContent"].replace(P, "").length
              ) {
                d.insertNode(t);
                d.selectNode(t).select();
                w = d.document.createElement("span");
                if (e[a]) {
                  if (f.findParentByTagName(t, "a", !0)) {
                    d.setStartBefore(t).setCursor();
                    f.remove(t);
                    return;
                  }
                  this.execCommand("removeFormat", "span,a", c);
                }
                w.style.cssText = c + ":" + h;
                t.parentNode.insertBefore(w, t);
                if (!r.ie || (r.ie && 9 == r.version))
                  for (var y = w.parentNode; !f.isBlockElm(y); )
                    "SPAN" == y.tagName &&
                      (w.style.cssText =
                        y.style.cssText + ";" + w.style.cssText),
                      (y = y.parentNode);
                ma
                  ? setTimeout(function () {
                      d.setStart(w, 0).collapse(!0);
                      b(d, g, h);
                      d.select();
                    })
                  : (d.setStart(w, 0).collapse(!0), b(d, g, h), d.select());
              } else
                d.insertNode(t),
                  e[a] &&
                    (d.selectNode(t).select(),
                    this.execCommand("removeFormat", "span,a", c, null),
                    (w = f.findParentByTagName(t, "span", !0)),
                    d.setStartBefore(t)),
                  w && (w.style.cssText += ";" + c + ":" + h),
                  d.collapse(!0).select();
              f.remove(t);
            } else
              e[a] &&
                this.queryCommandValue(a) &&
                this.execCommand("removeFormat", "span,a", c),
                (d = this.selection.getRange()),
                d.applyInlineStyle("span", { style: c + ":" + h }),
                b(d, g, h),
                d.select();
            return !0;
          },
          queryCommandValue: function (a) {
            var b = this.selection.getStart();
            if ("underline" == a || "strikethrough" == a) {
              for (var e = b; e && !f.isBlockElm(e) && !f.isBody(e); ) {
                if (
                  1 == e.nodeType &&
                  ((a = f.getComputedStyle(e, c)), "none" != a)
                )
                  return a;
                e = e.parentNode;
              }
              return "none";
            }
            if ("fontborder" == a) {
              for (a = b; a && v.$inline[a.tagName]; ) {
                if (
                  (e = f.getComputedStyle(a, "border")) &&
                  /1px/.test(e) &&
                  /solid/.test(e)
                )
                  return e;
                a = a.parentNode;
              }
              return "";
            }
            return "FontSize" == a
              ? ((e = f.getComputedStyle(b, c)),
                (a = /^([\d\.]+)(\w+)$/.exec(e)) ? Math.floor(a[1]) + a[2] : e)
              : f.getComputedStyle(b, c);
          },
          queryCommandState: function (a) {
            if (!e[a]) return 0;
            var b = this.queryCommandValue(a);
            return "fontborder" == a
              ? /1px/.test(b) && /solid/.test(b)
              : "underline" == a
              ? /underline/.test(b)
              : /line\-through/.test(b);
          },
        };
      })(g, a[g]);
  };
  UE.plugins.link = function () {
    function d(c) {
      var b = c.startContainer,
        a = c.endContainer;
      (b = f.findParentByTagName(b, "a", !0)) && c.setStartBefore(b);
      (a = f.findParentByTagName(a, "a", !0)) && c.setEndAfter(a);
    }
    UE.commands.unlink = {
      execCommand: function () {
        var c = this.selection.getRange(),
          b;
        if (!c.collapsed || f.findParentByTagName(c.startContainer, "a", !0))
          (b = c.createBookmark()),
            d(c),
            c.removeInlineStyle("a").moveToBookmark(b).select();
      },
      queryCommandState: function () {
        return !this.highlight && this.queryCommandValue("link") ? 0 : -1;
      },
    };
    UE.commands.link = {
      execCommand: function (c, b) {
        var a;
        b._href && (b._href = p.unhtml(b._href, /[<">]/g));
        b.href && (b.href = p.unhtml(b.href, /[<">]/g));
        b.textValue && (b.textValue = p.unhtml(b.textValue, /[<">]/g));
        var e = (a = this.selection.getRange()),
          h = e.cloneRange(),
          g = this.queryCommandValue("link");
        d((e = e.adjustmentBoundary()));
        var l = e.startContainer;
        1 == l.nodeType &&
          g &&
          (l = l.childNodes[e.startOffset]) &&
          1 == l.nodeType &&
          "A" == l.tagName &&
          /^(?:https?|ftp|file)\s*:\s*\/\//.test(
            l[r.ie ? "innerText" : "textContent"]
          ) &&
          (l[r.ie ? "innerText" : "textContent"] = p.html(
            b.textValue || b.href
          ));
        if (!h.collapsed || g) e.removeInlineStyle("a"), (h = e.cloneRange());
        if (h.collapsed) {
          var g = e.document.createElement("a"),
            k = "";
          b.textValue
            ? ((k = p.html(b.textValue)), delete b.textValue)
            : (k = p.html(b.href));
          f.setAttributes(g, b);
          (l = f.findParentByTagName(h.startContainer, "a", !0)) &&
            f.isInNodeEndBoundary(h, l) &&
            e.setStartAfter(l).collapse(!0);
          g[r.ie ? "innerText" : "textContent"] = k;
          e.insertNode(g).selectNode(g);
        } else e.applyInlineStyle("a", b);
        a.collapse().select(!0);
      },
      queryCommandValue: function () {
        var c = this.selection.getRange(),
          b;
        if (c.collapsed) {
          if (
            ((b = c.startContainer),
            (b = 1 == b.nodeType ? b : b.parentNode) &&
              (b = f.findParentByTagName(b, "a", !0)) &&
              !f.isInNodeEndBoundary(c, b))
          )
            return b;
        } else {
          c.shrinkBoundary();
          var a =
              3 != c.startContainer.nodeType &&
              c.startContainer.childNodes[c.startOffset]
                ? c.startContainer.childNodes[c.startOffset]
                : c.startContainer,
            e =
              3 == c.endContainer.nodeType || 0 == c.endOffset
                ? c.endContainer
                : c.endContainer.childNodes[c.endOffset - 1],
            c = c.getCommonAncestor();
          b = f.findParentByTagName(c, "a", !0);
          if (!b && 1 == c.nodeType)
            for (
              var c = c.getElementsByTagName("a"), h, g, d = 0, k;
              (k = c[d++]);

            )
              if (
                ((h = f.getPosition(k, a)),
                (g = f.getPosition(k, e)),
                (h & f.POSITION_FOLLOWING || h & f.POSITION_CONTAINS) &&
                  (g & f.POSITION_PRECEDING || g & f.POSITION_CONTAINS))
              ) {
                b = k;
                break;
              }
          return b;
        }
      },
      queryCommandState: function () {
        var c = this.selection.getRange().getClosedNode();
        return !c ||
          ("edui-faked-video" != c.className &&
            -1 == c.className.indexOf("edui-upload-video"))
          ? 0
          : -1;
      },
    };
  };
  UE.plugins.insertframe = function () {
    var d = this;
    d.addListener("selectionchange", function () {
      d._iframe && delete d._iframe;
    });
  };
  UE.commands.scrawl = {
    queryCommandState: function () {
      return r.ie && 8 >= r.version ? -1 : 0;
    },
  };
  UE.plugins.removeformat = function () {
    this.setOpt({
      removeFormatTags:
        "b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",
      removeFormatAttributes:
        "class,style,lang,width,height,align,hspace,valign",
    });
    this.commands.removeformat = {
      execCommand: function (d, c, b, a, e) {
        function h(a) {
          if (3 == a.nodeType || "span" != a.tagName.toLowerCase()) return 0;
          if (r.ie) {
            var b = a.attributes;
            if (b.length) {
              a = 0;
              for (var c = b.length; a < c; a++) if (b[a].specified) return 0;
              return 1;
            }
          }
          return !a.attributes.length;
        }
        var g = RegExp(
            "^(?:" +
              (c || this.options.removeFormatTags).replace(/,/g, "|") +
              ")$",
            "i"
          ),
          l = b ? [] : (a || this.options.removeFormatAttributes).split(",");
        d = new L.Range(this.document);
        var k,
          m,
          n = function (a) {
            return 1 == a.nodeType;
          };
        d = this.selection.getRange();
        (function (a) {
          var c = a.createBookmark();
          a.collapsed && a.enlarge(!0);
          if (!e) {
            var d = f.findParentByTagName(a.startContainer, "a", !0);
            d && a.setStartBefore(d);
            (d = f.findParentByTagName(a.endContainer, "a", !0)) &&
              a.setEndAfter(d);
          }
          k = a.createBookmark();
          for (d = k.start; (m = d.parentNode) && !f.isBlockElm(m); )
            f.breakParent(d, m), f.clearEmptySibling(d);
          if (k.end) {
            for (d = k.end; (m = d.parentNode) && !f.isBlockElm(m); )
              f.breakParent(d, m), f.clearEmptySibling(d);
            for (var d = f.getNextDomNode(k.start, !1, n), y; d && d != k.end; )
              (y = f.getNextDomNode(d, !0, n)),
                v.$empty[d.tagName.toLowerCase()] ||
                  f.isBookmarkNode(d) ||
                  (g.test(d.tagName)
                    ? b
                      ? (f.removeStyle(d, b),
                        h(d) && "text-decoration" != b && f.remove(d, !0))
                      : f.remove(d, !0)
                    : v.$tableContent[d.tagName] ||
                      v.$list[d.tagName] ||
                      (f.removeAttributes(d, l), h(d) && f.remove(d, !0))),
                (d = y);
          }
          d = k.start.parentNode;
          !f.isBlockElm(d) ||
            v.$tableContent[d.tagName] ||
            v.$list[d.tagName] ||
            f.removeAttributes(d, l);
          d = k.end.parentNode;
          k.end &&
            f.isBlockElm(d) &&
            !v.$tableContent[d.tagName] &&
            !v.$list[d.tagName] &&
            f.removeAttributes(d, l);
          a.moveToBookmark(k).moveToBookmark(c);
          d = a.startContainer;
          for (
            y = a.collapsed;
            1 == d.nodeType && f.isEmptyNode(d) && v.$removeEmpty[d.tagName];

          )
            (c = d.parentNode),
              a.setStartBefore(d),
              a.startContainer === a.endContainer && a.endOffset--,
              f.remove(d),
              (d = c);
          if (!y)
            for (
              d = a.endContainer;
              1 == d.nodeType && f.isEmptyNode(d) && v.$removeEmpty[d.tagName];

            )
              (c = d.parentNode), a.setEndBefore(d), f.remove(d), (d = c);
        })(d);
        d.select();
      },
    };
  };
  UE.plugins.blockquote = function () {
    this.commands.blockquote = {
      execCommand: function (d, c) {
        var b = this.selection.getRange(),
          a = f.filterNodeList(
            this.selection.getStartElementPath(),
            "blockquote"
          ),
          e = v.blockquote,
          h = b.createBookmark();
        if (a) {
          var e = b.startContainer,
            e = f.isBlockElm(e)
              ? e
              : f.findParent(e, function (a) {
                  return f.isBlockElm(a);
                }),
            g = b.endContainer,
            g = f.isBlockElm(g)
              ? g
              : f.findParent(g, function (a) {
                  return f.isBlockElm(a);
                }),
            e = f.findParentByTagName(e, "li", !0) || e,
            g = f.findParentByTagName(g, "li", !0) || g;
          "LI" == e.tagName || "TD" == e.tagName || e === a || f.isBody(e)
            ? f.remove(a, !0)
            : f.breakParent(e, a);
          e !== g &&
            (a = f.findParentByTagName(g, "blockquote")) &&
            ("LI" == g.tagName || "TD" == g.tagName || f.isBody(g)
              ? a.parentNode && f.remove(a, !0)
              : f.breakParent(g, a));
          for (
            var l = f.getElementsByTagName(this.document, "blockquote"),
              a = 0,
              k;
            (k = l[a++]);

          )
            k.childNodes.length
              ? f.getPosition(k, e) & f.POSITION_FOLLOWING &&
                f.getPosition(k, g) & f.POSITION_PRECEDING &&
                f.remove(k, !0)
              : f.remove(k);
        } else {
          a = b.cloneRange();
          l = g =
            1 == a.startContainer.nodeType
              ? a.startContainer
              : a.startContainer.parentNode;
          for (k = 1; ; ) {
            if (f.isBody(g)) {
              l !== g
                ? b.collapsed
                  ? (a.selectNode(l), (k = 0))
                  : a.setStartBefore(l)
                : a.setStart(g, 0);
              break;
            }
            if (!e[g.tagName]) {
              b.collapsed ? a.selectNode(l) : a.setStartBefore(l);
              break;
            }
            l = g;
            g = g.parentNode;
          }
          if (k)
            for (
              l =
                g =
                g =
                  1 == a.endContainer.nodeType
                    ? a.endContainer
                    : a.endContainer.parentNode;
              ;

            ) {
              if (f.isBody(g)) {
                l !== g ? a.setEndAfter(l) : a.setEnd(g, g.childNodes.length);
                break;
              }
              if (!e[g.tagName]) {
                a.setEndAfter(l);
                break;
              }
              l = g;
              g = g.parentNode;
            }
          g = b.document.createElement("blockquote");
          f.setAttributes(g, c);
          g.appendChild(a.extractContents());
          a.insertNode(g);
          e = f.getElementsByTagName(g, "blockquote");
          for (a = 0; (g = e[a++]); ) g.parentNode && f.remove(g, !0);
        }
        b.moveToBookmark(h).select();
      },
      queryCommandState: function () {
        return f.filterNodeList(
          this.selection.getStartElementPath(),
          "blockquote"
        )
          ? 1
          : 0;
      },
    };
  };
  UE.commands.touppercase = UE.commands.tolowercase = {
    execCommand: function (d) {
      var c = this.selection.getRange();
      if (c.collapsed) return c;
      for (
        var b = c.createBookmark(),
          a = b.end,
          e = function (a) {
            return !f.isBr(a) && !f.isWhitespace(a);
          },
          h = f.getNextDomNode(b.start, !1, e);
        h &&
        f.getPosition(h, a) & f.POSITION_PRECEDING &&
        (3 == h.nodeType &&
          (h.nodeValue =
            h.nodeValue["touppercase" == d ? "toUpperCase" : "toLowerCase"]()),
        (h = f.getNextDomNode(h, !0, e)),
        h !== a);

      );
      c.moveToBookmark(b).select();
    },
  };
  UE.commands.indent = {
    execCommand: function () {
      var d = this.queryCommandState("indent")
        ? "0em"
        : this.options.indentValue || "2em";
      this.execCommand("Paragraph", "p", { style: "text-indent:" + d });
    },
    queryCommandState: function () {
      var d = f.filterNodeList(
        this.selection.getStartElementPath(),
        "p h1 h2 h3 h4 h5 h6"
      );
      return d && d.style.textIndent && parseInt(d.style.textIndent) ? 1 : 0;
    },
  };
  UE.commands.print = {
    execCommand: function () {
      this.window.print();
    },
    notNeedUndo: 1,
  };
  UE.commands.preview = {
    execCommand: function () {
      var d = window.open("", "_blank", "").document;
      d.open();
      d.write(
        '<!DOCTYPE html><html><head><meta charset="utf-8"/><script src="' +
          this.options.UEDITOR_HOME_URL +
          "ueditor.parse.js\">\x3c/script><script>setTimeout(function(){uParse('div',{rootPath: '" +
          this.options.UEDITOR_HOME_URL +
          "'})},300)\x3c/script></head><body><div>" +
          this.getContent(null, null, !0) +
          "</div></body></html>"
      );
      d.close();
    },
    notNeedUndo: 1,
  };
  UE.plugins.selectall = function () {
    this.commands.selectall = {
      execCommand: function () {
        var d = this.body,
          c = this.selection.getRange();
        c.selectNodeContents(d);
        f.isEmptyBlock(d) &&
          (r.opera &&
            d.firstChild &&
            1 == d.firstChild.nodeType &&
            c.setStartAtFirst(d.firstChild),
          c.collapse(!0));
        c.select(!0);
      },
      notNeedUndo: 1,
    };
    this.addshortcutkey({ selectAll: "ctrl+65" });
  };
  UE.plugins.paragraph = function () {
    var d = f.isBlockElm,
      c = ["TD", "LI", "PRE"],
      b = function (a, b, h, g) {
        var l = a.createBookmark(),
          k = function (a) {
            return 1 == a.nodeType
              ? "br" != a.tagName.toLowerCase() && !f.isBookmarkNode(a)
              : !f.isWhitespace(a);
          },
          m;
        a.enlarge(!0);
        var n = a.createBookmark();
        m = f.getNextDomNode(n.start, !1, k);
        for (
          var q = a.cloneRange(), t;
          m && !(f.getPosition(m, n.end) & f.POSITION_FOLLOWING);

        )
          if (3 != m.nodeType && d(m)) m = f.getNextDomNode(m, !0, k);
          else {
            for (q.setStartBefore(m); m && m !== n.end && !d(m); )
              (t = m),
                (m = f.getNextDomNode(m, !1, null, function (a) {
                  return !d(a);
                }));
            q.setEndAfter(t);
            m = a.document.createElement(b);
            h &&
              (f.setAttributes(m, h),
              g &&
                "customstyle" == g &&
                h.style &&
                (m.style.cssText = h.style));
            m.appendChild(q.extractContents());
            f.isEmptyNode(m) && f.fillChar(a.document, m);
            q.insertNode(m);
            var w = m.parentNode;
            d(w) &&
              !f.isBody(m.parentNode) &&
              -1 == p.indexOf(c, w.tagName) &&
              ((g && "customstyle" == g) ||
                (w.getAttribute("dir") &&
                  m.setAttribute("dir", w.getAttribute("dir")),
                w.style.cssText &&
                  (m.style.cssText = w.style.cssText + ";" + m.style.cssText),
                w.style.textAlign &&
                  !m.style.textAlign &&
                  (m.style.textAlign = w.style.textAlign),
                w.style.textIndent &&
                  !m.style.textIndent &&
                  (m.style.textIndent = w.style.textIndent),
                w.style.padding &&
                  !m.style.padding &&
                  (m.style.padding = w.style.padding)),
              h && /h\d/i.test(w.tagName) && !/h\d/i.test(m.tagName)
                ? (f.setAttributes(w, h),
                  g &&
                    "customstyle" == g &&
                    h.style &&
                    (w.style.cssText = h.style),
                  f.remove(m, !0),
                  (m = w))
                : f.remove(m.parentNode, !0));
            m = -1 != p.indexOf(c, w.tagName) ? w : m;
            m = f.getNextDomNode(m, !1, k);
          }
        return a.moveToBookmark(n).moveToBookmark(l);
      };
    this.setOpt("paragraph", {
      p: "",
      h1: "",
      h2: "",
      h3: "",
      h4: "",
      h5: "",
      h6: "",
    });
    this.commands.paragraph = {
      execCommand: function (a, c, h, g) {
        a = this.selection.getRange();
        if (a.collapsed) {
          var d = this.document.createTextNode("p");
          a.insertNode(d);
          if (r.ie) {
            var k = d.previousSibling;
            k && f.isWhitespace(k) && f.remove(k);
            (k = d.nextSibling) && f.isWhitespace(k) && f.remove(k);
          }
        }
        a = b(a, c, h, g);
        d &&
          (a.setStartBefore(d).collapse(!0),
          (pN = d.parentNode),
          f.remove(d),
          f.isBlockElm(pN) &&
            f.isEmptyNode(pN) &&
            f.fillNode(this.document, pN));
        r.gecko &&
          a.collapsed &&
          1 == a.startContainer.nodeType &&
          (h = a.startContainer.childNodes[a.startOffset]) &&
          1 == h.nodeType &&
          h.tagName.toLowerCase() == c &&
          a.setStart(h, 0).collapse(!0);
        a.select();
        return !0;
      },
      queryCommandValue: function () {
        var a = f.filterNodeList(
          this.selection.getStartElementPath(),
          "p h1 h2 h3 h4 h5 h6"
        );
        return a ? a.tagName.toLowerCase() : "";
      },
    };
  };
  (function () {
    var d = f.isBlockElm,
      c = function (a) {
        return f.filterNodeList(
          a.selection.getStartElementPath(),
          function (a) {
            return a && 1 == a.nodeType && a.getAttribute("dir");
          }
        );
      },
      b = function (a, b, h) {
        var g = function (a) {
          return 1 == a.nodeType ? !f.isBookmarkNode(a) : !f.isWhitespace(a);
        };
        if ((b = c(b)) && a.collapsed) return b.setAttribute("dir", h), a;
        b = a.createBookmark();
        a.enlarge(!0);
        for (
          var l = a.createBookmark(),
            k = f.getNextDomNode(l.start, !1, g),
            m = a.cloneRange(),
            n;
          k && !(f.getPosition(k, l.end) & f.POSITION_FOLLOWING);

        )
          if (3 != k.nodeType && d(k)) k = f.getNextDomNode(k, !0, g);
          else {
            for (m.setStartBefore(k); k && k !== l.end && !d(k); )
              (n = k),
                (k = f.getNextDomNode(k, !1, null, function (a) {
                  return !d(a);
                }));
            m.setEndAfter(n);
            k = m.getCommonAncestor();
            if (!f.isBody(k) && d(k)) k.setAttribute("dir", h);
            else {
              k = a.document.createElement("p");
              k.setAttribute("dir", h);
              var q = m.extractContents();
              k.appendChild(q);
              m.insertNode(k);
            }
            k = f.getNextDomNode(k, !1, g);
          }
        return a.moveToBookmark(l).moveToBookmark(b);
      };
    UE.commands.directionality = {
      execCommand: function (a, c) {
        var h = this.selection.getRange();
        if (h.collapsed) {
          var g = this.document.createTextNode("d");
          h.insertNode(g);
        }
        b(h, this, c);
        g && (h.setStartBefore(g).collapse(!0), f.remove(g));
        h.select();
        return !0;
      },
      queryCommandValue: function () {
        var a = c(this);
        return a ? a.getAttribute("dir") : "ltr";
      },
    };
  })();
  UE.plugins.horizontal = function () {
    this.commands.horizontal = {
      execCommand: function (d) {
        if (-1 !== this.queryCommandState(d)) {
          this.execCommand("insertHtml", "<hr>");
          d = this.selection.getRange();
          var c = d.startContainer;
          if (1 == c.nodeType && !c.childNodes[d.startOffset]) {
            var b;
            (b = c.childNodes[d.startOffset - 1]) &&
              1 == b.nodeType &&
              "HR" == b.tagName &&
              ("p" == this.options.enterTag
                ? ((b = this.document.createElement("p")),
                  d.insertNode(b),
                  d.setStart(b, 0).setCursor())
                : ((b = this.document.createElement("br")),
                  d.insertNode(b),
                  d.setStartBefore(b).setCursor()));
          }
          return !0;
        }
      },
      queryCommandState: function () {
        return f.filterNodeList(this.selection.getStartElementPath(), "table")
          ? -1
          : 0;
      },
    };
    this.addListener("delkeydown", function (d, c) {
      var b = this.selection.getRange();
      b.txtToElmBoundary(!0);
      if (f.isStartInblock(b)) {
        var a = b.startContainer.previousSibling;
        if (a && f.isTagNode(a, "hr"))
          return f.remove(a), b.select(), f.preventDefault(c), !0;
      }
    });
  };
  UE.commands.time = UE.commands.date = {
    execCommand: function (d, c) {
      function b(a, b) {
        var c = ("0" + a.getHours()).slice(-2),
          e = ("0" + a.getMinutes()).slice(-2),
          d = ("0" + a.getSeconds()).slice(-2);
        return (b || "hh:ii:ss")
          .replace(/hh/gi, c)
          .replace(/ii/gi, e)
          .replace(/ss/gi, d);
      }
      function a(a, b) {
        var c = ("000" + a.getFullYear()).slice(-4),
          e = c.slice(-2),
          d = ("0" + (a.getMonth() + 1)).slice(-2),
          f = ("0" + a.getDate()).slice(-2);
        return (b || "yyyy-mm-dd")
          .replace(/yyyy/gi, c)
          .replace(/yy/gi, e)
          .replace(/mm/gi, d)
          .replace(/dd/gi, f);
      }
      var e = new Date();
      this.execCommand("insertHtml", "time" == d ? b(e, c) : a(e, c));
    },
  };
  UE.plugins.rowspacing = function () {
    this.setOpt({
      rowspacingtop: ["5", "10", "15", "20", "25"],
      rowspacingbottom: ["5", "10", "15", "20", "25"],
    });
    this.commands.rowspacing = {
      execCommand: function (d, c, b) {
        this.execCommand("paragraph", "p", {
          style: "margin-" + b + ":" + c + "px",
        });
        return !0;
      },
      queryCommandValue: function (d, c) {
        var b = f.filterNodeList(
          this.selection.getStartElementPath(),
          function (a) {
            return f.isBlockElm(a);
          }
        );
        return b
          ? (b = f.getComputedStyle(b, "margin-" + c).replace(/[^\d]/g, ""))
            ? b
            : 0
          : 0;
      },
    };
  };
  UE.plugins.lineheight = function () {
    this.setOpt({ lineheight: "1 1.5 1.75 2 3 4 5".split(" ") });
    this.commands.lineheight = {
      execCommand: function (d, c) {
        this.execCommand("paragraph", "p", {
          style: "line-height:" + ("1" == c ? "normal" : c + "em"),
        });
        return !0;
      },
      queryCommandValue: function () {
        var d = f.filterNodeList(
          this.selection.getStartElementPath(),
          function (c) {
            return f.isBlockElm(c);
          }
        );
        if (d)
          return (
            (d = f.getComputedStyle(d, "line-height")),
            "normal" == d ? 1 : d.replace(/[^\d.]*/gi, "")
          );
      },
    };
  };
  UE.plugins.insertcode = function () {
    var d = this;
    d.ready(function () {
      p.cssRule(
        "pre",
        "pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}",
        d.document
      );
    });
    d.setOpt("insertcode", {
      as3: "ActionScript3",
      bash: "Bash/Shell",
      cpp: "C/C++",
      css: "Css",
      cf: "CodeFunction",
      "c#": "C#",
      delphi: "Delphi",
      diff: "Diff",
      erlang: "Erlang",
      groovy: "Groovy",
      html: "Html",
      java: "Java",
      jfx: "JavaFx",
      js: "Javascript",
      pl: "Perl",
      php: "Php",
      plain: "Plain Text",
      ps: "PowerShell",
      python: "Python",
      ruby: "Ruby",
      scala: "Scala",
      sql: "Sql",
      vb: "Vb",
      xml: "Xml",
    });
    d.commands.insertcode = {
      execCommand: function (c, b) {
        var a = this.selection.getRange(),
          e = f.findParentByTagName(a.startContainer, "pre", !0);
        if (e) e.className = "brush:" + b + ";toolbar:false;";
        else {
          var h = "";
          a.collapsed
            ? (h =
                r.ie && r.ie11below
                  ? 8 >= r.version
                    ? "&nbsp;"
                    : ""
                  : "<br/>")
            : ((e = a.extractContents()),
              (a = this.document.createElement("div")),
              a.appendChild(e),
              p.each(
                UE.filterNode(
                  UE.htmlparser(a.innerHTML.replace(/[\r\t]/g, "")),
                  this.options.filterTxtRules
                ).children,
                function (a) {
                  r.ie && r.ie11below && 8 < r.version
                    ? ("element" == a.type
                        ? "br" == a.tagName
                          ? (h += "\n")
                          : v.$empty[a.tagName] ||
                            (p.each(a.children, function (b) {
                              "element" == b.type
                                ? "br" == b.tagName
                                  ? (h += "\n")
                                  : v.$empty[a.tagName] || (h += b.innerText())
                                : (h += b.data);
                            }),
                            /\n$/.test(h) || (h += "\n"))
                        : (h += a.data + "\n"),
                      !a.nextSibling() &&
                        /\n$/.test(h) &&
                        (h = h.replace(/\n$/, "")))
                    : r.ie && r.ie11below
                    ? ("element" == a.type
                        ? "br" == a.tagName
                          ? (h += "<br>")
                          : v.$empty[a.tagName] ||
                            (p.each(a.children, function (b) {
                              "element" == b.type
                                ? "br" == b.tagName
                                  ? (h += "<br>")
                                  : v.$empty[a.tagName] || (h += b.innerText())
                                : (h += b.data);
                            }),
                            /br>$/.test(h) || (h += "<br>"))
                        : (h += a.data + "<br>"),
                      !a.nextSibling() &&
                        /<br>$/.test(h) &&
                        (h = h.replace(/<br>$/, "")))
                    : ((h +=
                        "element" == a.type
                          ? v.$empty[a.tagName]
                            ? ""
                            : a.innerText()
                          : a.data),
                      !/br\/?\s*>$/.test(h) &&
                        a.nextSibling() &&
                        (h += "<br>"));
                }
              ));
          this.execCommand(
            "inserthtml",
            '<pre id="coder"class="brush:' +
              b +
              ';toolbar:false">' +
              h +
              "</pre>",
            !0
          );
          e = this.document.getElementById("coder");
          f.removeAttributes(e, "id");
          (a = e.previousSibling) &&
            ((3 == a.nodeType &&
              1 == a.nodeValue.length &&
              r.ie &&
              6 == r.version) ||
              f.isEmptyBlock(a)) &&
            f.remove(a);
          a = this.selection.getRange();
          f.isEmptyBlock(e)
            ? a.setStart(e, 0).setCursor(!1, !0)
            : a.selectNodeContents(e).select();
        }
      },
      queryCommandValue: function () {
        var c = this.selection.getStartElementPath(),
          b = "";
        p.each(c, function (a) {
          if ("PRE" == a.nodeName)
            return (
              (b =
                (a = a.className.match(/brush:([^;]+)/)) && a[1] ? a[1] : ""),
              !1
            );
        });
        return b;
      },
    };
    d.addInputRule(function (c) {
      p.each(c.getNodesByTagName("pre"), function (b) {
        var a = b.getNodesByTagName("br");
        a.length
          ? r.ie &&
            r.ie11below &&
            8 < r.version &&
            p.each(a, function (a) {
              var b = UE.uNode.createText("\n");
              a.parentNode.insertBefore(b, a);
              a.parentNode.removeChild(a);
            })
          : (r.ie && r.ie11below && 8 < r.version) ||
            ((a = b.innerText().split(/\n/)),
            b.innerHTML(""),
            p.each(a, function (a) {
              a.length && b.appendChild(UE.uNode.createText(a));
              b.appendChild(UE.uNode.createElement("br"));
            }));
      });
    });
    d.addOutputRule(function (c) {
      p.each(c.getNodesByTagName("pre"), function (b) {
        var a = "";
        p.each(b.children, function (b) {
          a =
            "text" == b.type
              ? a + b.data.replace(/[ ]/g, "&nbsp;").replace(/\n$/, "")
              : "br" == b.tagName
              ? a + "\n"
              : a + (v.$empty[b.tagName] ? b.innerText() : "");
        });
        b.innerText(a.replace(/(&nbsp;|\n)+$/, ""));
      });
    });
    d.notNeedCodeQuery = {
      help: 1,
      undo: 1,
      redo: 1,
      source: 1,
      print: 1,
      searchreplace: 1,
      fullscreen: 1,
      preview: 1,
      insertparagraph: 1,
      elementpath: 1,
      insertcode: 1,
      inserthtml: 1,
      selectall: 1,
    };
    d.queryCommandState = function (c) {
      return !this.notNeedCodeQuery[c.toLowerCase()] &&
        this.selection &&
        this.queryCommandValue("insertcode")
        ? -1
        : UE.Editor.prototype.queryCommandState.apply(this, arguments);
    };
    d.addListener("beforeenterkeydown", function () {
      var c = d.selection.getRange(),
        b = f.findParentByTagName(c.startContainer, "pre", !0);
      if (b) {
        d.fireEvent("saveScene");
        c.collapsed || c.deleteContents();
        if (!r.ie || r.ie9above) {
          b = d.document.createElement("br");
          c.insertNode(b).setStartAfter(b).collapse(!0);
          b.nextSibling || (r.ie && !(10 < r.version))
            ? c.setStartAfter(b)
            : c.insertNode(b.cloneNode(!1));
          for (var b = b.previousSibling, a; b; )
            if (((a = b), (b = b.previousSibling), !b || "BR" == b.nodeName)) {
              b = a;
              break;
            }
          if (b) {
            for (
              a = "";
              b &&
              "BR" != b.nodeName &&
              RegExp("^[\\s" + f.fillChar + "]*$").test(b.nodeValue);

            )
              (a += b.nodeValue), (b = b.nextSibling);
            "BR" != b.nodeName &&
              (b = b.nodeValue.match(RegExp("^([\\s" + f.fillChar + "]+)"))) &&
              b[1] &&
              (a += b[1]);
            a &&
              ((a = d.document.createTextNode(a)),
              c.insertNode(a).setStartAfter(a));
          }
          c.collapse(!0).select(!0);
        } else if (8 < r.version)
          if (
            ((b = d.document.createTextNode("\n")),
            (a = c.startContainer),
            0 == c.startOffset)
          ) {
            if (a.previousSibling) {
              c.insertNode(b);
              var e = d.document.createTextNode(" ");
              c.setStartAfter(b)
                .insertNode(e)
                .setStart(e, 0)
                .collapse(!0)
                .select(!0);
            }
          } else
            c.insertNode(b).setStartAfter(b),
              (e = d.document.createTextNode(" ")),
              (a = c.startContainer.childNodes[c.startOffset]) &&
                !/^\n/.test(a.nodeValue) &&
                c.setStartBefore(b),
              c.insertNode(e).setStart(e, 0).collapse(!0).select(!0);
        else {
          b = d.document.createElement("br");
          c.insertNode(b);
          c.insertNode(d.document.createTextNode(f.fillChar));
          c.setStartAfter(b);
          for (b = b.previousSibling; b; )
            if (((a = b), (b = b.previousSibling), !b || "BR" == b.nodeName)) {
              b = a;
              break;
            }
          if (b) {
            for (
              a = "";
              b &&
              "BR" != b.nodeName &&
              RegExp("^[ " + f.fillChar + "]*$").test(b.nodeValue);

            )
              (a += b.nodeValue), (b = b.nextSibling);
            "BR" != b.nodeName &&
              (b = b.nodeValue.match(RegExp("^([ " + f.fillChar + "]+)"))) &&
              b[1] &&
              (a += b[1]);
            a = d.document.createTextNode(a);
            c.insertNode(a).setStartAfter(a);
          }
          c.collapse(!0).select();
        }
        d.fireEvent("saveScene");
        return !0;
      }
    });
    d.addListener("tabkeydown", function (c, b) {
      var a = d.selection.getRange(),
        e = f.findParentByTagName(a.startContainer, "pre", !0);
      if (e) {
        d.fireEvent("saveScene");
        if (!b.shiftKey)
          if (a.collapsed)
            (e = d.document.createTextNode("    ")),
              a.insertNode(e).setStartAfter(e).collapse(!0).select(!0);
          else {
            for (var h = a.createBookmark(), g = h.start.previousSibling; g; ) {
              if (e.firstChild === g && !f.isBr(g)) {
                e.insertBefore(d.document.createTextNode("    "), g);
                break;
              }
              if (f.isBr(g)) {
                e.insertBefore(
                  d.document.createTextNode("    "),
                  g.nextSibling
                );
                break;
              }
              g = g.previousSibling;
            }
            var l = h.end,
              g = h.start.nextSibling;
            for (
              e.firstChild === h.start &&
              e.insertBefore(d.document.createTextNode("    "), g.nextSibling);
              g && g !== l;

            ) {
              if (f.isBr(g) && g.nextSibling) {
                if (g.nextSibling === l) break;
                e.insertBefore(
                  d.document.createTextNode("    "),
                  g.nextSibling
                );
              }
              g = g.nextSibling;
            }
            a.moveToBookmark(h).select();
          }
        d.fireEvent("saveScene");
        return !0;
      }
    });
    d.addListener("beforeinserthtml", function (c, b) {
      var a = this,
        e = a.selection.getRange();
      if (f.findParentByTagName(e.startContainer, "pre", !0)) {
        e.collapsed || e.deleteContents();
        var h = "";
        if (r.ie && 8 < r.version) {
          p.each(
            UE.filterNode(UE.htmlparser(b), a.options.filterTxtRules).children,
            function (a) {
              "element" == a.type
                ? "br" == a.tagName
                  ? (h += "\n")
                  : v.$empty[a.tagName] ||
                    (p.each(a.children, function (b) {
                      "element" == b.type
                        ? "br" == b.tagName
                          ? (h += "\n")
                          : v.$empty[a.tagName] || (h += b.innerText())
                        : (h += b.data);
                    }),
                    /\n$/.test(h) || (h += "\n"))
                : (h += a.data + "\n");
              !a.nextSibling() && /\n$/.test(h) && (h = h.replace(/\n$/, ""));
            }
          );
          var g = a.document.createTextNode(p.html(h.replace(/&nbsp;/g, " ")));
          e.insertNode(g).selectNode(g).select();
        } else {
          var d = a.document.createDocumentFragment();
          p.each(
            UE.filterNode(UE.htmlparser(b), a.options.filterTxtRules).children,
            function (b) {
              "element" == b.type
                ? "br" == b.tagName
                  ? d.appendChild(a.document.createElement("br"))
                  : v.$empty[b.tagName] ||
                    (p.each(b.children, function (c) {
                      "element" == c.type
                        ? "br" == c.tagName
                          ? d.appendChild(a.document.createElement("br"))
                          : v.$empty[b.tagName] ||
                            d.appendChild(
                              a.document.createTextNode(
                                p.html(c.innerText().replace(/&nbsp;/g, " "))
                              )
                            )
                        : d.appendChild(
                            a.document.createTextNode(
                              p.html(c.data.replace(/&nbsp;/g, " "))
                            )
                          );
                    }),
                    "BR" != d.lastChild.nodeName &&
                      d.appendChild(a.document.createElement("br")))
                : d.appendChild(
                    a.document.createTextNode(
                      p.html(b.data.replace(/&nbsp;/g, " "))
                    )
                  );
              b.nextSibling() ||
                "BR" != d.lastChild.nodeName ||
                d.removeChild(d.lastChild);
            }
          );
          e.insertNode(d).select();
        }
        return !0;
      }
    });
    d.addListener("keydown", function (c, b) {
      if (40 == (b.keyCode || b.which)) {
        var a = this.selection.getRange(),
          e,
          h = a.startContainer;
        if (
          a.collapsed &&
          (e = f.findParentByTagName(a.startContainer, "pre", !0)) &&
          !e.nextSibling
        ) {
          for (var g = e.lastChild; g && "BR" == g.nodeName; )
            g = g.previousSibling;
          if (
            g === h ||
            (a.startContainer === e && a.startOffset == e.childNodes.length)
          )
            this.execCommand("insertparagraph"), f.preventDefault(b);
        }
      }
    });
    d.addListener("delkeydown", function (c, b) {
      var a = this.selection.getRange();
      a.txtToElmBoundary(!0);
      var e = a.startContainer;
      if (f.isTagNode(e, "pre") && a.collapsed && f.isStartInblock(a)) {
        var h = d.document.createElement("p");
        f.fillNode(d.document, h);
        e.parentNode.insertBefore(h, e);
        f.remove(e);
        a.setStart(h, 0).setCursor(!1, !0);
        f.preventDefault(b);
        return !0;
      }
    });
  };
  UE.commands.cleardoc = {
    execCommand: function (d) {
      var c = this;
      d = c.options.enterTag;
      var b = c.selection.getRange();
      "br" == d
        ? ((c.body.innerHTML = "<br/>"), b.setStart(c.body, 0).setCursor())
        : ((c.body.innerHTML = "<p>" + (I ? "" : "<br/>") + "</p>"),
          b.setStart(c.body.firstChild, 0).setCursor(!1, !0));
      setTimeout(function () {
        c.fireEvent("clearDoc");
      }, 0);
    },
  };
  UE.plugin.register("anchor", function () {
    return {
      bindEvents: {
        ready: function () {
          p.cssRule(
            "anchor",
            ".anchorclass{background: url('" +
              this.options.themePath +
              this.options.theme +
              "/images/anchor.gif') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}",
            this.document
          );
        },
      },
      outputRule: function (d) {
        p.each(d.getNodesByTagName("img"), function (c) {
          var b;
          if ((b = c.getAttr("anchorname")))
            (c.tagName = "a"),
              c.setAttr({ anchorname: "", name: b, class: "" });
        });
      },
      inputRule: function (d) {
        p.each(d.getNodesByTagName("a"), function (c) {
          c.getAttr("name") &&
            !c.getAttr("href") &&
            ((c.tagName = "img"),
            c.setAttr({ anchorname: c.getAttr("name"), class: "anchorclass" }),
            c.setAttr("name"));
        });
      },
      commands: {
        anchor: {
          execCommand: function (d, c) {
            var b = this.selection.getRange(),
              a = b.getClosedNode();
            a && a.getAttribute("anchorname")
              ? c
                ? a.setAttribute("anchorname", c)
                : (b.setStartBefore(a).setCursor(), f.remove(a))
              : c &&
                ((a = this.document.createElement("img")),
                b.collapse(!0),
                f.setAttributes(a, { anchorname: c, class: "anchorclass" }),
                b.insertNode(a).setStartAfter(a).setCursor(!1, !0));
          },
        },
      },
    };
  });
  UE.plugins.wordcount = function () {
    var d = this;
    d.setOpt("wordCount", !0);
    d.addListener("contentchange", function () {
      d.fireEvent("wordcount");
    });
    var c;
    d.addListener("ready", function () {
      var b = this;
      f.on(b.body, "keyup", function (a) {
        (a.keyCode || a.which) in
          { 16: 1, 18: 1, 20: 1, 37: 1, 38: 1, 39: 1, 40: 1 } ||
          (clearTimeout(c),
          (c = setTimeout(function () {
            b.fireEvent("wordcount");
          }, 200)));
      });
    });
  };
  UE.plugins.pagebreak = function () {
    function d(a) {
      if (f.isEmptyBlock(a)) {
        for (
          var c = a.firstChild, g;
          c && 1 == c.nodeType && f.isEmptyBlock(c);

        )
          (g = c), (c = c.firstChild);
        !g && (g = a);
        f.fillNode(b.document, g);
      }
    }
    function c(a) {
      return (
        a && 1 == a.nodeType && "HR" == a.tagName && "pagebreak" == a.className
      );
    }
    var b = this,
      a = ["td"];
    b.setOpt("pageBreakTag", "_ueditor_page_break_tag_");
    b.ready(function () {
      p.cssRule(
        "pagebreak",
        ".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",
        b.document
      );
    });
    b.addInputRule(function (a) {
      a.traversal(function (a) {
        if ("text" == a.type && a.data == b.options.pageBreakTag) {
          var c = UE.uNode.createElement(
            '<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">'
          );
          a.parentNode.insertBefore(c, a);
          a.parentNode.removeChild(a);
        }
      });
    });
    b.addOutputRule(function (a) {
      p.each(a.getNodesByTagName("hr"), function (a) {
        if ("pagebreak" == a.getAttr("class")) {
          var c = UE.uNode.createText(b.options.pageBreakTag);
          a.parentNode.insertBefore(c, a);
          a.parentNode.removeChild(a);
        }
      });
    });
    b.commands.pagebreak = {
      execCommand: function () {
        var e = b.selection.getRange(),
          h = b.document.createElement("hr");
        f.setAttributes(h, {
          class: "pagebreak",
          noshade: "noshade",
          size: "5",
        });
        f.unSelectable(h);
        var g = f.findParentByTagName(e.startContainer, a, !0),
          l = [];
        if (g)
          switch (g.tagName) {
            case "TD":
              (g = g.parentNode),
                g.previousSibling
                  ? (g.parentNode.insertBefore(h, g), (l = f.findParents(h)))
                  : ((e = f.findParentByTagName(g, "table")),
                    e.parentNode.insertBefore(h, e),
                    (l = f.findParents(h, !0))),
                (g = l[1]),
                h !== g && f.breakParent(h, g),
                b.fireEvent("afteradjusttable", b.document);
          }
        else {
          if (!e.collapsed)
            for (
              e.deleteContents(), g = e.startContainer;
              !f.isBody(g) && f.isBlockElm(g) && f.isEmptyNode(g);

            )
              e.setStartBefore(g).collapse(!0),
                f.remove(g),
                (g = e.startContainer);
          e.insertNode(h);
          for (g = h.parentNode; !f.isBody(g); )
            f.breakParent(h, g),
              (g = h.nextSibling) && f.isEmptyBlock(g) && f.remove(g),
              (g = h.parentNode);
          g = h.nextSibling;
          l = h.previousSibling;
          c(l) ? f.remove(l) : l && d(l);
          g
            ? (c(g) ? f.remove(g) : d(g), e.setEndAfter(h).collapse(!1))
            : ((g = b.document.createElement("p")),
              h.parentNode.appendChild(g),
              f.fillNode(b.document, g),
              e.setStart(g, 0).collapse(!0));
          e.select(!0);
        }
      },
    };
  };
  UE.plugin.register("wordimage", function () {
    var d = this,
      c = [];
    return {
      commands: {
        wordimage: {
          execCommand: function () {
            for (
              var b = f.getElementsByTagName(d.body, "img"), a = [], c = 0, h;
              (h = b[c++]);

            )
              (h = h.getAttribute("word_img")) && a.push(h);
            return a;
          },
          queryCommandState: function () {
            c = f.getElementsByTagName(d.body, "img");
            for (var b = 0, a; (a = c[b++]); )
              if (a.getAttribute("word_img")) return 1;
            return -1;
          },
          notNeedUndo: !0,
        },
      },
      inputRule: function (b) {
        p.each(b.getNodesByTagName("img"), function (a) {
          var b = a.attrs,
            c = 128 > parseInt(b.width) || 43 > parseInt(b.height),
            g = d.options,
            f = g.UEDITOR_HOME_URL + "themes/default/images/spacer.gif";
          b.src &&
            /^(?:(file:\/+))/.test(b.src) &&
            a.setAttr({
              width: b.width,
              height: b.height,
              alt: b.alt,
              word_img: b.src,
              src: f,
              style:
                "background:url(" +
                (c
                  ? g.themePath + g.theme + "/images/word.gif"
                  : g.langPath + g.lang + "/images/localimage.png") +
                ") no-repeat center center;border:1px solid #ddd",
            });
        });
      },
    };
  });
  UE.plugins.dragdrop = function () {
    var d = this;
    d.ready(function () {
      f.on(this.body, "dragend", function () {
        var c = d.selection.getRange(),
          b = c.getClosedNode() || d.selection.getStart();
        if (b && "IMG" == b.tagName) {
          for (
            var a = b.previousSibling, e;
            (e = b.nextSibling) &&
            1 == e.nodeType &&
            "SPAN" == e.tagName &&
            !e.firstChild;

          )
            f.remove(e);
          ((!a || 1 != a.nodeType || f.isEmptyBlock(a)) && a) ||
            (e && (!e || f.isEmptyBlock(e))) ||
            (a && "P" == a.tagName && !f.isEmptyBlock(a)
              ? (a.appendChild(b), f.moveChild(e, a), f.remove(e))
              : e &&
                "P" == e.tagName &&
                !f.isEmptyBlock(e) &&
                e.insertBefore(b, e.firstChild),
            a && "P" == a.tagName && f.isEmptyBlock(a) && f.remove(a),
            e && "P" == e.tagName && f.isEmptyBlock(e) && f.remove(e),
            c.selectNode(b).select(),
            d.fireEvent("saveScene"));
        }
      });
    });
    d.addListener("keyup", function (c, b) {
      if (13 == (b.keyCode || b.which)) {
        var a = d.selection.getRange(),
          e;
        (e = f.findParentByTagName(a.startContainer, "p", !0)) &&
          "center" == f.getComputedStyle(e, "text-align") &&
          f.removeStyle(e, "text-align");
      }
    });
  };
  UE.plugins.undo = function () {
    function d(a, b) {
      if (a.length != b.length) return 0;
      for (var c = 0, e = a.length; c < e; c++) if (a[c] != b[c]) return 0;
      return 1;
    }
    var c,
      b = this,
      a = b.options.maxUndoCount || 20,
      e = b.options.maxInputCount || 20,
      h = RegExp(f.fillChar + "|</hr>", "gi"),
      g = { ol: 1, ul: 1, table: 1, tbody: 1, tr: 1, body: 1 },
      l = b.options.autoClearEmptyNode;
    b.undoManger = new (function () {
      this.list = [];
      this.index = 0;
      this.hasRedo = this.hasUndo = !1;
      this.undo = function () {
        if (this.hasUndo)
          if (this.list[this.index - 1] || 1 != this.list.length) {
            for (
              ;
              this.list[this.index].content ==
              this.list[this.index - 1].content;

            )
              if ((this.index--, 0 == this.index)) return this.restore(0);
            this.restore(--this.index);
          } else this.reset();
      };
      this.redo = function () {
        if (this.hasRedo) {
          for (
            ;
            this.list[this.index].content == this.list[this.index + 1].content;

          )
            if ((this.index++, this.index == this.list.length - 1))
              return this.restore(this.index);
          this.restore(++this.index);
        }
      };
      this.restore = function () {
        var a = this.editor,
          b = this.list[this.index],
          c = UE.htmlparser(b.content.replace(h, ""));
        a.options.autoClearEmptyNode = !1;
        a.filterInputRule(c);
        a.options.autoClearEmptyNode = l;
        a.document.body.innerHTML = c.toHtml();
        a.fireEvent("afterscencerestore");
        r.ie &&
          p.each(
            f.getElementsByTagName(a.document, "td th caption p"),
            function (b) {
              f.isEmptyNode(b) && f.fillNode(a.document, b);
            }
          );
        try {
          var e = new L.Range(a.document).moveToAddress(b.address);
          e.select(g[e.startContainer.nodeName.toLowerCase()]);
        } catch (d) {}
        this.update();
        this.clearKey();
        a.fireEvent("reset", !0);
      };
      this.getScene = function () {
        var a = this.editor,
          b = a.selection.getRange().createAddress(!1, !0);
        a.fireEvent("beforegetscene");
        var c = UE.htmlparser(a.body.innerHTML);
        a.options.autoClearEmptyNode = !1;
        a.filterOutputRule(c);
        a.options.autoClearEmptyNode = l;
        c = c.toHtml();
        a.fireEvent("aftergetscene");
        return { address: b, content: c };
      };
      this.save = function (e, g) {
        clearTimeout(c);
        var h = this.getScene(g),
          k = this.list[this.index];
        k && k.content != h.content && b.trigger("contentchange");
        var f;
        if ((f = k))
          if ((f = k.content == h.content))
            e
              ? (k = 1)
              : ((k = k.address),
                (f = h.address),
                (k =
                  k.collapsed != f.collapsed
                    ? 0
                    : d(k.startAddress, f.startAddress) &&
                      d(k.endAddress, f.endAddress)
                    ? 1
                    : 0)),
              (f = k);
        f ||
          ((this.list = this.list.slice(0, this.index + 1)),
          this.list.push(h),
          this.list.length > a && this.list.shift(),
          (this.index = this.list.length - 1),
          this.clearKey(),
          this.update());
      };
      this.update = function () {
        this.hasRedo = !!this.list[this.index + 1];
        this.hasUndo = !!this.list[this.index - 1];
      };
      this.reset = function () {
        this.list = [];
        this.index = 0;
        this.hasRedo = this.hasUndo = !1;
        this.clearKey();
      };
      this.clearKey = function () {
        m = 0;
      };
    })();
    b.undoManger.editor = b;
    b.addListener("saveScene", function () {
      var a = Array.prototype.splice.call(arguments, 1);
      this.undoManger.save.apply(this.undoManger, a);
    });
    b.addListener("reset", function (a, b) {
      b || this.undoManger.reset();
    });
    b.commands.redo = b.commands.undo = {
      execCommand: function (a) {
        this.undoManger[a]();
      },
      queryCommandState: function (a) {
        return this.undoManger[
          "has" + ("undo" == a.toLowerCase() ? "Undo" : "Redo")
        ]
          ? 0
          : -1;
      },
      notNeedUndo: 1,
    };
    var k = { 16: 1, 17: 1, 18: 1, 37: 1, 38: 1, 39: 1, 40: 1 },
      m = 0,
      n = !1;
    b.addListener("ready", function () {
      f.on(this.body, "compositionstart", function () {
        n = !0;
      });
      f.on(this.body, "compositionend", function () {
        n = !1;
      });
    });
    b.addshortcutkey({ Undo: "ctrl+90", Redo: "ctrl+89" });
    var q = !0;
    b.addListener("keydown", function (a, b) {
      var g = this;
      if (
        !(
          k[b.keyCode || b.which] ||
          b.ctrlKey ||
          b.metaKey ||
          b.shiftKey ||
          b.altKey ||
          n
        )
      )
        if (g.selection.getRange().collapsed) {
          0 == g.undoManger.list.length && g.undoManger.save(!0);
          clearTimeout(c);
          var d = function (a) {
            a.undoManger.save(!1, !0);
            a.fireEvent("selectionchange");
          };
          c = setTimeout(function () {
            if (n)
              var a = setInterval(function () {
                n || (d(g), clearInterval(a));
              }, 300);
            else d(g);
          }, 200);
          m++;
          m >= e && d(g);
        } else g.undoManger.save(!1, !0), (q = !1);
    });
    b.addListener("keyup", function (a, b) {
      k[b.keyCode || b.which] ||
        b.ctrlKey ||
        b.metaKey ||
        b.shiftKey ||
        b.altKey ||
        n ||
        q ||
        (this.undoManger.save(!1, !0), (q = !0));
    });
    b.stopCmdUndo = function () {
      b.__hasEnterExecCommand = !0;
    };
    b.startCmdUndo = function () {
      b.__hasEnterExecCommand = !1;
    };
  };
  UE.plugin.register("copy", function () {
    function d() {
      ZeroClipboard.config({
        debug: !1,
        swfPath:
          c.options.UEDITOR_HOME_URL +
          "third-party/zeroclipboard/ZeroClipboard.swf",
      });
      var b = (c.zeroclipboard = new ZeroClipboard());
      b.on("copy", function (a) {
        a = a.client;
        var b = c.selection.getRange(),
          d = document.createElement("div");
        d.appendChild(b.cloneContents());
        a.setText(d.innerText || d.textContent);
        a.setHtml(d.innerHTML);
        b.select();
      });
      b.on("mouseover mouseout", function (a) {
        var b = a.target;
        "mouseover" == a.type
          ? f.addClass(b, "edui-state-hover")
          : "mouseout" == a.type && f.removeClasses(b, "edui-state-hover");
      });
      b.on("wrongflash noflash", function () {
        ZeroClipboard.destroy();
      });
    }
    var c = this;
    return {
      bindEvents: {
        ready: function () {
          r.ie ||
            (window.ZeroClipboard
              ? d()
              : p.loadFile(
                  document,
                  {
                    src:
                      c.options.UEDITOR_HOME_URL +
                      "third-party/zeroclipboard/ZeroClipboard.js",
                    tag: "script",
                    type: "text/javascript",
                    defer: "defer",
                  },
                  function () {
                    d();
                  }
                ));
        },
      },
      commands: {
        copy: {
          execCommand: function (b) {
            c.document.execCommand("copy") || alert(c.getLang("copymsg"));
          },
        },
      },
    };
  });
  UE.plugins.paste = function () {
    function d(a) {
      var b = this.document;
      if (!b.getElementById("baidu_pastebin")) {
        var c = this.selection.getRange(),
          e = c.createBookmark(),
          g = b.createElement("div");
        g.id = "baidu_pastebin";
        r.webkit && g.appendChild(b.createTextNode(f.fillChar + f.fillChar));
        b.body.appendChild(g);
        e.start.style.display = "";
        g.style.cssText =
          "position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:" +
          f.getXY(e.start).y +
          "px";
        c.selectNodeContents(g).select(!0);
        setTimeout(function () {
          if (r.webkit)
            for (
              var d = 0, h = b.querySelectorAll("#baidu_pastebin"), y;
              (y = h[d++]);

            )
              if (f.isEmptyNode(y)) f.remove(y);
              else {
                g = y;
                break;
              }
          try {
            g.parentNode.removeChild(g);
          } catch (u) {}
          c.moveToBookmark(e).select(!0);
          a(g);
        }, 0);
      }
    }
    function c(a) {
      return a.replace(/<(\/?)([\w\-]+)([^>]*)>/gi, function (a, b, c, e) {
        c = c.toLowerCase();
        if ({ img: 1 }[c]) return a;
        e = e.replace(
          /([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,
          function (a, b, c) {
            return { src: 1, href: 1, name: 1 }[b.toLowerCase()]
              ? b + "=" + c + " "
              : "";
          }
        );
        return { span: 1, div: 1 }[c]
          ? ""
          : "<" + b + c + " " + p.trim(e) + ">";
      });
    }
    function b(b) {
      var d;
      if (b.firstChild) {
        var m = f.getElementsByTagName(b, "span");
        d = 0;
        for (var n; (n = m[d++]); )
          ("_baidu_cut_start" != n.id && "_baidu_cut_end" != n.id) ||
            f.remove(n);
        if (r.webkit) {
          n = b.querySelectorAll("div br");
          for (d = 0; (m = n[d++]); )
            (m = m.parentNode),
              "DIV" == m.tagName &&
                1 == m.childNodes.length &&
                ((m.innerHTML = "<p><br/></p>"), f.remove(m));
          m = b.querySelectorAll("#baidu_pastebin");
          for (d = 0; (n = m[d++]); ) {
            var q = a.document.createElement("p");
            for (n.parentNode.insertBefore(q, n); n.firstChild; )
              q.appendChild(n.firstChild);
            f.remove(n);
          }
          n = b.querySelectorAll("meta");
          for (d = 0; (m = n[d++]); ) f.remove(m);
          n = b.querySelectorAll("br");
          for (d = 0; (m = n[d++]); )
            /^apple-/i.test(m.className) && f.remove(m);
        }
        if (r.gecko)
          for (n = b.querySelectorAll("[_moz_dirty]"), d = 0; (m = n[d++]); )
            m.removeAttribute("_moz_dirty");
        if (!r.ie)
          for (
            n = b.querySelectorAll("span.Apple-style-span"), d = 0;
            (m = n[d++]);

          )
            f.remove(m, !0);
        d = b.innerHTML;
        d = UE.filterWord(d);
        b = UE.htmlparser(d);
        a.options.filterRules && UE.filterNode(b, a.options.filterRules);
        a.filterInputRule(b);
        r.webkit &&
          ((d = b.lastChild()) &&
            "element" == d.type &&
            "br" == d.tagName &&
            b.removeChild(d),
          p.each(a.body.querySelectorAll("div"), function (a) {
            f.isEmptyBlock(a) && f.remove(a, !0);
          }));
        d = { html: b.toHtml() };
        a.fireEvent("beforepaste", d, b);
        d.html &&
          ((b = UE.htmlparser(d.html, !0)),
          1 === a.queryCommandState("pasteplain")
            ? a.execCommand(
                "insertHtml",
                UE.filterNode(b, a.options.filterTxtRules).toHtml(),
                !0
              )
            : (UE.filterNode(b, a.options.filterTxtRules),
              (e = b.toHtml()),
              (h = d.html),
              (g = a.selection.getRange().createAddress(!0)),
              a.execCommand(
                "insertHtml",
                !0 === a.getOpt("retainOnlyLabelPasted") ? c(h) : h,
                !0
              )),
          a.fireEvent("afterpaste", d));
      }
    }
    var a = this;
    a.setOpt({ retainOnlyLabelPasted: !1 });
    var e, h, g;
    a.addListener("pasteTransfer", function (b, d) {
      if (g && e && h && e != h) {
        var m = a.selection.getRange();
        m.moveToAddress(g, !0);
        if (!m.collapsed) {
          for (; !f.isBody(m.startContainer); ) {
            var n = m.startContainer;
            if (1 == n.nodeType) {
              n = n.childNodes[m.startOffset];
              if (!n) {
                m.setStartBefore(m.startContainer);
                continue;
              }
              (n = n.previousSibling) &&
                3 == n.nodeType &&
                RegExp("^[\n\r\t " + f.fillChar + "]*$").test(n.nodeValue) &&
                m.setStartBefore(n);
            }
            if (0 == m.startOffset) m.setStartBefore(m.startContainer);
            else break;
          }
          for (; !f.isBody(m.endContainer); ) {
            n = m.endContainer;
            if (1 == n.nodeType) {
              n = n.childNodes[m.endOffset];
              if (!n) {
                m.setEndAfter(m.endContainer);
                continue;
              }
              (n = n.nextSibling) &&
                3 == n.nodeType &&
                RegExp("^[\n\r\t" + f.fillChar + "]*$").test(n.nodeValue) &&
                m.setEndAfter(n);
            }
            if (
              m.endOffset ==
              m.endContainer[
                3 == m.endContainer.nodeType ? "nodeValue" : "childNodes"
              ].length
            )
              m.setEndAfter(m.endContainer);
            else break;
          }
        }
        m.deleteContents();
        m.select(!0);
        a.__hasEnterExecCommand = !0;
        m = h;
        2 === d ? (m = c(m)) : d && (m = e);
        a.execCommand("inserthtml", m, !0);
        a.__hasEnterExecCommand = !1;
        for (
          m = a.selection.getRange();
          !f.isBody(m.startContainer) &&
          !m.startOffset &&
          m.startContainer[
            3 == m.startContainer.nodeType ? "nodeValue" : "childNodes"
          ].length;

        )
          m.setStartBefore(m.startContainer);
        m = m.createAddress(!0);
        g.endAddress = m.startAddress;
      }
    });
    a.addListener("ready", function () {
      f.on(a.body, "cut", function () {
        !a.selection.getRange().collapsed &&
          a.undoManger &&
          a.undoManger.save();
      });
      f.on(a.body, r.ie || r.opera ? "keydown" : "paste", function (c) {
        ((!r.ie && !r.opera) ||
          ((c.ctrlKey || c.metaKey) && "86" == c.keyCode)) &&
          d.call(a, function (a) {
            b(a);
          });
      });
    });
    a.commands.paste = {
      execCommand: function (c) {
        r.ie
          ? (d.call(a, function (a) {
              b(a);
            }),
            a.document.execCommand("paste"))
          : alert(a.getLang("pastemsg"));
      },
    };
  };
  UE.plugins.pasteplain = function () {
    this.setOpt({
      pasteplain: !1,
      filterTxtRules: (function () {
        function c(a) {
          a.tagName = "p";
          a.setStyle();
        }
        function b(a) {
          a.parentNode.removeChild(a, !0);
        }
        return {
          "-": "script style object iframe embed input select",
          p: { $: {} },
          br: { $: {} },
          div: function (a) {
            for (var b, c = UE.uNode.createElement("p"); (b = a.firstChild()); )
              "text" != b.type && UE.dom.dtd.$block[b.tagName]
                ? c.firstChild()
                  ? (a.parentNode.insertBefore(c, a),
                    (c = UE.uNode.createElement("p")))
                  : a.parentNode.insertBefore(b, a)
                : c.appendChild(b);
            c.firstChild() && a.parentNode.insertBefore(c, a);
            a.parentNode.removeChild(a);
          },
          ol: b,
          ul: b,
          dl: b,
          dt: b,
          dd: b,
          li: b,
          caption: c,
          th: c,
          tr: c,
          h1: c,
          h2: c,
          h3: c,
          h4: c,
          h5: c,
          h6: c,
          td: function (a) {
            a.innerText() &&
              a.parentNode.insertAfter(
                UE.uNode.createText(" &nbsp; &nbsp;"),
                a
              );
            a.parentNode.removeChild(a, a.innerText());
          },
        };
      })(),
    });
    var d = this.options.pasteplain;
    this.commands.pasteplain = {
      queryCommandState: function () {
        return d ? 1 : 0;
      },
      execCommand: function () {
        d = !d | 0;
      },
      notNeedUndo: 1,
    };
  };
  UE.plugins.list = function () {
    function d(a) {
      var b = [],
        c;
      for (c in a) b.push(c);
      return b;
    }
    function c(a) {
      var b = a.className;
      return f.hasClass(a, /custom_/)
        ? b.match(/custom_(\w+)/)[1]
        : f.getStyle(a, "list-style-type");
    }
    function b(b, g) {
      p.each(f.getElementsByTagName(b, "ol ul"), function (d) {
        if (f.inDoc(d, b)) {
          var h = d.parentNode;
          if (h.tagName == d.tagName) {
            var k = c(d) || ("OL" == d.tagName ? "decimal" : "disc"),
              l = c(h) || ("OL" == h.tagName ? "decimal" : "disc");
            k == l &&
              ((k = p.indexOf(n[d.tagName], k)),
              (k = k + 1 == n[d.tagName].length ? 0 : k + 1),
              e(d, n[d.tagName][k]));
          }
          var q = 0,
            k = 2;
          f.hasClass(d, /custom_/)
            ? (/[ou]l/i.test(h.tagName) && f.hasClass(h, /custom_/)) || (k = 1)
            : /[ou]l/i.test(h.tagName) && f.hasClass(h, /custom_/) && (k = 3);
          (h = f.getStyle(d, "list-style-type")) &&
            (d.style.cssText = "list-style-type:" + h);
          d.className =
            p.trim(d.className.replace(/list-paddingleft-\w+/, "")) +
            " list-paddingleft-" +
            k;
          p.each(f.getElementsByTagName(d, "li"), function (a) {
            a.style.cssText && (a.style.cssText = "");
            if (!a.firstChild) f.remove(a);
            else if (a.parentNode === d) {
              q++;
              if (f.hasClass(d, /custom_/)) {
                var b = 1,
                  e = c(d);
                if ("OL" == d.tagName) {
                  if (e)
                    switch (e) {
                      case "cn":
                      case "cn1":
                      case "cn2":
                        10 < q && (0 == q % 10 || (10 < q && 20 > q))
                          ? (b = 2)
                          : 20 < q && (b = 3);
                        break;
                      case "num2":
                        9 < q && (b = 2);
                    }
                  a.className =
                    "list-" + m[e] + q + " list-" + e + "-paddingleft-" + b;
                } else
                  a.className = "list-" + m[e] + " list-" + e + "-paddingleft";
              } else a.className = a.className.replace(/list-[\w\-]+/gi, "");
              b = a.getAttribute("class");
              null === b ||
                b.replace(/\s/g, "") ||
                f.removeAttributes(a, "class");
            }
          });
          !g &&
            a(
              d,
              d.tagName.toLowerCase(),
              c(d) || f.getStyle(d, "list-style-type"),
              !0
            );
        }
      });
    }
    function a(a, e, g, d) {
      var h = a.nextSibling;
      h &&
        1 == h.nodeType &&
        h.tagName.toLowerCase() == e &&
        (c(h) ||
          f.getStyle(h, "list-style-type") ||
          ("ol" == e ? "decimal" : "disc")) == g &&
        (f.moveChild(h, a), 0 == h.childNodes.length && f.remove(h));
      h && f.isFillChar(h) && f.remove(h);
      (h = a.previousSibling) &&
        1 == h.nodeType &&
        h.tagName.toLowerCase() == e &&
        (c(h) ||
          f.getStyle(h, "list-style-type") ||
          ("ol" == e ? "decimal" : "disc")) == g &&
        f.moveChild(a, h);
      h && f.isFillChar(h) && f.remove(h);
      !d && f.isEmptyBlock(a) && f.remove(a);
      c(a) && b(a.ownerDocument, !0);
    }
    function e(a, b) {
      m[b] && (a.className = "custom_" + b);
      try {
        f.setStyle(a, "list-style-type", b);
      } catch (c) {}
    }
    function h(a) {
      var b = a.previousSibling;
      b && f.isEmptyBlock(b) && f.remove(b);
      (b = a.nextSibling) && f.isEmptyBlock(b) && f.remove(b);
    }
    function g(a) {
      for (; a && !f.isBody(a); ) {
        if ("TABLE" == a.nodeName) return null;
        if ("LI" == a.nodeName) return a;
        a = a.parentNode;
      }
    }
    var l = this,
      k = { TD: 1, PRE: 1, BLOCKQUOTE: 1 },
      m = {
        cn: "cn-1-",
        cn1: "cn-2-",
        cn2: "cn-3-",
        num: "num-1-",
        num1: "num-2-",
        num2: "num-3-",
        dash: "dash",
        dot: "dot",
      };
    l.setOpt({
      autoTransWordToList: !1,
      insertorderedlist: {
        num: "",
        num1: "",
        num2: "",
        cn: "",
        cn1: "",
        cn2: "",
        decimal: "",
        "lower-alpha": "",
        "lower-roman": "",
        "upper-alpha": "",
        "upper-roman": "",
      },
      insertunorderedlist: {
        circle: "",
        disc: "",
        square: "",
        dash: "",
        dot: "",
      },
      listDefaultPaddingLeft: "30",
      listiconpath: "http://bs.baidu.com/listicon/",
      maxListLevel: -1,
      disablePInList: !1,
    });
    var n = {
        OL: d(l.options.insertorderedlist),
        UL: d(l.options.insertunorderedlist),
      },
      q = l.options.listiconpath,
      t;
    for (t in m)
      l.options.insertorderedlist.hasOwnProperty(t) ||
        l.options.insertunorderedlist.hasOwnProperty(t) ||
        delete m[t];
    l.ready(function () {
      var a = [],
        b;
      for (b in m) {
        if ("dash" == b || "dot" == b)
          a.push(
            "li.list-" + m[b] + "{background-image:url(" + q + m[b] + ".gif)}"
          ),
            a.push(
              "ul.custom_" +
                b +
                "{list-style:none;}ul.custom_" +
                b +
                " li{background-position:0 3px;background-repeat:no-repeat}"
            );
        else {
          for (var c = 0; 99 > c; c++)
            a.push(
              "li.list-" +
                m[b] +
                c +
                "{background-image:url(" +
                q +
                "list-" +
                m[b] +
                c +
                ".gif)}"
            );
          a.push(
            "ol.custom_" +
              b +
              "{list-style:none;}ol.custom_" +
              b +
              " li{background-position:0 3px;background-repeat:no-repeat}"
          );
        }
        switch (b) {
          case "cn":
            a.push("li.list-" + b + "-paddingleft-1{padding-left:25px}");
            a.push("li.list-" + b + "-paddingleft-2{padding-left:40px}");
            a.push("li.list-" + b + "-paddingleft-3{padding-left:55px}");
            break;
          case "cn1":
            a.push("li.list-" + b + "-paddingleft-1{padding-left:30px}");
            a.push("li.list-" + b + "-paddingleft-2{padding-left:40px}");
            a.push("li.list-" + b + "-paddingleft-3{padding-left:55px}");
            break;
          case "cn2":
            a.push("li.list-" + b + "-paddingleft-1{padding-left:40px}");
            a.push("li.list-" + b + "-paddingleft-2{padding-left:55px}");
            a.push("li.list-" + b + "-paddingleft-3{padding-left:68px}");
            break;
          case "num":
          case "num1":
            a.push("li.list-" + b + "-paddingleft-1{padding-left:25px}");
            break;
          case "num2":
            a.push("li.list-" + b + "-paddingleft-1{padding-left:35px}");
            a.push("li.list-" + b + "-paddingleft-2{padding-left:40px}");
            break;
          case "dash":
            a.push("li.list-" + b + "-paddingleft{padding-left:35px}");
            break;
          case "dot":
            a.push("li.list-" + b + "-paddingleft{padding-left:20px}");
        }
      }
      a.push(".list-paddingleft-1{padding-left:0}");
      a.push(
        ".list-paddingleft-2{padding-left:" +
          l.options.listDefaultPaddingLeft +
          "px}"
      );
      a.push(
        ".list-paddingleft-3{padding-left:" +
          2 * l.options.listDefaultPaddingLeft +
          "px}"
      );
      p.cssRule(
        "list",
        "ol,ul{margin:0;pading:0;" +
          (r.ie ? "" : "width:95%") +
          "}li{clear:both;}" +
          a.join("\n"),
        l.document
      );
    });
    l.ready(function () {
      f.on(l.body, "cut", function () {
        setTimeout(function () {
          var a = l.selection.getRange(),
            b;
          if (
            !a.collapsed &&
            (b = f.findParentByTagName(a.startContainer, "li", !0)) &&
            !b.nextSibling &&
            f.isEmptyBlock(b)
          ) {
            b = b.parentNode;
            var c;
            (c = b.previousSibling)
              ? (f.remove(b), a.setStartAtLast(c).collapse(!0))
              : (c = b.nextSibling)
              ? (f.remove(b), a.setStartAtFirst(c).collapse(!0))
              : ((c = l.document.createElement("p")),
                f.fillNode(l.document, c),
                b.parentNode.insertBefore(c, b),
                f.remove(b),
                a.setStart(c, 0).collapse(!0));
            a.select(!0);
          }
        });
      });
    });
    l.addListener("beforepaste", function (a, b) {
      var e = this.selection.getRange(),
        g = UE.htmlparser(b.html, !0);
      if ((e = f.findParentByTagName(e.startContainer, "li", !0))) {
        var d = e.parentNode;
        p.each(
          g.getNodesByTagName("OL" == d.tagName ? "ul" : "ol"),
          function (b) {
            b.tagName = d.tagName;
            b.setAttr();
            if (b.parentNode === g)
              a = c(d) || ("OL" == d.tagName ? "decimal" : "disc");
            else {
              var e = b.parentNode.getAttr("class");
              (a =
                e && /custom_/.test(e)
                  ? e.match(/custom_(\w+)/)[1]
                  : b.parentNode.getStyle("list-style-type")) ||
                (a = "OL" == d.tagName ? "decimal" : "disc");
            }
            e = p.indexOf(n[d.tagName], a);
            b.parentNode !== g &&
              (e = e + 1 == n[d.tagName].length ? 0 : e + 1);
            e = n[d.tagName][e];
            m[e]
              ? b.setAttr("class", "custom_" + e)
              : b.setStyle("list-style-type", e);
          }
        );
      }
      b.html = g.toHtml();
    });
    !0 === l.getOpt("disablePInList") &&
      l.addOutputRule(function (a) {
        p.each(a.getNodesByTagName("li"), function (a) {
          var b = [],
            c = 0;
          p.each(a.children, function (e) {
            if ("p" == e.tagName) {
              for (var g; (g = e.children.pop()); )
                b.splice(c, 0, g), (g.parentNode = a), (lastNode = g);
              g = b[b.length - 1];
              (g && "element" == g.type && "br" == g.tagName) ||
                ((e = UE.uNode.createElement("br")),
                (e.parentNode = a),
                b.push(e));
              c = b.length;
            }
          });
          b.length && (a.children = b);
        });
      });
    l.addInputRule(function (a) {
      p.each(a.getNodesByTagName("li"), function (a) {
        for (
          var b = UE.uNode.createElement("p"), c = 0, e;
          (e = a.children[c]);

        )
          "text" == e.type || v.p[e.tagName]
            ? b.appendChild(e)
            : b.firstChild()
            ? (a.insertBefore(b, e),
              (b = UE.uNode.createElement("p")),
              (c += 2))
            : c++;
        ((b.firstChild() && !b.parentNode) || !a.firstChild()) &&
          a.appendChild(b);
        b.firstChild() || b.innerHTML(r.ie ? "&nbsp;" : "<br/>");
        a = a.firstChild();
        (b = a.lastChild()) &&
          "text" == b.type &&
          /^\s*$/.test(b.data) &&
          a.removeChild(b);
      });
      if (l.options.autoTransWordToList) {
        var b = {
            num1: /^\d+\)/,
            decimal: /^\d+\./,
            "lower-alpha": /^[a-z]+\)/,
            "upper-alpha": /^[A-Z]+\./,
            cn: /^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,
            cn2: /^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/,
          },
          c = { square: "n" },
          e = function (a, e) {
            var g = e.firstChild();
            if (
              g &&
              "element" == g.type &&
              "span" == g.tagName &&
              /Wingdings|Symbol/.test(g.getStyle("font-family"))
            ) {
              for (var d in c) if (c[d] == g.data) return d;
              return "disc";
            }
            for (d in b) if (b[d].test(a)) return d;
          };
        p.each(a.getNodesByTagName("p"), function (a) {
          if ("MsoListParagraph" == a.getAttr("class")) {
            a.setStyle("margin", "");
            a.setStyle("margin-left", "");
            a.setAttr("class", "");
            var c = a,
              g,
              d = a;
            if ("li" != a.parentNode.tagName && (g = e(a.innerText(), a))) {
              var h = UE.uNode.createElement(
                l.options.insertorderedlist.hasOwnProperty(g) ? "ol" : "ul"
              );
              for (
                m[g]
                  ? h.setAttr("class", "custom_" + g)
                  : h.setStyle("list-style-type", g);
                a && "li" != a.parentNode.tagName && e(a.innerText(), a);

              ) {
                (c = a.nextSibling()) || a.parentNode.insertBefore(h, a);
                var k = h,
                  f = g;
                if ("ol" == k.tagName)
                  if (r.ie) {
                    var n = a.firstChild();
                    "element" == n.type &&
                      "span" == n.tagName &&
                      b[f].test(n.innerText()) &&
                      a.removeChild(n);
                  } else a.innerHTML(a.innerHTML().replace(b[f], ""));
                else a.removeChild(a.firstChild());
                f = UE.uNode.createElement("li");
                f.appendChild(a);
                k.appendChild(f);
                a = c;
              }
              !h.parentNode &&
                a &&
                a.parentNode &&
                a.parentNode.insertBefore(h, a);
            }
            (c = d.firstChild()) &&
              "element" == c.type &&
              "span" == c.tagName &&
              /^\s*(&nbsp;)+\s*$/.test(c.innerText()) &&
              c.parentNode.removeChild(c);
          }
        });
      }
    });
    l.addListener("contentchange", function () {
      b(l.document);
    });
    l.addListener("keydown", function (a, b) {
      function c() {
        b.preventDefault ? b.preventDefault() : (b.returnValue = !1);
        l.fireEvent("contentchange");
        l.undoManger && l.undoManger.save();
      }
      function e(a, b) {
        for (; a && !f.isBody(a) && !b(a); ) {
          if (1 == a.nodeType && /[ou]l/i.test(a.tagName)) return a;
          a = a.parentNode;
        }
        return null;
      }
      var g = b.keyCode || b.which;
      if (13 == g && !b.shiftKey) {
        var d = l.selection.getRange(),
          k = f.findParent(
            d.startContainer,
            function (a) {
              return f.isBlockElm(a);
            },
            !0
          ),
          n = f.findParentByTagName(d.startContainer, "li", !0);
        k &&
          "PRE" != k.tagName &&
          !n &&
          ((n = k.innerHTML.replace(RegExp(f.fillChar, "g"), "")),
          /^\s*1\s*\.[^\d]/.test(n) &&
            ((k.innerHTML = n.replace(/^\s*1\s*\./, "")),
            d.setStartAtLast(k).collapse(!0).select(),
            (l.__hasEnterExecCommand = !0),
            l.execCommand("insertorderedlist"),
            (l.__hasEnterExecCommand = !1)));
        d = l.selection.getRange();
        k = e(d.startContainer, function (a) {
          return "TABLE" == a.tagName;
        });
        n = d.collapsed
          ? k
          : e(d.endContainer, function (a) {
              return "TABLE" == a.tagName;
            });
        if (k && n && k === n) {
          if (!d.collapsed)
            if (
              ((k = f.findParentByTagName(d.startContainer, "li", !0)),
              (n = f.findParentByTagName(d.endContainer, "li", !0)),
              k && n && k === n)
            ) {
              if (
                (d.deleteContents(),
                (n = f.findParentByTagName(d.startContainer, "li", !0)) &&
                  f.isEmptyBlock(n))
              ) {
                t = n.previousSibling;
                next = n.nextSibling;
                k = l.document.createElement("p");
                f.fillNode(l.document, k);
                q = n.parentNode;
                t && next
                  ? (d.setStart(next, 0).collapse(!0).select(!0), f.remove(n))
                  : ((t || next) && t
                      ? n.parentNode.parentNode.insertBefore(k, q.nextSibling)
                      : q.parentNode.insertBefore(k, q),
                    f.remove(n),
                    q.firstChild || f.remove(q),
                    d.setStart(k, 0).setCursor());
                c();
                return;
              }
            } else {
              var k = d.cloneRange(),
                m = k.collapse(!1).createBookmark();
              d.deleteContents();
              k.moveToBookmark(m);
              n = f.findParentByTagName(k.startContainer, "li", !0);
              h(n);
              k.select();
              c();
              return;
            }
          if ((n = f.findParentByTagName(d.startContainer, "li", !0))) {
            if (f.isEmptyBlock(n)) {
              var m = d.createBookmark(),
                q = n.parentNode;
              n !== q.lastChild
                ? (f.breakParent(n, q), h(n))
                : (q.parentNode.insertBefore(n, q.nextSibling),
                  f.isEmptyNode(q) && f.remove(q));
              if (!v.$list[n.parentNode.tagName])
                if (f.isBlockElm(n.firstChild)) f.remove(n, !0);
                else {
                  k = l.document.createElement("p");
                  for (n.parentNode.insertBefore(k, n); n.firstChild; )
                    k.appendChild(n.firstChild);
                  f.remove(n);
                }
              d.moveToBookmark(m).select();
            } else {
              k = n.firstChild;
              if (!k || !f.isBlockElm(k)) {
                k = l.document.createElement("p");
                for (!n.firstChild && f.fillNode(l.document, k); n.firstChild; )
                  k.appendChild(n.firstChild);
                n.appendChild(k);
              }
              m = l.document.createElement("span");
              d.insertNode(m);
              f.breakParent(m, n);
              t = m.nextSibling;
              k = t.firstChild;
              k ||
                ((k = l.document.createElement("p")),
                f.fillNode(l.document, k),
                t.appendChild(k));
              f.isEmptyNode(k) &&
                ((k.innerHTML = ""), f.fillNode(l.document, k));
              d.setStart(k, 0).collapse(!0).shrinkBoundary().select();
              f.remove(m);
              var t = t.previousSibling;
              t &&
                f.isEmptyBlock(t) &&
                ((t.innerHTML = "<p></p>"),
                f.fillNode(l.document, t.firstChild));
            }
            c();
          }
        }
      }
      if (
        8 == g &&
        ((d = l.selection.getRange()),
        d.collapsed &&
          f.isStartInblock(d) &&
          ((k = d.cloneRange().trimBoundary()),
          (n = f.findParentByTagName(d.startContainer, "li", !0)) &&
            f.isStartInblock(k)))
      )
        if (
          (k = f.findParentByTagName(d.startContainer, "p", !0)) &&
          k !== n.firstChild
        )
          (q = f.findParentByTagName(k, ["ol", "ul"])),
            f.breakParent(k, q),
            h(k),
            l.fireEvent("contentchange"),
            d.setStart(k, 0).setCursor(!1, !0),
            l.fireEvent("saveScene"),
            f.preventDefault(b);
        else if (n && (t = n.previousSibling)) {
          if (46 != g || !n.childNodes.length) {
            v.$list[t.tagName] && (t = t.lastChild);
            l.undoManger && l.undoManger.save();
            k = n.firstChild;
            if (f.isBlockElm(k))
              if (f.isEmptyNode(k))
                for (
                  t.appendChild(k), d.setStart(k, 0).setCursor(!1, !0);
                  n.firstChild;

                )
                  t.appendChild(n.firstChild);
              else
                (m = l.document.createElement("span")),
                  d.insertNode(m),
                  f.isEmptyBlock(t) && (t.innerHTML = ""),
                  f.moveChild(n, t),
                  d.setStartBefore(m).collapse(!0).select(!0),
                  f.remove(m);
            else if (f.isEmptyNode(n))
              (k = l.document.createElement("p")),
                t.appendChild(k),
                d.setStart(k, 0).setCursor();
            else
              for (
                d.setEnd(t, t.childNodes.length).collapse().select(!0);
                n.firstChild;

              )
                t.appendChild(n.firstChild);
            f.remove(n);
            l.fireEvent("contentchange");
            l.fireEvent("saveScene");
            f.preventDefault(b);
          }
        } else if (n && !n.previousSibling) {
          q = n.parentNode;
          m = d.createBookmark();
          if (f.isTagNode(q.parentNode, "ol ul"))
            q.parentNode.insertBefore(n, q);
          else {
            for (; n.firstChild; ) q.parentNode.insertBefore(n.firstChild, q);
            f.remove(n);
          }
          f.isEmptyNode(q) && f.remove(q);
          d.moveToBookmark(m).setCursor(!1, !0);
          l.fireEvent("contentchange");
          l.fireEvent("saveScene");
          f.preventDefault(b);
        }
    });
    l.addListener("keyup", function (b, e) {
      if (8 == (e.keyCode || e.which)) {
        var g = l.selection.getRange(),
          d;
        (d = f.findParentByTagName(g.startContainer, ["ol", "ul"], !0)) &&
          a(
            d,
            d.tagName.toLowerCase(),
            c(d) || f.getComputedStyle(d, "list-style-type"),
            !0
          );
      }
    });
    l.addListener("tabkeydown", function () {
      function b(a) {
        if (-1 != l.options.maxListLevel) {
          a = a.parentNode;
          for (var c = 0; /[ou]l/i.test(a.tagName); ) c++, (a = a.parentNode);
          if (c >= l.options.maxListLevel) return !0;
        }
      }
      var g = l.selection.getRange(),
        d = f.findParentByTagName(g.startContainer, "li", !0);
      if (d) {
        var h;
        if (g.collapsed) {
          if (b(d)) return !0;
          var k = d.parentNode,
            m = l.document.createElement(k.tagName),
            q = p.indexOf(
              n[m.tagName],
              c(k) || f.getComputedStyle(k, "list-style-type")
            ),
            q = q + 1 == n[m.tagName].length ? 0 : q + 1,
            q = n[m.tagName][q];
          e(m, q);
          if (f.isStartInblock(g))
            return (
              l.fireEvent("saveScene"),
              (h = g.createBookmark()),
              k.insertBefore(m, d),
              m.appendChild(d),
              a(m, m.tagName.toLowerCase(), q),
              l.fireEvent("contentchange"),
              g.moveToBookmark(h).select(!0),
              !0
            );
        } else {
          l.fireEvent("saveScene");
          h = g.createBookmark();
          for (var k = 0, t, m = f.findParents(d), r; (r = m[k++]); )
            if (f.isTagNode(r, "ol ul")) {
              t = r;
              break;
            }
          r = d;
          if (h.end)
            for (; r && !(f.getPosition(r, h.end) & f.POSITION_FOLLOWING); )
              if (b(r))
                r = f.getNextDomNode(r, !1, null, function (a) {
                  return a !== t;
                });
              else {
                k = r.parentNode;
                m = l.document.createElement(k.tagName);
                q = p.indexOf(
                  n[m.tagName],
                  c(k) || f.getComputedStyle(k, "list-style-type")
                );
                q = n[m.tagName][q + 1 == n[m.tagName].length ? 0 : q + 1];
                e(m, q);
                for (
                  k.insertBefore(m, r);
                  r && !(f.getPosition(r, h.end) & f.POSITION_FOLLOWING);

                ) {
                  d = r.nextSibling;
                  m.appendChild(r);
                  if (!d || f.isTagNode(d, "ol ul")) {
                    if (d) for (; (d = d.firstChild) && "LI" != d.tagName; );
                    else
                      d = f.getNextDomNode(r, !1, null, function (a) {
                        return a !== t;
                      });
                    break;
                  }
                  r = d;
                }
                a(m, m.tagName.toLowerCase(), q);
                r = d;
              }
          l.fireEvent("contentchange");
          g.moveToBookmark(h).select();
          return !0;
        }
      }
    });
    l.commands.insertorderedlist = l.commands.insertunorderedlist = {
      execCommand: function (b, d) {
        d || (d = "insertorderedlist" == b.toLowerCase() ? "decimal" : "disc");
        var h = this.selection.getRange(),
          l = function (a) {
            return 1 == a.nodeType
              ? "br" != a.tagName.toLowerCase()
              : !f.isWhitespace(a);
          },
          n = "insertorderedlist" == b.toLowerCase() ? "ol" : "ul",
          m = this.document.createDocumentFragment();
        h.adjustmentBoundary().shrinkBoundary();
        var q = h.createBookmark(!0),
          t = g(this.document.getElementById(q.start)),
          p = 0,
          r = g(this.document.getElementById(q.end)),
          s = 0,
          z,
          H,
          D,
          B;
        if (t || r) {
          t && (z = t.parentNode);
          q.end || (r = t);
          r && (H = r.parentNode);
          if (z === H) {
            for (; t !== r; ) {
              B = t;
              t = t.nextSibling;
              if (!f.isBlockElm(B.firstChild)) {
                for (l = this.document.createElement("p"); B.firstChild; )
                  l.appendChild(B.firstChild);
                B.appendChild(l);
              }
              m.appendChild(B);
            }
            B = this.document.createElement("span");
            z.insertBefore(B, r);
            if (!f.isBlockElm(r.firstChild)) {
              for (l = this.document.createElement("p"); r.firstChild; )
                l.appendChild(r.firstChild);
              r.appendChild(l);
            }
            m.appendChild(r);
            f.breakParent(B, z);
            f.isEmptyNode(B.previousSibling) && f.remove(B.previousSibling);
            f.isEmptyNode(B.nextSibling) && f.remove(B.nextSibling);
            l =
              c(z) ||
              f.getComputedStyle(z, "list-style-type") ||
              ("insertorderedlist" == b.toLowerCase() ? "decimal" : "disc");
            if (z.tagName.toLowerCase() == n && l == d) {
              r = 0;
              for (
                r = this.document.createDocumentFragment();
                (l = m.firstChild);

              )
                if (f.isTagNode(l, "ol ul")) r.appendChild(l);
                else
                  for (; l.firstChild; )
                    r.appendChild(l.firstChild), f.remove(l);
              B.parentNode.insertBefore(r, B);
            } else
              (D = this.document.createElement(n)),
                e(D, d),
                D.appendChild(m),
                B.parentNode.insertBefore(D, B);
            f.remove(B);
            D && a(D, n, d);
            h.moveToBookmark(q).select();
            return;
          }
          if (t) {
            for (; t; ) {
              B = t.nextSibling;
              if (f.isTagNode(t, "ol ul")) m.appendChild(t);
              else {
                D = this.document.createDocumentFragment();
                for (var O = 0; t.firstChild; )
                  f.isBlockElm(t.firstChild) && (O = 1),
                    D.appendChild(t.firstChild);
                O
                  ? m.appendChild(D)
                  : ((O = this.document.createElement("p")),
                    O.appendChild(D),
                    m.appendChild(O));
                f.remove(t);
              }
              t = B;
            }
            z.parentNode.insertBefore(m, z.nextSibling);
            f.isEmptyNode(z)
              ? (h.setStartBefore(z), f.remove(z))
              : h.setStartAfter(z);
            p = 1;
          }
          if (r && f.inDoc(H, this.document)) {
            for (t = H.firstChild; t && t !== r; ) {
              B = t.nextSibling;
              if (f.isTagNode(t, "ol ul")) m.appendChild(t);
              else {
                D = this.document.createDocumentFragment();
                for (O = 0; t.firstChild; )
                  f.isBlockElm(t.firstChild) && (O = 1),
                    D.appendChild(t.firstChild);
                O
                  ? m.appendChild(D)
                  : ((O = this.document.createElement("p")),
                    O.appendChild(D),
                    m.appendChild(O));
                f.remove(t);
              }
              t = B;
            }
            B = f.createElement(this.document, "div", { tmpDiv: 1 });
            f.moveChild(r, B);
            m.appendChild(B);
            f.remove(r);
            H.parentNode.insertBefore(m, H);
            h.setEndBefore(H);
            f.isEmptyNode(H) && f.remove(H);
            s = 1;
          }
        }
        p || h.setStartBefore(this.document.getElementById(q.start));
        q.end && !s && h.setEndAfter(this.document.getElementById(q.end));
        h.enlarge(!0, function (a) {
          return k[a.tagName];
        });
        m = this.document.createDocumentFragment();
        r = h.createBookmark();
        z = f.getNextDomNode(r.start, !1, l);
        D = h.cloneRange();
        for (
          p = f.isBlockElm;
          z && z !== r.end && f.getPosition(z, r.end) & f.POSITION_PRECEDING;

        )
          if (3 == z.nodeType || v.li[z.tagName])
            if (1 == z.nodeType && v.$list[z.tagName]) {
              for (; z.firstChild; ) m.appendChild(z.firstChild);
              t = f.getNextDomNode(z, !1, l);
              f.remove(z);
              z = t;
            } else {
              t = z;
              for (
                D.setStartBefore(z);
                z && z !== r.end && (!p(z) || f.isBookmarkNode(z));

              )
                (t = z),
                  (z = f.getNextDomNode(z, !1, null, function (a) {
                    return !k[a.tagName];
                  }));
              z &&
                p(z) &&
                (B = f.getNextDomNode(t, !1, l)) &&
                f.isBookmarkNode(B) &&
                ((z = f.getNextDomNode(B, !1, l)), (t = B));
              D.setEndAfter(t);
              z = f.getNextDomNode(t, !1, l);
              B = h.document.createElement("li");
              B.appendChild(D.extractContents());
              if (f.isEmptyNode(B)) {
                for (t = h.document.createElement("p"); B.firstChild; )
                  t.appendChild(B.firstChild);
                B.appendChild(t);
              }
              m.appendChild(B);
            }
          else z = f.getNextDomNode(z, !0, l);
        h.moveToBookmark(r).collapse(!0);
        D = this.document.createElement(n);
        e(D, d);
        D.appendChild(m);
        h.insertNode(D);
        a(D, n, d);
        r = 0;
        for (n = f.getElementsByTagName(D, "div"); (l = n[r++]); )
          l.getAttribute("tmpDiv") && f.remove(l, !0);
        h.moveToBookmark(q).select();
      },
      queryCommandState: function (a) {
        a = "insertorderedlist" == a.toLowerCase() ? "ol" : "ul";
        for (
          var b = this.selection.getStartElementPath(), c = 0, e;
          (e = b[c++]) && "TABLE" != e.nodeName;

        )
          if (a == e.nodeName.toLowerCase()) return 1;
        return 0;
      },
      queryCommandValue: function (a) {
        a = "insertorderedlist" == a.toLowerCase() ? "ol" : "ul";
        for (
          var b = this.selection.getStartElementPath(), e, g = 0, d;
          (d = b[g++]);

        ) {
          if ("TABLE" == d.nodeName) {
            e = null;
            break;
          }
          if (a == d.nodeName.toLowerCase()) {
            e = d;
            break;
          }
        }
        return e ? c(e) || f.getComputedStyle(e, "list-style-type") : null;
      },
    };
  };
  (function () {
    var d = {
      textarea: function (c, b) {
        var a = b.ownerDocument.createElement("textarea");
        a.style.cssText =
          "position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;";
        r.ie &&
          8 > r.version &&
          ((a.style.width = b.offsetWidth + "px"),
          (a.style.height = b.offsetHeight + "px"),
          (b.onresize = function () {
            a.style.width = b.offsetWidth + "px";
            a.style.height = b.offsetHeight + "px";
          }));
        b.appendChild(a);
        return {
          setContent: function (b) {
            a.value = b;
          },
          getContent: function () {
            return a.value;
          },
          select: function () {
            var b;
            r.ie
              ? ((b = a.createTextRange()), b.collapse(!0), b.select())
              : (a.setSelectionRange(0, 0), a.focus());
          },
          dispose: function () {
            b.removeChild(a);
            b = a = b.onresize = null;
          },
        };
      },
      codemirror: function (c, b) {
        var a = window.CodeMirror(b, {
            mode: "text/html",
            tabMode: "indent",
            lineNumbers: !0,
            lineWrapping: !0,
          }),
          e = a.getWrapperElement();
        e.style.cssText =
          'position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;';
        a.getScrollerElement().style.cssText =
          "position:absolute;left:0;top:0;width:100%;height:100%;";
        a.refresh();
        return {
          getCodeMirror: function () {
            return a;
          },
          setContent: function (b) {
            a.setValue(b);
          },
          getContent: function () {
            return a.getValue();
          },
          select: function () {
            a.focus();
          },
          dispose: function () {
            b.removeChild(e);
            a = e = null;
          },
        };
      },
    };
    UE.plugins.source = function () {
      var c = this,
        b = this.options,
        a = !1,
        e,
        h;
      b.sourceEditor = r.ie ? "textarea" : b.sourceEditor || "codemirror";
      c.setOpt({ sourceEditorFirst: !1 });
      var g, l, k;
      c.commands.source = {
        execCommand: function () {
          if ((a = !a)) {
            k = c.selection.getRange().createAddress(!1, !0);
            c.undoManger && c.undoManger.save(!0);
            r.gecko && (c.body.contentEditable = !1);
            g = c.iframe.style.cssText;
            c.iframe.style.cssText +=
              "position:absolute;left:-32768px;top:-32768px;";
            c.fireEvent("beforegetcontent");
            var n = UE.htmlparser(c.body.innerHTML);
            c.filterOutputRule(n);
            n.traversal(function (a) {
              if ("element" == a.type)
                switch (a.tagName) {
                  case "td":
                  case "th":
                  case "caption":
                    a.children &&
                      1 == a.children.length &&
                      "br" == a.firstChild().tagName &&
                      a.removeChild(a.firstChild());
                    break;
                  case "pre":
                    a.innerText(a.innerText().replace(/&nbsp;/g, " "));
                }
            });
            c.fireEvent("aftergetcontent");
            n = n.toHtml(!0);
            e = d[
              "codemirror" == b.sourceEditor && window.CodeMirror
                ? "codemirror"
                : "textarea"
            ](c, c.iframe.parentNode);
            e.setContent(n);
            h = c.setContent;
            c.setContent = function (a) {
              a = UE.htmlparser(a);
              c.filterInputRule(a);
              a = a.toHtml();
              e.setContent(a);
            };
            setTimeout(function () {
              e.select();
              c.addListener("fullscreenchanged", function () {
                try {
                  e.getCodeMirror().refresh();
                } catch (a) {}
              });
            });
            l = c.getContent;
            c.getContent = function () {
              return e.getContent() || "<p>" + (r.ie ? "" : "<br/>") + "</p>";
            };
          } else if (
            ((c.iframe.style.cssText = g),
            (n = e.getContent() || "<p>" + (r.ie ? "" : "<br/>") + "</p>"),
            (n = n.replace(
              RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>", "g"),
              function (a, b) {
                return b && !v.$inlineWithA[b.toLowerCase()]
                  ? a.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g, "")
                  : a.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g, "");
              }
            )),
            (c.setContent = h),
            c.setContent(n),
            e.dispose(),
            (e = null),
            (c.getContent = l),
            (n = c.body.firstChild),
            n ||
              ((c.body.innerHTML = "<p>" + (r.ie ? "" : "<br/>") + "</p>"),
              (n = c.body.firstChild)),
            c.undoManger && c.undoManger.save(!0),
            r.gecko)
          ) {
            var m = document.createElement("input");
            m.style.cssText = "position:absolute;left:0;top:-32768px";
            document.body.appendChild(m);
            c.body.contentEditable = !1;
            setTimeout(function () {
              f.setViewportOffset(m, { left: -32768, top: 0 });
              m.focus();
              setTimeout(function () {
                c.body.contentEditable = !0;
                c.selection.getRange().moveToAddress(k).select(!0);
                f.remove(m);
              });
            });
          } else
            try {
              c.selection.getRange().moveToAddress(k).select(!0);
            } catch (t) {}
          this.fireEvent("sourcemodechanged", a);
        },
        queryCommandState: function () {
          return a | 0;
        },
        notNeedUndo: 1,
      };
      var m = c.queryCommandState;
      c.queryCommandState = function (b) {
        b = b.toLowerCase();
        return a
          ? b in { source: 1, fullscreen: 1 }
            ? 1
            : -1
          : m.apply(this, arguments);
      };
      "codemirror" == b.sourceEditor &&
        c.addListener("ready", function () {
          p.loadFile(
            document,
            {
              src:
                b.codeMirrorJsUrl ||
                b.UEDITOR_HOME_URL + "third-party/codemirror/codemirror.js",
              tag: "script",
              type: "text/javascript",
              defer: "defer",
            },
            function () {
              b.sourceEditorFirst &&
                setTimeout(function () {
                  c.execCommand("source");
                }, 0);
            }
          );
          p.loadFile(document, {
            tag: "link",
            rel: "stylesheet",
            type: "text/css",
            href:
              b.codeMirrorCssUrl ||
              b.UEDITOR_HOME_URL + "third-party/codemirror/codemirror.css",
          });
        });
    };
  })();
  UE.plugins.enterkey = function () {
    var d,
      c = this,
      b = c.options.enterTag;
    c.addListener("keyup", function (a, b) {
      if (13 == (b.keyCode || b.which)) {
        var h = c.selection.getRange(),
          g = h.startContainer,
          l;
        if (r.ie) c.fireEvent("saveScene", !0, !0);
        else {
          if (/h\d/i.test(d)) {
            if (r.gecko)
              f.findParentByTagName(
                g,
                "h1 h2 h3 h4 h5 h6 blockquote caption table".split(" "),
                !0
              ) || (c.document.execCommand("formatBlock", !1, "<p>"), (l = 1));
            else if (1 == g.nodeType) {
              var g = c.document.createTextNode(""),
                k;
              h.insertNode(g);
              if ((k = f.findParentByTagName(g, "div", !0))) {
                for (l = c.document.createElement("p"); k.firstChild; )
                  l.appendChild(k.firstChild);
                k.parentNode.insertBefore(l, k);
                f.remove(k);
                h.setStartBefore(g).setCursor();
                l = 1;
              }
              f.remove(g);
            }
            c.undoManger && l && c.undoManger.save();
          }
          r.opera && h.select();
        }
      }
    });
    c.addListener("keydown", function (a, e) {
      if (13 == (e.keyCode || e.which))
        if (c.fireEvent("beforeenterkeydown")) f.preventDefault(e);
        else {
          c.fireEvent("saveScene", !0, !0);
          d = "";
          var h = c.selection.getRange();
          if (!h.collapsed) {
            var g = h.startContainer,
              l = h.endContainer,
              g = f.findParentByTagName(g, "td", !0),
              l = f.findParentByTagName(l, "td", !0);
            if ((g && l && g !== l) || (!g && l) || (g && !l)) {
              e.preventDefault ? e.preventDefault() : (e.returnValue = !1);
              return;
            }
          }
          if ("p" == b)
            r.ie ||
              ((g = f.findParentByTagName(
                h.startContainer,
                "ol ul p h1 h2 h3 h4 h5 h6 blockquote caption".split(" "),
                !0
              )) || r.opera
                ? ((d = g.tagName),
                  "p" == g.tagName.toLowerCase() &&
                    r.gecko &&
                    f.removeDirtyAttr(g))
                : (c.document.execCommand("formatBlock", !1, "<p>"),
                  r.gecko &&
                    ((h = c.selection.getRange()),
                    (g = f.findParentByTagName(h.startContainer, "p", !0)) &&
                      f.removeDirtyAttr(g))));
          else if (
            (e.preventDefault ? e.preventDefault() : (e.returnValue = !1),
            h.collapsed)
          )
            (l = h.document.createElement("br")),
              h.insertNode(l),
              l.parentNode.lastChild === l
                ? (l.parentNode.insertBefore(l.cloneNode(!0), l),
                  h.setStartBefore(l))
                : h.setStartAfter(l),
              h.setCursor();
          else if (
            (h.deleteContents(),
            (g = h.startContainer),
            1 == g.nodeType && (g = g.childNodes[h.startOffset]))
          ) {
            for (; 1 == g.nodeType; ) {
              if (v.$empty[g.tagName])
                return (
                  h.setStartBefore(g).setCursor(),
                  c.undoManger && c.undoManger.save(),
                  !1
                );
              if (!g.firstChild)
                return (
                  (l = h.document.createElement("br")),
                  g.appendChild(l),
                  h.setStart(g, 0).setCursor(),
                  c.undoManger && c.undoManger.save(),
                  !1
                );
              g = g.firstChild;
            }
            g === h.startContainer.childNodes[h.startOffset]
              ? ((l = h.document.createElement("br")),
                h.insertNode(l).setCursor())
              : h.setStart(g, 0).setCursor();
          } else
            (l = h.document.createElement("br")),
              h.insertNode(l).setStartAfter(l).setCursor();
        }
    });
  };
  UE.plugins.keystrokes = function () {
    var d = this,
      c = !0;
    d.addListener("keydown", function (b, a) {
      var e = a.keyCode || a.which,
        h = d.selection.getRange();
      if (
        !(h.collapsed || a.ctrlKey || a.shiftKey || a.altKey || a.metaKey) &&
        ((65 <= e && 90 >= e) ||
          (48 <= e && 57 >= e) ||
          (96 <= e && 111 >= e) ||
          { 13: 1, 8: 1, 46: 1 }[e])
      ) {
        var g = h.startContainer;
        f.isFillChar(g) && h.setStartBefore(g);
        g = h.endContainer;
        f.isFillChar(g) && h.setEndAfter(g);
        h.txtToElmBoundary();
        h.endContainer &&
          1 == h.endContainer.nodeType &&
          (g = h.endContainer.childNodes[h.endOffset]) &&
          f.isBr(g) &&
          h.setEndAfter(g);
        if (
          0 == h.startOffset &&
          ((g = h.startContainer),
          f.isBoundaryNode(g, "firstChild") &&
            ((g = h.endContainer),
            h.endOffset ==
              (3 == g.nodeType ? g.nodeValue.length : g.childNodes.length) &&
              f.isBoundaryNode(g, "lastChild")))
        ) {
          d.fireEvent("saveScene");
          d.body.innerHTML = "<p>" + (r.ie ? "" : "<br/>") + "</p>";
          h.setStart(d.body.firstChild, 0).setCursor(!1, !0);
          d._selectionChange();
          return;
        }
      }
      if (e == $.Backspace) {
        h = d.selection.getRange();
        c = h.collapsed;
        if (d.fireEvent("delkeydown", a)) return;
        var l, k;
        h.collapsed &&
          h.inFillChar() &&
          ((l = h.startContainer),
          f.isFillChar(l)
            ? (h.setStartBefore(l).shrinkBoundary(!0).collapse(!0), f.remove(l))
            : ((l.nodeValue = l.nodeValue.replace(
                RegExp("^" + f.fillChar),
                ""
              )),
              h.startOffset--,
              h.collapse(!0).select(!0)));
        if ((l = h.getClosedNode())) {
          d.fireEvent("saveScene");
          h.setStartBefore(l);
          f.remove(l);
          h.setCursor();
          d.fireEvent("saveScene");
          f.preventDefault(a);
          return;
        }
        if (
          !r.ie &&
          ((l = f.findParentByTagName(h.startContainer, "table", !0)),
          (k = f.findParentByTagName(h.endContainer, "table", !0)),
          (l && !k) || (!l && k) || l !== k)
        ) {
          a.preventDefault();
          return;
        }
      }
      if (e == $.Tab) {
        var m = { ol: 1, ul: 1, table: 1 };
        if (d.fireEvent("tabkeydown", a)) {
          f.preventDefault(a);
          return;
        }
        h = d.selection.getRange();
        d.fireEvent("saveScene");
        var g = 0,
          n = "";
        l = d.options.tabSize || 4;
        for (k = d.options.tabNode || "&nbsp;"; g < l; g++) n += k;
        g = d.document.createElement("span");
        g.innerHTML = n + f.fillChar;
        if (h.collapsed) h.insertNode(g.cloneNode(!0).firstChild).setCursor(!0);
        else if (
          ((n = function (a) {
            return f.isBlockElm(a) && !m[a.tagName.toLowerCase()];
          }),
          (l = f.findParent(h.startContainer, n, !0)),
          (k = f.findParent(h.endContainer, n, !0)),
          l && k && l === k)
        )
          h.deleteContents(),
            h.insertNode(g.cloneNode(!0).firstChild).setCursor(!0);
        else {
          l = h.createBookmark();
          h.enlarge(!0);
          k = h.createBookmark();
          for (
            var q = f.getNextDomNode(k.start, !1, n);
            q && !(f.getPosition(q, k.end) & f.POSITION_FOLLOWING);

          )
            q.insertBefore(g.cloneNode(!0).firstChild, q.firstChild),
              (q = f.getNextDomNode(q, !1, n));
          h.moveToBookmark(k).moveToBookmark(l).select();
        }
        f.preventDefault(a);
      }
      if (
        r.gecko &&
        46 == e &&
        ((h = d.selection.getRange()),
        h.collapsed && ((l = h.startContainer), f.isEmptyBlock(l)))
      ) {
        for (e = l.parentNode; 1 == f.getChildCount(e) && !f.isBody(e); )
          (l = e), (e = e.parentNode);
        l === e.lastChild && a.preventDefault();
      }
    });
    d.addListener("keyup", function (b, a) {
      var e;
      if (
        (a.keyCode || a.which) == $.Backspace &&
        !this.fireEvent("delkeyup")
      ) {
        e = this.selection.getRange();
        if (e.collapsed) {
          var d;
          if (
            (d = f.findParentByTagName(
              e.startContainer,
              "h1 h2 h3 h4 h5 h6".split(" "),
              !0
            )) &&
            f.isEmptyBlock(d)
          ) {
            var g = d.previousSibling;
            if (g && "TABLE" != g.nodeName) {
              f.remove(d);
              e.setStartAtLast(g).setCursor(!1, !0);
              return;
            }
            if ((g = d.nextSibling) && "TABLE" != g.nodeName) {
              f.remove(d);
              e.setStartAtFirst(g).setCursor(!1, !0);
              return;
            }
          }
          f.isBody(e.startContainer) &&
            ((d = f.createElement(this.document, "p", {
              innerHTML: r.ie ? f.fillChar : "<br/>",
            })),
            e.insertNode(d).setStart(d, 0).setCursor(!1, !0));
        }
        !c &&
          (3 == e.startContainer.nodeType ||
            (1 == e.startContainer.nodeType &&
              f.isEmptyBlock(e.startContainer))) &&
          (r.ie
            ? ((d = e.document.createElement("span")),
              e.insertNode(d).setStartBefore(d).collapse(!0),
              e.select(),
              f.remove(d))
            : e.select());
      }
    });
  };
  UE.plugins.fiximgclick = (function () {
    function d() {
      this.cover = this.resizer = this.editor = null;
      this.doc = document;
      this.prePos = { x: 0, y: 0 };
      this.startPos = { x: 0, y: 0 };
    }
    var c = !1;
    (function () {
      var b = [
        [0, 0, -1, -1],
        [0, 0, 0, -1],
        [0, 0, 1, -1],
        [0, 0, -1, 0],
        [0, 0, 1, 0],
        [0, 0, -1, 1],
        [0, 0, 0, 1],
        [0, 0, 1, 1],
      ];
      d.prototype = {
        init: function (a) {
          var b = this;
          b.editor = a;
          b.startPos = this.prePos = { x: 0, y: 0 };
          b.dragId = -1;
          a = [];
          var c = (b.cover = document.createElement("div")),
            g = (b.resizer = document.createElement("div"));
          c.id = b.editor.ui.id + "_imagescale_cover";
          c.style.cssText =
            "position:absolute;display:none;z-index:" +
            b.editor.options.zIndex +
            ";filter:alpha(opacity=0); opacity:0;background:#CCC;";
          f.on(c, "mousedown click", function () {
            b.hide();
          });
          for (i = 0; 8 > i; i++)
            a.push(
              '<span class="edui-editor-imagescale-hand' + i + '"></span>'
            );
          g.id = b.editor.ui.id + "_imagescale";
          g.className = "edui-editor-imagescale";
          g.innerHTML = a.join("");
          g.style.cssText +=
            ";display:none;border:1px solid #3b77ff;z-index:" +
            b.editor.options.zIndex +
            ";";
          b.editor.ui.getDom().appendChild(c);
          b.editor.ui.getDom().appendChild(g);
          b.initStyle();
          b.initEvents();
        },
        initStyle: function () {
          p.cssRule(
            "imagescale",
            ".edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}"
          );
        },
        initEvents: function () {
          this.startPos.x = this.startPos.y = 0;
          this.isDraging = !1;
        },
        _eventHandler: function (a) {
          switch (a.type) {
            case "mousedown":
              var b = a.target || a.srcElement;
              -1 != b.className.indexOf("edui-editor-imagescale-hand") &&
                -1 == this.dragId &&
                ((this.dragId = b.className.slice(-1)),
                (this.startPos.x = this.prePos.x = a.clientX),
                (this.startPos.y = this.prePos.y = a.clientY),
                f.on(
                  this.doc,
                  "mousemove",
                  this.proxy(this._eventHandler, this)
                ));
              break;
            case "mousemove":
              -1 != this.dragId &&
                (this.updateContainerStyle(this.dragId, {
                  x: a.clientX - this.prePos.x,
                  y: a.clientY - this.prePos.y,
                }),
                (this.prePos.x = a.clientX),
                (this.prePos.y = a.clientY),
                (c = !0),
                this.updateTargetElement());
              break;
            case "mouseup":
              -1 != this.dragId &&
                (this.updateContainerStyle(this.dragId, {
                  x: a.clientX - this.prePos.x,
                  y: a.clientY - this.prePos.y,
                }),
                this.updateTargetElement(),
                this.target.parentNode && this.attachTo(this.target),
                (this.dragId = -1)),
                f.un(
                  this.doc,
                  "mousemove",
                  this.proxy(this._eventHandler, this)
                ),
                c && ((c = !1), this.editor.fireEvent("contentchange"));
          }
        },
        updateTargetElement: function () {
          f.setStyles(this.target, {
            width: this.resizer.style.width,
            height: this.resizer.style.height,
          });
          this.target.width = parseInt(this.resizer.style.width);
          this.target.height = parseInt(this.resizer.style.height);
          this.attachTo(this.target);
        },
        updateContainerStyle: function (a, c) {
          var d = this.resizer,
            g;
          0 != b[a][0] &&
            ((g = parseInt(d.style.left) + c.x),
            (d.style.left = this._validScaledProp("left", g) + "px"));
          0 != b[a][1] &&
            ((g = parseInt(d.style.top) + c.y),
            (d.style.top = this._validScaledProp("top", g) + "px"));
          0 != b[a][2] &&
            ((g = d.clientWidth + b[a][2] * c.x),
            (d.style.width = this._validScaledProp("width", g) + "px"));
          0 != b[a][3] &&
            ((g = d.clientHeight + b[a][3] * c.y),
            (d.style.height = this._validScaledProp("height", g) + "px"));
        },
        _validScaledProp: function (a, b) {
          var c = this.resizer,
            g = document;
          b = isNaN(b) ? 0 : b;
          switch (a) {
            case "left":
              return 0 > b
                ? 0
                : b + c.clientWidth > g.clientWidth
                ? g.clientWidth - c.clientWidth
                : b;
            case "top":
              return 0 > b
                ? 0
                : b + c.clientHeight > g.clientHeight
                ? g.clientHeight - c.clientHeight
                : b;
            case "width":
              return 0 >= b
                ? 1
                : b + c.offsetLeft > g.clientWidth
                ? g.clientWidth - c.offsetLeft
                : b;
            case "height":
              return 0 >= b
                ? 1
                : b + c.offsetTop > g.clientHeight
                ? g.clientHeight - c.offsetTop
                : b;
          }
        },
        hideCover: function () {
          this.cover.style.display = "none";
        },
        showCover: function () {
          var a = f.getXY(this.editor.ui.getDom()),
            b = f.getXY(this.editor.iframe);
          f.setStyles(this.cover, {
            width: this.editor.iframe.offsetWidth + "px",
            height: this.editor.iframe.offsetHeight + "px",
            top: b.y - a.y + "px",
            left: b.x - a.x + "px",
            position: "absolute",
            display: "",
          });
        },
        show: function (a) {
          this.resizer.style.display = "block";
          a && this.attachTo(a);
          f.on(this.resizer, "mousedown", this.proxy(this._eventHandler, this));
          f.on(this.doc, "mouseup", this.proxy(this._eventHandler, this));
          this.showCover();
          this.editor.fireEvent("afterscaleshow", this);
          this.editor.fireEvent("saveScene");
        },
        hide: function () {
          this.hideCover();
          this.resizer.style.display = "none";
          f.un(this.resizer, "mousedown", this.proxy(this._eventHandler, this));
          f.un(this.doc, "mouseup", this.proxy(this._eventHandler, this));
          this.editor.fireEvent("afterscalehide", this);
        },
        proxy: function (a, b) {
          return function (c) {
            return a.apply(b || this, arguments);
          };
        },
        attachTo: function (a) {
          a = this.target = a;
          var b = this.resizer,
            c = f.getXY(a),
            g = f.getXY(this.editor.iframe),
            d = f.getXY(b.parentNode);
          f.setStyles(b, {
            width: a.width + "px",
            height: a.height + "px",
            left:
              g.x +
              c.x -
              this.editor.document.body.scrollLeft -
              d.x -
              parseInt(b.style.borderLeftWidth) +
              "px",
            top:
              g.y +
              c.y -
              this.editor.document.body.scrollTop -
              d.y -
              parseInt(b.style.borderTopWidth) +
              "px",
          });
        },
      };
    })();
    return function () {
      var b = this,
        a;
      b.setOpt("imageScaleEnabled", !0);
      !r.ie &&
        b.options.imageScaleEnabled &&
        b.addListener("click", function (c, h) {
          var g = b.selection.getRange().getClosedNode();
          if (g && "IMG" == g.tagName && "false" != b.body.contentEditable) {
            if (
              !(
                -1 != g.className.indexOf("edui-faked-music") ||
                g.getAttribute("anchorname") ||
                f.hasClass(g, "loadingclass") ||
                f.hasClass(g, "loaderrorclass")
              )
            ) {
              if (!a) {
                a = new d();
                a.init(b);
                b.ui.getDom().appendChild(a.resizer);
                var l = function (c) {
                    a.hide();
                    a.target &&
                      b.selection.getRange().selectNode(a.target).select();
                  },
                  k = function (a) {
                    var b = a.target || a.srcElement;
                    !b ||
                      (void 0 !== b.className &&
                        -1 != b.className.indexOf("edui-editor-imagescale")) ||
                      l(a);
                  },
                  m;
                b.addListener("afterscaleshow", function (a) {
                  b.addListener("beforekeydown", l);
                  b.addListener("beforemousedown", k);
                  f.on(document, "keydown", l);
                  f.on(document, "mousedown", k);
                  b.selection.getNative().removeAllRanges();
                });
                b.addListener("afterscalehide", function (c) {
                  b.removeListener("beforekeydown", l);
                  b.removeListener("beforemousedown", k);
                  f.un(document, "keydown", l);
                  f.un(document, "mousedown", k);
                  c = a.target;
                  c.parentNode && b.selection.getRange().selectNode(c).select();
                });
                f.on(a.resizer, "mousedown", function (c) {
                  b.selection.getNative().removeAllRanges();
                  var e = c.target || c.srcElement;
                  e &&
                    -1 == e.className.indexOf("edui-editor-imagescale-hand") &&
                    (m = setTimeout(function () {
                      a.hide();
                      a.target && b.selection.getRange().selectNode(e).select();
                    }, 200));
                });
                f.on(a.resizer, "mouseup", function (a) {
                  (a = a.target || a.srcElement) &&
                    -1 == a.className.indexOf("edui-editor-imagescale-hand") &&
                    clearTimeout(m);
                });
              }
              a.show(g);
            }
          } else a && "none" != a.resizer.style.display && a.hide();
        });
      r.webkit &&
        b.addListener("click", function (a, c) {
          "IMG" == c.target.tagName &&
            "false" != b.body.contentEditable &&
            new L.Range(b.document).selectNode(c.target).select();
        });
    };
  })();
  UE.plugin.register(
    "autolink",
    function () {
      return r.ie
        ? {}
        : {
            bindEvents: {
              reset: function () {},
              keydown: function (d, c) {
                var b = c.keyCode || c.which;
                if (32 == b || 13 == b) {
                  for (
                    var b = this.selection.getNative(),
                      a = b.getRangeAt(0).cloneRange(),
                      e,
                      h = a.startContainer;
                    1 == h.nodeType && 0 < a.startOffset;

                  ) {
                    h = a.startContainer.childNodes[a.startOffset - 1];
                    if (!h) break;
                    a.setStart(
                      h,
                      1 == h.nodeType ? h.childNodes.length : h.nodeValue.length
                    );
                    a.collapse(!0);
                    h = a.startContainer;
                  }
                  do {
                    if (0 == a.startOffset) {
                      for (
                        h = a.startContainer.previousSibling;
                        h && 1 == h.nodeType;

                      )
                        h = h.lastChild;
                      if (!h || f.isFillChar(h)) break;
                      e = h.nodeValue.length;
                    } else (h = a.startContainer), (e = a.startOffset);
                    a.setStart(h, e - 1);
                    e = a.toString().charCodeAt(0);
                  } while (160 != e && 32 != e);
                  if (
                    a
                      .toString()
                      .replace(RegExp(f.fillChar, "g"), "")
                      .match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)
                  ) {
                    for (
                      ;
                      a.toString().length &&
                      !/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(
                        a.toString()
                      );

                    )
                      try {
                        a.setStart(a.startContainer, a.startOffset + 1);
                      } catch (g) {
                        for (h = a.startContainer; !(next = h.nextSibling); ) {
                          if (f.isBody(h)) return;
                          h = h.parentNode;
                        }
                        a.setStart(next, 0);
                      }
                    if (!f.findParentByTagName(a.startContainer, "a", !0)) {
                      e = this.document.createElement("a");
                      var h = this.document.createTextNode(" "),
                        l;
                      this.undoManger && this.undoManger.save();
                      e.appendChild(a.extractContents());
                      e.href = e.innerHTML = e.innerHTML.replace(
                        /<[^>]+>/g,
                        ""
                      );
                      l = e
                        .getAttribute("href")
                        .replace(RegExp(f.fillChar, "g"), "");
                      l = /^(?:https?:\/\/)/gi.test(l) ? l : "http://" + l;
                      e.setAttribute("_src", p.html(l));
                      e.href = p.html(l);
                      a.insertNode(e);
                      e.parentNode.insertBefore(h, e.nextSibling);
                      a.setStart(h, 0);
                      a.collapse(!0);
                      b.removeAllRanges();
                      b.addRange(a);
                      this.undoManger && this.undoManger.save();
                    }
                  }
                }
              },
            },
          };
    },
    function () {
      function d(b) {
        if (3 == b.nodeType) return null;
        if ("A" == b.nodeName) return b;
        for (b = b.lastChild; b; ) {
          if ("A" == b.nodeName) return b;
          if (3 == b.nodeType) {
            if (f.isWhitespace(b)) {
              b = b.previousSibling;
              continue;
            }
            return null;
          }
          b = b.lastChild;
        }
      }
      var c = { 37: 1, 38: 1, 39: 1, 40: 1, 13: 1, 32: 1 };
      r.ie &&
        this.addListener("keyup", function (b, a) {
          var e = a.keyCode;
          if (c[e]) {
            var h = this.selection.getRange(),
              g = h.startContainer;
            if (13 == e) {
              for (; g && !f.isBody(g) && !f.isBlockElm(g); ) g = g.parentNode;
              g &&
                !f.isBody(g) &&
                "P" == g.nodeName &&
                (h = g.previousSibling) &&
                1 == h.nodeType &&
                (h = d(h)) &&
                !h.getAttribute("_href") &&
                f.remove(h, !0);
            } else
              32 == e
                ? 3 == g.nodeType &&
                  /^\s$/.test(g.nodeValue) &&
                  (g = g.previousSibling) &&
                  "A" == g.nodeName &&
                  !g.getAttribute("_href") &&
                  f.remove(g, !0)
                : (g = f.findParentByTagName(g, "a", !0)) &&
                  !g.getAttribute("_href") &&
                  ((e = h.createBookmark()),
                  f.remove(g, !0),
                  h.moveToBookmark(e).select(!0));
          }
        });
    }
  );
  UE.plugins.autoheight = function () {
    function d() {
      var b = this;
      clearTimeout(g);
      l ||
        (b.queryCommandState &&
          (!b.queryCommandState || 1 == b.queryCommandState("source"))) ||
        (g = setTimeout(function () {
          for (var c = b.body.lastChild; c && 1 != c.nodeType; )
            c = c.previousSibling;
          c &&
            1 == c.nodeType &&
            ((c.style.clear = "both"),
            (h = Math.max(
              f.getXY(c).y + c.offsetHeight + 25,
              Math.max(e.minFrameHeight, e.initialFrameHeight)
            )),
            h != a &&
              (h !== parseInt(b.iframe.parentNode.style.height) &&
                (b.iframe.parentNode.style.height = h + "px"),
              (b.body.style.height = h + "px"),
              (a = h)),
            f.removeStyle(c, "clear"));
        }, 50));
    }
    var c = this;
    c.autoHeightEnabled = !1 !== c.options.autoHeightEnabled;
    if (c.autoHeightEnabled) {
      var b,
        a = 0,
        e = c.options,
        h,
        g,
        l;
      c.addListener("fullscreenchanged", function (a, b) {
        l = b;
      });
      c.addListener("destroy", function () {
        c.removeListener("contentchange afterinserthtml keyup mouseup", d);
      });
      c.enableAutoHeight = function () {
        var a = this;
        if (a.autoHeightEnabled) {
          var c = a.document;
          a.autoHeightEnabled = !0;
          b = c.body.style.overflowY;
          c.body.style.overflowY = "hidden";
          a.addListener("contentchange afterinserthtml keyup mouseup", d);
          setTimeout(
            function () {
              d.call(a);
            },
            r.gecko ? 100 : 0
          );
          a.fireEvent("autoheightchanged", a.autoHeightEnabled);
        }
      };
      c.disableAutoHeight = function () {
        c.body.style.overflowY = b || "";
        c.removeListener("contentchange", d);
        c.removeListener("keyup", d);
        c.removeListener("mouseup", d);
        c.autoHeightEnabled = !1;
        c.fireEvent("autoheightchanged", c.autoHeightEnabled);
      };
      c.on("setHeight", function () {
        c.disableAutoHeight();
      });
      c.addListener("ready", function () {
        c.enableAutoHeight();
        var a;
        f.on(
          r.ie ? c.body : c.document,
          r.webkit ? "dragover" : "drop",
          function () {
            clearTimeout(a);
            a = setTimeout(function () {
              d.call(c);
            }, 100);
          }
        );
        var b;
        window.onscroll = function () {
          null === b
            ? (b = this.scrollY)
            : 0 == this.scrollY &&
              0 != b &&
              (c.window.scrollTo(0, 0), (b = null));
        };
      });
    }
  };
  UE.plugins.autofloat = function () {
    function d() {
      var a = document.body.style;
      a.backgroundImage = 'url("about:blank")';
      a.backgroundAttachment = "fixed";
    }
    function c() {
      y = !0;
      n.parentNode && n.parentNode.removeChild(n);
      q.style.cssText = m;
    }
    function b() {
      var b = w(a.container),
        e = a.options.toolbarTopOffset || 0;
      if (0 > b.top && b.bottom - q.offsetHeight > e) {
        var b = f.getXY(q),
          e = f.getComputedStyle(q, "position"),
          g = f.getComputedStyle(q, "left");
        q.style.width = q.offsetWidth + "px";
        q.style.zIndex = 1 * a.options.zIndex + 1;
        q.parentNode.insertBefore(n, q);
        l || (k && r.ie)
          ? ("absolute" != q.style.position && (q.style.position = "absolute"),
            (q.style.top =
              (document.body.scrollTop || document.documentElement.scrollTop) -
              t +
              h +
              "px"))
          : (r.ie7Compat &&
              y &&
              ((y = !1),
              (q.style.left =
                f.getXY(q).x -
                document.documentElement.getBoundingClientRect().left +
                2 +
                "px")),
            "fixed" != q.style.position &&
              ((q.style.position = "fixed"),
              (q.style.top = h + "px"),
              ("absolute" == e || "relative" == e) &&
                parseFloat(g) &&
                (q.style.left = b.x + "px")));
      } else c();
    }
    var a = this,
      e = a.getLang();
    a.setOpt({ topOffset: 0 });
    var h = a.options.topOffset;
    if (!1 !== a.options.autoFloatEnabled) {
      var g = UE.ui.uiUtils,
        l = r.ie && 6 >= r.version,
        k = r.quirks,
        m,
        n = document.createElement("div"),
        q,
        t,
        w,
        y = !0,
        u = p.defer(
          function () {
            b();
          },
          r.ie ? 200 : 100,
          !0
        );
      a.addListener("destroy", function () {
        f.un(window, ["scroll", "resize"], b);
        a.removeListener("keydown", u);
      });
      a.addListener("ready", function () {
        var h;
        UE.ui ? (h = 1) : (alert(e.autofloatMsg), (h = 0));
        h &&
          a.ui &&
          ((w = g.getClientRect),
          (q = a.ui.getDom("toolbarbox")),
          (t = w(q).top),
          (m = q.style.cssText),
          (n.style.height = q.offsetHeight + "px"),
          l && d(),
          f.on(window, ["scroll", "resize"], b),
          a.addListener("keydown", u),
          a.addListener("beforefullscreenchange", function (a, b) {
            b && c();
          }),
          a.addListener("fullscreenchanged", function (a, c) {
            c || b();
          }),
          a.addListener("sourcemodechanged", function (a, c) {
            setTimeout(function () {
              b();
            }, 0);
          }),
          a.addListener("clearDoc", function () {
            setTimeout(function () {
              b();
            }, 0);
          }));
      });
    }
  };
  UE.plugins.video = function () {
    function d(a, c, d, g, f, k, m) {
      var n;
      switch (m) {
        case "image":
          n =
            "<img " +
            (g ? 'id="' + g + '"' : "") +
            ' width="' +
            c +
            '" height="' +
            d +
            '" _url="' +
            a +
            '" class="' +
            k.replace(/\bvideo-js\b/, "") +
            '" src="' +
            b.options.UEDITOR_HOME_URL +
            'themes/default/images/spacer.gif" style="background:url(' +
            b.options.UEDITOR_HOME_URL +
            "themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;" +
            (f ? "float:" + f + ";" : "") +
            '" />';
          break;
        case "embed":
          n =
            '<embed type="application/x-shockwave-flash" class="' +
            k +
            '" pluginspage="http://www.macromedia.com/go/getflashplayer" src="' +
            p.html(a) +
            '" width="' +
            c +
            '" height="' +
            d +
            '"' +
            (f ? ' style="float:' + f + '"' : "") +
            ' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >';
          break;
        case "video":
          (m = a.substr(a.lastIndexOf(".") + 1)),
            "ogv" == m && (m = "ogg"),
            (n =
              "<video" +
              (g ? ' id="' + g + '"' : "") +
              ' class="' +
              k +
              ' video-js" ' +
              (f ? ' style="float:' + f + '"' : "") +
              ' controls preload="none" width="' +
              c +
              '" height="' +
              d +
              '" src="' +
              a +
              '" data-setup="{}"><source src="' +
              a +
              '" type="video/' +
              m +
              '" /></video>');
      }
      return n;
    }
    function c(a, b) {
      p.each(a.getNodesByTagName(b ? "img" : "embed video"), function (a) {
        var c = a.getAttr("class");
        if (c && -1 != c.indexOf("edui-faked-video")) {
          var f = d(
            b ? a.getAttr("_url") : a.getAttr("src"),
            a.getAttr("width"),
            a.getAttr("height"),
            null,
            a.getStyle("float") || "",
            c,
            b ? "embed" : "image"
          );
          a.parentNode.replaceChild(UE.uNode.createElement(f), a);
        }
        c &&
          -1 != c.indexOf("edui-upload-video") &&
          ((f = d(
            b ? a.getAttr("_url") : a.getAttr("src"),
            a.getAttr("width"),
            a.getAttr("height"),
            null,
            a.getStyle("float") || "",
            c,
            b ? "video" : "image"
          )),
          a.parentNode.replaceChild(UE.uNode.createElement(f), a));
      });
    }
    var b = this;
    b.addOutputRule(function (a) {
      c(a, !0);
    });
    b.addInputRule(function (a) {
      c(a);
    });
    b.commands.insertvideo = {
      execCommand: function (a, c, h) {
        c = p.isArray(c) ? c : [c];
        var g = [],
          l;
        a = 0;
        for (var k, m = c.length; a < m; a++)
          (k = c[a]),
            (l =
              "upload" == h
                ? "edui-upload-video video-js vjs-default-skin"
                : "edui-faked-video"),
            g.push(
              d(
                k.url,
                k.width || 420,
                k.height || 280,
                "tmpVedio" + a,
                null,
                l,
                "image"
              )
            );
        b.execCommand("inserthtml", g.join(""), !0);
        h = this.selection.getRange();
        a = 0;
        for (m = c.length; a < m; a++)
          (g = this.document.getElementById("tmpVedio" + a)),
            f.removeAttributes(g, "id"),
            h.selectNode(g).select(),
            b.execCommand("imagefloat", c[a].align);
      },
      queryCommandState: function () {
        var a = b.selection.getRange().getClosedNode();
        return !a ||
          ("edui-faked-video" != a.className &&
            -1 == a.className.indexOf("edui-upload-video"))
          ? 0
          : 1;
      },
    };
  };
  (function () {
    var d = (UE.UETable = function (c) {
      this.table = c;
      this.indexTable = [];
      this.selectedTds = [];
      this.cellsRange = {};
      this.update(c);
    });
    d.removeSelectedClass = function (c) {
      p.each(c, function (b) {
        f.removeClasses(b, "selectTdClass");
      });
    };
    d.addSelectedClass = function (c) {
      p.each(c, function (b) {
        f.addClass(b, "selectTdClass");
      });
    };
    d.isEmptyBlock = function (c) {
      var b = RegExp(f.fillChar, "g");
      if (
        0 <
        c[r.ie ? "innerText" : "textContent"]
          .replace(/^\s*$/, "")
          .replace(b, "").length
      )
        return 0;
      for (var a in v.$isNotEmpty)
        if (v.$isNotEmpty.hasOwnProperty(a) && c.getElementsByTagName(a).length)
          return 0;
      return 1;
    };
    d.getWidth = function (c) {
      return c ? parseInt(f.getComputedStyle(c, "width"), 10) : 0;
    };
    d.getTableCellAlignState = function (c) {
      !p.isArray(c) && (c = [c]);
      var b = {},
        a = ["align", "valign"],
        e = null,
        d = !0;
      p.each(c, function (c) {
        p.each(a, function (a) {
          e = c.getAttribute(a);
          if (!b[a] && e) b[a] = e;
          else if (!b[a] || e !== b[a]) return (d = !1);
        });
        return d;
      });
      return d ? b : null;
    };
    d.getTableItemsByRange = function (c) {
      var b = c.selection.getStart();
      b &&
        b.id &&
        0 === b.id.indexOf("_baidu_bookmark_start_") &&
        b.nextSibling &&
        (b = b.nextSibling);
      var a =
          (c = b && f.findParentByTagName(b, ["td", "th"], !0)) && c.parentNode,
        b = b && f.findParentByTagName(b, "caption", !0);
      return {
        cell: c,
        tr: a,
        table: b ? b.parentNode : a && a.parentNode.parentNode,
        caption: b,
      };
    };
    d.getUETableBySelected = function (c) {
      return (c = d.getTableItemsByRange(c).table) &&
        c.ueTable &&
        c.ueTable.selectedTds.length
        ? c.ueTable
        : null;
    };
    d.getDefaultValue = function (c, b) {
      var a = { thin: "0px", medium: "1px", thick: "2px" },
        e,
        d,
        g;
      if (b)
        (l = b.getElementsByTagName("td")[0]),
          (g = f.getComputedStyle(b, "border-left-width")),
          (e = parseInt(a[g] || g, 10)),
          (g = f.getComputedStyle(l, "padding-left")),
          (d = parseInt(a[g] || g, 10)),
          (g = f.getComputedStyle(l, "border-left-width")),
          (a = parseInt(a[g] || g, 10));
      else {
        b = c.document.createElement("table");
        b.insertRow(0).insertCell(0).innerHTML = "xxx";
        c.body.appendChild(b);
        var l = b.getElementsByTagName("td")[0];
        g = f.getComputedStyle(b, "border-left-width");
        e = parseInt(a[g] || g, 10);
        g = f.getComputedStyle(l, "padding-left");
        d = parseInt(a[g] || g, 10);
        g = f.getComputedStyle(l, "border-left-width");
        a = parseInt(a[g] || g, 10);
        f.remove(b);
      }
      return { tableBorder: e, tdPadding: d, tdBorder: a };
    };
    d.getUETable = function (c) {
      var b = c.tagName.toLowerCase();
      c =
        "td" == b || "th" == b || "caption" == b
          ? f.findParentByTagName(c, "table", !0)
          : c;
      c.ueTable || (c.ueTable = new d(c));
      return c.ueTable;
    };
    d.cloneCell = function (c, b, a) {
      if (!c || p.isString(c))
        return this.table.ownerDocument.createElement(c || "td");
      var e = f.hasClass(c, "selectTdClass");
      e && f.removeClasses(c, "selectTdClass");
      var d = c.cloneNode(!0);
      b && (d.rowSpan = d.colSpan = 1);
      !a && f.removeAttributes(d, "width height");
      !a && f.removeAttributes(d, "style");
      d.style.borderLeftStyle = "";
      d.style.borderTopStyle = "";
      d.style.borderLeftColor = c.style.borderRightColor;
      d.style.borderLeftWidth = c.style.borderRightWidth;
      d.style.borderTopColor = c.style.borderBottomColor;
      d.style.borderTopWidth = c.style.borderBottomWidth;
      e && f.addClass(c, "selectTdClass");
      return d;
    };
    d.prototype = {
      getMaxRows: function () {
        for (var c = this.table.rows, b = 1, a = 0, e; (e = c[a]); a++) {
          for (var d = 1, g = 0, f; (f = e.cells[g++]); )
            d = Math.max(f.rowSpan || 1, d);
          b = Math.max(d + a, b);
        }
        return b;
      },
      getMaxCols: function () {
        for (
          var c = this.table.rows, b = 0, a = {}, e = 0, d;
          (d = c[e]);
          e++
        ) {
          for (var g = 0, f = 0, k; (k = d.cells[f++]); )
            if (((g += k.colSpan || 1), k.rowSpan && 1 < k.rowSpan))
              for (var m = 1; m < k.rowSpan; m++)
                a["row_" + (e + m)]
                  ? a["row_" + (e + m)]++
                  : (a["row_" + (e + m)] = k.colSpan || 1);
          g += a["row_" + e] || 0;
          b = Math.max(g, b);
        }
        return b;
      },
      getCellColIndex: function (c) {},
      getHSideCell: function (c, b) {
        try {
          var a = this.getCellInfo(c),
            e,
            d,
            g = this.selectedTds.length,
            f = this.cellsRange;
          if (
            (!b && (g ? !f.beginColIndex : !a.colIndex)) ||
            (b &&
              (g
                ? f.endColIndex == this.colsNum - 1
                : a.colIndex == this.colsNum - 1))
          )
            return null;
          e = g ? f.beginRowIndex : a.rowIndex;
          d = b
            ? g
              ? f.endColIndex + 1
              : a.colIndex + 1
            : g
            ? f.beginColIndex - 1
            : 1 > a.colIndex
            ? 0
            : a.colIndex - 1;
          return this.getCell(
            this.indexTable[e][d].rowIndex,
            this.indexTable[e][d].cellIndex
          );
        } catch (k) {}
      },
      getTabNextCell: function (c, b) {
        var a = this.getCellInfo(c),
          e = b || a.rowIndex,
          a = a.colIndex + 1 + (a.colSpan - 1),
          d;
        try {
          d = this.getCell(
            this.indexTable[e][a].rowIndex,
            this.indexTable[e][a].cellIndex
          );
        } catch (g) {
          try {
            (e = 1 * e + 1),
              (a = 0),
              (d = this.getCell(
                this.indexTable[e][a].rowIndex,
                this.indexTable[e][a].cellIndex
              ));
          } catch (f) {}
        }
        return d;
      },
      getVSideCell: function (c, b, a) {
        try {
          var e = this.getCellInfo(c),
            d,
            g,
            f = this.selectedTds.length && !a,
            k = this.cellsRange;
          if (
            (!b && 0 == e.rowIndex) ||
            (b &&
              (f
                ? k.endRowIndex == this.rowsNum - 1
                : e.rowIndex + e.rowSpan > this.rowsNum - 1))
          )
            return null;
          d = b
            ? f
              ? k.endRowIndex + 1
              : e.rowIndex + e.rowSpan
            : f
            ? k.beginRowIndex - 1
            : e.rowIndex - 1;
          g = f ? k.beginColIndex : e.colIndex;
          return this.getCell(
            this.indexTable[d][g].rowIndex,
            this.indexTable[d][g].cellIndex
          );
        } catch (m) {}
      },
      getSameEndPosCells: function (c, b) {
        try {
          for (
            var a = "x" === b.toLowerCase(),
              e =
                f.getXY(c)[a ? "x" : "y"] +
                c["offset" + (a ? "Width" : "Height")],
              d = this.table.rows,
              g = null,
              l = [],
              k = 0;
            k < this.rowsNum;
            k++
          )
            for (var g = d[k].cells, m = 0, n; (n = g[m++]); ) {
              var q =
                f.getXY(n)[a ? "x" : "y"] +
                n["offset" + (a ? "Width" : "Height")];
              if (q > e && a) break;
              if (c == n || e == q)
                if ((1 == n[a ? "colSpan" : "rowSpan"] && l.push(n), a)) break;
            }
          return l;
        } catch (t) {}
      },
      setCellContent: function (c, b) {
        c.innerHTML = b || (r.ie ? f.fillChar : "<br />");
      },
      cloneCell: d.cloneCell,
      getSameStartPosXCells: function (c) {
        try {
          var b = f.getXY(c).x + c.offsetWidth,
            a = this.table.rows,
            e;
          c = [];
          for (var d = 0; d < this.rowsNum; d++) {
            e = a[d].cells;
            for (var g = 0, l; (l = e[g++]); ) {
              var k = f.getXY(l).x;
              if (k > b) break;
              if (k == b && 1 == l.colSpan) {
                c.push(l);
                break;
              }
            }
          }
          return c;
        } catch (m) {}
      },
      update: function (c) {
        this.table = c || this.table;
        this.selectedTds = [];
        this.cellsRange = {};
        this.indexTable = [];
        c = this.table.rows;
        for (
          var b = this.getMaxRows(), a = b - c.length, e = this.getMaxCols();
          a--;

        )
          this.table.insertRow(c.length);
        this.rowsNum = b;
        this.colsNum = e;
        for (var a = 0, d = c.length; a < d; a++) this.indexTable[a] = Array(e);
        for (var a = 0, g; (g = c[a]); a++) {
          var d = 0,
            l;
          for (g = g.cells; (l = g[d]); d++) {
            l.rowSpan > b && (l.rowSpan = b);
            var k = d,
              m = l.rowSpan || 1;
            for (l = l.colSpan || 1; this.indexTable[a][k]; ) k++;
            for (var n = 0; n < m; n++)
              for (var q = 0; q < l; q++)
                this.indexTable[a + n][k + q] = {
                  rowIndex: a,
                  cellIndex: d,
                  colIndex: k,
                  rowSpan: m,
                  colSpan: l,
                };
          }
        }
        for (n = 0; n < b; n++)
          for (q = 0; q < e; q++)
            void 0 === this.indexTable[n][q] &&
              ((g = c[n]),
              (l = (l = g.cells[g.cells.length - 1])
                ? l.cloneNode(!0)
                : this.table.ownerDocument.createElement("td")),
              this.setCellContent(l),
              1 !== l.colSpan && (l.colSpan = 1),
              1 !== l.rowSpan && (l.rowSpan = 1),
              g.appendChild(l),
              (this.indexTable[n][q] = {
                rowIndex: n,
                cellIndex: l.cellIndex,
                colIndex: q,
                rowSpan: 1,
                colSpan: 1,
              }));
        c = f.getElementsByTagName(this.table, "td");
        var t = [];
        p.each(c, function (a) {
          f.hasClass(a, "selectTdClass") && t.push(a);
        });
        t.length &&
          ((b = t[t.length - 1]),
          (c = this.getCellInfo(t[0])),
          (b = this.getCellInfo(b)),
          (this.selectedTds = t),
          (this.cellsRange = {
            beginRowIndex: c.rowIndex,
            beginColIndex: c.colIndex,
            endRowIndex: b.rowIndex + b.rowSpan - 1,
            endColIndex: b.colIndex + b.colSpan - 1,
          }));
        if (!f.hasClass(this.table.rows[0], "firstRow"))
          for (
            f.addClass(this.table.rows[0], "firstRow"), a = 1;
            a < this.table.rows.length;
            a++
          )
            f.removeClasses(this.table.rows[a], "firstRow");
      },
      getCellInfo: function (c) {
        if (c) {
          var b = c.cellIndex;
          c = c.parentNode.rowIndex;
          for (
            var a = this.indexTable[c], e = this.colsNum, d = b;
            d < e;
            d++
          ) {
            var g = a[d];
            if (g.rowIndex === c && g.cellIndex === b) return g;
          }
        }
      },
      getCell: function (c, b) {
        return (c < this.rowsNum && this.table.rows[c].cells[b]) || null;
      },
      deleteCell: function (c, b) {
        b = "number" == typeof b ? b : c.parentNode.rowIndex;
        this.table.rows[b].deleteCell(c.cellIndex);
      },
      getCellsRange: function (c, b) {
        function a(b, c, g, d) {
          var k = b,
            h = c,
            f = g,
            l = d,
            n,
            m,
            q;
          if (0 < b)
            for (m = c; m < d; m++)
              (n = e.indexTable[b][m]),
                (q = n.rowIndex),
                q < b && (k = Math.min(q, k));
          if (d < e.colsNum)
            for (q = b; q < g; q++)
              (n = e.indexTable[q][d]),
                (m = n.colIndex + n.colSpan - 1),
                m > d && (l = Math.max(m, l));
          if (g < e.rowsNum)
            for (m = c; m < d; m++)
              (n = e.indexTable[g][m]),
                (q = n.rowIndex + n.rowSpan - 1),
                q > g && (f = Math.max(q, f));
          if (0 < c)
            for (q = b; q < g; q++)
              (n = e.indexTable[q][c]),
                (m = n.colIndex),
                m < c && (h = Math.min(n.colIndex, h));
          return k != b || h != c || f != g || l != d
            ? a(k, h, f, l)
            : {
                beginRowIndex: b,
                beginColIndex: c,
                endRowIndex: g,
                endColIndex: d,
              };
        }
        try {
          var e = this,
            d = e.getCellInfo(c);
          if (c === b)
            return {
              beginRowIndex: d.rowIndex,
              beginColIndex: d.colIndex,
              endRowIndex: d.rowIndex + d.rowSpan - 1,
              endColIndex: d.colIndex + d.colSpan - 1,
            };
          var g = e.getCellInfo(b),
            f = Math.min(d.rowIndex, g.rowIndex),
            k = Math.min(d.colIndex, g.colIndex),
            m = Math.max(
              d.rowIndex + d.rowSpan - 1,
              g.rowIndex + g.rowSpan - 1
            ),
            n = Math.max(
              d.colIndex + d.colSpan - 1,
              g.colIndex + g.colSpan - 1
            );
          return a(f, k, m, n);
        } catch (q) {}
      },
      getCells: function (c) {
        this.clearSelected();
        for (
          var b = c.beginColIndex,
            a = c.endRowIndex,
            e = c.endColIndex,
            d,
            g,
            f = {},
            k = [],
            m = c.beginRowIndex;
          m <= a;
          m++
        )
          for (var n = b; n <= e; n++) {
            c = this.indexTable[m][n];
            d = c.rowIndex;
            g = c.colIndex;
            var q = d + "|" + g;
            if (!f[q]) {
              f[q] = 1;
              if (
                d < m ||
                g < n ||
                d + c.rowSpan - 1 > a ||
                g + c.colSpan - 1 > e
              )
                return null;
              k.push(this.getCell(d, c.cellIndex));
            }
          }
        return k;
      },
      clearSelected: function () {
        d.removeSelectedClass(this.selectedTds);
        this.selectedTds = [];
        this.cellsRange = {};
      },
      setSelected: function (c) {
        var b = this.getCells(c);
        d.addSelectedClass(b);
        this.selectedTds = b;
        this.cellsRange = c;
      },
      isFullRow: function () {
        var c = this.cellsRange;
        return c.endColIndex - c.beginColIndex + 1 == this.colsNum;
      },
      isFullCol: function () {
        var c = this.cellsRange,
          b = this.table.getElementsByTagName("th"),
          c = c.endRowIndex - c.beginRowIndex + 1;
        return b.length
          ? c == this.rowsNum || c == this.rowsNum - 1
          : c == this.rowsNum;
      },
      getNextCell: function (c, b, a) {
        try {
          var e = this.getCellInfo(c),
            d,
            g,
            f = this.selectedTds.length && !a,
            k = this.cellsRange;
          if (
            (!b && 0 == e.rowIndex) ||
            (b &&
              (f
                ? k.endRowIndex == this.rowsNum - 1
                : e.rowIndex + e.rowSpan > this.rowsNum - 1))
          )
            return null;
          d = b
            ? f
              ? k.endRowIndex + 1
              : e.rowIndex + e.rowSpan
            : f
            ? k.beginRowIndex - 1
            : e.rowIndex - 1;
          g = f ? k.beginColIndex : e.colIndex;
          return this.getCell(
            this.indexTable[d][g].rowIndex,
            this.indexTable[d][g].cellIndex
          );
        } catch (m) {}
      },
      getPreviewCell: function (c, b) {
        try {
          var a = this.getCellInfo(c),
            e,
            d,
            g = this.selectedTds.length,
            f = this.cellsRange;
          if (
            (!b && (g ? !f.beginColIndex : !a.colIndex)) ||
            (b &&
              (g
                ? f.endColIndex == this.colsNum - 1
                : a.rowIndex > this.colsNum - 1))
          )
            return null;
          e = b
            ? g
              ? f.beginRowIndex
              : 1 > a.rowIndex
              ? 0
              : a.rowIndex - 1
            : g
            ? f.beginRowIndex
            : a.rowIndex;
          d = b
            ? g
              ? f.endColIndex + 1
              : a.colIndex
            : g
            ? f.beginColIndex - 1
            : 1 > a.colIndex
            ? 0
            : a.colIndex - 1;
          return this.getCell(
            this.indexTable[e][d].rowIndex,
            this.indexTable[e][d].cellIndex
          );
        } catch (k) {}
      },
      moveContent: function (c, b) {
        if (!d.isEmptyBlock(b))
          if (d.isEmptyBlock(c)) c.innerHTML = b.innerHTML;
          else {
            var a = c.lastChild;
            for (
              (3 != a.nodeType && v.$block[a.tagName]) ||
              c.appendChild(c.ownerDocument.createElement("br"));
              (a = b.firstChild);

            )
              c.appendChild(a);
          }
      },
      mergeRight: function (c) {
        var b = this.getCellInfo(c),
          a = this.indexTable[b.rowIndex][b.colIndex + b.colSpan],
          e = this.getCell(a.rowIndex, a.cellIndex);
        c.colSpan = b.colSpan + a.colSpan;
        c.removeAttribute("width");
        this.moveContent(c, e);
        this.deleteCell(e, a.rowIndex);
        this.update();
      },
      mergeDown: function (c) {
        var b = this.getCellInfo(c),
          a = this.indexTable[b.rowIndex + b.rowSpan][b.colIndex],
          e = this.getCell(a.rowIndex, a.cellIndex);
        c.rowSpan = b.rowSpan + a.rowSpan;
        c.removeAttribute("height");
        this.moveContent(c, e);
        this.deleteCell(e, a.rowIndex);
        this.update();
      },
      mergeRange: function () {
        var c = this.cellsRange,
          b = this.getCell(
            c.beginRowIndex,
            this.indexTable[c.beginRowIndex][c.beginColIndex].cellIndex
          );
        if ("TH" == b.tagName && c.endRowIndex !== c.beginRowIndex)
          var a = this.indexTable,
            c = this.getCellInfo(b),
            b = this.getCell(1, a[1][c.colIndex].cellIndex),
            c = this.getCellsRange(
              b,
              this.getCell(
                a[this.rowsNum - 1][c.colIndex].rowIndex,
                a[this.rowsNum - 1][c.colIndex].cellIndex
              )
            );
        for (var e = this.getCells(c), a = 0, d; (d = e[a++]); )
          d !== b && (this.moveContent(b, d), this.deleteCell(d));
        b.rowSpan = c.endRowIndex - c.beginRowIndex + 1;
        1 < b.rowSpan && b.removeAttribute("height");
        b.colSpan = c.endColIndex - c.beginColIndex + 1;
        1 < b.colSpan && b.removeAttribute("width");
        b.rowSpan == this.rowsNum && 1 != b.colSpan && (b.colSpan = 1);
        if (b.colSpan == this.colsNum && 1 != b.rowSpan) {
          e = b.parentNode.rowIndex;
          if (this.table.deleteRow)
            for (a = e + 1, e += 1, c = b.rowSpan; a < c; a++)
              this.table.deleteRow(e);
          else
            for (a = 0, c = b.rowSpan - 1; a < c; a++)
              (d = this.table.rows[e + 1]), d.parentNode.removeChild(d);
          b.rowSpan = 1;
        }
        this.update();
      },
      insertRow: function (c, b) {
        function a(a, b, c) {
          0 == a
            ? ((a = (c.nextSibling || c.previousSibling).cells[a]),
              "TH" == a.tagName &&
                ((a = b.ownerDocument.createElement("th")),
                a.appendChild(b.firstChild),
                c.insertBefore(a, b),
                f.remove(b)))
            : "TH" == b.tagName &&
              ((a = b.ownerDocument.createElement("td")),
              a.appendChild(b.firstChild),
              c.insertBefore(a, b),
              f.remove(b));
        }
        var e = this.colsNum,
          d = this.table.insertRow(c),
          g,
          l = "string" == typeof b && "TH" == b.toUpperCase();
        if (0 == c || c == this.rowsNum)
          for (var k = 0; k < e; k++)
            (g = this.cloneCell(b, !0)),
              this.setCellContent(g),
              g.getAttribute("vAlign") &&
                g.setAttribute("vAlign", g.getAttribute("vAlign")),
              d.appendChild(g),
              l || a(k, g, d);
        else
          for (var m = this.indexTable[c], k = 0; k < e; k++) {
            var n = m[k];
            n.rowIndex < c
              ? ((g = this.getCell(n.rowIndex, n.cellIndex)),
                (g.rowSpan = n.rowSpan + 1))
              : ((g = this.cloneCell(b, !0)),
                this.setCellContent(g),
                d.appendChild(g));
            l || a(k, g, d);
          }
        this.update();
        return d;
      },
      deleteRow: function (c) {
        for (
          var b = this.table.rows[c],
            a = this.indexTable[c],
            e = this.colsNum,
            d = 0,
            g = 0;
          g < e;

        ) {
          var l = a[g],
            k = this.getCell(l.rowIndex, l.cellIndex);
          if (1 < k.rowSpan && l.rowIndex == c) {
            l = k.cloneNode(!0);
            l.rowSpan = k.rowSpan - 1;
            l.innerHTML = "";
            k.rowSpan = 1;
            var m = c + 1,
              n = this.table.rows[m],
              m = this.getPreviewMergedCellsNum(m, g) - d;
            m < g
              ? ((m = g - m - 1), f.insertAfter(n.cells[m], l))
              : n.cells.length && n.insertBefore(l, n.cells[0]);
            d += 1;
          }
          g += k.colSpan || 1;
        }
        c = [];
        d = {};
        for (g = 0; g < e; g++)
          (k = a[g].rowIndex),
            (l = a[g].cellIndex),
            (n = k + "_" + l),
            d[n] || ((d[n] = 1), (k = this.getCell(k, l)), c.push(k));
        var q = [];
        p.each(c, function (a) {
          1 == a.rowSpan ? a.parentNode.removeChild(a) : q.push(a);
        });
        p.each(q, function (a) {
          a.rowSpan--;
        });
        b.parentNode.removeChild(b);
        this.update();
      },
      insertCol: function (c, b, a) {
        function e(a, b, c) {
          0 == a
            ? ((a = b.nextSibling || b.previousSibling),
              "TH" == a.tagName &&
                ((a = b.ownerDocument.createElement("th")),
                a.appendChild(b.firstChild),
                c.insertBefore(a, b),
                f.remove(b)))
            : "TH" == b.tagName &&
              ((a = b.ownerDocument.createElement("td")),
              a.appendChild(b.firstChild),
              c.insertBefore(a, b),
              f.remove(b));
        }
        var d = this.rowsNum,
          g = 0,
          l,
          k,
          m = parseInt(
            (this.table.offsetWidth -
              20 * (this.colsNum + 1) -
              (this.colsNum + 1)) /
              (this.colsNum + 1),
            10
          ),
          n = "string" == typeof b && "TH" == b.toUpperCase(),
          q;
        if (0 == c || c == this.colsNum)
          for (; g < d; g++)
            (l = this.table.rows[g]),
              (q = l.cells[0 == c ? c : l.cells.length]),
              (k = this.cloneCell(b, !0)),
              this.setCellContent(k),
              k.setAttribute("vAlign", k.getAttribute("vAlign")),
              q && k.setAttribute("width", q.getAttribute("width")),
              c
                ? f.insertAfter(l.cells[l.cells.length - 1], k)
                : l.insertBefore(k, l.cells[0]),
              n || e(g, k, l);
        else
          for (; g < d; g++)
            (q = this.indexTable[g][c]),
              q.colIndex < c
                ? ((k = this.getCell(q.rowIndex, q.cellIndex)),
                  (k.colSpan = q.colSpan + 1))
                : ((l = this.table.rows[g]),
                  (q = l.cells[q.cellIndex]),
                  (k = this.cloneCell(b, !0)),
                  this.setCellContent(k),
                  k.setAttribute("vAlign", k.getAttribute("vAlign")),
                  q && k.setAttribute("width", q.getAttribute("width")),
                  q ? l.insertBefore(k, q) : l.appendChild(k)),
              n || e(g, k, l);
        this.update();
        this.updateWidth(m, a || { tdPadding: 10, tdBorder: 1 });
      },
      updateWidth: function (c, b) {
        var a = this.table,
          e = d.getWidth(a) - 2 * b.tdPadding - b.tdBorder + c;
        e < a.ownerDocument.body.offsetWidth
          ? a.setAttribute("width", e)
          : ((a = f.getElementsByTagName(this.table, "td th")),
            p.each(a, function (a) {
              a.setAttribute("width", c);
            }));
      },
      deleteCol: function (c) {
        for (
          var b = this.indexTable,
            a = this.table.rows,
            e = this.table.getAttribute("width"),
            d = 0,
            g = this.rowsNum,
            f = {},
            k = 0;
          k < g;

        ) {
          var m = b[k][c],
            n = m.rowIndex + "_" + m.colIndex;
          f[n] ||
            ((f[n] = 1),
            (n = this.getCell(m.rowIndex, m.cellIndex)),
            d || (d = n && parseInt(n.offsetWidth / n.colSpan, 10).toFixed(0)),
            1 < n.colSpan ? n.colSpan-- : a[k].deleteCell(m.cellIndex),
            (k += m.rowSpan || 1));
        }
        this.table.setAttribute("width", e - d);
        this.update();
      },
      splitToCells: function (c) {
        var b = this;
        c = this.splitToRows(c);
        p.each(c, function (a) {
          b.splitToCols(a);
        });
      },
      splitToRows: function (c) {
        var b = this.getCellInfo(c),
          a = b.rowIndex,
          e = b.colIndex,
          d = [];
        c.rowSpan = 1;
        d.push(c);
        for (var g = a, f = a + b.rowSpan; g < f; g++)
          if (g != a) {
            var k = this.table.rows[g].insertCell(
              e - this.getPreviewMergedCellsNum(g, e)
            );
            k.colSpan = b.colSpan;
            this.setCellContent(k);
            k.setAttribute("vAlign", c.getAttribute("vAlign"));
            k.setAttribute("align", c.getAttribute("align"));
            c.style.cssText && (k.style.cssText = c.style.cssText);
            d.push(k);
          }
        this.update();
        return d;
      },
      getPreviewMergedCellsNum: function (c, b) {
        for (var a = this.indexTable[c], e = 0, d = 0; d < b; )
          var g = a[d].colSpan,
            e = e + (g - (a[d].rowIndex == c ? 1 : 0)),
            d = d + g;
        return e;
      },
      splitToCols: function (c) {
        var b = (c.offsetWidth / c.colSpan - 22).toFixed(0),
          a = this.getCellInfo(c),
          e = a.rowIndex,
          d = a.colIndex,
          g = [];
        c.colSpan = 1;
        c.setAttribute("width", b);
        g.push(c);
        for (var l = d, k = d + a.colSpan; l < k; l++)
          if (l != d) {
            var m = this.table.rows[e],
              n = m.insertCell(this.indexTable[e][l].cellIndex + 1);
            n.rowSpan = a.rowSpan;
            this.setCellContent(n);
            n.setAttribute("vAlign", c.getAttribute("vAlign"));
            n.setAttribute("align", c.getAttribute("align"));
            n.setAttribute("width", b);
            c.style.cssText && (n.style.cssText = c.style.cssText);
            if ("TH" == c.tagName) {
              var q = c.ownerDocument.createElement("th");
              q.appendChild(n.firstChild);
              q.setAttribute("vAlign", c.getAttribute("vAlign"));
              q.rowSpan = n.rowSpan;
              m.insertBefore(q, n);
              f.remove(n);
            }
            g.push(n);
          }
        this.update();
        return g;
      },
      isLastCell: function (c, b, a) {
        b = b || this.rowsNum;
        a = a || this.colsNum;
        c = this.getCellInfo(c);
        return c.rowIndex + c.rowSpan == b && c.colIndex + c.colSpan == a;
      },
      getLastCell: function (c) {
        c = c || this.table.getElementsByTagName("td");
        this.getCellInfo(c[0]);
        var b = this,
          a = c[0],
          e = a.parentNode,
          d = 0,
          g = 0,
          f;
        p.each(c, function (a) {
          a.parentNode == e && (g += a.colSpan || 1);
          d += a.rowSpan * a.colSpan || 1;
        });
        f = d / g;
        p.each(c, function (c) {
          if (b.isLastCell(c, f, g)) return (a = c), !1;
        });
        return a;
      },
      selectRow: function (c) {
        var b = this.indexTable[c];
        c = this.getCell(b[0].rowIndex, b[0].cellIndex);
        b = this.getCell(
          b[this.colsNum - 1].rowIndex,
          b[this.colsNum - 1].cellIndex
        );
        c = this.getCellsRange(c, b);
        this.setSelected(c);
      },
      selectTable: function () {
        var c = this.table.getElementsByTagName("td"),
          c = this.getCellsRange(c[0], c[c.length - 1]);
        this.setSelected(c);
      },
      setBackground: function (c, b) {
        if ("string" === typeof b)
          p.each(c, function (a) {
            a.style.backgroundColor = b;
          });
        else if ("object" === typeof b) {
          b = p.extend({ repeat: !0, colorList: ["#ddd", "#fff"] }, b);
          for (
            var a = this.getCellInfo(c[0]).rowIndex,
              e = 0,
              d = b.colorList,
              g = function (a, b, c) {
                return a[b] ? a[b] : c ? a[b % a.length] : "";
              },
              f = 0,
              k;
            (k = c[f++]);

          ) {
            var m = this.getCellInfo(k);
            k.style.backgroundColor = g(
              d,
              a + e == m.rowIndex ? e : ++e,
              b.repeat
            );
          }
        }
      },
      removeBackground: function (c) {
        p.each(c, function (b) {
          b.style.backgroundColor = "";
        });
      },
    };
  })();
  (function () {
    function d(b, e) {
      var d = f.getElementsByTagName(b, "td th");
      p.each(d, function (a) {
        a.removeAttribute("width");
      });
      b.setAttribute("width", c(e, !0, a.getDefaultValue(e, b)));
      var h = [];
      setTimeout(function () {
        p.each(d, function (a) {
          1 == a.colSpan && h.push(a.offsetWidth);
        });
        p.each(d, function (a, b) {
          1 == a.colSpan && a.setAttribute("width", h[b] + "");
        });
      }, 0);
    }
    function c(a, b, c) {
      var e = a.body;
      return (
        e.offsetWidth -
        (b ? 2 * parseInt(f.getComputedStyle(e, "margin-left"), 10) : 0) -
        2 * c.tableBorder -
        (a.options.offsetWidth || 0)
      );
    }
    function b(a) {
      if ((a = e(a).cell)) {
        var b = h(a);
        return b.selectedTds.length ? b.selectedTds : [a];
      }
      return [];
    }
    var a = UE.UETable,
      e = function (b) {
        return a.getTableItemsByRange(b);
      },
      h = function (b) {
        return a.getUETable(b);
      };
    UE.commands.inserttable = {
      queryCommandState: function () {
        return e(this).table ? -1 : 0;
      },
      execCommand: function (b, c) {
        c ||
          (c = p.extend(
            {},
            {
              numCols: this.options.defaultCols,
              numRows: this.options.defaultRows,
              tdvalign: this.options.tdvalign,
            }
          ));
        var e = this.selection.getRange().startContainer,
          e =
            f.findParent(
              e,
              function (a) {
                return f.isBlockElm(a);
              },
              !0
            ) || this.body,
          d = a.getDefaultValue(this, void 0),
          e = Math.floor(
            e.offsetWidth / c.numCols - 2 * d.tdPadding - d.tdBorder
          );
        !c.tdvalign && (c.tdvalign = this.options.tdvalign);
        this.execCommand(
          "inserthtml",
          (function (a, b) {
            for (var c = [], e = a.numRows, d = a.numCols, g = 0; g < e; g++) {
              c.push("<tr" + (0 == g ? ' class="firstRow"' : "") + ">");
              for (var k = 0; k < d; k++)
                c.push(
                  '<td width="' +
                    b +
                    '"  vAlign="' +
                    a.tdvalign +
                    '" >' +
                    (r.ie && 11 > r.version ? f.fillChar : "<br/>") +
                    "</td>"
                );
              c.push("</tr>");
            }
            return "<table><tbody>" + c.join("") + "</tbody></table>";
          })(c, e)
        );
      },
    };
    UE.commands.insertparagraphbeforetable = {
      queryCommandState: function () {
        return e(this).cell ? 0 : -1;
      },
      execCommand: function () {
        var a = e(this).table;
        if (a) {
          var b = this.document.createElement("p");
          b.innerHTML = r.ie ? "&nbsp;" : "<br />";
          a.parentNode.insertBefore(b, a);
          this.selection.getRange().setStart(b, 0).setCursor();
        }
      },
    };
    UE.commands.deletetable = {
      queryCommandState: function () {
        var a = this.selection.getRange();
        return f.findParentByTagName(a.startContainer, "table", !0) ? 0 : -1;
      },
      execCommand: function (a, b) {
        var c = this.selection.getRange();
        if ((b = b || f.findParentByTagName(c.startContainer, "table", !0))) {
          var e = b.nextSibling;
          e ||
            ((e = f.createElement(this.document, "p", {
              innerHTML: r.ie ? f.fillChar : "<br/>",
            })),
            b.parentNode.insertBefore(e, b));
          f.remove(b);
          c = this.selection.getRange();
          3 == e.nodeType ? c.setStartBefore(e) : c.setStart(e, 0);
          c.setCursor(!1, !0);
          this.fireEvent("tablehasdeleted");
        }
      },
    };
    UE.commands.cellalign = {
      queryCommandState: function () {
        return b(this).length ? 0 : -1;
      },
      execCommand: function (a, c) {
        var e = b(this);
        if (e.length)
          for (var d = 0, f; (f = e[d++]); ) f.setAttribute("align", c);
      },
    };
    UE.commands.cellvalign = {
      queryCommandState: function () {
        return b(this).length ? 0 : -1;
      },
      execCommand: function (a, c) {
        var e = b(this);
        if (e.length)
          for (var d = 0, f; (f = e[d++]); ) f.setAttribute("vAlign", c);
      },
    };
    UE.commands.insertcaption = {
      queryCommandState: function () {
        var a = e(this).table;
        return a
          ? 0 == a.getElementsByTagName("caption").length
            ? 1
            : -1
          : -1;
      },
      execCommand: function () {
        var a = e(this).table;
        if (a) {
          var b = this.document.createElement("caption");
          b.innerHTML = r.ie ? f.fillChar : "<br/>";
          a.insertBefore(b, a.firstChild);
          this.selection.getRange().setStart(b, 0).setCursor();
        }
      },
    };
    UE.commands.deletecaption = {
      queryCommandState: function () {
        var a = this.selection.getRange();
        return (a = f.findParentByTagName(a.startContainer, "table"))
          ? 0 == a.getElementsByTagName("caption").length
            ? -1
            : 1
          : -1;
      },
      execCommand: function () {
        var a = this.selection.getRange();
        if ((a = f.findParentByTagName(a.startContainer, "table")))
          f.remove(a.getElementsByTagName("caption")[0]),
            this.selection
              .getRange()
              .setStart(a.rows[0].cells[0], 0)
              .setCursor();
      },
    };
    UE.commands.inserttitle = {
      queryCommandState: function () {
        var a = e(this).table;
        return a
          ? ((a = a.rows[0]),
            "th" != a.cells[a.cells.length - 1].tagName.toLowerCase() ? 0 : -1)
          : -1;
      },
      execCommand: function () {
        var a = e(this).table;
        a && h(a).insertRow(0, "th");
        a = a.getElementsByTagName("th")[0];
        this.selection.getRange().setStart(a, 0).setCursor(!1, !0);
      },
    };
    UE.commands.deletetitle = {
      queryCommandState: function () {
        var a = e(this).table;
        return a
          ? ((a = a.rows[0]),
            "th" == a.cells[a.cells.length - 1].tagName.toLowerCase() ? 0 : -1)
          : -1;
      },
      execCommand: function () {
        var a = e(this).table;
        a && f.remove(a.rows[0]);
        a = a.getElementsByTagName("td")[0];
        this.selection.getRange().setStart(a, 0).setCursor(!1, !0);
      },
    };
    UE.commands.inserttitlecol = {
      queryCommandState: function () {
        var a = e(this).table;
        return a
          ? a.rows[a.rows.length - 1].getElementsByTagName("th").length
            ? -1
            : 0
          : -1;
      },
      execCommand: function (a) {
        (a = e(this).table) && h(a).insertCol(0, "th");
        d(a, this);
        a = a.getElementsByTagName("th")[0];
        this.selection.getRange().setStart(a, 0).setCursor(!1, !0);
      },
    };
    UE.commands.deletetitlecol = {
      queryCommandState: function () {
        var a = e(this).table;
        return a
          ? a.rows[a.rows.length - 1].getElementsByTagName("th").length
            ? 0
            : -1
          : -1;
      },
      execCommand: function () {
        var a = e(this).table;
        if (a)
          for (var b = 0; b < a.rows.length; b++)
            f.remove(a.rows[b].children[0]);
        d(a, this);
        a = a.getElementsByTagName("td")[0];
        this.selection.getRange().setStart(a, 0).setCursor(!1, !0);
      },
    };
    UE.commands.mergeright = {
      queryCommandState: function (a) {
        var b = e(this);
        a = b.table;
        b = b.cell;
        if (!a || !b) return -1;
        var c = h(a);
        if (c.selectedTds.length) return -1;
        var d = c.getCellInfo(b),
          f = d.colIndex + d.colSpan;
        if (f >= c.colsNum) return -1;
        c = c.indexTable[d.rowIndex][f];
        return (a = a.rows[c.rowIndex].cells[c.cellIndex]) &&
          b.tagName == a.tagName
          ? c.rowIndex == d.rowIndex && c.rowSpan == d.rowSpan
            ? 0
            : -1
          : -1;
      },
      execCommand: function (a) {
        a = this.selection.getRange();
        var b = a.createBookmark(!0),
          c = e(this).cell;
        h(c).mergeRight(c);
        a.moveToBookmark(b).select();
      },
    };
    UE.commands.mergedown = {
      queryCommandState: function (a) {
        var b = e(this);
        a = b.table;
        b = b.cell;
        if (!a || !b) return -1;
        var c = h(a);
        if (c.selectedTds.length) return -1;
        var d = c.getCellInfo(b),
          f = d.rowIndex + d.rowSpan;
        if (f >= c.rowsNum) return -1;
        c = c.indexTable[f][d.colIndex];
        return (a = a.rows[c.rowIndex].cells[c.cellIndex]) &&
          b.tagName == a.tagName
          ? c.colIndex == d.colIndex && c.colSpan == d.colSpan
            ? 0
            : -1
          : -1;
      },
      execCommand: function () {
        var a = this.selection.getRange(),
          b = a.createBookmark(!0),
          c = e(this).cell;
        h(c).mergeDown(c);
        a.moveToBookmark(b).select();
      },
    };
    UE.commands.mergecells = {
      queryCommandState: function () {
        return a.getUETableBySelected(this) ? 0 : -1;
      },
      execCommand: function () {
        var b = a.getUETableBySelected(this);
        if (b && b.selectedTds.length) {
          var c = b.selectedTds[0];
          b.mergeRange();
          b = this.selection.getRange();
          f.isEmptyBlock(c)
            ? b.setStart(c, 0).collapse(!0)
            : b.selectNodeContents(c);
          b.select();
        }
      },
    };
    UE.commands.insertrow = {
      queryCommandState: function () {
        var a = e(this),
          b = a.cell;
        return b &&
          ("TD" == b.tagName ||
            ("TH" == b.tagName && a.tr !== a.table.rows[0])) &&
          h(a.table).rowsNum < this.options.maxRowNum
          ? 0
          : -1;
      },
      execCommand: function () {
        var a = this.selection.getRange(),
          b = a.createBookmark(!0),
          c = e(this),
          d = c.cell,
          c = c.table,
          f = h(c),
          q = f.getCellInfo(d);
        if (f.selectedTds.length)
          for (
            var q = f.cellsRange,
              t = 0,
              w = q.endRowIndex - q.beginRowIndex + 1;
            t < w;
            t++
          )
            f.insertRow(q.beginRowIndex, d);
        else f.insertRow(q.rowIndex, d);
        a.moveToBookmark(b).select();
        "enabled" === c.getAttribute("interlaced") &&
          this.fireEvent("interlacetable", c);
      },
    };
    UE.commands.insertrownext = {
      queryCommandState: function () {
        var a = e(this),
          b = a.cell;
        return b &&
          "TD" == b.tagName &&
          h(a.table).rowsNum < this.options.maxRowNum
          ? 0
          : -1;
      },
      execCommand: function () {
        var a = this.selection.getRange(),
          b = a.createBookmark(!0),
          c = e(this),
          d = c.cell,
          c = c.table,
          f = h(c),
          q = f.getCellInfo(d);
        if (f.selectedTds.length)
          for (
            var q = f.cellsRange,
              t = 0,
              w = q.endRowIndex - q.beginRowIndex + 1;
            t < w;
            t++
          )
            f.insertRow(q.endRowIndex + 1, d);
        else f.insertRow(q.rowIndex + q.rowSpan, d);
        a.moveToBookmark(b).select();
        "enabled" === c.getAttribute("interlaced") &&
          this.fireEvent("interlacetable", c);
      },
    };
    UE.commands.deleterow = {
      queryCommandState: function () {
        return e(this).cell ? 0 : -1;
      },
      execCommand: function () {
        var a = e(this).cell,
          b = h(a),
          c = b.cellsRange,
          d = b.getCellInfo(a),
          n = b.getVSideCell(a),
          q = b.getVSideCell(a, !0),
          a = this.selection.getRange();
        if (p.isEmptyObject(c)) b.deleteRow(d.rowIndex);
        else
          for (var t = c.beginRowIndex; t < c.endRowIndex + 1; t++)
            b.deleteRow(c.beginRowIndex);
        t = b.table;
        t.getElementsByTagName("td").length
          ? 1 == d.rowSpan || d.rowSpan == c.endRowIndex - c.beginRowIndex + 1
            ? (q || n) && a.selectNodeContents(q || n).setCursor(!1, !0)
            : (b = b.getCell(
                d.rowIndex,
                b.indexTable[d.rowIndex][d.colIndex].cellIndex
              )) && a.selectNodeContents(b).setCursor(!1, !0)
          : ((b = t.nextSibling),
            f.remove(t),
            b && a.setStart(b, 0).setCursor(!1, !0));
        "enabled" === t.getAttribute("interlaced") &&
          this.fireEvent("interlacetable", t);
      },
    };
    UE.commands.insertcol = {
      queryCommandState: function (a) {
        a = e(this);
        var b = a.cell;
        return b &&
          ("TD" == b.tagName || ("TH" == b.tagName && b !== a.tr.cells[0])) &&
          h(a.table).colsNum < this.options.maxColNum
          ? 0
          : -1;
      },
      execCommand: function (a) {
        var b = this.selection.getRange(),
          c = b.createBookmark(!0);
        if (-1 != this.queryCommandState(a)) {
          a = e(this).cell;
          var d = h(a),
            f = d.getCellInfo(a);
          if (d.selectedTds.length)
            for (
              var f = d.cellsRange,
                q = 0,
                t = f.endColIndex - f.beginColIndex + 1;
              q < t;
              q++
            )
              d.insertCol(f.beginColIndex, a);
          else d.insertCol(f.colIndex, a);
          b.moveToBookmark(c).select(!0);
        }
      },
    };
    UE.commands.insertcolnext = {
      queryCommandState: function () {
        var a = e(this);
        return a.cell && h(a.table).colsNum < this.options.maxColNum ? 0 : -1;
      },
      execCommand: function () {
        var a = this.selection.getRange(),
          b = a.createBookmark(!0),
          c = e(this).cell,
          d = h(c),
          f = d.getCellInfo(c);
        if (d.selectedTds.length)
          for (
            var f = d.cellsRange,
              q = 0,
              t = f.endColIndex - f.beginColIndex + 1;
            q < t;
            q++
          )
            d.insertCol(f.endColIndex + 1, c);
        else d.insertCol(f.colIndex + f.colSpan, c);
        a.moveToBookmark(b).select();
      },
    };
    UE.commands.deletecol = {
      queryCommandState: function () {
        return e(this).cell ? 0 : -1;
      },
      execCommand: function () {
        var a = e(this).cell,
          b = h(a),
          c = b.cellsRange,
          d = b.getCellInfo(a),
          n = b.getHSideCell(a),
          q = b.getHSideCell(a, !0);
        if (p.isEmptyObject(c)) b.deleteCol(d.colIndex);
        else
          for (d = c.beginColIndex; d < c.endColIndex + 1; d++)
            b.deleteCol(c.beginColIndex);
        b = b.table;
        c = this.selection.getRange();
        b.getElementsByTagName("td").length
          ? f.inDoc(a, this.document)
            ? c.setStart(a, 0).setCursor(!1, !0)
            : q && f.inDoc(q, this.document)
            ? c.selectNodeContents(q).setCursor(!1, !0)
            : n &&
              f.inDoc(n, this.document) &&
              c.selectNodeContents(n).setCursor(!0, !0)
          : ((a = b.nextSibling),
            f.remove(b),
            a && c.setStart(a, 0).setCursor(!1, !0));
      },
    };
    UE.commands.splittocells = {
      queryCommandState: function () {
        var a = e(this),
          b = a.cell;
        return !b || 0 < h(a.table).selectedTds.length
          ? -1
          : b && (1 < b.colSpan || 1 < b.rowSpan)
          ? 0
          : -1;
      },
      execCommand: function () {
        var a = this.selection.getRange(),
          b = a.createBookmark(!0),
          c = e(this).cell;
        h(c).splitToCells(c);
        a.moveToBookmark(b).select();
      },
    };
    UE.commands.splittorows = {
      queryCommandState: function () {
        var a = e(this),
          b = a.cell;
        return !b || 0 < h(a.table).selectedTds.length
          ? -1
          : b && 1 < b.rowSpan
          ? 0
          : -1;
      },
      execCommand: function () {
        var a = this.selection.getRange(),
          b = a.createBookmark(!0),
          c = e(this).cell;
        h(c).splitToRows(c);
        a.moveToBookmark(b).select();
      },
    };
    UE.commands.splittocols = {
      queryCommandState: function () {
        var a = e(this),
          b = a.cell;
        return !b || 0 < h(a.table).selectedTds.length
          ? -1
          : b && 1 < b.colSpan
          ? 0
          : -1;
      },
      execCommand: function () {
        var a = this.selection.getRange(),
          b = a.createBookmark(!0),
          c = e(this).cell;
        h(c).splitToCols(c);
        a.moveToBookmark(b).select();
      },
    };
    UE.commands.adaptbytext = UE.commands.adaptbywindow = {
      queryCommandState: function () {
        return e(this).table ? 0 : -1;
      },
      execCommand: function (a) {
        var b = e(this).table;
        b &&
          ("adaptbywindow" == a
            ? d(b, this)
            : ((a = f.getElementsByTagName(b, "td th")),
              p.each(a, function (a) {
                a.removeAttribute("width");
              }),
              b.removeAttribute("width")));
      },
    };
    UE.commands.averagedistributecol = {
      queryCommandState: function () {
        var b = a.getUETableBySelected(this);
        return b ? (b.isFullRow() || b.isFullCol() ? 0 : -1) : -1;
      },
      execCommand: function (b) {
        function c() {
          var b = h.table,
            e = 0,
            g = 0,
            f = a.getDefaultValue(d, b);
          if (h.isFullRow()) (e = b.offsetWidth), (g = h.colsNum);
          else
            for (
              var b = h.cellsRange.endColIndex,
                k,
                l = h.cellsRange.beginColIndex;
              l <= b;

            )
              (k = h.selectedTds[l]),
                (e += k.offsetWidth),
                (l += k.colSpan),
                (g += 1);
          return Math.ceil(e / g) - 2 * f.tdBorder - 2 * f.tdPadding;
        }
        function e(a) {
          p.each(f.getElementsByTagName(h.table, "th"), function (a) {
            a.setAttribute("width", "");
          });
          var b = h.isFullRow()
            ? f.getElementsByTagName(h.table, "td")
            : h.selectedTds;
          p.each(b, function (b) {
            1 == b.colSpan && b.setAttribute("width", a);
          });
        }
        var d = this,
          h = a.getUETableBySelected(d);
        h && h.selectedTds.length && e(c());
      },
    };
    UE.commands.averagedistributerow = {
      queryCommandState: function () {
        var b = a.getUETableBySelected(this);
        return !b || (b.selectedTds && /th/gi.test(b.selectedTds[0].tagName))
          ? -1
          : b.isFullRow() || b.isFullCol()
          ? 0
          : -1;
      },
      execCommand: function (b) {
        function c() {
          var b,
            e = 0;
          b = h.table;
          var g = a.getDefaultValue(d, b),
            k = parseInt(
              f.getComputedStyle(b.getElementsByTagName("td")[0], "padding-top")
            );
          if (h.isFullCol()) {
            var e = f.getElementsByTagName(b, "caption"),
              l = f.getElementsByTagName(b, "th"),
              p,
              s;
            0 < e.length && (p = e[0].offsetHeight);
            0 < l.length && (s = l[0].offsetHeight);
            e = b.offsetHeight - (p || 0) - (s || 0);
            b = 0 == l.length ? h.rowsNum : h.rowsNum - 1;
          } else {
            s = h.cellsRange.beginRowIndex;
            l = h.cellsRange.endRowIndex;
            p = 0;
            for (b = f.getElementsByTagName(b, "tr"); s <= l; s++)
              (e += b[s].offsetHeight), (p += 1);
            b = p;
          }
          return r.ie && 9 > r.version
            ? Math.ceil(e / b)
            : Math.ceil(e / b) - 2 * g.tdBorder - 2 * k;
        }
        function e(a) {
          var b = h.isFullCol()
            ? f.getElementsByTagName(h.table, "td")
            : h.selectedTds;
          p.each(b, function (b) {
            1 == b.rowSpan && b.setAttribute("height", a);
          });
        }
        var d = this,
          h = a.getUETableBySelected(d);
        h && h.selectedTds.length && e(c());
      },
    };
    UE.commands.cellalignment = {
      queryCommandState: function () {
        return e(this).table ? 0 : -1;
      },
      execCommand: function (b, c) {
        var e = a.getUETableBySelected(this);
        e
          ? p.each(e.selectedTds, function (a) {
              f.setAttributes(a, c);
            })
          : ((e =
              (e = this.selection.getStart()) &&
              f.findParentByTagName(e, ["td", "th", "caption"], !0)),
            /caption/gi.test(e.tagName)
              ? ((e.style.textAlign = c.align),
                (e.style.verticalAlign = c.vAlign))
              : f.setAttributes(e, c),
            this.selection.getRange().setCursor(!0));
      },
      queryCommandValue: function (a) {
        (a = e(this).cell) || (a = b(this)[0]);
        if (a) {
          var c = UE.UETable.getUETable(a).selectedTds;
          !c.length && (c = a);
          return UE.UETable.getTableCellAlignState(c);
        }
        return null;
      },
    };
    UE.commands.tablealignment = {
      queryCommandState: function () {
        return r.ie && 8 > r.version ? -1 : e(this).table ? 0 : -1;
      },
      execCommand: function (a, b) {
        var c = this.selection.getStart();
        (c = c && f.findParentByTagName(c, ["table"], !0)) &&
          c.setAttribute("align", b);
      },
    };
    UE.commands.edittable = {
      queryCommandState: function () {
        return e(this).table ? 0 : -1;
      },
      execCommand: function (a, b) {
        var c = this.selection.getRange();
        if ((c = f.findParentByTagName(c.startContainer, "table")))
          (c = f
            .getElementsByTagName(c, "td")
            .concat(
              f.getElementsByTagName(c, "th"),
              f.getElementsByTagName(c, "caption")
            )),
            p.each(c, function (a) {
              a.style.borderColor = b;
            });
      },
    };
    UE.commands.edittd = {
      queryCommandState: function () {
        return e(this).table ? 0 : -1;
      },
      execCommand: function (b, c) {
        var e = a.getUETableBySelected(this);
        if (e)
          p.each(e.selectedTds, function (a) {
            a.style.backgroundColor = c;
          });
        else if (
          (e =
            (e = this.selection.getStart()) &&
            f.findParentByTagName(e, ["td", "th", "caption"], !0))
        )
          e.style.backgroundColor = c;
      },
    };
    UE.commands.settablebackground = {
      queryCommandState: function () {
        return 1 < b(this).length ? 0 : -1;
      },
      execCommand: function (a, c) {
        var e;
        e = b(this);
        h(e[0]).setBackground(e, c);
      },
    };
    UE.commands.cleartablebackground = {
      queryCommandState: function () {
        var a = b(this);
        if (!a.length) return -1;
        for (var c = 0, e; (e = a[c++]); )
          if ("" !== e.style.backgroundColor) return 0;
        return -1;
      },
      execCommand: function () {
        var a = b(this);
        h(a[0]).removeBackground(a);
      },
    };
    UE.commands.interlacetable = UE.commands.uninterlacetable = {
      queryCommandState: function (a) {
        var b = e(this).table;
        if (!b) return -1;
        b = b.getAttribute("interlaced");
        return "interlacetable" == a
          ? "enabled" === b
            ? -1
            : 0
          : b && "disabled" !== b
          ? 0
          : -1;
      },
      execCommand: function (a, b) {
        var c = e(this).table;
        "interlacetable" == a
          ? (c.setAttribute("interlaced", "enabled"),
            this.fireEvent("interlacetable", c, b))
          : (c.setAttribute("interlaced", "disabled"),
            this.fireEvent("uninterlacetable", c));
      },
    };
    UE.commands.setbordervisible = {
      queryCommandState: function (a) {
        return e(this).table ? 0 : -1;
      },
      execCommand: function () {
        var a = e(this).table;
        p.each(f.getElementsByTagName(a, "td"), function (a) {
          a.style.borderWidth = "1px";
          a.style.borderStyle = "solid";
        });
      },
    };
  })();
  UE.plugins.table = function () {
    function d(a, b) {
      c(a, "width", !0);
      c(a, "height", !0);
    }
    function c(a, b, c) {
      a.style[b] &&
        (c && a.setAttribute(b, parseInt(a.style[b], 10)), (a.style[b] = ""));
    }
    function b(a) {
      if ("TD" == a.tagName || "TH" == a.tagName) return a;
      var b;
      return (b =
        f.findParentByTagName(a, "td", !0) ||
        f.findParentByTagName(a, "th", !0))
        ? b
        : null;
    }
    function a(a) {
      var b = RegExp(f.fillChar, "g");
      if (
        0 <
        a[r.ie ? "innerText" : "textContent"]
          .replace(/^\s*$/, "")
          .replace(b, "").length
      )
        return 0;
      for (var c in v.$isNotEmpty)
        if (a.getElementsByTagName(c).length) return 0;
      return 1;
    }
    function e(a) {
      return a.pageX || a.pageY
        ? { x: a.pageX, y: a.pageY }
        : {
            x:
              a.clientX +
              x.document.body.scrollLeft -
              x.document.body.clientLeft,
            y:
              a.clientY + x.document.body.scrollTop - x.document.body.clientTop,
          };
    }
    function h(a) {
      if (!da())
        try {
          var c = b(a.target || a.srcElement),
            d;
          ba &&
            ((x.body.style.webkitUserSelect = "none"),
            Math.abs(fa.x - a.clientX) > Z || Math.abs(fa.y - a.clientY) > Z) &&
            (s(), (ba = !1), (Q = 0), G(a));
          if (U && R)
            if (
              ((Q = 0),
              (x.body.style.webkitUserSelect = "none"),
              x.selection
                .getNative()
                [r.ie9below ? "empty" : "removeAllRanges"](),
              (d = e(a)),
              m(x, !0, U, d, c),
              "h" == U)
            ) {
              var h = S.style,
                l;
              var c = R,
                q = M(c);
              if (q) {
                var t = q.getSameEndPosCells(c, "x")[0],
                  p = q.getSameStartPosXCells(c)[0],
                  y = e(a).x,
                  w = (t ? f.getXY(t).x : f.getXY(q.table).x) + 20,
                  u = p
                    ? f.getXY(p).x + p.offsetWidth - 20
                    : x.body.offsetWidth + 5 ||
                      parseInt(f.getComputedStyle(x.body, "width"), 10),
                  w = w + W,
                  u = u - W;
                l = y < w ? w : y > u ? u : y;
              } else l = void 0;
              h.left = l + "px";
            } else {
              if ("v" == U) {
                var E = S.style,
                  v;
                a: {
                  try {
                    var z = f.getXY(R).y,
                      A = e(a).y;
                    v = A < z ? z : A;
                    break a;
                  } catch (B) {}
                  v = void 0;
                }
                E.top = v + "px";
              }
            }
          else if (c) {
            if (!0 !== x.fireEvent("excludetable", c)) {
              d = e(a);
              var D = n(c, d),
                ca = f.findParentByTagName(c, "table", !0);
              k(ca, c, a, !0)
                ? !0 !== x.fireEvent("excludetable", ca) &&
                  (x.body.style.cursor =
                    "url(" + x.options.cursorpath + "h.png),pointer")
                : k(ca, c, a)
                ? !0 !== x.fireEvent("excludetable", ca) &&
                  (x.body.style.cursor =
                    "url(" + x.options.cursorpath + "v.png),pointer")
                : ((x.body.style.cursor = "text"),
                  /\d/.test(D) &&
                    ((D = D.replace(/\d/, "")),
                    (c = M(c).getPreviewCell(c, "v" == D))),
                  m(x, c ? !!D : !1, c ? D : "", d, c));
            }
          } else g(!1, ca, x);
        } catch (H) {}
    }
    function g(a, b, c) {
      a
        ? l(b, c)
        : ga ||
          setTimeout(function () {
            !ga && J && J.parentNode && J.parentNode.removeChild(J);
          }, 2e3);
    }
    function l(a, b) {
      function c(e, d) {
        clearTimeout(g);
        g = setTimeout(function () {
          b.fireEvent("tableClicked", a, d);
        }, 300);
      }
      var e = f.getXY(a),
        d = a.ownerDocument;
      if (J && J.parentNode) return J;
      J = d.createElement("div");
      J.contentEditable = !1;
      J.innerHTML = "";
      J.style.cssText =
        "width:15px;height:15px;background-image:url(" +
        b.options.UEDITOR_HOME_URL +
        "dialogs/table/dragicon.png);position: absolute;cursor:move;top:" +
        (e.y - 15) +
        "px;left:" +
        e.x +
        "px;";
      f.unSelectable(J);
      J.onmouseover = function (a) {
        ga = !0;
      };
      J.onmouseout = function (a) {
        ga = !1;
      };
      f.on(J, "click", function (a, b) {
        c(b, this);
      });
      f.on(J, "dblclick", function (c, e) {
        clearTimeout(g);
        var d = M(a),
          f = a.rows[0].cells[0],
          h = d.getLastCell(),
          h = d.getCellsRange(f, h);
        b.selection.getRange().setStart(f, 0).setCursor(!1, !0);
        d.setSelected(h);
      });
      f.on(J, "dragstart", function (a, b) {
        f.preventDefault(b);
      });
      var g;
      d.body.appendChild(J);
    }
    function k(a, b, c, d) {
      c = e(c);
      b = n(b, c);
      return d
        ? ((d = (d = a.getElementsByTagName("caption")[0])
            ? d.offsetHeight
            : 0),
          "v1" == b && 8 > c.y - f.getXY(a).y - d)
        : "h1" == b && 8 > c.x - f.getXY(a).x;
    }
    function m(a, b, c, e, d) {
      try {
        (a.body.style.cursor =
          "h" == c ? "col-resize" : "v" == c ? "row-resize" : "text"),
          r.ie &&
            (!c || aa || F.getUETableBySelected(a)
              ? I(a)
              : (O(a, a.document), la(c, d))),
          (ka = b);
      } catch (g) {}
    }
    function n(a, b) {
      var c = f.getXY(a);
      return c
        ? c.x + a.offsetWidth - b.x < ha
          ? "h"
          : b.x - c.x < ha
          ? "h1"
          : c.y + a.offsetHeight - b.y < ha
          ? "v"
          : b.y - c.y < ha
          ? "v1"
          : ""
        : "";
    }
    function q(a, b) {
      if (!da())
        if (((fa = { x: b.clientX, y: b.clientY }), 2 == b.button)) {
          var c = F.getUETableBySelected(x),
            e = !1;
          if (c) {
            var d = X(x, b);
            p.each(c.selectedTds, function (a) {
              a === d && (e = !0);
            });
            e
              ? ((d = c.selectedTds[0]),
                setTimeout(function () {
                  x.selection.getRange().setStart(d, 0).setCursor(!1, !0);
                }, 0))
              : (ia(f.getElementsByTagName(x.body, "th td")),
                c.clearSelected());
          }
        } else w(b);
    }
    function t(a) {
      Q = 0;
      a = a || x.window.event;
      var c = b(a.target || a.srcElement);
      if (c) {
        var d;
        if ((d = n(c, e(a))))
          if (
            (I(x),
            "h1" == d &&
              ((d = "h"),
              k(f.findParentByTagName(c, "table"), c, a)
                ? x.execCommand("adaptbywindow")
                : (c = M(c).getPreviewCell(c)) &&
                  x.selection
                    .getRange()
                    .selectNodeContents(c)
                    .setCursor(!0, !0)),
            "h" == d)
          ) {
            a = M(c);
            var g = z(c, a.table, !0),
              g = u(g, "left");
            a.width = a.offsetWidth;
            var h = [],
              l = [];
            p.each(g, function (a) {
              h.push(a.offsetWidth);
            });
            p.each(g, function (a) {
              a.removeAttribute("width");
            });
            window.setTimeout(function () {
              var a = !0;
              p.each(g, function (b, c) {
                var e = b.offsetWidth;
                if (e > h[c]) return (a = !1);
                l.push(e);
              });
              var b = a ? l : h;
              p.each(g, function (a, c) {
                a.width = b[c] - B();
              });
            }, 0);
          }
      }
    }
    function w(a) {
      ia(f.getElementsByTagName(x.body, "td th"));
      p.each(x.document.getElementsByTagName("table"), function (a) {
        a.ueTable = null;
      });
      if ((K = X(x, a))) {
        var b = f.findParentByTagName(K, "table", !0);
        (ut = M(b)) && ut.clearSelected();
        ka
          ? y(a)
          : ((x.document.body.style.webkitUserSelect = ""),
            (aa = !0),
            x.addListener("mouseover", N));
      }
    }
    function y(a) {
      r.ie && (a = E(a));
      s();
      ba = !0;
      ja = setTimeout(function () {
        G(a);
      }, $);
    }
    function u(a, b) {
      for (var c = [], e = null, d = 0, g = a.length; d < g; d++)
        (e = a[d][b]) && c.push(e);
      return c;
    }
    function s() {
      ja && clearTimeout(ja);
      ja = null;
    }
    function E(a) {
      var b = "pageX pageY clientX clientY srcElement target".split(" "),
        c = {};
      if (a) for (var e = 0, d, g; (d = b[e]); e++) (g = a[d]) && (c[d] = g);
      return c;
    }
    function G(a) {
      ba = !1;
      if ((K = a.target || a.srcElement))
        (a = n(K, e(a))),
          /\d/.test(a) &&
            ((a = a.replace(/\d/, "")), (K = M(K).getPreviewCell(K, "v" == a))),
          I(x),
          O(x, x.document),
          x.fireEvent("saveScene"),
          la(a, K),
          (aa = !0),
          (U = a),
          (R = K);
    }
    function A(a, b) {
      if (!da()) {
        s();
        ba = !1;
        if (
          ka &&
          ((Q = ++Q % 3),
          (fa = { x: b.clientX, y: b.clientY }),
          setTimeout(function () {
            0 < Q && Q--;
          }, $),
          2 === Q)
        ) {
          Q = 0;
          t(b);
          return;
        }
        if (2 != b.button) {
          var c = this.selection.getRange(),
            e = f.findParentByTagName(c.startContainer, "table", !0),
            d = f.findParentByTagName(c.endContainer, "table", !0);
          if (e || d)
            e === d
              ? ((e = f.findParentByTagName(
                  c.startContainer,
                  ["td", "th", "caption"],
                  !0
                )),
                (d = f.findParentByTagName(
                  c.endContainer,
                  ["td", "th", "caption"],
                  !0
                )),
                e !== d && this.selection.clearRange())
              : this.selection.clearRange();
          aa = !1;
          this.document.body.style.webkitUserSelect = "";
          if (
            U &&
            R &&
            (this.selection
              .getNative()
              [r.ie9below ? "empty" : "removeAllRanges"](),
            (Q = 0),
            (S = this.document.getElementById("ue_tableDragLine")))
          ) {
            c = f.getXY(R);
            e = f.getXY(S);
            switch (U) {
              case "h":
                na(R, e.x - c.x);
                break;
              case "v":
                T(R, e.y - c.y - R.offsetHeight);
            }
            U = "";
            R = null;
            I(this);
            this.fireEvent("saveScene");
            return;
          }
          if (K)
            (e = (c = M(K)) ? c.selectedTds[0] : null)
              ? ((c = new L.Range(this.document)),
                f.isEmptyBlock(e)
                  ? c.setStart(e, 0).setCursor(!1, !0)
                  : c.selectNodeContents(e).shrinkBoundary().setCursor(!1, !0))
              : ((c = this.selection.getRange().shrinkBoundary()),
                c.collapsed ||
                  ((e = f.findParentByTagName(
                    c.startContainer,
                    ["td", "th"],
                    !0
                  )),
                  (d = f.findParentByTagName(c.endContainer, ["td", "th"], !0)),
                  ((e && !d) || (!e && d) || (e && d && e !== d)) &&
                    c.setCursor(!1, !0))),
              (K = null),
              this.removeListener("mouseover", N);
          else if (
            ((e = f.findParentByTagName(b.target || b.srcElement, "td", !0)) ||
              (e = f.findParentByTagName(b.target || b.srcElement, "th", !0)),
            e && ("TD" == e.tagName || "TH" == e.tagName))
          ) {
            if (!0 === this.fireEvent("excludetable", e)) return;
            c = new L.Range(this.document);
            c.setStart(e, 0).setCursor(!1, !0);
          }
          this._selectionChange(250, b);
        }
      }
    }
    function N(a, b) {
      if (!da()) {
        var c = b.target || b.srcElement;
        V =
          f.findParentByTagName(c, "td", !0) ||
          f.findParentByTagName(c, "th", !0);
        if (
          K &&
          V &&
          (("TD" == K.tagName && "TD" == V.tagName) ||
            ("TH" == K.tagName && "TH" == V.tagName)) &&
          f.findParentByTagName(K, "table") == f.findParentByTagName(V, "table")
        )
          if (((c = M(V)), K != V)) {
            this.document.body.style.webkitUserSelect = "none";
            this.selection
              .getNative()
              [r.ie9below ? "empty" : "removeAllRanges"]();
            var e = c.getCellsRange(K, V);
            c.setSelected(e);
          } else
            (this.document.body.style.webkitUserSelect = ""), c.clearSelected();
        b.preventDefault ? b.preventDefault() : (b.returnValue = !1);
      }
    }
    function na(a, b) {
      var c = M(a);
      if (c) {
        var c = c.table,
          e = z(a, c);
        c.style.width = "";
        c.removeAttribute("width");
        b = H(b, a, e);
        a.nextSibling
          ? p.each(e, function (a) {
              a.left.width = +a.left.width + b;
              a.right && (a.right.width = +a.right.width - b);
            })
          : p.each(e, function (a) {
              a.left.width -= -b;
            });
      }
    }
    function da() {
      return "false" === x.body.contentEditable;
    }
    function T(a, b) {
      if (!(10 > Math.abs(b))) {
        var c = M(a);
        if (c)
          for (
            var c = c.getSameEndPosCells(a, "y"),
              e = c[0] ? c[0].offsetHeight : 0,
              d = 0,
              g;
            (g = c[d++]);

          ) {
            var h = b,
              k = e,
              l = parseInt(f.getComputedStyle(g, "line-height"), 10),
              h = k + h,
              h = h < l ? l : h;
            g.style.height && (g.style.height = "");
            1 == g.rowSpan
              ? g.setAttribute("height", h)
              : g.removeAttribute && g.removeAttribute("height");
          }
      }
    }
    function z(a, b, c) {
      b || (b = f.findParentByTagName(a, "table"));
      if (!b) return null;
      f.getNodeIndex(a);
      b = b.rows;
      for (var e = 0; a; )
        1 === a.nodeType && (e += a.colSpan || 1), (a = a.previousSibling);
      a = null;
      var d = [];
      p.each(b, function (a) {
        var b = 0;
        p.each(a.cells, function (a) {
          b += a.colSpan || 1;
          if (b === e)
            return d.push({ left: a, right: a.nextSibling || null }), !1;
          if (b > e) return c && d.push({ left: a }), !1;
        });
      });
      return d;
    }
    function H(a, b, c) {
      a -= B();
      if (0 > a) return 0;
      a -= D(b);
      var e = 0 > a ? "left" : "right";
      a = Math.abs(a);
      p.each(c, function (b) {
        (b = b[e]) && (a = Math.min(a, D(b) - W));
      });
      a = 0 > a ? 0 : a;
      return "left" === e ? -a : a;
    }
    function D(a) {
      var b = 0,
        b = a.offsetWidth - B();
      if (!a.nextSibling) {
        tab = f.findParentByTagName(a, "table", !1);
        if (void 0 === tab.offsetVal) {
          var c = a.previousSibling;
          tab.offsetVal = c
            ? a.offsetWidth - c.offsetWidth === F.borderWidth
              ? F.borderWidth
              : 0
            : 0;
        }
        b -= tab.offsetVal;
      }
      b = 0 > b ? 0 : b;
      try {
        a.width = b;
      } catch (e) {}
      return b;
    }
    function B() {
      if (void 0 === F.tabcellSpace) {
        var a = x.document.createElement("table"),
          b = x.document.createElement("tbody"),
          c = x.document.createElement("tr"),
          e = x.document.createElement("td"),
          d = null;
        e.style.cssText = "border: 0;";
        e.width = 1;
        c.appendChild(e);
        c.appendChild((d = e.cloneNode(!1)));
        b.appendChild(c);
        a.appendChild(b);
        a.style.cssText = "visibility: hidden;";
        x.body.appendChild(a);
        F.paddingSpace = e.offsetWidth - 1;
        b = a.offsetWidth;
        e.style.cssText = "";
        d.style.cssText = "";
        F.borderWidth = (a.offsetWidth - b) / 3;
        F.tabcellSpace = F.paddingSpace + F.borderWidth;
        x.body.removeChild(a);
      }
      B = function () {
        return F.tabcellSpace;
      };
      return F.tabcellSpace;
    }
    function O(a, b) {
      aa ||
        ((S = a.document.createElement("div")),
        f.setAttributes(S, {
          id: "ue_tableDragLine",
          unselectable: "on",
          contenteditable: !1,
          onresizestart: "return false",
          ondragstart: "return false",
          onselectstart: "return false",
          style:
            "background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)",
        }),
        a.body.appendChild(S));
    }
    function I(a) {
      if (!aa)
        for (var b; (b = a.document.getElementById("ue_tableDragLine")); )
          f.remove(b);
    }
    function la(a, b) {
      if (b) {
        var c = f.findParentByTagName(b, "table"),
          e = c.getElementsByTagName("caption"),
          d = c.offsetWidth,
          g = c.offsetHeight - (0 < e.length ? e[0].offsetHeight : 0),
          c = f.getXY(c),
          h = f.getXY(b);
        switch (a) {
          case "h":
            e =
              "height:" +
              g +
              "px;top:" +
              (c.y + (0 < e.length ? e[0].offsetHeight : 0)) +
              "px;left:" +
              (h.x + b.offsetWidth);
            S.style.cssText =
              e +
              "px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";
            break;
          case "v":
            (e =
              "width:" +
              d +
              "px;left:" +
              c.x +
              "px;top:" +
              (h.y + b.offsetHeight)),
              (S.style.cssText =
                e +
                "px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)");
        }
      }
    }
    function P(a, b) {
      for (
        var c = f.getElementsByTagName(a.body, "table"), e, d = 0, g;
        (g = c[d++]);

      )
        (e = f.getElementsByTagName(g, "td")),
          e[0] &&
            (b
              ? ((e = e[0].style.borderColor.replace(/\s/g, "")),
                /(#ffffff)|(rgb\(255,255,255\))/gi.test(e) &&
                  f.addClass(g, "noBorderTable"))
              : f.removeClasses(g, "noBorderTable"));
    }
    function Y(a, b, c) {
      var e = a.body;
      return (
        e.offsetWidth -
        (b ? 2 * parseInt(f.getComputedStyle(e, "margin-left"), 10) : 0) -
        2 * c.tableBorder -
        (a.options.offsetWidth || 0)
      );
    }
    function X(a, b) {
      var c = f.findParentByTagName(b.target || b.srcElement, ["td", "th"], !0),
        d = null;
      if (!c) return null;
      d = n(c, e(b));
      if (!c) return null;
      if ("h1" === d && c.previousSibling) {
        var d = f.getXY(c),
          g = c.offsetWidth;
        Math.abs(d.x + g - b.clientX) > g / 3 && (c = c.previousSibling);
      } else
        "v1" === d &&
          c.parentNode.previousSibling &&
          ((d = f.getXY(c)),
          (g = c.offsetHeight),
          Math.abs(d.y + g - b.clientY) > g / 3 &&
            (c = c.parentNode.previousSibling.firstChild));
      return c && !0 !== a.fireEvent("excludetable", c) ? c : null;
    }
    var x = this,
      ja = null,
      W = 5,
      ba = !1,
      ha = 5,
      Z = 10,
      Q = 0,
      fa = null,
      $ = 360,
      F = UE.UETable,
      M = function (a) {
        return F.getUETable(a);
      },
      ia = function (a) {
        return F.removeSelectedClass(a);
      };
    x.ready(function () {
      var a = this,
        b = a.selection.getText;
      a.selection.getText = function () {
        var c = F.getUETableBySelected(a);
        if (c) {
          var e = "";
          p.each(c.selectedTds, function (a) {
            e += a[r.ie ? "innerText" : "textContent"];
          });
          return e;
        }
        return b.call(a.selection);
      };
    });
    var K = null,
      V = null,
      U = "",
      ka = !1,
      J = null,
      ga = !1,
      S = null,
      R = null,
      aa = !1;
    x.setOpt({
      maxColNum: 20,
      maxRowNum: 100,
      defaultCols: 5,
      defaultRows: 5,
      tdvalign: "top",
      cursorpath: x.options.UEDITOR_HOME_URL + "themes/default/images/cursor_",
      tableDragable: !1,
      classList: [
        "ue-table-interlace-color-single",
        "ue-table-interlace-color-double",
      ],
    });
    x.getUETable = M;
    var ea = {
      deletetable: 1,
      inserttable: 1,
      cellvalign: 1,
      insertcaption: 1,
      deletecaption: 1,
      inserttitle: 1,
      deletetitle: 1,
      mergeright: 1,
      mergedown: 1,
      mergecells: 1,
      insertrow: 1,
      insertrownext: 1,
      deleterow: 1,
      insertcol: 1,
      insertcolnext: 1,
      deletecol: 1,
      splittocells: 1,
      splittorows: 1,
      splittocols: 1,
      adaptbytext: 1,
      adaptbywindow: 1,
      adaptbycustomer: 1,
      insertparagraph: 1,
      insertparagraphbeforetable: 1,
      averagedistributecol: 1,
      averagedistributerow: 1,
    };
    x.ready(function () {
      p.cssRule(
        "table",
        ".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:1px solid #BBB;background-color:#F7F7F7;}table tr.firstRow th{border-top-width:2px;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",
        x.document
      );
      var c, e, l;
      x.addListener("keydown", function (b, d) {
        var g = d.keyCode || d.which;
        if (8 == g) {
          var h = F.getUETableBySelected(this);
          h &&
            h.selectedTds.length &&
            (h.isFullCol()
              ? this.execCommand("deletecol")
              : h.isFullRow()
              ? this.execCommand("deleterow")
              : this.fireEvent("delcells"),
            f.preventDefault(d));
          var k = f.findParentByTagName(
              this.selection.getStart(),
              "caption",
              !0
            ),
            n = this.selection.getRange();
          n.collapsed &&
            k &&
            a(k) &&
            (this.fireEvent("saveScene"),
            (h = k.parentNode),
            f.remove(k),
            h && n.setStart(h.rows[0].cells[0], 0).setCursor(!1, !0),
            this.fireEvent("saveScene"));
        }
        if (46 == g && (h = F.getUETableBySelected(this))) {
          this.fireEvent("saveScene");
          for (k = 0; (n = h.selectedTds[k++]); ) f.fillNode(this.document, n);
          this.fireEvent("saveScene");
          f.preventDefault(d);
        }
        if (13 == g) {
          g = this.selection.getRange();
          if ((k = f.findParentByTagName(g.startContainer, "caption", !0))) {
            h = f.findParentByTagName(k, "table");
            g.collapsed
              ? k && g.setStart(h.rows[0].cells[0], 0).setCursor(!1, !0)
              : (g.deleteContents(), this.fireEvent("saveScene"));
            f.preventDefault(d);
            return;
          }
          g.collapsed &&
            (h = f.findParentByTagName(g.startContainer, "table")) &&
            ((n = h.rows[0].cells[0]),
            (k = f.findParentByTagName(
              this.selection.getStart(),
              ["td", "th"],
              !0
            )),
            (h = h.previousSibling),
            n === k &&
              (!h || (1 == h.nodeType && "TABLE" == h.tagName)) &&
              f.isStartInblock(g) &&
              (g = f.findParent(
                this.selection.getStart(),
                function (a) {
                  return f.isBlockElm(a);
                },
                !0
              )) &&
              (/t(h|d)/i.test(g.tagName) || g === k.firstChild) &&
              (this.execCommand("insertparagraphbeforetable"),
              f.preventDefault(d)));
        }
        if (
          (d.ctrlKey || d.metaKey) &&
          "67" == d.keyCode &&
          ((c = null), (h = F.getUETableBySelected(this)))
        )
          for (
            g = h.selectedTds,
              e = h.isFullCol(),
              l = h.isFullRow(),
              c = [[h.cloneCell(g[0], null, !0)]],
              k = 1;
            (n = g[k]);
            k++
          )
            n.parentNode !== g[k - 1].parentNode
              ? c.push([h.cloneCell(n, null, !0)])
              : c[c.length - 1].push(h.cloneCell(n, null, !0));
      });
      x.addListener("tablehasdeleted", function () {
        m(this, !1, "", null);
        J && f.remove(J);
      });
      x.addListener("beforepaste", function (b, g) {
        var h = this,
          k = h.selection.getRange();
        if (f.findParentByTagName(k.startContainer, "caption", !0))
          (k = h.document.createElement("div")),
            (k.innerHTML = g.html),
            (g.html = k[r.ie9below ? "innerText" : "textContent"]);
        else {
          var n = F.getUETableBySelected(h);
          if (c) {
            h.fireEvent("saveScene");
            var k = h.selection.getRange(),
              m = f.findParentByTagName(k.startContainer, ["td", "th"], !0),
              q,
              t;
            if (m) {
              n = M(m);
              if (l) {
                var y = n.getCellInfo(m).rowIndex;
                "TH" == m.tagName && y++;
                for (var k = 0, w; (w = c[k++]); ) {
                  t = n.insertRow(y++, "td");
                  for (var u = 0, s; (s = w[u]); u++)
                    (m = t.cells[u]) || (m = t.insertCell(u)),
                      (m.innerHTML = s.innerHTML),
                      s.getAttribute("width") &&
                        m.setAttribute("width", s.getAttribute("width")),
                      s.getAttribute("vAlign") &&
                        m.setAttribute("vAlign", s.getAttribute("vAlign")),
                      s.getAttribute("align") &&
                        m.setAttribute("align", s.getAttribute("align")),
                      s.style.cssText && (m.style.cssText = s.style.cssText);
                  for (u = 0; (s = t.cells[u]) && w[u]; u++)
                    (s.innerHTML = w[u].innerHTML),
                      w[u].getAttribute("width") &&
                        s.setAttribute("width", w[u].getAttribute("width")),
                      w[u].getAttribute("vAlign") &&
                        s.setAttribute("vAlign", w[u].getAttribute("vAlign")),
                      w[u].getAttribute("align") &&
                        s.setAttribute("align", w[u].getAttribute("align")),
                      w[u].style.cssText &&
                        (s.style.cssText = w[u].style.cssText);
                }
              } else {
                if (e) {
                  y = n.getCellInfo(m);
                  u = m = 0;
                  for (w = c[0]; (s = w[u++]); ) m += s.colSpan || 1;
                  h.__hasEnterExecCommand = !0;
                  for (k = 0; k < m; k++) h.execCommand("insertcol");
                  h.__hasEnterExecCommand = !1;
                  m = n.table.rows[0].cells[y.cellIndex];
                  "TH" == m.tagName && (m = n.table.rows[1].cells[y.cellIndex]);
                }
                for (k = 0; (w = c[k++]); ) {
                  q = m;
                  for (u = 0; (s = w[u++]); )
                    m
                      ? ((m.innerHTML = s.innerHTML),
                        s.getAttribute("width") &&
                          m.setAttribute("width", s.getAttribute("width")),
                        s.getAttribute("vAlign") &&
                          m.setAttribute("vAlign", s.getAttribute("vAlign")),
                        s.getAttribute("align") &&
                          m.setAttribute("align", s.getAttribute("align")),
                        s.style.cssText && (m.style.cssText = s.style.cssText),
                        (t = m),
                        (m = m.nextSibling))
                      : ((y = s.cloneNode(!0)),
                        f.removeAttributes(y, ["class", "rowSpan", "colSpan"]),
                        t.parentNode.appendChild(y));
                  m = n.getNextCell(q, !0, !0);
                  if (!c[k]) break;
                  m ||
                    ((y = n.getCellInfo(q)),
                    n.table.insertRow(n.table.rows.length),
                    n.update(),
                    (m = n.getVSideCell(q, !0)));
                }
              }
              n.update();
            } else {
              n = h.document.createElement("table");
              for (k = 0; (w = c[k++]); ) {
                t = n.insertRow(n.rows.length);
                for (u = 0; (s = w[u++]); )
                  (y = F.cloneCell(s, null, !0)),
                    f.removeAttributes(y, ["class"]),
                    t.appendChild(y);
                2 == u && 1 < y.rowSpan && (y.rowSpan = 1);
              }
              k = F.getDefaultValue(h, void 0);
              k =
                h.body.offsetWidth -
                2 * parseInt(f.getComputedStyle(h.body, "margin-left"), 10) -
                2 * k.tableBorder -
                (h.options.offsetWidth || 0);
              h.execCommand(
                "insertHTML",
                "<table  " +
                  (e && l ? 'width="' + k + '"' : "") +
                  ">" +
                  n.innerHTML
                    .replace(/>\s*</g, "><")
                    .replace(/\bth\b/gi, "td") +
                  "</table>"
              );
            }
            h.fireEvent("contentchange");
            h.fireEvent("saveScene");
            g.html = "";
            return !0;
          }
          k = h.document.createElement("div");
          k.innerHTML = g.html;
          w = k.getElementsByTagName("table");
          f.findParentByTagName(h.selection.getStart(), "table")
            ? (p.each(w, function (a) {
                f.remove(a);
              }),
              f.findParentByTagName(h.selection.getStart(), "caption", !0) &&
                (k.innerHTML = k[r.ie ? "innerText" : "textContent"]))
            : p.each(w, function (b) {
                d(b, !0);
                f.removeAttributes(b, ["style", "border"]);
                p.each(f.getElementsByTagName(b, "td"), function (b) {
                  a(b) && f.fillNode(h.document, b);
                  d(b, !0);
                });
              });
          g.html = k.innerHTML;
        }
      });
      x.addListener("afterpaste", function () {
        p.each(f.getElementsByTagName(x.body, "table"), function (a) {
          if (a.offsetWidth > x.body.offsetWidth) {
            var b = F.getDefaultValue(x, a);
            a.style.width =
              x.body.offsetWidth -
              2 * parseInt(f.getComputedStyle(x.body, "margin-left"), 10) -
              2 * b.tableBorder -
              (x.options.offsetWidth || 0) +
              "px";
          }
        });
      });
      x.addListener("blur", function () {
        c = null;
      });
      var n;
      x.addListener("keydown", function () {
        clearTimeout(n);
        n = setTimeout(function () {
          var a = x.selection.getRange();
          if ((a = f.findParentByTagName(a.startContainer, ["th", "td"], !0))) {
            var b = a.parentNode.parentNode.parentNode;
            b.offsetWidth > b.getAttribute("width") &&
              (a.style.wordBreak = "break-all");
          }
        }, 100);
      });
      x.addListener("selectionchange", function () {
        m(x, !1, "", null);
      });
      x.addListener("contentchange", function () {
        var a = this;
        I(a);
        if (!F.getUETableBySelected(a)) {
          var c = a.selection.getRange().startContainer,
            c = f.findParentByTagName(c, ["td", "th"], !0);
          p.each(f.getElementsByTagName(a.document, "table"), function (c) {
            !0 !== a.fireEvent("excludetable", c) &&
              ((c.ueTable = new F(c)),
              (c.onmouseover = function () {
                a.fireEvent("tablemouseover", c);
              }),
              (c.onmousemove = function () {
                a.fireEvent("tablemousemove", c);
                a.options.tableDragable && g(!0, this, a);
                p.defer(function () {
                  a.fireEvent("contentchange", 50);
                }, !0);
              }),
              (c.onmouseout = function () {
                a.fireEvent("tablemouseout", c);
                m(a, !1, "", null);
                I(a);
              }),
              (c.onclick = function (c) {
                c = a.window.event || c;
                var e = b(c.target || c.srcElement);
                if (e) {
                  var d = M(e),
                    g = d.table,
                    f = d.getCellInfo(e),
                    h = a.selection.getRange();
                  k(g, e, c, !0)
                    ? ((g = d.getCell(
                        d.indexTable[d.rowsNum - 1][f.colIndex].rowIndex,
                        d.indexTable[d.rowsNum - 1][f.colIndex].cellIndex
                      )),
                      c.shiftKey && d.selectedTds.length
                        ? d.selectedTds[0] !== g
                          ? ((c = d.getCellsRange(d.selectedTds[0], g)),
                            d.setSelected(c))
                          : h && h.selectNodeContents(g).select()
                        : e !== g
                        ? ((c = d.getCellsRange(e, g)), d.setSelected(c))
                        : h && h.selectNodeContents(g).select())
                    : k(g, e, c) &&
                      ((g = d.getCell(
                        d.indexTable[f.rowIndex][d.colsNum - 1].rowIndex,
                        d.indexTable[f.rowIndex][d.colsNum - 1].cellIndex
                      )),
                      c.shiftKey && d.selectedTds.length
                        ? d.selectedTds[0] !== g
                          ? ((c = d.getCellsRange(d.selectedTds[0], g)),
                            d.setSelected(c))
                          : h && h.selectNodeContents(g).select()
                        : e !== g
                        ? ((c = d.getCellsRange(e, g)), d.setSelected(c))
                        : h && h.selectNodeContents(g).select());
                }
              }));
          });
          P(a, !0);
        }
      });
      f.on(x.document, "mousemove", h);
      f.on(x.document, "mouseout", function (a) {
        "TABLE" == (a.target || a.srcElement).tagName && m(x, !1, "", null);
      });
      x.addListener("interlacetable", function (a, b, c) {
        if (b) {
          a = b.rows;
          b = a.length;
          for (var e = 0; e < b; e++) {
            var d = c || this.options.classList;
            a[e].className = d[e] ? d[e] : d[e % d.length];
          }
        }
      });
      x.addListener("uninterlacetable", function (a, b) {
        if (b)
          for (
            var c = b.rows, e = this.options.classList, d = c.length, g = 0;
            g < d;
            g++
          )
            f.removeClasses(c[g], e);
      });
      x.addListener("mousedown", q);
      x.addListener("mouseup", A);
      f.on(x.body, "dragstart", function (a) {
        A.call(x, "dragstart", a);
      });
      x.addOutputRule(function (a) {
        p.each(a.getNodesByTagName("div"), function (a) {
          "ue_tableDragLine" == a.getAttr("id") && a.parentNode.removeChild(a);
        });
      });
      var t = 0;
      x.addListener("mousedown", function () {
        t = 0;
      });
      x.addListener("tabkeydown", function () {
        var b = this.selection.getRange(),
          c = b.getCommonAncestor(!0, !0),
          e = f.findParentByTagName(c, "table");
        if (e) {
          if (f.findParentByTagName(c, "caption", !0))
            (c = f.getElementsByTagName(e, "th td")) &&
              c.length &&
              b.setStart(c[0], 0).setCursor(!1, !0);
          else {
            var c = f.findParentByTagName(c, ["td", "th"], !0),
              d = M(c);
            t = 1 < c.rowSpan ? t : d.getCellInfo(c).rowIndex;
            (c = d.getTabNextCell(c, t))
              ? a(c)
                ? b.setStart(c, 0).setCursor(!1, !0)
                : b.selectNodeContents(c).select()
              : (x.fireEvent("saveScene"),
                (x.__hasEnterExecCommand = !0),
                this.execCommand("insertrownext"),
                (x.__hasEnterExecCommand = !1),
                (b = this.selection.getRange()),
                b.setStart(e.rows[e.rows.length - 1].cells[0], 0).setCursor(),
                x.fireEvent("saveScene"));
          }
          return !0;
        }
      });
      r.ie &&
        x.addListener("selectionchange", function () {
          m(this, !1, "", null);
        });
      x.addListener("keydown", function (a, b) {
        var c = b.keyCode || b.which;
        if (8 != c && 46 != c) {
          (c = !b.ctrlKey && !b.metaKey && !b.shiftKey && !b.altKey) &&
            ia(f.getElementsByTagName(this.body, "td"));
          var e = F.getUETableBySelected(this);
          e && c && e.clearSelected();
        }
      });
      x.addListener("beforegetcontent", function () {
        P(this, !1);
        r.ie &&
          p.each(this.document.getElementsByTagName("caption"), function (a) {
            f.isEmptyNode(a) && (a.innerHTML = "&nbsp;");
          });
      });
      x.addListener("aftergetcontent", function () {
        P(this, !0);
      });
      x.addListener("getAllHtml", function () {
        ia(x.document.getElementsByTagName("td"));
      });
      x.addListener("fullscreenchanged", function (a, b) {
        if (!b) {
          var c = this.body.offsetWidth / document.body.offsetWidth,
            e = f.getElementsByTagName(this.body, "table");
          p.each(e, function (a) {
            if (a.offsetWidth < x.body.offsetWidth) return !1;
            var b = f.getElementsByTagName(a, "td"),
              e = [];
            p.each(b, function (a) {
              e.push(a.offsetWidth);
            });
            for (var d = 0, g; (g = b[d]); d++)
              g.setAttribute("width", Math.floor(e[d] * c));
            a.setAttribute(
              "width",
              Math.floor(Y(x, !0, F.getDefaultValue(x, void 0)))
            );
          });
        }
      });
      var y = x.execCommand;
      x.execCommand = function (b, c) {
        b = b.toLowerCase();
        var e = F.getUETableBySelected(this),
          d = new L.Range(this.document),
          g = this.commands[b] || UE.commands[b],
          h;
        if (g) {
          if (!e || ea[b] || g.notNeedUndo || this.__hasEnterExecCommand)
            h = y.apply(this, arguments);
          else {
            this.__hasEnterExecCommand = !0;
            this.fireEvent("beforeexeccommand", b);
            for (
              var e = e.selectedTds, k = (g = -2), l, n, m = 0, q;
              (q = e[m]);
              m++
            )
              if (
                (a(q)
                  ? d.setStart(q, 0).setCursor(!1, !0)
                  : d.selectNode(q).select(!0),
                (n = this.queryCommandState(b)),
                (l = this.queryCommandValue(b)),
                -1 != n)
              ) {
                if (g !== n || k !== l)
                  (this._ignoreContentChange = !0),
                    (h = y.apply(this, arguments)),
                    (this._ignoreContentChange = !1);
                g = this.queryCommandState(b);
                k = this.queryCommandValue(b);
                f.isEmptyBlock(q) && f.fillNode(this.document, q);
              }
            d.setStart(e[0], 0).shrinkBoundary(!0).setCursor(!1, !0);
            this.fireEvent("contentchange");
            this.fireEvent("afterexeccommand", b);
            this.__hasEnterExecCommand = !1;
            this._selectionChange();
          }
          return h;
        }
      };
    });
  };
  UE.UETable.prototype.sortTable = function (d, c) {
    var b = this.table,
      a = b.rows,
      e = [],
      f = "TH" === a[0].cells[0].tagName,
      g = 0;
    if (this.selectedTds.length) {
      for (
        var l = this.cellsRange, k = l.endRowIndex + 1, m = l.beginRowIndex;
        m < k;
        m++
      )
        e[m] = a[m];
      e.splice(0, l.beginRowIndex);
      g = l.endRowIndex + 1 === this.rowsNum ? 0 : l.endRowIndex + 1;
    } else for (m = 0, k = a.length; m < k; m++) e[m] = a[m];
    var n = {
      reversecurrent: function (a, b) {
        return 1;
      },
      orderbyasc: function (a, b) {
        return (a.innerText || a.textContent).localeCompare(
          b.innerText || b.textContent
        );
      },
      reversebyasc: function (a, b) {
        return b.innerHTML.localeCompare(a.innerHTML);
      },
      orderbynum: function (a, b) {
        var c = a[r.ie ? "innerText" : "textContent"].match(/\d+/),
          e = b[r.ie ? "innerText" : "textContent"].match(/\d+/);
        c && (c = +c[0]);
        e && (e = +e[0]);
        return (c || 0) - (e || 0);
      },
      reversebynum: function (a, b) {
        var c = a[r.ie ? "innerText" : "textContent"].match(/\d+/),
          e = b[r.ie ? "innerText" : "textContent"].match(/\d+/);
        c && (c = +c[0]);
        e && (e = +e[0]);
        return (e || 0) - (c || 0);
      },
    };
    b.setAttribute(
      "data-sort-type",
      c && "string" === typeof c && n[c] ? c : ""
    );
    f && e.splice(0, 1);
    e = p.sort(e, function (a, b) {
      return c && "function" === typeof c
        ? c.call(this, a.cells[d], b.cells[d])
        : c && "number" === typeof c
        ? 1
        : c && "string" === typeof c && n[c]
        ? n[c].call(this, a.cells[d], b.cells[d])
        : n.orderbyasc.call(this, a.cells[d], b.cells[d]);
    });
    f = b.ownerDocument.createDocumentFragment();
    m = 0;
    for (k = e.length; m < k; m++) f.appendChild(e[m]);
    b = b.getElementsByTagName("tbody")[0];
    g
      ? b.insertBefore(f, a[g - l.endRowIndex + l.beginRowIndex - 1])
      : b.appendChild(f);
  };
  UE.plugins.tablesort = function () {
    var d = this,
      c = UE.UETable;
    d.ready(function () {
      p.cssRule(
        "tablesort",
        "table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;   background-image:url(" +
          d.options.themePath +
          d.options.theme +
          "/images/sortable.png);}",
        d.document
      );
      d.addListener("afterexeccommand", function (b, a) {
        ("mergeright" != a && "mergedown" != a && "mergecells" != a) ||
          this.execCommand("disablesort");
      });
    });
    UE.commands.sorttable = {
      queryCommandState: function () {
        var b = c.getTableItemsByRange(this);
        if (!b.cell) return -1;
        for (
          var b = b.table.getElementsByTagName("td"), a = 0, e;
          (e = b[a++]);

        )
          if (1 != e.rowSpan || 1 != e.colSpan) return -1;
        return 0;
      },
      execCommand: function (b, a) {
        var e = this.selection.getRange(),
          d = e.createBookmark(!0),
          g = c.getTableItemsByRange(this),
          f = g.cell,
          g = c.getUETable(g.table),
          f = g.getCellInfo(f);
        g.sortTable(f.cellIndex, a);
        e.moveToBookmark(d);
        try {
          e.select();
        } catch (k) {}
      },
    };
    UE.commands.enablesort = UE.commands.disablesort = {
      queryCommandState: function (b) {
        var a = c.getTableItemsByRange(this).table;
        if (a && "enablesort" == b)
          for (
            var e = f.getElementsByTagName(a, "th td"), d = 0;
            d < e.length;
            d++
          )
            if (
              1 < e[d].getAttribute("colspan") ||
              1 < e[d].getAttribute("rowspan")
            )
              return -1;
        return a
          ? ("enablesort" == b) ^ ("sortEnabled" != a.getAttribute("data-sort"))
            ? -1
            : 0
          : -1;
      },
      execCommand: function (b) {
        var a = c.getTableItemsByRange(this).table;
        a.setAttribute(
          "data-sort",
          "enablesort" == b ? "sortEnabled" : "sortDisabled"
        );
        "enablesort" == b
          ? f.addClass(a, "sortEnabled")
          : f.removeClasses(a, "sortEnabled");
      },
    };
  };
  UE.plugins.contextmenu = function () {
    var d = this;
    d.setOpt("enableContextMenu", !0);
    if (!1 !== d.getOpt("enableContextMenu")) {
      var c = d.getLang("contextMenu"),
        b,
        a = d.options.contextMenu || [
          { label: c.selectall, cmdName: "selectall" },
          {
            label: c.cleardoc,
            cmdName: "cleardoc",
            exec: function () {
              confirm(c.confirmclear) && this.execCommand("cleardoc");
            },
          },
          "-",
          { label: c.unlink, cmdName: "unlink" },
          "-",
          {
            group: c.paragraph,
            icon: "justifyjustify",
            subMenu: [
              { label: c.justifyleft, cmdName: "justify", value: "left" },
              { label: c.justifyright, cmdName: "justify", value: "right" },
              { label: c.justifycenter, cmdName: "justify", value: "center" },
              { label: c.justifyjustify, cmdName: "justify", value: "justify" },
            ],
          },
          "-",
          {
            group: c.table,
            icon: "table",
            subMenu: [
              { label: c.inserttable, cmdName: "inserttable" },
              { label: c.deletetable, cmdName: "deletetable" },
              "-",
              { label: c.deleterow, cmdName: "deleterow" },
              { label: c.deletecol, cmdName: "deletecol" },
              { label: c.insertcol, cmdName: "insertcol" },
              { label: c.insertcolnext, cmdName: "insertcolnext" },
              { label: c.insertrow, cmdName: "insertrow" },
              { label: c.insertrownext, cmdName: "insertrownext" },
              "-",
              { label: c.insertcaption, cmdName: "insertcaption" },
              { label: c.deletecaption, cmdName: "deletecaption" },
              { label: c.inserttitle, cmdName: "inserttitle" },
              { label: c.deletetitle, cmdName: "deletetitle" },
              { label: c.inserttitlecol, cmdName: "inserttitlecol" },
              { label: c.deletetitlecol, cmdName: "deletetitlecol" },
              "-",
              { label: c.mergecells, cmdName: "mergecells" },
              { label: c.mergeright, cmdName: "mergeright" },
              { label: c.mergedown, cmdName: "mergedown" },
              "-",
              { label: c.splittorows, cmdName: "splittorows" },
              { label: c.splittocols, cmdName: "splittocols" },
              { label: c.splittocells, cmdName: "splittocells" },
              "-",
              { label: c.averageDiseRow, cmdName: "averagedistributerow" },
              { label: c.averageDisCol, cmdName: "averagedistributecol" },
              "-",
              {
                label: c.edittd,
                cmdName: "edittd",
                exec: function () {
                  UE.ui.edittd && new UE.ui.edittd(this);
                  this.getDialog("edittd").open();
                },
              },
              {
                label: c.edittable,
                cmdName: "edittable",
                exec: function () {
                  UE.ui.edittable && new UE.ui.edittable(this);
                  this.getDialog("edittable").open();
                },
              },
              { label: c.setbordervisible, cmdName: "setbordervisible" },
            ],
          },
          {
            group: c.tablesort,
            icon: "tablesort",
            subMenu: [
              { label: c.enablesort, cmdName: "enablesort" },
              { label: c.disablesort, cmdName: "disablesort" },
              "-",
              {
                label: c.reversecurrent,
                cmdName: "sorttable",
                value: "reversecurrent",
              },
              {
                label: c.orderbyasc,
                cmdName: "sorttable",
                value: "orderbyasc",
              },
              {
                label: c.reversebyasc,
                cmdName: "sorttable",
                value: "reversebyasc",
              },
              {
                label: c.orderbynum,
                cmdName: "sorttable",
                value: "orderbynum",
              },
              {
                label: c.reversebynum,
                cmdName: "sorttable",
                value: "reversebynum",
              },
            ],
          },
          {
            group: c.borderbk,
            icon: "borderBack",
            subMenu: [
              {
                label: c.setcolor,
                cmdName: "interlacetable",
                exec: function () {
                  this.execCommand("interlacetable");
                },
              },
              {
                label: c.unsetcolor,
                cmdName: "uninterlacetable",
                exec: function () {
                  this.execCommand("uninterlacetable");
                },
              },
              {
                label: c.setbackground,
                cmdName: "settablebackground",
                exec: function () {
                  this.execCommand("settablebackground", {
                    repeat: !0,
                    colorList: ["#bbb", "#ccc"],
                  });
                },
              },
              {
                label: c.unsetbackground,
                cmdName: "cleartablebackground",
                exec: function () {
                  this.execCommand("cleartablebackground");
                },
              },
              {
                label: c.redandblue,
                cmdName: "settablebackground",
                exec: function () {
                  this.execCommand("settablebackground", {
                    repeat: !0,
                    colorList: ["red", "blue"],
                  });
                },
              },
              {
                label: c.threecolorgradient,
                cmdName: "settablebackground",
                exec: function () {
                  this.execCommand("settablebackground", {
                    repeat: !0,
                    colorList: ["#aaa", "#bbb", "#ccc"],
                  });
                },
              },
            ],
          },
          {
            group: c.aligntd,
            icon: "aligntd",
            subMenu: [
              {
                cmdName: "cellalignment",
                value: { align: "left", vAlign: "top" },
              },
              {
                cmdName: "cellalignment",
                value: { align: "center", vAlign: "top" },
              },
              {
                cmdName: "cellalignment",
                value: { align: "right", vAlign: "top" },
              },
              {
                cmdName: "cellalignment",
                value: { align: "left", vAlign: "middle" },
              },
              {
                cmdName: "cellalignment",
                value: { align: "center", vAlign: "middle" },
              },
              {
                cmdName: "cellalignment",
                value: { align: "right", vAlign: "middle" },
              },
              {
                cmdName: "cellalignment",
                value: { align: "left", vAlign: "bottom" },
              },
              {
                cmdName: "cellalignment",
                value: { align: "center", vAlign: "bottom" },
              },
              {
                cmdName: "cellalignment",
                value: { align: "right", vAlign: "bottom" },
              },
            ],
          },
          {
            group: c.aligntable,
            icon: "aligntable",
            subMenu: [
              {
                cmdName: "tablealignment",
                className: "left",
                label: c.tableleft,
                value: "left",
              },
              {
                cmdName: "tablealignment",
                className: "center",
                label: c.tablecenter,
                value: "center",
              },
              {
                cmdName: "tablealignment",
                className: "right",
                label: c.tableright,
                value: "right",
              },
            ],
          },
          "-",
          {
            label: c.insertparagraphbefore,
            cmdName: "insertparagraph",
            value: !0,
          },
          { label: c.insertparagraphafter, cmdName: "insertparagraph" },
          { label: c.copy, cmdName: "copy" },
          { label: c.paste, cmdName: "paste" },
        ];
      if (a.length) {
        var e = UE.ui.uiUtils;
        d.addListener("contextmenu", function (h, g) {
          var l = e.getViewportOffsetByEvent(g);
          d.fireEvent("beforeselectionchange");
          b && b.destroy();
          for (var k = 0, m, n = []; (m = a[k]); k++) {
            var q;
            (function (a) {
              if ("-" == a) (q = n[n.length - 1]) && "-" !== q && n.push("-");
              else if (a.hasOwnProperty("group")) {
                for (var b = 0, e, g = []; (e = a.subMenu[b]); b++)
                  (function (a) {
                    "-" == a
                      ? (q = g[g.length - 1]) && "-" !== q
                        ? g.push("-")
                        : g.splice(g.length - 1)
                      : (d.commands[a.cmdName] ||
                          UE.commands[a.cmdName] ||
                          a.query) &&
                        -1 <
                          (a.query
                            ? a.query()
                            : d.queryCommandState(a.cmdName)) &&
                        g.push({
                          label:
                            a.label ||
                            d.getLang(
                              "contextMenu." + a.cmdName + (a.value || "")
                            ) ||
                            "",
                          className:
                            "edui-for-" +
                            a.cmdName +
                            (a.className
                              ? " edui-for-" + a.cmdName + "-" + a.className
                              : ""),
                          onclick: a.exec
                            ? function () {
                                a.exec.call(d);
                              }
                            : function () {
                                d.execCommand(a.cmdName, a.value);
                              },
                        });
                  })(e);
                g.length &&
                  n.push({
                    label: (function () {
                      switch (a.icon) {
                        case "table":
                          return d.getLang("contextMenu.table");
                        case "justifyjustify":
                          return d.getLang("contextMenu.paragraph");
                        case "aligntd":
                          return d.getLang("contextMenu.aligntd");
                        case "aligntable":
                          return d.getLang("contextMenu.aligntable");
                        case "tablesort":
                          return c.tablesort;
                        case "borderBack":
                          return c.borderbk;
                        default:
                          return "";
                      }
                    })(),
                    className: "edui-for-" + a.icon,
                    subMenu: { items: g, editor: d },
                  });
              } else
                (d.commands[a.cmdName] || UE.commands[a.cmdName] || a.query) &&
                  -1 <
                    (a.query
                      ? a.query.call(d)
                      : d.queryCommandState(a.cmdName)) &&
                  n.push({
                    label: a.label || d.getLang("contextMenu." + a.cmdName),
                    className:
                      "edui-for-" +
                      (a.icon ? a.icon : a.cmdName + (a.value || "")),
                    onclick: a.exec
                      ? function () {
                          a.exec.call(d);
                        }
                      : function () {
                          d.execCommand(a.cmdName, a.value);
                        },
                  });
            })(m);
          }
          "-" == n[n.length - 1] && n.pop();
          b = new UE.ui.Menu({
            items: n,
            className: "edui-contextmenu",
            editor: d,
          });
          b.render();
          b.showAt(l);
          d.fireEvent("aftershowcontextmenu", b);
          f.preventDefault(g);
          if (r.ie) {
            var t;
            try {
              t = d.selection.getNative().createRange();
            } catch (p) {
              return;
            }
            t.item &&
              new L.Range(d.document).selectNode(t.item(0)).select(!0, !0);
          }
        });
        d.addListener("aftershowcontextmenu", function (a, b) {
          if (d.zeroclipboard) {
            var c = b.items,
              e;
            for (e in c)
              "edui-for-copy" == c[e].className &&
                d.zeroclipboard.clip(c[e].getDom());
          }
        });
      }
    }
  };
  UE.plugins.shortcutmenu = function () {
    var d,
      c = this.options.shortcutMenu || [];
    c.length &&
      (this.addListener("contextmenu mouseup", function (b, a) {
        var e = this,
          h = {
            type: b,
            target: a.target || a.srcElement,
            screenX: a.screenX,
            screenY: a.screenY,
            clientX: a.clientX,
            clientY: a.clientY,
          };
        setTimeout(function () {
          if (!1 === e.selection.getRange().collapsed || "contextmenu" == b)
            d ||
              ((d = new s.editor.ui.ShortCutMenu({
                editor: e,
                items: c,
                theme: e.options.theme,
                className: "edui-shortcutmenu",
              })),
              d.render(),
              e.fireEvent("afterrendershortcutmenu", d)),
              d.show(h, !!UE.plugins.contextmenu);
        });
        if ("contextmenu" == b && (f.preventDefault(a), r.ie9below)) {
          var g;
          try {
            g = e.selection.getNative().createRange();
          } catch (l) {
            return;
          }
          g.item &&
            new L.Range(e.document).selectNode(g.item(0)).select(!0, !0);
        }
      }),
      this.addListener("keydown", function (b) {
        "keydown" == b && d && !d.isHidden && d.hide();
      }));
  };
  UE.plugins.basestyle = function () {
    var d = {
        bold: ["strong", "b"],
        italic: ["em", "i"],
        subscript: ["sub"],
        superscript: ["sup"],
      },
      c = function (a, b) {
        return f.filterNodeList(a.selection.getStartElementPath(), b);
      },
      b = this;
    b.addshortcutkey({
      Bold: "ctrl+66",
      Italic: "ctrl+73",
      Underline: "ctrl+85",
    });
    b.addInputRule(function (a) {
      p.each(a.getNodesByTagName("b i"), function (a) {
        switch (a.tagName) {
          case "b":
            a.tagName = "strong";
            break;
          case "i":
            a.tagName = "em";
        }
      });
    });
    for (var a in d)
      (function (a, d) {
        b.commands[a] = {
          execCommand: function (a) {
            var e = b.selection.getRange(),
              k = c(this, d);
            if (e.collapsed) {
              if (k)
                (a = b.document.createTextNode("")),
                  e.insertNode(a).removeInlineStyle(d),
                  e.setStartBefore(a),
                  f.remove(a);
              else {
                k = e.document.createElement(d[0]);
                if ("superscript" == a || "subscript" == a)
                  (a = b.document.createTextNode("")),
                    e
                      .insertNode(a)
                      .removeInlineStyle(["sub", "sup"])
                      .setStartBefore(a)
                      .collapse(!0);
                e.insertNode(k).setStart(k, 0);
              }
              e.collapse(!0);
            } else {
              if ("superscript" == a || "subscript" == a)
                (k && k.tagName.toLowerCase() == a) ||
                  e.removeInlineStyle(["sub", "sup"]);
              k ? e.removeInlineStyle(d) : e.applyInlineStyle(d[0]);
            }
            e.select();
          },
          queryCommandState: function () {
            return c(this, d) ? 1 : 0;
          },
        };
      })(a, d[a]);
  };
  UE.plugins.elementpath = function () {
    var d,
      c,
      b = this;
    b.setOpt("elementPathEnabled", !0);
    b.options.elementPathEnabled &&
      (b.commands.elementpath = {
        execCommand: function (a, e) {
          var f = c[e],
            g = b.selection.getRange();
          d = 1 * e;
          g.selectNode(f).select();
        },
        queryCommandValue: function () {
          var a = [].concat(this.selection.getStartElementPath()).reverse(),
            b = [];
          c = a;
          for (var f = 0, g; (g = a[f]); f++)
            if (3 != g.nodeType) {
              var l = g.tagName.toLowerCase();
              "img" == l && g.getAttribute("anchorname") && (l = "anchor");
              b[f] = l;
              if (d == f) {
                d = -1;
                break;
              }
            }
          return b;
        },
      });
  };
  UE.plugins.formatmatch = function () {
    function d(h, g) {
      if (r.webkit) var l = "IMG" == g.target.tagName ? g.target : null;
      c.undoManger && c.undoManger.save();
      var k = c.selection.getRange(),
        l = l || k.getClosedNode();
      if (a && l && "IMG" == l.tagName)
        (l.style.cssText +=
          ";float:" +
          (a.style.cssFloat || a.style.styleFloat || "none") +
          ";display:" +
          (a.style.display || "inline")),
          (a = null);
      else if (!a) {
        if (k.collapsed) {
          var m = c.document.createTextNode("match");
          k.insertNode(m).select();
        }
        c.__hasEnterExecCommand = !0;
        k = c.options.removeFormatAttributes;
        c.options.removeFormatAttributes = "";
        c.execCommand("removeformat");
        c.options.removeFormatAttributes = k;
        c.__hasEnterExecCommand = !1;
        k = c.selection.getRange();
        b.length &&
          ((l = k),
          m && l.selectNode(m),
          l.applyInlineStyle(b[b.length - 1].tagName, null, b));
        m && k.setStartBefore(m).collapse(!0);
        k.select();
        m && f.remove(m);
      }
      c.undoManger && c.undoManger.save();
      c.removeListener("mouseup", d);
      e = 0;
    }
    var c = this,
      b = [],
      a,
      e = 0;
    c.addListener("reset", function () {
      b = [];
      e = 0;
    });
    c.commands.formatmatch = {
      execCommand: function (h) {
        if (e) (e = 0), (b = []), c.removeListener("mouseup", d);
        else {
          h = c.selection.getRange();
          a = h.getClosedNode();
          if (!a || "IMG" != a.tagName) {
            h.collapse(!0).shrinkBoundary();
            b = f.findParents(h.startContainer, !0, function (a) {
              return !f.isBlockElm(a) && 1 == a.nodeType;
            });
            h = 0;
            for (var g; (g = b[h]); h++)
              if ("A" == g.tagName) {
                b.splice(h, 1);
                break;
              }
          }
          c.addListener("mouseup", d);
          e = 1;
        }
      },
      queryCommandState: function () {
        return e;
      },
      notNeedUndo: 1,
    };
  };
  UE.plugin.register("searchreplace", function () {
    function d(a, b, c) {
      var l = 0;
      a = a.firstChild;
      for (var k = 0; a; ) {
        if (3 == a.nodeType) {
          if (
            ((k = a.nodeValue.replace(/(^[\t\r\n]+)|([\t\r\n]+$)/, "").length),
            (l += k),
            l >= b)
          )
            return { node: a, index: k - (l - b) };
        } else if (
          !v.$empty[a.tagName] &&
          ((k = a[r.ie ? "innerText" : "textContent"].replace(
            /(^[\t\r\n]+)|([\t\r\n]+$)/,
            ""
          ).length),
          (l += k),
          l >= b && (k = d(a, k - (l - b), c)))
        )
          return k;
        a = f.getNextDomNode(a);
      }
    }
    function c(c, h) {
      var g = c.selection.getRange(),
        l,
        k = h.searchStr,
        m = c.document.createElement("span");
      m.innerHTML = "$$ueditor_searchreplace_key$$";
      g.shrinkBoundary(!0);
      if (!g.collapsed) {
        g.select();
        var n = c.selection.getText();
        if (
          RegExp("^" + h.searchStr + "$", h.casesensitive ? "" : "i").test(n)
        ) {
          if (void 0 != h.replaceStr)
            return (
              (k = h.replaceStr),
              (k = b.document.createTextNode(k)),
              g.deleteContents().insertNode(k),
              g.select(),
              !0
            );
          g.collapse(-1 == h.dir);
        }
      }
      g.insertNode(m);
      g.enlargeToBlockElm(!0);
      l = g.startContainer;
      n = l[r.ie ? "innerText" : "textContent"].indexOf(
        "$$ueditor_searchreplace_key$$"
      );
      g.setStartBefore(m);
      f.remove(m);
      a: {
        var m = l,
          q;
        l = h.all || 1 == h.dir ? "getNextDomNode" : "getPreDomNode";
        f.isBody(m) && (m = m.firstChild);
        for (; m; ) {
          q =
            3 == m.nodeType
              ? m.nodeValue
              : m[r.ie ? "innerText" : "textContent"];
          b: {
            var t = h,
              p = n,
              y = t.searchStr;
            -1 == t.dir &&
              ((q = q.split("").reverse().join("")),
              (y = y.split("").reverse().join("")),
              (p = q.length - p));
            for (
              var y = RegExp(y, "g" + (t.casesensitive ? "" : "i")), u = void 0;
              (u = y.exec(q));

            )
              if (u.index >= p) {
                q =
                  -1 == t.dir
                    ? q.length - u.index - t.searchStr.length
                    : u.index;
                break b;
              }
            q = -1;
          }
          if (-1 != q) {
            n = { node: m, index: q };
            break a;
          }
          for (m = f[l](m); m && a[m.nodeName.toLowerCase()]; ) m = f[l](m, !0);
          m &&
            (n =
              -1 == h.dir
                ? (3 == m.nodeType
                    ? m.nodeValue
                    : m[r.ie ? "innerText" : "textContent"]
                  ).length
                : 0);
        }
        n = void 0;
      }
      if (n)
        return (
          (m = d(n.node, n.index, k)),
          (k = d(n.node, n.index + k.length, k)),
          g.setStart(m.node, m.index).setEnd(k.node, k.index),
          void 0 !== h.replaceStr &&
            ((k = h.replaceStr),
            (k = b.document.createTextNode(k)),
            g.deleteContents().insertNode(k)),
          g.select(),
          !0
        );
      g.setCursor();
    }
    var b = this,
      a = { table: 1, tbody: 1, tr: 1, ol: 1, ul: 1 };
    return {
      commands: {
        searchreplace: {
          execCommand: function (a, d) {
            p.extend(d, { all: !1, casesensitive: !1, dir: 1 }, !0);
            var g = 0;
            if (d.all) {
              var f = b.selection.getRange(),
                k = b.body.firstChild;
              k && 1 == k.nodeType
                ? (f.setStart(k, 0), f.shrinkBoundary(!0))
                : 3 == k.nodeType && f.setStartBefore(k);
              f.collapse(!0).select(!0);
              for (
                void 0 !== d.replaceStr && b.fireEvent("saveScene");
                c(this, d);

              )
                g++;
            } else
              void 0 !== d.replaceStr && b.fireEvent("saveScene"),
                c(this, d) && g++;
            g && b.fireEvent("saveScene");
            return g;
          },
          notNeedUndo: 1,
        },
      },
    };
  });
  UE.plugins.customstyle = function () {
    var d = this;
    d.setOpt({
      customstyle: [
        {
          tag: "h1",
          name: "tc",
          style:
            "font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;",
        },
        {
          tag: "h1",
          name: "tl",
          style:
            "font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;",
        },
        {
          tag: "span",
          name: "im",
          style:
            "font-size:16px;font-style:italic;font-weight:bold;line-height:18px;",
        },
        {
          tag: "span",
          name: "hi",
          style:
            "font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;",
        },
      ],
    });
    d.commands.customstyle = {
      execCommand: function (c, b) {
        var a = b.tag,
          e = f.findParent(
            this.selection.getStart(),
            function (a) {
              return a.getAttribute("label");
            },
            !0
          ),
          d,
          g,
          l = {};
        for (d in b) void 0 !== b[d] && (l[d] = b[d]);
        delete l.tag;
        if (e && e.getAttribute("label") == b.label) {
          d = this.selection.getRange();
          g = d.createBookmark();
          if (d.collapsed)
            if (v.$block[e.tagName]) {
              var k = this.document.createElement("p");
              f.moveChild(e, k);
              e.parentNode.insertBefore(k, e);
              f.remove(e);
            } else f.remove(e, !0);
          else {
            e = f.getCommonAncestor(g.start, g.end);
            l = f.getElementsByTagName(e, a);
            RegExp(a, "i").test(e.tagName) && l.push(e);
            for (var m = 0, n; (n = l[m++]); )
              if (n.getAttribute("label") == b.label) {
                var k = f.getPosition(n, g.start),
                  q = f.getPosition(n, g.end);
                (k & f.POSITION_FOLLOWING || k & f.POSITION_CONTAINS) &&
                  (q & f.POSITION_PRECEDING || q & f.POSITION_CONTAINS) &&
                  v.$block[a] &&
                  ((k = this.document.createElement("p")),
                  f.moveChild(n, k),
                  n.parentNode.insertBefore(k, n));
                f.remove(n, !0);
              }
            (e = f.findParent(
              e,
              function (a) {
                return a.getAttribute("label") == b.label;
              },
              !0
            )) && f.remove(e, !0);
          }
          d.moveToBookmark(g).select();
        } else
          v.$block[a]
            ? (this.execCommand("paragraph", a, l, "customstyle"),
              (d = this.selection.getRange()),
              d.collapsed ||
                (d.collapse(),
                (e = f.findParent(
                  this.selection.getStart(),
                  function (a) {
                    return a.getAttribute("label") == b.label;
                  },
                  !0
                )),
                (a = this.document.createElement("p")),
                f.insertAfter(e, a),
                f.fillNode(this.document, a),
                d.setStart(a, 0).setCursor()))
            : ((d = this.selection.getRange()),
              d.collapsed
                ? ((e = this.document.createElement(a)),
                  f.setAttributes(e, l),
                  d.insertNode(e).setStart(e, 0).setCursor())
                : ((g = d.createBookmark()),
                  d.applyInlineStyle(a, l).moveToBookmark(g).select()));
      },
      queryCommandValue: function () {
        var c = f.filterNodeList(
          this.selection.getStartElementPath(),
          function (b) {
            return b.getAttribute("label");
          }
        );
        return c ? c.getAttribute("label") : "";
      },
    };
    d.addListener("keyup", function (c, b) {
      var a = b.keyCode || b.which;
      if (32 == a || 13 == a)
        if (((a = d.selection.getRange()), a.collapsed)) {
          var e = f.findParent(
            d.selection.getStart(),
            function (a) {
              return a.getAttribute("label");
            },
            !0
          );
          if (e && v.$block[e.tagName] && f.isEmptyNode(e)) {
            var h = d.document.createElement("p");
            f.insertAfter(e, h);
            f.fillNode(d.document, h);
            f.remove(e);
            a.setStart(h, 0).setCursor();
          }
        }
    });
  };
  UE.plugins.catchremoteimage = function () {
    var d = this,
      c = UE.ajax;
    !1 !== d.options.catchRemoteImageEnable &&
      (d.setOpt({ catchRemoteImageEnable: !1 }),
      d.addListener("afterpaste", function () {
        d.fireEvent("catchRemoteImage");
      }),
      d.addListener("catchRemoteImage", function () {
        function b(a, b) {
          var f = p.serializeParam(d.queryCommandValue("serverparam")) || "",
            f = p.formatUrl(e + (-1 == e.indexOf("?") ? "?" : "&") + f),
            h = {
              method: "POST",
              dataType: p.isCrossDomainUrl(f) ? "jsonp" : "",
              timeout: 6e4,
              onsuccess: b.success,
              onerror: b.error,
            };
          h[g] = a;
          c.request(f, h);
        }
        for (
          var a = d.getOpt("catcherLocalDomain"),
            e = d.getActionUrl(d.getOpt("catcherActionName")),
            h = d.getOpt("catcherUrlPrefix"),
            g = d.getOpt("catcherFieldName"),
            l = [],
            k = f.getElementsByTagName(d.document, "img"),
            m = function (a, b) {
              if (-1 != a.indexOf(location.host) || /(^\.)|(^\/)/.test(a))
                return !0;
              if (b)
                for (var c = 0, e; (e = b[c++]); )
                  if (-1 !== a.indexOf(e)) return !0;
              return !1;
            },
            n = 0,
            q;
          (q = k[n++]);

        )
          q.getAttribute("word_img") ||
            ((q = q.getAttribute("_src") || q.src || ""),
            /^(https?|ftp):/i.test(q) && !m(q, a) && l.push(q));
        l.length &&
          b(l, {
            success: function (a) {
              try {
                var b =
                  void 0 !== a.state ? a : eval("(" + a.responseText + ")");
              } catch (c) {
                return;
              }
              var e,
                g,
                n,
                l = b.list;
              for (a = 0; (b = k[a++]); )
                for (
                  n = b.getAttribute("_src") || b.src || "", e = 0;
                  (g = l[e++]);

                )
                  if (n == g.source && "SUCCESS" == g.state) {
                    e = h + g.url;
                    f.setAttributes(b, { src: e, _src: e });
                    break;
                  }
              d.fireEvent("catchremotesuccess");
            },
            error: function () {
              d.fireEvent("catchremoteerror");
            },
          });
      }));
  };
  UE.plugin.register("snapscreen", function () {
    function d(a) {
      var b = document.createElement("a"),
        d = p.serializeParam(c.queryCommandValue("serverparam")) || "";
      b.href = a;
      r.ie && (b.href = b.href);
      a = b.search;
      d &&
        ((a = a + (-1 == a.indexOf("?") ? "?" : "&") + d),
        (a = a.replace(/[&]+/gi, "&")));
      return {
        port: b.port,
        hostname: b.hostname,
        path: b.pathname + a || +b.hash,
      };
    }
    var c = this,
      b;
    return {
      commands: {
        snapscreen: {
          execCommand: function (a) {
            function e(a) {
              try {
                if (((a = eval("(" + a + ")")), "SUCCESS" == a.state)) {
                  var b = c.options;
                  c.execCommand("insertimage", {
                    src: b.snapscreenUrlPrefix + a.url,
                    _src: b.snapscreenUrlPrefix + a.url,
                    alt: a.title || "",
                    floatStyle: b.snapscreenImgAlign,
                  });
                } else alert(a.state);
              } catch (e) {
                alert(l.callBackErrorMsg);
              }
            }
            var f,
              g,
              l = c.getLang("snapScreen_plugin");
            if (!b) {
              a = c.container;
              b = (
                c.container.ownerDocument || c.container.document
              ).createElement("object");
              try {
                b.type = "application/x-pluginbaidusnap";
              } catch (k) {
                return;
              }
              b.style.cssText =
                "position:absolute;left:-9999px;width:0;height:0;";
              b.setAttribute("width", "0");
              b.setAttribute("height", "0");
              a.appendChild(b);
            }
            a = c.getActionUrl(c.getOpt("snapscreenActionName"));
            f = d(a);
            setTimeout(function () {
              try {
                g = b.saveSnapshot(f.hostname, f.path, f.port);
              } catch (a) {
                c.ui._dialogs.snapscreenDialog.open();
                return;
              }
              e(g);
            }, 50);
          },
          queryCommandState: function () {
            return -1 != navigator.userAgent.indexOf("Windows", 0) ? 0 : -1;
          },
        },
      },
    };
  });
  UE.commands.insertparagraph = {
    execCommand: function (d, c) {
      for (
        var b = this.selection.getRange(), a = b.startContainer, e;
        a && !f.isBody(a);

      )
        (e = a), (a = a.parentNode);
      e &&
        ((a = this.document.createElement("p")),
        c
          ? e.parentNode.insertBefore(a, e)
          : e.parentNode.insertBefore(a, e.nextSibling),
        f.fillNode(this.document, a),
        b.setStart(a, 0).setCursor(!1, !0));
    },
  };
  UE.plugin.register("webapp", function () {
    function d(b, a) {
      return a
        ? '<iframe class="edui-faked-webapp" title="' +
            b.title +
            '" ' +
            (b.align && !b.cssfloat ? 'align="' + b.align + '"' : "") +
            (b.cssfloat ? 'style="float:' + b.cssfloat + '"' : "") +
            'width="' +
            b.width +
            '" height="' +
            b.height +
            '"  scrolling="no" frameborder="0" src="' +
            b.url +
            '" logo_url = "' +
            b.logo +
            '"></iframe>'
        : '<img title="' +
            b.title +
            '" width="' +
            b.width +
            '" height="' +
            b.height +
            '" src="' +
            c.options.UEDITOR_HOME_URL +
            'themes/default/images/spacer.gif" _logo_url="' +
            b.logo +
            '" style="background:url(' +
            b.logo +
            ') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="' +
            b.url +
            '" ' +
            (b.align && !b.cssfloat ? 'align="' + b.align + '"' : "") +
            (b.cssfloat ? 'style="float:' + b.cssfloat + '"' : "") +
            "/>";
    }
    var c = this;
    return {
      outputRule: function (b) {
        p.each(b.getNodesByTagName("img"), function (a) {
          var b;
          "edui-faked-webapp" == a.getAttr("class") &&
            ((b = d(
              {
                title: a.getAttr("title"),
                width: a.getAttr("width"),
                height: a.getAttr("height"),
                align: a.getAttr("align"),
                cssfloat: a.getStyle("float"),
                url: a.getAttr("_url"),
                logo: a.getAttr("_logo_url"),
              },
              !0
            )),
            (b = UE.uNode.createElement(b)),
            a.parentNode.replaceChild(b, a));
        });
      },
      inputRule: function (b) {
        p.each(b.getNodesByTagName("iframe"), function (a) {
          if ("edui-faked-webapp" == a.getAttr("class")) {
            var b = UE.uNode.createElement(
              d({
                title: a.getAttr("title"),
                width: a.getAttr("width"),
                height: a.getAttr("height"),
                align: a.getAttr("align"),
                cssfloat: a.getStyle("float"),
                url: a.getAttr("src"),
                logo: a.getAttr("logo_url"),
              })
            );
            a.parentNode.replaceChild(b, a);
          }
        });
      },
      commands: {
        webapp: {
          execCommand: function (b, a) {
            var c = d(p.extend(a, { align: "none" }), !1);
            this.execCommand("inserthtml", c);
          },
          queryCommandState: function () {
            var b = this.selection.getRange().getClosedNode();
            return b && "edui-faked-webapp" == b.className ? 1 : 0;
          },
        },
      },
    };
  });
  UE.plugins.template = function () {
    UE.commands.template = {
      execCommand: function (d, c) {
        c.html && this.execCommand("inserthtml", c.html);
      },
    };
    this.addListener("click", function (d, c) {
      var b = c.target || c.srcElement,
        a = this.selection.getRange();
      (b = f.findParent(
        b,
        function (a) {
          if (a.className && f.hasClass(a, "ue_t")) return a;
        },
        !0
      )) && a.selectNode(b).shrinkBoundary().select();
    });
    this.addListener("keydown", function (d, c) {
      var b = this.selection.getRange();
      b.collapsed ||
        c.ctrlKey ||
        c.metaKey ||
        c.shiftKey ||
        c.altKey ||
        ((b = f.findParent(
          b.startContainer,
          function (a) {
            if (a.className && f.hasClass(a, "ue_t")) return a;
          },
          !0
        )) &&
          f.removeClasses(b, ["ue_t"]));
    });
  };
  UE.plugin.register("music", function () {
    function d(b, a, e, d, g, f) {
      return f
        ? '<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="' +
            b +
            '" width="' +
            a +
            '" height="' +
            e +
            '" ' +
            (d && !g ? 'align="' + d + '"' : "") +
            (g ? 'style="float:' + g + '"' : "") +
            ' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >'
        : "<img " +
            (d && !g ? 'align="' + d + '"' : "") +
            (g ? 'style="float:' + g + '"' : "") +
            ' width="' +
            a +
            '" height="' +
            e +
            '" _url="' +
            b +
            '" class="edui-faked-music" src="' +
            c.options.langPath +
            c.options.lang +
            '/images/music.png" />';
    }
    var c = this;
    return {
      outputRule: function (b) {
        p.each(b.getNodesByTagName("img"), function (a) {
          var b;
          if ("edui-faked-music" == a.getAttr("class")) {
            b = a.getStyle("float");
            var c = a.getAttr("align");
            b = d(
              a.getAttr("_url"),
              a.getAttr("width"),
              a.getAttr("height"),
              c,
              b,
              !0
            );
            b = UE.uNode.createElement(b);
            a.parentNode.replaceChild(b, a);
          }
        });
      },
      inputRule: function (b) {
        p.each(b.getNodesByTagName("embed"), function (a) {
          if ("edui-faked-music" == a.getAttr("class")) {
            var b = a.getStyle("float"),
              c = a.getAttr("align");
            html = d(
              a.getAttr("src"),
              a.getAttr("width"),
              a.getAttr("height"),
              c,
              b,
              !1
            );
            b = UE.uNode.createElement(html);
            a.parentNode.replaceChild(b, a);
          }
        });
      },
      commands: {
        music: {
          execCommand: function (b, a) {
            var c = d(a.url, a.width || 400, a.height || 95, "none", !1);
            this.execCommand("inserthtml", c);
          },
          queryCommandState: function () {
            var b = this.selection.getRange().getClosedNode();
            return b && "edui-faked-music" == b.className ? 1 : 0;
          },
        },
      },
    };
  });
  UE.plugin.register("autoupload", function () {
    function d(c, b) {
      var a,
        e,
        d,
        g,
        l,
        k,
        m,
        n,
        q = /image\/\w+/i.test(c.type) ? "image" : "file",
        t = "loading_" + (+new Date()).toString(36);
      a = b.getOpt(q + "FieldName");
      e = b.getOpt(q + "UrlPrefix");
      d = b.getOpt(q + "MaxSize");
      g = b.getOpt(q + "AllowFiles");
      l = b.getActionUrl(b.getOpt(q + "ActionName"));
      m = function (a) {
        var c = b.document.getElementById(t);
        c && f.remove(c);
        b.fireEvent("showmessage", {
          id: t,
          content: a,
          type: "error",
          timeout: 4e3,
        });
      };
      "image" == q
        ? ((k =
            '<img class="loadingclass" id="' +
            t +
            '" src="' +
            b.options.themePath +
            b.options.theme +
            '/images/spacer.gif" title="' +
            (b.getLang("autoupload.loading") || "") +
            '" >'),
          (n = function (a) {
            var c = e + a.url,
              d = b.document.getElementById(t);
            d &&
              (d.setAttribute("src", c),
              d.setAttribute("_src", c),
              d.setAttribute("title", a.title || ""),
              d.setAttribute("alt", a.original || ""),
              d.removeAttribute("id"),
              f.removeClasses(d, "loadingclass"));
          }))
        : ((k =
            '<p><img class="loadingclass" id="' +
            t +
            '" src="' +
            b.options.themePath +
            b.options.theme +
            '/images/spacer.gif" title="' +
            (b.getLang("autoupload.loading") || "") +
            '" ></p>'),
          (n = function (a) {
            a = e + a.url;
            var c = b.document.getElementById(t),
              d = b.selection.getRange(),
              g = d.createBookmark();
            d.selectNode(c).select();
            b.execCommand("insertfile", { url: a });
            d.moveToBookmark(g).select();
          }));
      b.execCommand("inserthtml", k);
      b.getOpt(q + "ActionName")
        ? c.size > d
          ? m(b.getLang("autoupload.exceedSizeError"))
          : ((d = c.name ? c.name.substr(c.name.lastIndexOf(".")) : "") &&
              "image" != q) ||
            (g && -1 == (g.join("") + ".").indexOf(d.toLowerCase() + "."))
          ? m(b.getLang("autoupload.exceedTypeError"))
          : ((g = new XMLHttpRequest()),
            (q = new FormData()),
            (d = p.serializeParam(b.queryCommandValue("serverparam")) || ""),
            (l = p.formatUrl(l + (-1 == l.indexOf("?") ? "?" : "&") + d)),
            q.append(a, c, c.name || "blob." + c.type.substr(6)),
            q.append("type", "ajax"),
            g.open("post", l, !0),
            g.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
            g.addEventListener("load", function (a) {
              try {
                var c = new Function("return " + p.trim(a.target.response))();
                "SUCCESS" == c.state && c.url ? n(c) : m(c.state);
              } catch (e) {
                m(b.getLang("autoupload.loadError"));
              }
            }),
            g.send(q))
        : m(b.getLang("autoupload.errorLoadConfig"));
    }
    return {
      outputRule: function (c) {
        p.each(c.getNodesByTagName("img"), function (b) {
          /\b(loaderrorclass)|(bloaderrorclass)\b/.test(b.getAttr("class")) &&
            b.parentNode.removeChild(b);
        });
        p.each(c.getNodesByTagName("p"), function (b) {
          /\bloadpara\b/.test(b.getAttr("class")) &&
            b.parentNode.removeChild(b);
        });
      },
      bindEvents: {
        ready: function (c) {
          var b = this;
          window.FormData &&
            window.FileReader &&
            (f.on(b.body, "paste drop", function (a) {
              var c = !1,
                f;
              if (
                (f =
                  "paste" == a.type
                    ? a.clipboardData &&
                      a.clipboardData.items &&
                      1 == a.clipboardData.items.length &&
                      /^image\//.test(a.clipboardData.items[0].type)
                      ? a.clipboardData.items
                      : null
                    : a.dataTransfer && a.dataTransfer.files
                    ? a.dataTransfer.files
                    : null)
              ) {
                for (var g = f.length, l; g--; )
                  (l = f[g]),
                    l.getAsFile && (l = l.getAsFile()),
                    l && 0 < l.size && (d(l, b), (c = !0));
                c && a.preventDefault();
              }
            }),
            f.on(b.body, "dragover", function (a) {
              "Files" == a.dataTransfer.types[0] && a.preventDefault();
            }),
            p.cssRule(
              "loading",
              ".loadingclass{display:inline-block;cursor:default;background: url('" +
                this.options.themePath +
                this.options.theme +
                "/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('" +
                this.options.themePath +
                this.options.theme +
                "/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",
              this.document
            ));
        },
      },
    };
  });
  UE.plugin.register("autosave", function () {
    function d(d) {
      var g;
      new Date() - b < a ||
        (d.hasContents()
          ? ((b = new Date()),
            (d._saveFlag = null),
            (g = c.body.innerHTML),
            !1 !== d.fireEvent("beforeautosave", { content: g }) &&
              (c.setPreferences(e, g),
              d.fireEvent("afterautosave", { content: g })))
          : e && c.removePreferences(e));
    }
    var c = this,
      b = new Date(),
      a = 20,
      e = null;
    return {
      defaultOptions: { saveInterval: 500 },
      bindEvents: {
        ready: function () {
          var a = null,
            a = c.key
              ? c.key + "-drafts-data"
              : (c.container.parentNode.id || "ue-common") + "-drafts-data";
          e =
            (location.protocol + location.host + location.pathname).replace(
              /[.:\/]/g,
              "_"
            ) + a;
        },
        contentchange: function () {
          e &&
            (c._saveFlag && window.clearTimeout(c._saveFlag),
            0 < c.options.saveInterval
              ? (c._saveFlag = window.setTimeout(function () {
                  d(c);
                }, c.options.saveInterval))
              : d(c));
        },
      },
      commands: {
        clearlocaldata: {
          execCommand: function (a, b) {
            e && c.getPreferences(e) && c.removePreferences(e);
          },
          notNeedUndo: !0,
          ignoreContentChange: !0,
        },
        getlocaldata: {
          execCommand: function (a, b) {
            return e ? c.getPreferences(e) || "" : "";
          },
          notNeedUndo: !0,
          ignoreContentChange: !0,
        },
        drafts: {
          execCommand: function (a, b) {
            e &&
              ((c.body.innerHTML =
                c.getPreferences(e) || "<p>" + f.fillHtml + "</p>"),
              c.focus(!0));
          },
          queryCommandState: function () {
            return e ? (null === c.getPreferences(e) ? -1 : 0) : -1;
          },
          notNeedUndo: !0,
          ignoreContentChange: !0,
        },
      },
    };
  });
  UE.plugin.register("charts", function () {
    function d(b) {
      var a = null,
        c = 0;
      if (2 > b.rows.length || 2 > b.rows[0].cells.length) return !1;
      for (var a = b.rows[0].cells, c = a.length, d = 0, g; (g = a[d]); d++)
        if ("th" !== g.tagName.toLowerCase()) return !1;
      for (d = 1; (a = b.rows[d]); d++) {
        if (a.cells.length != c || "th" !== a.cells[0].tagName.toLowerCase())
          return !1;
        for (var f = 1; (g = a.cells[f]); f++)
          if (
            ((g = p.trim(g.innerText || g.textContent || "")),
            (g = g
              .replace(RegExp(UE.dom.domUtils.fillChar, "g"), "")
              .replace(/^\s+|\s+$/g, "")),
            !/^\d*\.?\d+$/.test(g))
          )
            return !1;
      }
      return !0;
    }
    var c = this;
    return {
      bindEvents: { chartserror: function () {} },
      commands: {
        charts: {
          execCommand: function (b, a) {
            var e = f.findParentByTagName(
                this.selection.getRange().startContainer,
                "table",
                !0
              ),
              h = [],
              g = {};
            if (!e) return !1;
            if (!d(e)) return c.fireEvent("chartserror"), !1;
            g.title = a.title || "";
            g.subTitle = a.subTitle || "";
            g.xTitle = a.xTitle || "";
            g.yTitle = a.yTitle || "";
            g.suffix = a.suffix || "";
            g.tip = a.tip || "";
            g.dataFormat = a.tableDataFormat || "";
            g.chartType = a.chartType || 0;
            for (var l in g) g.hasOwnProperty(l) && h.push(l + ":" + g[l]);
            e.setAttribute("data-chart", h.join(";"));
            f.addClass(e, "edui-charts-table");
          },
          queryCommandState: function (b, a) {
            var c = f.findParentByTagName(
              this.selection.getRange().startContainer,
              "table",
              !0
            );
            return c && d(c) ? 0 : -1;
          },
        },
      },
      inputRule: function (b) {
        p.each(b.getNodesByTagName("table"), function (a) {
          void 0 !== a.getAttr("data-chart") && a.setAttr("style");
        });
      },
      outputRule: function (b) {
        p.each(b.getNodesByTagName("table"), function (a) {
          void 0 !== a.getAttr("data-chart") &&
            a.setAttr("style", "display: none;");
        });
      },
    };
  });
  UE.plugin.register("section", function () {
    function d(a) {
      this.tag = "";
      this.level = -1;
      this.parentSection =
        this.previousSection =
        this.nextSection =
        this.dom =
          null;
      this.startAddress = [];
      this.endAddress = [];
      this.children = [];
    }
    function c(a) {
      var b = new d();
      return p.extend(b, a);
    }
    function b(a, b) {
      for (var c = b, d = 0; d < a.length; d++) {
        if (!c.childNodes) return null;
        c = c.childNodes[a[d]];
      }
      return c;
    }
    var a = this;
    return {
      bindMultiEvents: {
        type: "aftersetcontent afterscencerestore",
        handler: function () {
          a.fireEvent("updateSections");
        },
      },
      bindEvents: {
        ready: function () {
          a.fireEvent("updateSections");
          f.on(a.body, "drop paste", function () {
            a.fireEvent("updateSections");
          });
        },
        afterexeccommand: function (b, c) {
          "paragraph" == c && a.fireEvent("updateSections");
        },
        keyup: function (a, b) {
          if (!0 != this.selection.getRange().collapsed)
            this.fireEvent("updateSections");
          else {
            var c = b.keyCode || b.which;
            (13 != c && 8 != c && 46 != c) || this.fireEvent("updateSections");
          }
        },
      },
      commands: {
        getsections: {
          execCommand: function (a, b) {
            function d(a, b) {
              for (
                var e, k = null, h, r = a.childNodes, s = 0, v = r.length;
                s < v;
                s++
              ) {
                h = r[s];
                a: {
                  e = h;
                  for (var A = 0; A < f.length; A++)
                    if (f[A](e)) {
                      e = A;
                      break a;
                    }
                  e = -1;
                }
                if (0 <= e) {
                  k = m.selection
                    .getRange()
                    .selectNode(h)
                    .createAddress(!0).startAddress;
                  k = c({
                    tag: h.tagName,
                    title: h.innerText || h.textContent || "",
                    level: e,
                    dom: h,
                    startAddress: p.clone(k, []),
                    endAddress: p.clone(k, []),
                    children: [],
                  });
                  n.nextSection = k;
                  for (h = k.previousSection = n; e <= h.level; )
                    h = h.parentSection;
                  k.parentSection = h;
                  h.children.push(k);
                  k = n = k;
                } else
                  1 === h.nodeType && d(h, b),
                    k && k.endAddress[k.endAddress.length - 1]++;
              }
            }
            for (
              var f = b || "h1 h2 h3 h4 h5 h6".split(" "), k = 0;
              k < f.length;
              k++
            )
              "string" == typeof f[k]
                ? (f[k] = (function (a) {
                    return function (b) {
                      return b.tagName == a.toUpperCase();
                    };
                  })(f[k]))
                : "function" != typeof f[k] &&
                  (f[k] = function (a) {
                    return null;
                  });
            var m = this,
              n = (k = c({ level: -1, title: "root" }));
            d(m.body, k);
            return k;
          },
          notNeedUndo: !0,
        },
        movesection: {
          execCommand: function (a, c, d, l) {
            if (c && d && -1 != d.level) {
              d = l ? d.endAddress : d.startAddress;
              a = b(d, this.body);
              var k;
              if (!(k = !d) && !(k = !a)) {
                k = c.startAddress;
                for (
                  var m = !1, n = !1, q = 0;
                  q < k.length && !(q >= d.length);
                  q++
                )
                  if (d[q] > k[q]) {
                    m = !0;
                    break;
                  } else if (d[q] < k[q]) break;
                for (q = 0; q < c.endAddress.length && !(q >= d.length); q++)
                  if (d[q] < k[q]) {
                    n = !0;
                    break;
                  } else if (d[q] > k[q]) break;
                k = m && n;
              }
              if (!k) {
                d = b(c.startAddress, this.body);
                c = b(c.endAddress, this.body);
                if (l)
                  for (
                    l = c;
                    l && !(f.getPosition(d, l) & f.POSITION_FOLLOWING);

                  ) {
                    k = l.previousSibling;
                    f.insertAfter(a, l);
                    if (l == d) break;
                    l = k;
                  }
                else
                  for (
                    l = d;
                    l && !(f.getPosition(l, c) & f.POSITION_FOLLOWING);

                  ) {
                    k = l.nextSibling;
                    a.parentNode.insertBefore(l, a);
                    if (l == c) break;
                    l = k;
                  }
                this.fireEvent("updateSections");
              }
            }
          },
        },
        deletesection: {
          execCommand: function (a, b, c) {
            function d(a) {
              for (var b = k.body, c = 0; c < a.length; c++) {
                if (!b.childNodes) return null;
                b = b.childNodes[a[c]];
              }
              return b;
            }
            var k = this;
            if (b) {
              a = d(b.startAddress);
              b = d(b.endAddress);
              if (c) f.remove(a);
              else
                for (
                  ;
                  a &&
                  f.inDoc(b, k.document) &&
                  !(f.getPosition(a, b) & f.POSITION_FOLLOWING);

                )
                  (c = a.nextSibling), f.remove(a), (a = c);
              k.fireEvent("updateSections");
            }
          },
        },
        selectsection: {
          execCommand: function (a, b) {
            if (!b && !b.dom) return !1;
            var c = this.selection.getRange(),
              d = {
                startAddress: p.clone(b.startAddress, []),
                endAddress: p.clone(b.endAddress, []),
              };
            d.endAddress[d.endAddress.length - 1]++;
            c.moveToAddress(d).select().scrollToView();
            return !0;
          },
          notNeedUndo: !0,
        },
        scrolltosection: {
          execCommand: function (a, b) {
            if (!b && !b.dom) return !1;
            var c = this.selection.getRange(),
              d = { startAddress: b.startAddress, endAddress: b.endAddress };
            d.endAddress[d.endAddress.length - 1]++;
            c.moveToAddress(d).scrollToView();
            return !0;
          },
          notNeedUndo: !0,
        },
      },
    };
  });
  UE.plugin.register("simpleupload", function () {
    function d() {
      var e = a.offsetWidth || 20,
        d = a.offsetHeight || 20,
        g = document.createElement("iframe"),
        l =
          "display:block;width:" +
          e +
          "px;height:" +
          d +
          "px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;";
      f.on(g, "load", function () {
        var a = (+new Date()).toString(36),
          m,
          n,
          q;
        n = g.contentDocument || g.contentWindow.document;
        q = n.body;
        m = n.createElement("div");
        m.innerHTML =
          '<form id="edui_form_' +
          a +
          '" target="edui_iframe_' +
          a +
          '" method="POST" enctype="multipart/form-data" action="' +
          c.getOpt("serverUrl") +
          '" style="' +
          l +
          '"><input id="edui_input_' +
          a +
          '" type="file" accept="image/*" name="' +
          c.options.imageFieldName +
          '" style="' +
          l +
          '"></form><iframe id="edui_iframe_' +
          a +
          '" name="edui_iframe_' +
          a +
          '" style="display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;"></iframe>';
        m.className = "edui-" + c.options.theme;
        m.id = c.ui.id + "_iframeupload";
        q.style.cssText = l;
        q.style.width = e + "px";
        q.style.height = d + "px";
        q.appendChild(m);
        q.parentNode &&
          ((q.parentNode.style.width = e + "px"),
          (q.parentNode.style.height = e + "px"));
        var t = n.getElementById("edui_form_" + a),
          w = n.getElementById("edui_input_" + a),
          r = n.getElementById("edui_iframe_" + a);
        f.on(w, "change", function () {
          function a() {
            try {
              var d,
                g,
                k,
                h = (r.contentDocument || r.contentWindow.document).body;
              g = new Function(
                "return " + (h.innerText || h.textContent || "")
              )();
              d = c.options.imageUrlPrefix + g.url;
              "SUCCESS" == g.state && g.url
                ? ((k = c.document.getElementById(e)),
                  k.setAttribute("src", d),
                  k.setAttribute("_src", d),
                  k.setAttribute("title", g.title || ""),
                  k.setAttribute("alt", g.original || ""),
                  k.removeAttribute("id"),
                  f.removeClasses(k, "loadingclass"))
                : b && b(g.state);
            } catch (n) {
              b && b(c.getLang("simpleupload.loadError"));
            }
            t.reset();
            f.un(r, "load", a);
          }
          function b(a) {
            if (e) {
              var d = c.document.getElementById(e);
              d && f.remove(d);
              c.fireEvent("showmessage", {
                id: e,
                content: a,
                type: "error",
                timeout: 4e3,
              });
            }
          }
          if (w.value) {
            var e = "loading_" + (+new Date()).toString(36),
              d = p.serializeParam(c.queryCommandValue("serverparam")) || "",
              g = c.getActionUrl(c.getOpt("imageActionName")),
              k = c.getOpt("imageAllowFiles");
            c.focus();
            c.execCommand(
              "inserthtml",
              '<img class="loadingclass" id="' +
                e +
                '" src="' +
                c.options.themePath +
                c.options.theme +
                '/images/spacer.gif" title="' +
                (c.getLang("simpleupload.loading") || "") +
                '" >'
            );
            if (c.getOpt("imageActionName")) {
              var h = w.value,
                h = h ? h.substr(h.lastIndexOf(".")) : "";
              !h ||
              (k && -1 == (k.join("") + ".").indexOf(h.toLowerCase() + "."))
                ? b(c.getLang("simpleupload.exceedTypeError"))
                : (f.on(r, "load", a),
                  (t.action = p.formatUrl(
                    g + (-1 == g.indexOf("?") ? "?" : "&") + d
                  )),
                  t.submit());
            } else errorHandler(c.getLang("autoupload.errorLoadConfig"));
          }
        });
        var u;
        c.addListener("selectionchange", function () {
          clearTimeout(u);
          u = setTimeout(function () {
            -1 == c.queryCommandState("simpleupload")
              ? (w.disabled = "disabled")
              : (w.disabled = !1);
          }, 400);
        });
        b = !0;
      });
      g.style.cssText = l;
      a.appendChild(g);
    }
    var c = this,
      b = !1,
      a;
    return {
      bindEvents: {
        ready: function () {
          p.cssRule(
            "loading",
            ".loadingclass{display:inline-block;cursor:default;background: url('" +
              this.options.themePath +
              this.options.theme +
              "/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('" +
              this.options.themePath +
              this.options.theme +
              "/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",
            this.document
          );
        },
        simpleuploadbtnready: function (b, f) {
          a = f;
          c.afterConfigReady(d);
        },
      },
      outputRule: function (a) {
        p.each(a.getNodesByTagName("img"), function (a) {
          /\b(loaderrorclass)|(bloaderrorclass)\b/.test(a.getAttr("class")) &&
            a.parentNode.removeChild(a);
        });
      },
      commands: {
        simpleupload: {
          queryCommandState: function () {
            return b ? 0 : -1;
          },
        },
      },
    };
  });
  UE.plugin.register("serverparam", function () {
    var d = {};
    return {
      commands: {
        serverparam: {
          execCommand: function (c, b, a) {
            void 0 === b || null === b
              ? (d = {})
              : p.isString(b)
              ? void 0 === a || null === a
                ? delete d[b]
                : (d[b] = a)
              : p.isObject(b)
              ? p.extend(d, b, !0)
              : p.isFunction(b) && p.extend(d, b(), !0);
          },
          queryCommandValue: function () {
            return d || {};
          },
        },
      },
    };
  });
  UE.plugin.register("insertfile", function () {
    var d = this;
    return {
      commands: {
        insertfile: {
          execCommand: function (c, b) {
            b = p.isArray(b) ? b : [b];
            var a,
              e,
              f,
              g,
              l = "";
            a = d.getOpt("UEDITOR_HOME_URL");
            var k =
              a +
              ("/" == a.substr(a.length - 1) ? "" : "/") +
              "dialogs/attachment/fileTypeImages/";
            for (a = 0; a < b.length; a++) {
              e = b[a];
              f = k;
              g = e.url;
              g = g.substr(g.lastIndexOf(".") + 1).toLowerCase();
              var m = {
                rar: "icon_rar.gif",
                zip: "icon_rar.gif",
                tar: "icon_rar.gif",
                gz: "icon_rar.gif",
                bz2: "icon_rar.gif",
                doc: "icon_doc.gif",
                docx: "icon_doc.gif",
                pdf: "icon_pdf.gif",
                mp3: "icon_mp3.gif",
                xls: "icon_xls.gif",
                chm: "icon_chm.gif",
                ppt: "icon_ppt.gif",
                pptx: "icon_ppt.gif",
                avi: "icon_mv.gif",
                rmvb: "icon_mv.gif",
                wmv: "icon_mv.gif",
                flv: "icon_mv.gif",
                swf: "icon_mv.gif",
                rm: "icon_mv.gif",
                exe: "icon_exe.gif",
                psd: "icon_psd.gif",
                txt: "icon_txt.gif",
                jpg: "icon_jpg.gif",
                png: "icon_jpg.gif",
                jpeg: "icon_jpg.gif",
                gif: "icon_jpg.gif",
                ico: "icon_jpg.gif",
                bmp: "icon_jpg.gif",
              };
              f += m[g] ? m[g] : m.txt;
              g = e.title || e.url.substr(e.url.lastIndexOf("/") + 1);
              l +=
                '<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="' +
                f +
                '" _src="' +
                f +
                '" /><a style="font-size:12px; color:#0066cc;" href="' +
                e.url +
                '" title="' +
                g +
                '">' +
                g +
                "</a></p>";
            }
            d.execCommand("insertHtml", l);
          },
        },
      },
    };
  });
  s = s || {};
  s.editor = s.editor || {};
  UE.ui = s.editor.ui = {};
  (function () {
    function d() {
      var a = document.getElementById("edui_fixedlayer");
      f.setViewportOffset(a, { left: 0, top: 0 });
    }
    var c = s.editor.browser,
      b = s.editor.dom.domUtils,
      a = (window.$EDITORUI = {}),
      e = 0,
      f = (s.editor.ui.uiUtils = {
        uid: function (a) {
          return a ? a.ID$EDITORUI || (a.ID$EDITORUI = ++e) : ++e;
        },
        hook: function (a, b) {
          var c;
          a && a._callbacks
            ? (c = a)
            : ((c = function () {
                var b;
                a && (b = a.apply(this, arguments));
                for (var e = c._callbacks, d = e.length; d--; ) {
                  var f = e[d].apply(this, arguments);
                  void 0 === b && (b = f);
                }
                return b;
              }),
              (c._callbacks = []));
          c._callbacks.push(b);
          return c;
        },
        createElementByHtml: function (a) {
          var b = document.createElement("div");
          b.innerHTML = a;
          b = b.firstChild;
          b.parentNode.removeChild(b);
          return b;
        },
        getViewportElement: function () {
          return c.ie && c.quirks ? document.body : document.documentElement;
        },
        getClientRect: function (a) {
          var c;
          try {
            c = a.getBoundingClientRect();
          } catch (e) {
            c = { left: 0, top: 0, height: 0, width: 0 };
          }
          for (
            var d = {
                left: Math.round(c.left),
                top: Math.round(c.top),
                height: Math.round(c.bottom - c.top),
                width: Math.round(c.right - c.left),
              },
              f;
            (f = a.ownerDocument) !== document &&
            (a = b.getWindow(f).frameElement);

          )
            (c = a.getBoundingClientRect()),
              (d.left += c.left),
              (d.top += c.top);
          d.bottom = d.top + d.height;
          d.right = d.left + d.width;
          return d;
        },
        getViewportRect: function () {
          var a = f.getViewportElement(),
            b = (window.innerWidth || a.clientWidth) | 0,
            a = (window.innerHeight || a.clientHeight) | 0;
          return { left: 0, top: 0, height: a, width: b, bottom: a, right: b };
        },
        setViewportOffset: function (a, c) {
          var e = f.getFixedLayer();
          a.parentNode === e
            ? ((a.style.left = c.left + "px"), (a.style.top = c.top + "px"))
            : b.setViewportOffset(a, c);
        },
        getEventOffset: function (a) {
          var b = f.getClientRect(a.target || a.srcElement);
          a = f.getViewportOffsetByEvent(a);
          return { left: a.left - b.left, top: a.top - b.top };
        },
        getViewportOffsetByEvent: function (a) {
          var c = a.target || a.srcElement,
            e = b.getWindow(c).frameElement;
          a = { left: a.clientX, top: a.clientY };
          e &&
            c.ownerDocument !== document &&
            ((c = f.getClientRect(e)), (a.left += c.left), (a.top += c.top));
          return a;
        },
        setGlobal: function (b, c) {
          a[b] = c;
          return '$EDITORUI["' + b + '"]';
        },
        unsetGlobal: function (b) {
          delete a[b];
        },
        copyAttributes: function (a, e) {
          for (var d = e.attributes, f = d.length; f--; ) {
            var h = d[f];
            "style" == h.nodeName ||
              "class" == h.nodeName ||
              (c.ie && !h.specified) ||
              a.setAttribute(h.nodeName, h.nodeValue);
          }
          e.className && b.addClass(a, e.className);
          e.style.cssText && (a.style.cssText += ";" + e.style.cssText);
        },
        removeStyle: function (a, b) {
          if (a.style.removeProperty) a.style.removeProperty(b);
          else if (a.style.removeAttribute) a.style.removeAttribute(b);
          else throw "";
        },
        contains: function (a, b) {
          return (
            a &&
            b &&
            (a === b
              ? !1
              : a.contains
              ? a.contains(b)
              : a.compareDocumentPosition(b) & 16)
          );
        },
        startDrag: function (a, b, c) {
          function e(a) {
            b.ondragmove(a.clientX - d, a.clientY - f, a);
            a.stopPropagation ? a.stopPropagation() : (a.cancelBubble = !0);
          }
          c = c || document;
          var d = a.clientX,
            f = a.clientY;
          if (c.addEventListener) {
            var h = function (a) {
              c.removeEventListener("mousemove", e, !0);
              c.removeEventListener("mouseup", h, !0);
              window.removeEventListener("mouseup", h, !0);
              b.ondragstop();
            };
            c.addEventListener("mousemove", e, !0);
            c.addEventListener("mouseup", h, !0);
            window.addEventListener("mouseup", h, !0);
            a.preventDefault();
          } else {
            var p = a.srcElement;
            p.setCapture();
            var r = function () {
              p.releaseCapture();
              p.detachEvent("onmousemove", e);
              p.detachEvent("onmouseup", r);
              p.detachEvent("onlosecaptrue", r);
              b.ondragstop();
            };
            p.attachEvent("onmousemove", e);
            p.attachEvent("onmouseup", r);
            p.attachEvent("onlosecaptrue", r);
            a.returnValue = !1;
          }
          b.ondragstart();
        },
        getFixedLayer: function () {
          var a = document.getElementById("edui_fixedlayer");
          null == a &&
            ((a = document.createElement("div")),
            (a.id = "edui_fixedlayer"),
            document.body.appendChild(a),
            c.ie && 8 >= c.version
              ? ((a.style.position = "absolute"),
                b.on(window, "scroll", d),
                b.on(window, "resize", s.editor.utils.defer(d, 0, !0)),
                setTimeout(d))
              : (a.style.position = "fixed"),
            (a.style.left = "0"),
            (a.style.top = "0"),
            (a.style.width = "0"),
            (a.style.height = "0"));
          return a;
        },
        makeUnselectable: function (a) {
          if (c.opera || (c.ie && 9 > c.version)) {
            if (((a.unselectable = "on"), a.hasChildNodes()))
              for (var b = 0; b < a.childNodes.length; b++)
                1 == a.childNodes[b].nodeType &&
                  f.makeUnselectable(a.childNodes[b]);
          } else
            void 0 !== a.style.MozUserSelect
              ? (a.style.MozUserSelect = "none")
              : void 0 !== a.style.WebkitUserSelect
              ? (a.style.WebkitUserSelect = "none")
              : void 0 !== a.style.KhtmlUserSelect &&
                (a.style.KhtmlUserSelect = "none");
        },
      });
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.uiUtils,
      b = s.editor.EventBase,
      a = (s.editor.ui.UIBase = function () {});
    a.prototype = {
      className: "",
      uiName: "",
      initOptions: function (a) {
        for (var b in a) this[b] = a[b];
        this.id = this.id || "edui" + c.uid();
      },
      initUIBase: function () {
        this._globalKey = d.unhtml(c.setGlobal(this.id, this));
      },
      render: function (a) {
        for (
          var b = this.renderHtml(),
            b = c.createElementByHtml(b),
            d = f.getElementsByTagName(b, "*"),
            l = "edui-" + (this.theme || this.editor.options.theme),
            k = document.getElementById("edui_fixedlayer"),
            m = 0,
            n;
          (n = d[m++]);

        )
          f.addClass(n, l);
        f.addClass(b, l);
        k && ((k.className = ""), f.addClass(k, l));
        d = this.getDom();
        null != d
          ? (d.parentNode.replaceChild(b, d), c.copyAttributes(b, d))
          : ("string" == typeof a && (a = document.getElementById(a)),
            (a = a || c.getFixedLayer()),
            f.addClass(a, l),
            a.appendChild(b));
        this.postRender();
      },
      getDom: function (a) {
        return a
          ? document.getElementById(this.id + "_" + a)
          : document.getElementById(this.id);
      },
      postRender: function () {
        this.fireEvent("postrender");
      },
      getHtmlTpl: function () {
        return "";
      },
      formatHtml: function (a) {
        var b = "edui-" + this.uiName;
        return a
          .replace(/##/g, this.id)
          .replace(/%%-/g, this.uiName ? b + "-" : "")
          .replace(/%%/g, (this.uiName ? b : "") + " " + this.className)
          .replace(/\$\$/g, this._globalKey);
      },
      renderHtml: function () {
        return this.formatHtml(this.getHtmlTpl());
      },
      dispose: function () {
        var a = this.getDom();
        a && s.editor.dom.domUtils.remove(a);
        c.unsetGlobal(this.id);
      },
    };
    d.inherits(a, b);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.UIBase,
      b = (s.editor.ui.Separator = function (a) {
        this.initOptions(a);
        this.initSeparator();
      });
    b.prototype = {
      uiName: "separator",
      initSeparator: function () {
        this.initUIBase();
      },
      getHtmlTpl: function () {
        return '<div id="##" class="edui-box %%"></div>';
      },
    };
    d.inherits(b, c);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.dom.domUtils,
      b = s.editor.ui.UIBase,
      a = s.editor.ui.uiUtils,
      e = (s.editor.ui.Mask = function (a) {
        this.initOptions(a);
        this.initUIBase();
      });
    e.prototype = {
      getHtmlTpl: function () {
        return '<div id="##" class="edui-mask %%" onclick="return $$._onClick(event, this);" onmousedown="return $$._onMouseDown(event, this);"></div>';
      },
      postRender: function () {
        var a = this;
        c.on(window, "resize", function () {
          setTimeout(function () {
            a.isHidden() || a._fill();
          });
        });
      },
      show: function (a) {
        this._fill();
        this.getDom().style.display = "";
        this.getDom().style.zIndex = a;
      },
      hide: function () {
        this.getDom().style.display = "none";
        this.getDom().style.zIndex = "";
      },
      isHidden: function () {
        return "none" == this.getDom().style.display;
      },
      _onMouseDown: function () {
        return !1;
      },
      _onClick: function (a, b) {
        this.fireEvent("click", a, b);
      },
      _fill: function () {
        var b = this.getDom(),
          c = a.getViewportRect();
        b.style.width = c.width + "px";
        b.style.height = c.height + "px";
      },
    };
    d.inherits(e, b);
  })();
  (function () {
    function d(a, b) {
      for (var c = 0; c < g.length; c++) {
        var e = g[c];
        if (!e.isHidden() && !1 !== e.queryAutoHide(b)) {
          if (
            a &&
            /scroll/gi.test(a.type) &&
            "edui-wordpastepop" == e.className
          )
            return;
          e.hide();
        }
      }
      g.length && e.editor.fireEvent("afterhidepop");
    }
    var c = s.editor.utils,
      b = s.editor.ui.uiUtils,
      a = s.editor.dom.domUtils,
      e = s.editor.ui.UIBase,
      f = (s.editor.ui.Popup = function (a) {
        this.initOptions(a);
        this.initPopup();
      }),
      g = [];
    f.postHide = d;
    var l = [
      "edui-anchor-topleft",
      "edui-anchor-topright",
      "edui-anchor-bottomleft",
      "edui-anchor-bottomright",
    ];
    f.prototype = {
      SHADOW_RADIUS: 5,
      content: null,
      _hidden: !1,
      autoRender: !0,
      canSideLeft: !0,
      canSideUp: !0,
      initPopup: function () {
        this.initUIBase();
        g.push(this);
      },
      getHtmlTpl: function () {
        return (
          '<div id="##" class="edui-popup %%" onmousedown="return false;"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">' +
          this.getContentHtmlTpl() +
          "  </div> </div></div>"
        );
      },
      getContentHtmlTpl: function () {
        return this.content
          ? "string" == typeof this.content
            ? this.content
            : this.content.renderHtml()
          : "";
      },
      _UIBase_postRender: e.prototype.postRender,
      postRender: function () {
        this.content instanceof e && this.content.postRender();
        if (this.captureWheel && !this.captured) {
          this.captured = !0;
          var c =
              (document.documentElement.clientHeight ||
                document.body.clientHeight) - 80,
            d = this.getDom().offsetHeight,
            f = b.getClientRect(this.combox.getDom()).top,
            g = this.getDom("content"),
            h = this.getDom("body").getElementsByTagName("iframe"),
            l = this;
          for (h.length && (h = h[0]); f + d > c; ) d -= 30;
          g.style.height = d + "px";
          h && (h.style.height = d + "px");
          if (window.XMLHttpRequest)
            a.on(
              g,
              "onmousewheel" in document.body ? "mousewheel" : "DOMMouseScroll",
              function (a) {
                a.preventDefault ? a.preventDefault() : (a.returnValue = !1);
                g.scrollTop = a.wheelDelta
                  ? g.scrollTop - (a.wheelDelta / 120) * 60
                  : g.scrollTop - (a.detail / -3) * 60;
              }
            );
          else
            a.on(this.getDom(), "mousewheel", function (a) {
              a.returnValue = !1;
              l.getDom("content").scrollTop -= (a.wheelDelta / 120) * 60;
            });
        }
        this.fireEvent("postRenderAfter");
        this.hide(!0);
        this._UIBase_postRender();
      },
      _doAutoRender: function () {
        !this.getDom() && this.autoRender && this.render();
      },
      mesureSize: function () {
        var a = this.getDom("content");
        return b.getClientRect(a);
      },
      fitSize: function () {
        if (this.captureWheel && this.sized) return this.__size;
        this.sized = !0;
        var a = this.getDom("body");
        a.style.width = "";
        a.style.height = "";
        var b = this.mesureSize();
        if (this.captureWheel) {
          a.style.width = -(-20 - b.width) + "px";
          var c = parseInt(this.getDom("content").style.height, 10);
          !window.isNaN(c) && (b.height = c);
        } else a.style.width = b.width + "px";
        a.style.height = b.height + "px";
        this.__size = b;
        this.captureWheel && (this.getDom("content").style.overflow = "auto");
        return b;
      },
      showAnchor: function (a, c) {
        this.showAnchorRect(b.getClientRect(a), c);
      },
      showAnchorRect: function (c, e, d) {
        this._doAutoRender();
        var f = b.getViewportRect();
        this.getDom().style.visibility = "hidden";
        this._show();
        d = this.fitSize();
        var g;
        e
          ? ((e =
              this.canSideLeft &&
              c.right + d.width > f.right &&
              c.left > d.width),
            (f =
              this.canSideUp &&
              c.top + d.height > f.bottom &&
              c.bottom > d.height),
            (g = e ? c.left - d.width : c.right),
            (c = f ? c.bottom - d.height : c.top))
          : ((e =
              this.canSideLeft &&
              c.right + d.width > f.right &&
              c.left > d.width),
            (f =
              this.canSideUp &&
              c.top + d.height > f.bottom &&
              c.bottom > d.height),
            (g = e ? c.right - d.width : c.left),
            (c = f ? c.top - d.height : c.bottom));
        d = this.getDom();
        b.setViewportOffset(d, { left: g, top: c });
        a.removeClasses(d, l);
        d.className += " " + l[2 * (f ? 1 : 0) + (e ? 1 : 0)];
        this.editor &&
          ((d.style.zIndex = 1 * this.editor.container.style.zIndex + 10),
          (s.editor.ui.uiUtils.getFixedLayer().style.zIndex =
            d.style.zIndex - 1));
        this.getDom().style.visibility = "visible";
      },
      showAt: function (a) {
        var b = a.left;
        a = a.top;
        this.showAnchorRect(
          { left: b, top: a, right: b, bottom: a, height: 0, width: 0 },
          !1,
          !0
        );
      },
      _show: function () {
        this._hidden &&
          ((this.getDom().style.display = ""),
          (this._hidden = !1),
          this.fireEvent("show"));
      },
      isHidden: function () {
        return this._hidden;
      },
      show: function () {
        this._doAutoRender();
        this._show();
      },
      hide: function (a) {
        !this._hidden &&
          this.getDom() &&
          ((this.getDom().style.display = "none"),
          (this._hidden = !0),
          a || this.fireEvent("hide"));
      },
      queryAutoHide: function (a) {
        return !a || !b.contains(this.getDom(), a);
      },
    };
    c.inherits(f, e);
    a.on(document, "mousedown", function (a) {
      d(a, a.target || a.srcElement);
    });
    a.on(window, "scroll", function (a, b) {
      d(a, b);
    });
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.UIBase,
      b = (s.editor.ui.ColorPicker = function (a) {
        this.initOptions(a);
        this.noColorText =
          this.noColorText || this.editor.getLang("clearColor");
        this.initUIBase();
      });
    b.prototype = {
      getHtmlTpl: function () {
        for (
          var b = this.editor,
            c =
              '<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"></div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">' +
              this.noColorText +
              '</div></div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">' +
              b.getLang("themeColor") +
              '</td> </tr><tr class="edui-colorpicker-tablefirstrow" >',
            d = 0;
          d < a.length;
          d++
        )
          d &&
            0 === d % 10 &&
            (c +=
              "</tr>" +
              (60 == d
                ? '<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">' +
                  b.getLang("standardColor") +
                  "</td></tr>"
                : "") +
              "<tr" +
              (60 == d ? ' class="edui-colorpicker-tablefirstrow"' : "") +
              ">"),
            (c +=
              70 > d
                ? '<td style="padding: 0 2px;"><a hidefocus title="' +
                  a[d] +
                  '" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#' +
                  a[d] +
                  '" style="background-color:#' +
                  a[d] +
                  ";border:solid #ccc;" +
                  (10 > d || 60 <= d
                    ? "border-width:1px;"
                    : 10 <= d && 20 > d
                    ? "border-width:1px 1px 0 1px;"
                    : "border-width:0 1px 0 1px;") +
                  '"></a></td>'
                : "");
        return c + "</tr></table></div>";
      },
      _onTableClick: function (a) {
        (a = (a.target || a.srcElement).getAttribute("data-color")) &&
          this.fireEvent("pickcolor", a);
      },
      _onTableOver: function (a) {
        if ((a = (a.target || a.srcElement).getAttribute("data-color")))
          this.getDom("preview").style.backgroundColor = a;
      },
      _onTableOut: function () {
        this.getDom("preview").style.backgroundColor = "";
      },
      _onPickNoColor: function () {
        this.fireEvent("picknocolor");
      },
    };
    d.inherits(b, c);
    var a =
      "ffffff 000000 eeece1 1f497d 4f81bd c0504d 9bbb59 8064a2 4bacc6 f79646 f2f2f2 7f7f7f ddd9c3 c6d9f0 dbe5f1 f2dcdb ebf1dd e5e0ec dbeef3 fdeada d8d8d8 595959 c4bd97 8db3e2 b8cce4 e5b9b7 d7e3bc ccc1d9 b7dde8 fbd5b5 bfbfbf 3f3f3f 938953 548dd4 95b3d7 d99694 c3d69b b2a2c7 92cddc fac08f a5a5a5 262626 494429 17365d 366092 953734 76923c 5f497a 31859b e36c09 7f7f7f 0c0c0c 1d1b10 0f243e 244061 632423 4f6128 3f3151 205867 974806 c00000 ff0000 ffc000 ffff00 92d050 00b050 00b0f0 0070c0 002060 7030a0 ".split(
        " "
      );
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.uiUtils,
      b = s.editor.ui.UIBase,
      a = (s.editor.ui.TablePicker = function (a) {
        this.initOptions(a);
        this.initTablePicker();
      });
    a.prototype = {
      defaultNumRows: 10,
      defaultNumCols: 10,
      maxNumRows: 20,
      maxNumCols: 20,
      numRows: 10,
      numCols: 10,
      lengthOfCellSide: 22,
      initTablePicker: function () {
        this.initUIBase();
      },
      getHtmlTpl: function () {
        return '<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>';
      },
      _UIBase_render: b.prototype.render,
      render: function (a) {
        this._UIBase_render(a);
        this.getDom("label").innerHTML =
          "0" +
          this.editor.getLang("t_row") +
          " x 0" +
          this.editor.getLang("t_col");
      },
      _track: function (a, b) {
        var c = this.getDom("overlay").style,
          d = this.lengthOfCellSide;
        c.width = a * d + "px";
        c.height = b * d + "px";
        this.getDom("label").innerHTML =
          a +
          this.editor.getLang("t_col") +
          " x " +
          b +
          this.editor.getLang("t_row");
        this.numCols = a;
        this.numRows = b;
      },
      _onMouseOver: function (a, b) {
        var d = a.relatedTarget || a.fromElement;
        c.contains(b, d) ||
          b === d ||
          ((this.getDom("label").innerHTML =
            "0" +
            this.editor.getLang("t_col") +
            " x 0" +
            this.editor.getLang("t_row")),
          (this.getDom("overlay").style.visibility = ""));
      },
      _onMouseOut: function (a, b) {
        var d = a.relatedTarget || a.toElement;
        c.contains(b, d) ||
          b === d ||
          ((this.getDom("label").innerHTML =
            "0" +
            this.editor.getLang("t_col") +
            " x 0" +
            this.editor.getLang("t_row")),
          (this.getDom("overlay").style.visibility = "hidden"));
      },
      _onMouseMove: function (a, b) {
        this.getDom("overlay");
        var d = c.getEventOffset(a),
          f = this.lengthOfCellSide,
          k = Math.ceil(d.left / f),
          d = Math.ceil(d.top / f);
        this._track(k, d);
      },
      _onClick: function () {
        this.fireEvent("picktable", this.numCols, this.numRows);
      },
    };
    d.inherits(a, b);
  })();
  (function () {
    var d = s.editor.dom.domUtils,
      c = s.editor.ui.uiUtils,
      b =
        'onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"' +
        (s.editor.browser.ie
          ? ' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"'
          : ' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');
    s.editor.ui.Stateful = {
      alwalysHoverable: !1,
      target: null,
      Stateful_init: function () {
        this._Stateful_dGetHtmlTpl = this.getHtmlTpl;
        this.getHtmlTpl = this.Stateful_getHtmlTpl;
      },
      Stateful_getHtmlTpl: function () {
        return this._Stateful_dGetHtmlTpl().replace(/stateful/g, function () {
          return b;
        });
      },
      Stateful_onMouseEnter: function (a, b) {
        this.target = b;
        if (!this.isDisabled() || this.alwalysHoverable)
          this.addState("hover"), this.fireEvent("over");
      },
      Stateful_onMouseLeave: function (a, b) {
        if (!this.isDisabled() || this.alwalysHoverable)
          this.removeState("hover"),
            this.removeState("active"),
            this.fireEvent("out");
      },
      Stateful_onMouseOver: function (a, b) {
        var d = a.relatedTarget;
        c.contains(b, d) || b === d || this.Stateful_onMouseEnter(a, b);
      },
      Stateful_onMouseOut: function (a, b) {
        var d = a.relatedTarget;
        c.contains(b, d) || b === d || this.Stateful_onMouseLeave(a, b);
      },
      Stateful_onMouseDown: function (a, b) {
        this.isDisabled() || this.addState("active");
      },
      Stateful_onMouseUp: function (a, b) {
        this.isDisabled() || this.removeState("active");
      },
      Stateful_postRender: function () {
        this.disabled &&
          !this.hasState("disabled") &&
          this.addState("disabled");
      },
      hasState: function (a) {
        return d.hasClass(this.getStateDom(), "edui-state-" + a);
      },
      addState: function (a) {
        this.hasState(a) ||
          (this.getStateDom().className += " edui-state-" + a);
      },
      removeState: function (a) {
        this.hasState(a) &&
          d.removeClasses(this.getStateDom(), ["edui-state-" + a]);
      },
      getStateDom: function () {
        return this.getDom("state");
      },
      isChecked: function () {
        return this.hasState("checked");
      },
      setChecked: function (a) {
        !this.isDisabled() && a
          ? this.addState("checked")
          : this.removeState("checked");
      },
      isDisabled: function () {
        return this.hasState("disabled");
      },
      setDisabled: function (a) {
        a
          ? (this.removeState("hover"),
            this.removeState("checked"),
            this.removeState("active"),
            this.addState("disabled"))
          : this.removeState("disabled");
      },
    };
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.UIBase,
      b = s.editor.ui.Stateful,
      a = (s.editor.ui.Button = function (a) {
        if (a.name) {
          var b = a.name,
            c = a.cssRules;
          a.className || (a.className = "edui-for-" + b);
          a.cssRules =
            ".edui-default  .edui-for-" + b + " .edui-icon {" + c + "}";
        }
        this.initOptions(a);
        this.initButton();
      });
    a.prototype = {
      uiName: "button",
      label: "",
      title: "",
      showIcon: !0,
      showText: !0,
      cssRules: "",
      initButton: function () {
        this.initUIBase();
        this.Stateful_init();
        this.cssRules &&
          d.cssRule("edui-customize-" + this.name + "-style", this.cssRules);
      },
      getHtmlTpl: function () {
        return (
          '<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" ' +
          (this.title ? 'title="' + this.title + '"' : "") +
          ' class="%%-body" onmousedown="return $$._onMouseDown(event, this);" onclick="return $$._onClick(event, this);">' +
          (this.showIcon ? '<div class="edui-box edui-icon"></div>' : "") +
          (this.showText
            ? '<div class="edui-box edui-label">' + this.label + "</div>"
            : "") +
          "</div></div></div></div>"
        );
      },
      postRender: function () {
        this.Stateful_postRender();
        this.setDisabled(this.disabled);
      },
      _onMouseDown: function (a) {
        a =
          (a = a.target || a.srcElement) &&
          a.tagName &&
          a.tagName.toLowerCase();
        if ("input" == a || "object" == a || "object" == a) return !1;
      },
      _onClick: function () {
        this.isDisabled() || this.fireEvent("click");
      },
      setTitle: function (a) {
        this.getDom("label").innerHTML = a;
      },
    };
    d.inherits(a, c);
    d.extend(a.prototype, b);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.uiUtils,
      b = s.editor.ui.UIBase,
      a = s.editor.ui.Stateful,
      e = (s.editor.ui.SplitButton = function (a) {
        this.initOptions(a);
        this.initSplitButton();
      });
    e.prototype = {
      popup: null,
      uiName: "splitbutton",
      title: "",
      initSplitButton: function () {
        this.initUIBase();
        this.Stateful_init();
        if (null != this.popup) {
          var a = this.popup;
          this.popup = null;
          this.setPopup(a);
        }
      },
      _UIBase_postRender: b.prototype.postRender,
      postRender: function () {
        this.Stateful_postRender();
        this._UIBase_postRender();
      },
      setPopup: function (a) {
        this.popup !== a &&
          (null != this.popup && this.popup.dispose(),
          a.addListener("show", d.bind(this._onPopupShow, this)),
          a.addListener("hide", d.bind(this._onPopupHide, this)),
          a.addListener(
            "postrender",
            d.bind(function () {
              a.getDom("body").appendChild(
                c.createElementByHtml(
                  '<div id="' +
                    this.popup.id +
                    '_bordereraser" class="edui-bordereraser edui-background" style="width:' +
                    (c.getClientRect(this.getDom()).width + 20) +
                    'px"></div>'
                )
              );
              a.getDom().className += " " + this.className;
            }, this)
          ),
          (this.popup = a));
      },
      _onPopupShow: function () {
        this.addState("opened");
      },
      _onPopupHide: function () {
        this.removeState("opened");
      },
      getHtmlTpl: function () {
        return (
          '<div id="##" class="edui-box %%"><div ' +
          (this.title ? 'title="' + this.title + '"' : "") +
          ' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div><div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div></div></div></div>'
        );
      },
      showPopup: function () {
        var a = c.getClientRect(this.getDom());
        a.top -= this.popup.SHADOW_RADIUS;
        a.height += this.popup.SHADOW_RADIUS;
        this.popup.showAnchorRect(a);
      },
      _onArrowClick: function (a, b) {
        this.isDisabled() || this.showPopup();
      },
      _onButtonClick: function () {
        this.isDisabled() || this.fireEvent("buttonclick");
      },
    };
    d.inherits(e, b);
    d.extend(e.prototype, a, !0);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.uiUtils,
      b = s.editor.ui.ColorPicker,
      a = s.editor.ui.Popup,
      e = s.editor.ui.SplitButton,
      f = (s.editor.ui.ColorButton = function (a) {
        this.initOptions(a);
        this.initColorButton();
      });
    f.prototype = {
      initColorButton: function () {
        var c = this;
        this.popup = new a({
          content: new b({
            noColorText: c.editor.getLang("clearColor"),
            editor: c.editor,
            onpickcolor: function (a, b) {
              c._onPickColor(b);
            },
            onpicknocolor: function (a, b) {
              c._onPickNoColor(b);
            },
          }),
          editor: c.editor,
        });
        this.initSplitButton();
      },
      _SplitButton_postRender: e.prototype.postRender,
      postRender: function () {
        this._SplitButton_postRender();
        this.getDom("button_body").appendChild(
          c.createElementByHtml(
            '<div id="' + this.id + '_colorlump" class="edui-colorlump"></div>'
          )
        );
        this.getDom().className += " edui-colorbutton";
      },
      setColor: function (a) {
        this.color = this.getDom("colorlump").style.backgroundColor = a;
      },
      _onPickColor: function (a) {
        !1 !== this.fireEvent("pickcolor", a) &&
          (this.setColor(a), this.popup.hide());
      },
      _onPickNoColor: function (a) {
        !1 !== this.fireEvent("picknocolor") && this.popup.hide();
      },
    };
    d.inherits(f, e);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.Popup,
      b = s.editor.ui.TablePicker,
      a = s.editor.ui.SplitButton,
      e = (s.editor.ui.TableButton = function (a) {
        this.initOptions(a);
        this.initTableButton();
      });
    e.prototype = {
      initTableButton: function () {
        var a = this;
        this.popup = new c({
          content: new b({
            editor: a.editor,
            onpicktable: function (b, c, d) {
              a._onPickTable(c, d);
            },
          }),
          editor: a.editor,
        });
        this.initSplitButton();
      },
      _onPickTable: function (a, b) {
        !1 !== this.fireEvent("picktable", a, b) && this.popup.hide();
      },
    };
    d.inherits(e, a);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.UIBase,
      b = (s.editor.ui.AutoTypeSetPicker = function (a) {
        this.initOptions(a);
        this.initAutoTypeSetPicker();
      });
    b.prototype = {
      initAutoTypeSetPicker: function () {
        this.initUIBase();
      },
      getHtmlTpl: function () {
        var a = this.editor,
          b = a.options.autotypeset,
          c = a.getLang("autoTypeSet"),
          d = "textAlignValue" + a.uid,
          f = "imageBlockLineValue" + a.uid,
          k = "symbolConverValue" + a.uid;
        return (
          '<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap><input type="checkbox" name="mergeEmptyline" ' +
          (b.mergeEmptyline ? "checked" : "") +
          ">" +
          c.mergeLine +
          '</td><td colspan="2"><input type="checkbox" name="removeEmptyline" ' +
          (b.removeEmptyline ? "checked" : "") +
          ">" +
          c.delLine +
          '</td></tr><tr><td nowrap><input type="checkbox" name="removeClass" ' +
          (b.removeClass ? "checked" : "") +
          ">" +
          c.removeFormat +
          '</td><td colspan="2"><input type="checkbox" name="indent" ' +
          (b.indent ? "checked" : "") +
          ">" +
          c.indent +
          '</td></tr><tr><td nowrap><input type="checkbox" name="textAlign" ' +
          (b.textAlign ? "checked" : "") +
          ">" +
          c.alignment +
          '</td><td colspan="2" id="' +
          d +
          '"><input type="radio" name="' +
          d +
          '" value="left" ' +
          (b.textAlign && "left" == b.textAlign ? "checked" : "") +
          ">" +
          a.getLang("justifyleft") +
          '<input type="radio" name="' +
          d +
          '" value="center" ' +
          (b.textAlign && "center" == b.textAlign ? "checked" : "") +
          ">" +
          a.getLang("justifycenter") +
          '<input type="radio" name="' +
          d +
          '" value="right" ' +
          (b.textAlign && "right" == b.textAlign ? "checked" : "") +
          ">" +
          a.getLang("justifyright") +
          '</td></tr><tr><td nowrap><input type="checkbox" name="imageBlockLine" ' +
          (b.imageBlockLine ? "checked" : "") +
          ">" +
          c.imageFloat +
          '</td><td nowrap id="' +
          f +
          '"><input type="radio" name="' +
          f +
          '" value="none" ' +
          (b.imageBlockLine && "none" == b.imageBlockLine ? "checked" : "") +
          ">" +
          a.getLang("default") +
          '<input type="radio" name="' +
          f +
          '" value="left" ' +
          (b.imageBlockLine && "left" == b.imageBlockLine ? "checked" : "") +
          ">" +
          a.getLang("justifyleft") +
          '<input type="radio" name="' +
          f +
          '" value="center" ' +
          (b.imageBlockLine && "center" == b.imageBlockLine ? "checked" : "") +
          ">" +
          a.getLang("justifycenter") +
          '<input type="radio" name="' +
          f +
          '" value="right" ' +
          (b.imageBlockLine && "right" == b.imageBlockLine ? "checked" : "") +
          ">" +
          a.getLang("justifyright") +
          '</td></tr><tr><td nowrap><input type="checkbox" name="clearFontSize" ' +
          (b.clearFontSize ? "checked" : "") +
          ">" +
          c.removeFontsize +
          '</td><td colspan="2"><input type="checkbox" name="clearFontFamily" ' +
          (b.clearFontFamily ? "checked" : "") +
          ">" +
          c.removeFontFamily +
          '</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="removeEmptyNode" ' +
          (b.removeEmptyNode ? "checked" : "") +
          ">" +
          c.removeHtml +
          '</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="pasteFilter" ' +
          (b.pasteFilter ? "checked" : "") +
          ">" +
          c.pasteFilter +
          '</td></tr><tr><td nowrap><input type="checkbox" name="symbolConver" ' +
          (b.bdc2sb || b.tobdc ? "checked" : "") +
          ">" +
          c.symbol +
          '</td><td id="' +
          k +
          '"><input type="radio" name="bdc" value="bdc2sb" ' +
          (b.bdc2sb ? "checked" : "") +
          ">" +
          c.bdc2sb +
          '<input type="radio" name="bdc" value="tobdc" ' +
          (b.tobdc ? "checked" : "") +
          ">" +
          c.tobdc +
          '</td><td nowrap align="right"><button >' +
          c.run +
          "</button></td></tr></table></div></div>"
        );
      },
      _UIBase_render: c.prototype.render,
    };
    d.inherits(b, c);
  })();
  (function () {
    function d(a) {
      for (
        var b = {},
          d = a.getDom(),
          e = a.editor.uid,
          h = null,
          h = null,
          q = f.getElementsByTagName(d, "input"),
          t = q.length - 1,
          p;
        (p = q[t--]);

      )
        if (((h = p.getAttribute("type")), "checkbox" == h))
          if (((h = p.getAttribute("name")), b[h] && delete b[h], p.checked))
            if ((p = document.getElementById(h + "Value" + e)))
              if (/input/gi.test(p.tagName)) b[h] = p.value;
              else {
                p = p.getElementsByTagName("input");
                for (var r = p.length - 1, u; (u = p[r--]); )
                  if (u.checked) {
                    b[h] = u.value;
                    break;
                  }
              }
            else b[h] = !0;
          else b[h] = !1;
        else b[p.getAttribute("value")] = p.checked;
      d = f.getElementsByTagName(d, "select");
      for (t = 0; (e = d[t++]); )
        (q = e.getAttribute("name")), (b[q] = b[q] ? e.value : "");
      c.extend(a.editor.options.autotypeset, b);
      a.editor.setPreferences("autotypeset", b);
    }
    var c = s.editor.utils,
      b = s.editor.ui.Popup,
      a = s.editor.ui.AutoTypeSetPicker,
      e = s.editor.ui.SplitButton,
      h = (s.editor.ui.AutoTypeSetButton = function (a) {
        this.initOptions(a);
        this.initAutoTypeSetButton();
      });
    h.prototype = {
      initAutoTypeSetButton: function () {
        var c = this;
        this.popup = new b({
          content: new a({ editor: c.editor }),
          editor: c.editor,
          hide: function () {
            !this._hidden &&
              this.getDom() &&
              (d(this),
              (this.getDom().style.display = "none"),
              (this._hidden = !0),
              this.fireEvent("hide"));
          },
        });
        var e = 0;
        this.popup.addListener("postRenderAfter", function () {
          var a = this;
          if (!e) {
            var b = this.getDom();
            b.getElementsByTagName("button")[0].onclick = function () {
              d(a);
              c.editor.execCommand("autotypeset");
              a.hide();
            };
            f.on(b, "click", function (b) {
              b = b.target || b.srcElement;
              var e = c.editor.uid;
              if (b && "INPUT" == b.tagName) {
                if (
                  "imageBlockLine" == b.name ||
                  "textAlign" == b.name ||
                  "symbolConver" == b.name
                )
                  for (
                    var f = b.checked,
                      h = document
                        .getElementById(b.name + "Value" + e)
                        .getElementsByTagName("input"),
                      l = {
                        imageBlockLine: "none",
                        textAlign: "left",
                        symbolConver: "tobdc",
                      },
                      m = 0;
                    m < h.length;
                    m++
                  )
                    f
                      ? h[m].value == l[b.name] && (h[m].checked = "checked")
                      : (h[m].checked = !1);
                (b.name == "imageBlockLineValue" + e ||
                  b.name == "textAlignValue" + e ||
                  "bdc" == b.name) &&
                  (b =
                    b.parentNode.previousSibling.getElementsByTagName(
                      "input"
                    )) &&
                  (b[0].checked = !0);
                d(a);
              }
            });
            e = 1;
          }
        });
        this.initSplitButton();
      },
    };
    c.inherits(h, e);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.Popup,
      b = s.editor.ui.Stateful,
      a = s.editor.ui.UIBase,
      e = (s.editor.ui.CellAlignPicker = function (a) {
        this.initOptions(a);
        this.initSelected();
        this.initCellAlignPicker();
      });
    e.prototype = {
      initSelected: function () {
        var a = { top: 0, middle: 1, bottom: 2 },
          b = { left: 0, center: 1, right: 2 };
        this.selected &&
          (this.selectedIndex =
            3 * a[this.selected.valign] + b[this.selected.align]);
      },
      initCellAlignPicker: function () {
        this.initUIBase();
        this.Stateful_init();
      },
      getHtmlTpl: function () {
        for (
          var a = ["left", "center", "right"], b = null, c = -1, d = [], e = 0;
          9 > e;
          e++
        )
          (b =
            this.selectedIndex === e
              ? ' class="edui-cellalign-selected" '
              : ""),
            (c = e % 3),
            0 === c && d.push("<tr>"),
            d.push(
              '<td index="' +
                e +
                '" ' +
                b +
                ' stateful><div class="edui-icon edui-' +
                a[c] +
                '"></div></td>'
            ),
            2 === c && d.push("</tr>");
        return (
          '<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">' +
          d.join("") +
          "</table></div></div>"
        );
      },
      getStateDom: function () {
        return this.target;
      },
      _onClick: function (a) {
        var b = a.target || a.srcElement;
        /icon/.test(b.className) &&
          (this.items[b.parentNode.getAttribute("index")].onclick(),
          c.postHide(a));
      },
      _UIBase_render: a.prototype.render,
    };
    d.inherits(e, a);
    d.extend(e.prototype, b, !0);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.Stateful,
      b = s.editor.ui.uiUtils,
      a = s.editor.ui.UIBase,
      e = (s.editor.ui.PastePicker = function (a) {
        this.initOptions(a);
        this.initPastePicker();
      });
    e.prototype = {
      initPastePicker: function () {
        this.initUIBase();
        this.Stateful_init();
      },
      getHtmlTpl: function () {
        return (
          '<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-title">' +
          this.editor.getLang("pasteOpt") +
          '</div><div class="edui-button"><div title="' +
          this.editor.getLang("pasteSourceFormat") +
          '" onclick="$$.format(false)" stateful><div class="edui-richtxticon"></div></div><div title="' +
          this.editor.getLang("tagFormat") +
          '" onclick="$$.format(2)" stateful><div class="edui-tagicon"></div></div><div title="' +
          this.editor.getLang("pasteTextFormat") +
          '" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"></div></div></div></div></div>'
        );
      },
      getStateDom: function () {
        return this.target;
      },
      format: function (a) {
        this.editor.ui._isTransfer = !0;
        this.editor.fireEvent("pasteTransfer", a);
      },
      _onClick: function (a) {
        var c = f.getNextDomNode(a),
          d = b.getViewportRect().height,
          e = b.getClientRect(c);
        c.style.top =
          e.top + e.height > d ? -e.height - a.offsetHeight + "px" : "";
        /hidden/gi.test(f.getComputedStyle(c, "visibility"))
          ? ((c.style.visibility = "visible"),
            f.addClass(a, "edui-state-opened"))
          : ((c.style.visibility = "hidden"),
            f.removeClasses(a, "edui-state-opened"));
      },
      _UIBase_render: a.prototype.render,
    };
    d.inherits(e, a);
    d.extend(e.prototype, c, !0);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.uiUtils,
      b = s.editor.ui.UIBase,
      a = (s.editor.ui.Toolbar = function (a) {
        this.initOptions(a);
        this.initToolbar();
      });
    a.prototype = {
      items: null,
      initToolbar: function () {
        this.items = this.items || [];
        this.initUIBase();
      },
      add: function (a, b) {
        void 0 === b ? this.items.push(a) : this.items.splice(b, 0, a);
      },
      getHtmlTpl: function () {
        for (var a = [], b = 0; b < this.items.length; b++)
          a[b] = this.items[b].renderHtml();
        return (
          '<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">' +
          a.join("") +
          "</div>"
        );
      },
      postRender: function () {
        for (var a = this.getDom(), b = 0; b < this.items.length; b++)
          this.items[b].postRender();
        c.makeUnselectable(a);
      },
      _onMouseDown: function (a) {
        a =
          (a = a.target || a.srcElement) &&
          a.tagName &&
          a.tagName.toLowerCase();
        if ("input" == a || "object" == a || "object" == a) return !1;
      },
    };
    d.inherits(a, b);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.dom.domUtils,
      b = s.editor.ui.uiUtils,
      a = s.editor.ui.UIBase,
      e = s.editor.ui.Popup,
      f = s.editor.ui.Stateful,
      g = s.editor.ui.CellAlignPicker,
      l = (s.editor.ui.Menu = function (a) {
        this.initOptions(a);
        this.initMenu();
      }),
      k = {
        renderHtml: function () {
          return '<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>';
        },
        postRender: function () {},
        queryAutoHide: function () {
          return !0;
        },
      };
    l.prototype = {
      items: null,
      uiName: "menu",
      initMenu: function () {
        this.items = this.items || [];
        this.initPopup();
        this.initItems();
      },
      initItems: function () {
        for (var a = 0; a < this.items.length; a++) {
          var b = this.items[a];
          "-" == b
            ? (this.items[a] = this.getSeparator())
            : b instanceof m ||
              ((b.editor = this.editor),
              (b.theme = this.editor.options.theme),
              (this.items[a] = this.createItem(b)));
        }
      },
      getSeparator: function () {
        return k;
      },
      createItem: function (a) {
        a.menu = this;
        return new m(a);
      },
      _Popup_getContentHtmlTpl: e.prototype.getContentHtmlTpl,
      getContentHtmlTpl: function () {
        if (0 == this.items.length) return this._Popup_getContentHtmlTpl();
        for (var a = [], b = 0; b < this.items.length; b++)
          a[b] = this.items[b].renderHtml();
        return '<div class="%%-body">' + a.join("") + "</div>";
      },
      _Popup_postRender: e.prototype.postRender,
      postRender: function () {
        for (var a = this, d = 0; d < this.items.length; d++) {
          var e = this.items[d];
          e.ownerMenu = this;
          e.postRender();
        }
        c.on(this.getDom(), "mouseover", function (c) {
          c = c || event;
          c = c.relatedTarget || c.fromElement;
          var d = a.getDom();
          b.contains(d, c) || d === c || a.fireEvent("over");
        });
        this._Popup_postRender();
      },
      queryAutoHide: function (a) {
        if (a) {
          if (b.contains(this.getDom(), a)) return !1;
          for (var c = 0; c < this.items.length; c++)
            if (!1 === this.items[c].queryAutoHide(a)) return !1;
        }
      },
      clearItems: function () {
        for (var a = 0; a < this.items.length; a++) {
          var b = this.items[a];
          clearTimeout(b._showingTimer);
          clearTimeout(b._closingTimer);
          b.subMenu && b.subMenu.destroy();
        }
        this.items = [];
      },
      destroy: function () {
        this.getDom() && c.remove(this.getDom());
        this.clearItems();
      },
      dispose: function () {
        this.destroy();
      },
    };
    d.inherits(l, e);
    var m = (s.editor.ui.MenuItem = function (a) {
      this.initOptions(a);
      this.initUIBase();
      this.Stateful_init();
      if (this.subMenu && !(this.subMenu instanceof l))
        if (a.className && -1 != a.className.indexOf("aligntd")) {
          var b = this;
          this.subMenu.selected =
            this.editor.queryCommandValue("cellalignment");
          this.subMenu = new e({
            content: new g(this.subMenu),
            parentMenu: b,
            editor: b.editor,
            destroy: function () {
              this.getDom() && c.remove(this.getDom());
            },
          });
          this.subMenu.addListener("postRenderAfter", function () {
            c.on(this.getDom(), "mouseover", function () {
              b.addState("opened");
            });
          });
        } else this.subMenu = new l(this.subMenu);
    });
    m.prototype = {
      label: "",
      subMenu: null,
      ownerMenu: null,
      uiName: "menuitem",
      alwalysHoverable: !0,
      getHtmlTpl: function () {
        return (
          '<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">' +
          this.renderLabelHtml() +
          "</div></div>"
        );
      },
      postRender: function () {
        var a = this;
        this.addListener("over", function () {
          a.ownerMenu.fireEvent("submenuover", a);
          a.subMenu && a.delayShowSubMenu();
        });
        this.subMenu &&
          ((this.getDom().className += " edui-hassubmenu"),
          this.subMenu.render(),
          this.addListener("out", function () {
            a.delayHideSubMenu();
          }),
          this.subMenu.addListener("over", function () {
            clearTimeout(a._closingTimer);
            a._closingTimer = null;
            a.addState("opened");
          }),
          this.ownerMenu.addListener("hide", function () {
            a.hideSubMenu();
          }),
          this.ownerMenu.addListener("submenuover", function (b, c) {
            c !== a && a.delayHideSubMenu();
          }),
          (this.subMenu._bakQueryAutoHide = this.subMenu.queryAutoHide),
          (this.subMenu.queryAutoHide = function (c) {
            return c && b.contains(a.getDom(), c)
              ? !1
              : this._bakQueryAutoHide(c);
          }));
        this.getDom().style.tabIndex = "-1";
        b.makeUnselectable(this.getDom());
        this.Stateful_postRender();
      },
      delayShowSubMenu: function () {
        var a = this;
        a.isDisabled() ||
          (a.addState("opened"),
          clearTimeout(a._showingTimer),
          clearTimeout(a._closingTimer),
          (a._closingTimer = null),
          (a._showingTimer = setTimeout(function () {
            a.showSubMenu();
          }, 250)));
      },
      delayHideSubMenu: function () {
        var a = this;
        a.isDisabled() ||
          (a.removeState("opened"),
          clearTimeout(a._showingTimer),
          a._closingTimer ||
            (a._closingTimer = setTimeout(function () {
              a.hasState("opened") || a.hideSubMenu();
              a._closingTimer = null;
            }, 400)));
      },
      renderLabelHtml: function () {
        return (
          '<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">' +
          (this.label || "") +
          "</div>"
        );
      },
      getStateDom: function () {
        return this.getDom();
      },
      queryAutoHide: function (a) {
        if (this.subMenu && this.hasState("opened"))
          return this.subMenu.queryAutoHide(a);
      },
      _onClick: function (a, b) {
        this.hasState("disabled") ||
          (!1 !== this.fireEvent("click", a, b) &&
            (this.subMenu ? this.showSubMenu() : e.postHide(a)));
      },
      showSubMenu: function () {
        var a = b.getClientRect(this.getDom());
        a.right -= 5;
        a.left += 2;
        a.width -= 7;
        a.top -= 4;
        a.bottom += 4;
        a.height += 8;
        this.subMenu.showAnchorRect(a, !0, !0);
      },
      hideSubMenu: function () {
        this.subMenu.hide();
      },
    };
    d.inherits(m, a);
    d.extend(m.prototype, f, !0);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.uiUtils,
      b = s.editor.ui.Menu,
      a = s.editor.ui.SplitButton,
      e = (s.editor.ui.Combox = function (a) {
        this.initOptions(a);
        this.initCombox();
      });
    e.prototype = {
      uiName: "combox",
      onbuttonclick: function () {
        this.showPopup();
      },
      initCombox: function () {
        var a = this;
        this.items = this.items || [];
        for (var c = 0; c < this.items.length; c++) {
          var d = this.items[c];
          d.uiName = "listitem";
          d.index = c;
          d.onclick = function () {
            a.selectByIndex(this.index);
          };
        }
        this.popup = new b({
          items: this.items,
          uiName: "list",
          editor: this.editor,
          captureWheel: !0,
          combox: this,
        });
        this.initSplitButton();
      },
      _SplitButton_postRender: a.prototype.postRender,
      postRender: function () {
        this._SplitButton_postRender();
        this.setLabel(this.label || "");
        this.setValue(this.initValue || "");
      },
      showPopup: function () {
        var a = c.getClientRect(this.getDom());
        a.top += 1;
        a.bottom -= 1;
        a.height -= 2;
        this.popup.showAnchorRect(a);
      },
      getValue: function () {
        return this.value;
      },
      setValue: function (a) {
        var b = this.indexByValue(a);
        -1 != b
          ? ((this.selectedIndex = b),
            this.setLabel(this.items[b].label),
            (this.value = this.items[b].value))
          : ((this.selectedIndex = -1),
            this.setLabel(this.getLabelForUnknowValue(a)),
            (this.value = a));
      },
      setLabel: function (a) {
        this.label = this.getDom("button_body").innerHTML = a;
      },
      getLabelForUnknowValue: function (a) {
        return a;
      },
      indexByValue: function (a) {
        for (var b = 0; b < this.items.length; b++)
          if (a == this.items[b].value) return b;
        return -1;
      },
      getItem: function (a) {
        return this.items[a];
      },
      selectByIndex: function (a) {
        a < this.items.length &&
          !1 !== this.fireEvent("select", a) &&
          ((this.selectedIndex = a),
          (this.value = this.items[a].value),
          this.setLabel(this.items[a].label));
      },
    };
    d.inherits(e, a);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.dom.domUtils,
      b = s.editor.ui.uiUtils,
      a = s.editor.ui.Mask,
      e = s.editor.ui.UIBase,
      f = s.editor.ui.Button,
      g = (s.editor.ui.Dialog = function (a) {
        if (a.name) {
          var b = a.name,
            c = a.cssRules;
          a.className || (a.className = "edui-for-" + b);
          c &&
            (a.cssRules =
              ".edui-default .edui-for-" +
              b +
              " .edui-dialog-content  {" +
              c +
              "}");
        }
        this.initOptions(
          d.extend(
            {
              autoReset: !0,
              draggable: !0,
              onok: function () {},
              oncancel: function () {},
              onclose: function (a, b) {
                return b ? this.onok() : this.oncancel();
              },
              holdScroll: !1,
            },
            a
          )
        );
        this.initDialog();
      }),
      l,
      k,
      m;
    g.prototype = {
      draggable: !1,
      uiName: "dialog",
      initDialog: function () {
        var b = this,
          c = this.editor.options.theme;
        this.cssRules &&
          d.cssRule("edui-customize-" + this.name + "-style", this.cssRules);
        this.initUIBase();
        this.modalMask =
          l ||
          (l = new a({
            className: "edui-dialog-modalmask",
            theme: c,
            onclick: function () {
              m && m.close(!1);
            },
          }));
        this.dragMask =
          k || (k = new a({ className: "edui-dialog-dragmask", theme: c }));
        this.closeButton = new f({
          className: "edui-dialog-closebutton",
          title: b.closeDialog,
          theme: c,
          onclick: function () {
            b.close(!1);
          },
        });
        this.fullscreen && this.initResizeEvent();
        if (this.buttons)
          for (c = 0; c < this.buttons.length; c++)
            this.buttons[c] instanceof f ||
              (this.buttons[c] = new f(
                d.extend(this.buttons[c], { editor: this.editor }, !0)
              ));
      },
      initResizeEvent: function () {
        var a = this;
        c.on(window, "resize", function () {
          a._hidden ||
            void 0 === a._hidden ||
            (a.__resizeTimer && window.clearTimeout(a.__resizeTimer),
            (a.__resizeTimer = window.setTimeout(function () {
              a.__resizeTimer = null;
              var c = a.getDom(),
                d = a.getDom("content"),
                e = UE.ui.uiUtils.getClientRect(c),
                f = UE.ui.uiUtils.getClientRect(d),
                g = b.getViewportRect();
              d.style.width = g.width - e.width + f.width + "px";
              d.style.height = g.height - e.height + f.height + "px";
              c.style.width = g.width + "px";
              c.style.height = g.height + "px";
              a.fireEvent("resize");
            }, 100)));
        });
      },
      fitSize: function () {
        var a = this.getDom("body"),
          b = this.mesureSize();
        a.style.width = b.width + "px";
        a.style.height = b.height + "px";
        return b;
      },
      safeSetOffset: function (a) {
        var c = this.getDom(),
          d = b.getViewportRect(),
          e = b.getClientRect(c),
          f = a.left;
        f + e.width > d.right && (f = d.right - e.width);
        a = a.top;
        a + e.height > d.bottom && (a = d.bottom - e.height);
        c.style.left = Math.max(f, 0) + "px";
        c.style.top = Math.max(a, 0) + "px";
      },
      showAtCenter: function () {
        var a = b.getViewportRect();
        if (this.fullscreen) {
          var d = this.getDom(),
            e = this.getDom("content");
          d.style.display = "block";
          var f = UE.ui.uiUtils.getClientRect(d),
            g = UE.ui.uiUtils.getClientRect(e);
          d.style.left = "-100000px";
          e.style.width = a.width - f.width + g.width + "px";
          e.style.height = a.height - f.height + g.height + "px";
          d.style.width = a.width + "px";
          d.style.height = a.height + "px";
          d.style.left = 0;
          this._originalContext = {
            html: {
              overflowX: document.documentElement.style.overflowX,
              overflowY: document.documentElement.style.overflowY,
            },
            body: {
              overflowX: document.body.style.overflowX,
              overflowY: document.body.style.overflowY,
            },
          };
          document.documentElement.style.overflowX = "hidden";
          document.documentElement.style.overflowY = "hidden";
          document.body.style.overflowX = "hidden";
          document.body.style.overflowY = "hidden";
        } else
          (this.getDom().style.display = ""),
            (e = this.fitSize()),
            (f = this.getDom("titlebar").offsetHeight | 0),
            (d = a.width / 2 - e.width / 2),
            (a = a.height / 2 - (e.height - f) / 2 - f),
            (e = this.getDom()),
            this.safeSetOffset({
              left: Math.max(d | 0, 0),
              top: Math.max(a | 0, 0),
            }),
            c.hasClass(e, "edui-state-centered") ||
              (e.className += " edui-state-centered");
        this._show();
      },
      getContentHtml: function () {
        var a = "";
        "string" == typeof this.content
          ? (a = this.content)
          : this.iframeUrl &&
            (a =
              '<span id="' +
              this.id +
              '_contmask" class="dialogcontmask"></span><iframe id="' +
              this.id +
              '_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="' +
              this.iframeUrl +
              '"></iframe>');
        return a;
      },
      getHtmlTpl: function () {
        var a = "";
        if (this.buttons) {
          for (var a = [], b = 0; b < this.buttons.length; b++)
            a[b] = this.buttons[b].renderHtml();
          a =
            '<div class="%%-foot"><div id="##_buttons" class="%%-buttons">' +
            a.join("") +
            "</div></div>";
        }
        return (
          '<div id="##" class="%%"><div ' +
          (this.fullscreen
            ? 'class="%%-wrap edui-dialog-fullscreen-flag"'
            : 'class="%%"') +
          '><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">' +
          (this.title || "") +
          "</span></div>" +
          this.closeButton.renderHtml() +
          '</div><div id="##_content" class="%%-content">' +
          (this.autoReset ? "" : this.getContentHtml()) +
          "</div>" +
          a +
          "</div></div></div>"
        );
      },
      postRender: function () {
        this.modalMask.getDom() ||
          (this.modalMask.render(), this.modalMask.hide());
        this.dragMask.getDom() ||
          (this.dragMask.render(), this.dragMask.hide());
        var a = this;
        this.addListener("show", function () {
          a.modalMask.show(this.getDom().style.zIndex - 2);
        });
        this.addListener("hide", function () {
          a.modalMask.hide();
        });
        if (this.buttons)
          for (var d = 0; d < this.buttons.length; d++)
            this.buttons[d].postRender();
        c.on(window, "resize", function () {
          setTimeout(function () {
            a.isHidden() || a.safeSetOffset(b.getClientRect(a.getDom()));
          });
        });
        this._hide();
      },
      mesureSize: function () {
        var a = this.getDom("body"),
          c = b.getClientRect(this.getDom("content")).width;
        a.style.width = c;
        return b.getClientRect(a);
      },
      _onTitlebarMouseDown: function (a, d) {
        if (this.draggable) {
          var e;
          b.getViewportRect();
          var f = this;
          b.startDrag(a, {
            ondragstart: function () {
              e = b.getClientRect(f.getDom());
              f.getDom("contmask").style.visibility = "visible";
              f.dragMask.show(f.getDom().style.zIndex - 1);
            },
            ondragmove: function (a, b) {
              f.safeSetOffset({ left: e.left + a, top: e.top + b });
            },
            ondragstop: function () {
              f.getDom("contmask").style.visibility = "hidden";
              c.removeClasses(f.getDom(), ["edui-state-centered"]);
              f.dragMask.hide();
            },
          });
        }
      },
      reset: function () {
        this.getDom("content").innerHTML = this.getContentHtml();
        this.fireEvent("dialogafterreset");
      },
      _show: function () {
        this._hidden &&
          ((this.getDom().style.display = ""),
          this.editor.container.style.zIndex &&
            (this.getDom().style.zIndex =
              1 * this.editor.container.style.zIndex + 10),
          (this._hidden = !1),
          this.fireEvent("show"),
          (s.editor.ui.uiUtils.getFixedLayer().style.zIndex =
            this.getDom().style.zIndex - 4));
      },
      isHidden: function () {
        return this._hidden;
      },
      _hide: function () {
        if (!this._hidden) {
          var a = this.getDom();
          a.style.display = "none";
          a.style.zIndex = "";
          a.style.width = "";
          a.style.height = "";
          this._hidden = !0;
          this.fireEvent("hide");
        }
      },
      open: function () {
        if (this.autoReset)
          try {
            this.reset();
          } catch (a) {
            this.render(), this.open();
          }
        this.showAtCenter();
        if (this.iframeUrl)
          try {
            this.getDom("iframe").focus();
          } catch (b) {}
        m = this;
      },
      _onCloseButtonClick: function (a, b) {
        this.close(!1);
      },
      close: function (a) {
        if (!1 !== this.fireEvent("close", a)) {
          this.fullscreen &&
            ((document.documentElement.style.overflowX =
              this._originalContext.html.overflowX),
            (document.documentElement.style.overflowY =
              this._originalContext.html.overflowY),
            (document.body.style.overflowX =
              this._originalContext.body.overflowX),
            (document.body.style.overflowY =
              this._originalContext.body.overflowY),
            delete this._originalContext);
          this._hide();
          a = this.getDom("content");
          var b = this.getDom("iframe");
          a &&
            b &&
            ((b = b.contentDocument || b.contentWindow.document) &&
              (b.body.innerHTML = ""),
            c.remove(a));
        }
      },
    };
    d.inherits(g, e);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.Menu,
      b = s.editor.ui.SplitButton,
      a = (s.editor.ui.MenuButton = function (a) {
        this.initOptions(a);
        this.initMenuButton();
      });
    a.prototype = {
      initMenuButton: function () {
        var a = this;
        this.uiName = "menubutton";
        this.popup = new c({
          items: a.items,
          className: a.className,
          editor: a.editor,
        });
        this.popup.addListener("show", function () {
          for (var b = 0; b < this.items.length; b++)
            this.items[b].removeState("checked"),
              this.items[b].value == a._value &&
                (this.items[b].addState("checked"), (this.value = a._value));
        });
        this.initSplitButton();
      },
      setValue: function (a) {
        this._value = a;
      },
    };
    d.inherits(a, b);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.Popup,
      b = s.editor.ui.SplitButton,
      a = (s.editor.ui.MultiMenuPop = function (a) {
        this.initOptions(a);
        this.initMultiMenu();
      });
    a.prototype = {
      initMultiMenu: function () {
        var a = this;
        this.popup = new c({
          content: "",
          editor: a.editor,
          iframe_rendered: !1,
          onshow: function () {
            this.iframe_rendered ||
              ((this.iframe_rendered = !0),
              (this.getDom("content").innerHTML =
                '<iframe id="' +
                a.id +
                '_iframe" src="' +
                a.iframeUrl +
                '" frameborder="0"></iframe>'),
              a.editor.container.style.zIndex &&
                (this.getDom().style.zIndex =
                  1 * a.editor.container.style.zIndex + 1));
          },
        });
        this.onbuttonclick = function () {
          this.showPopup();
        };
        this.initSplitButton();
      },
    };
    d.inherits(a, b);
  })();
  (function () {
    function d(a) {
      if (
        !f.findParent(
          a.target || a.srcElement,
          function (a) {
            return (
              f.hasClass(a, "edui-shortcutmenu") || f.hasClass(a, "edui-popup")
            );
          },
          !0
        )
      ) {
        a = 0;
        for (var b; (b = g[a++]); ) b.hide();
      }
    }
    var c = s.editor.ui,
      b = c.UIBase,
      a = c.uiUtils,
      e = s.editor.utils,
      f = s.editor.dom.domUtils,
      g = [],
      l,
      k = !1,
      m = (c.ShortCutMenu = function (a) {
        this.initOptions(a);
        this.initShortCutMenu();
      });
    m.postHide = d;
    m.prototype = {
      isHidden: !0,
      SPACE: 5,
      initShortCutMenu: function () {
        this.items = this.items || [];
        this.initUIBase();
        this.initItems();
        this.initEvent();
        g.push(this);
      },
      initEvent: function () {
        var a = this,
          b = a.editor.document;
        f.on(b, "mousemove", function (b) {
          if (
            !1 === a.isHidden &&
            !a.getSubMenuMark() &&
            "contextmenu" != a.eventType
          ) {
            var c = !0,
              d = a.getDom(),
              e = d.offsetWidth / 2 + a.SPACE,
              f = d.offsetHeight / 2,
              g = Math.abs(b.screenX - a.left),
              k = Math.abs(b.screenY - a.top);
            clearTimeout(l);
            l = setTimeout(function () {
              0 < k && k < f
                ? a.setOpacity(d, "1")
                : k > f && k < f + 70
                ? (a.setOpacity(d, "0.5"), (c = !1))
                : k > f + 70 && k < f + 140 && a.hide();
              c && 0 < g && g < e
                ? a.setOpacity(d, "1")
                : g > e && g < e + 70
                ? a.setOpacity(d, "0.5")
                : g > e + 70 && g < e + 140 && a.hide();
            });
          }
        });
        if (r.chrome)
          f.on(b, "mouseout", function (b) {
            b = b.relatedTarget || b.toElement;
            (null != b && "HTML" != b.tagName) || a.hide();
          });
        a.editor.addListener("afterhidepop", function () {
          a.isHidden || (k = !0);
        });
      },
      initItems: function () {
        if (e.isArray(this.items))
          for (var a = 0, b = this.items.length; a < b; a++) {
            var d = this.items[a].toLowerCase();
            c[d] &&
              ((this.items[a] = new c[d](this.editor)),
              (this.items[a].className += " edui-shortcutsubmenu "));
          }
      },
      setOpacity: function (a, b) {
        r.ie && 9 > r.version
          ? (a.style.filter = "alpha(opacity = " + 100 * parseFloat(b) + ");")
          : (a.style.opacity = b);
      },
      getSubMenuMark: function () {
        k = !1;
        for (
          var b = a.getFixedLayer(),
            b = f.getElementsByTagName(b, "div", function (a) {
              return f.hasClass(a, "edui-shortcutsubmenu edui-popup");
            }),
            c = 0,
            d;
          (d = b[c++]);

        )
          "none" != d.style.display && (k = !0);
        return k;
      },
      show: function (b, c) {
        function d(a) {
          0 > a.left && (a.left = 0);
          0 > a.top && (a.top = 0);
          k.style.cssText =
            "position:absolute;left:" + a.left + "px;top:" + a.top + "px;";
        }
        function e(a) {
          a.tagName || (a = a.getDom());
          g.left = parseInt(a.style.left);
          g.top = parseInt(a.style.top);
          g.top -= k.offsetHeight + 15;
          d(g);
        }
        var g = {},
          k = this.getDom(),
          l = a.getFixedLayer();
        this.eventType = b.type;
        k.style.cssText = "display:block;left:-9999px";
        if ("contextmenu" == b.type && c) {
          var m = f.getElementsByTagName(l, "div", "edui-contextmenu")[0];
          m
            ? e(m)
            : this.editor.addListener("aftershowcontextmenu", function (a, b) {
                e(b);
              });
        } else
          (g = a.getViewportOffsetByEvent(b)),
            (g.top -= k.offsetHeight + this.SPACE),
            (g.left += this.SPACE + 20),
            d(g),
            this.setOpacity(k, 0.2);
        this.isHidden = !1;
        this.left = b.screenX + k.offsetWidth / 2 - this.SPACE;
        this.top = b.screenY - k.offsetHeight / 2 - this.SPACE;
        this.editor &&
          ((k.style.zIndex = 1 * this.editor.container.style.zIndex + 10),
          (l.style.zIndex = k.style.zIndex - 1));
      },
      hide: function () {
        this.getDom() && (this.getDom().style.display = "none");
        this.isHidden = !0;
      },
      postRender: function () {
        if (e.isArray(this.items))
          for (var a = 0, b; (b = this.items[a++]); ) b.postRender();
      },
      getHtmlTpl: function () {
        var a;
        if (e.isArray(this.items)) {
          a = [];
          for (var b = 0; b < this.items.length; b++)
            a[b] = this.items[b].renderHtml();
          a = a.join("");
        } else a = this.items;
        return (
          '<div id="##" class="%% edui-toolbar" data-src="shortcutmenu" onmousedown="return false;" onselectstart="return false;" >' +
          a +
          "</div>"
        );
      },
    };
    e.inherits(m, b);
    f.on(document, "mousedown", function (a) {
      d(a);
    });
    f.on(window, "scroll", function (a) {
      d(a);
    });
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui.UIBase,
      b = (s.editor.ui.Breakline = function (a) {
        this.initOptions(a);
        this.initSeparator();
      });
    b.prototype = {
      uiName: "Breakline",
      initSeparator: function () {
        this.initUIBase();
      },
      getHtmlTpl: function () {
        return "<br/>";
      },
    };
    d.inherits(b, c);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.dom.domUtils,
      b = s.editor.ui.UIBase,
      a = (s.editor.ui.Message = function (a) {
        this.initOptions(a);
        this.initMessage();
      });
    a.prototype = {
      initMessage: function () {
        this.initUIBase();
      },
      getHtmlTpl: function () {
        return '<div id="##" class="edui-message %%"> <div id="##_closer" class="edui-message-closer">\u00d7</div> <div id="##_body" class="edui-message-body edui-message-type-info"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-message-content">  </div> </div></div>';
      },
      reset: function (a) {
        var b = this;
        a.keepshow ||
          (clearTimeout(this.timer),
          (b.timer = setTimeout(function () {
            b.hide();
          }, a.timeout || 4e3)));
        void 0 !== a.content && b.setContent(a.content);
        void 0 !== a.type && b.setType(a.type);
        b.show();
      },
      postRender: function () {
        var a = this,
          b = this.getDom("closer");
        b &&
          c.on(b, "click", function () {
            a.hide();
          });
      },
      setContent: function (a) {
        this.getDom("content").innerHTML = a;
      },
      setType: function (a) {
        a = a || "info";
        var b = this.getDom("body");
        b.className = b.className.replace(
          /edui-message-type-[\w-]+/,
          "edui-message-type-" + a
        );
      },
      getContent: function () {
        return this.getDom("content").innerHTML;
      },
      getType: function () {
        var a = this.getDom("body").match(/edui-message-type-([\w-]+)/);
        return a ? a[1] : "";
      },
      show: function () {
        this.getDom().style.display = "block";
      },
      hide: function () {
        var a = this.getDom();
        a &&
          ((a.style.display = "none"),
          a.parentNode && a.parentNode.removeChild(a));
      },
    };
    d.inherits(a, b);
  })();
  (function () {
    var d = s.editor.utils,
      c = s.editor.ui,
      b = c.Dialog;
    c.buttons = {};
    c.Dialog = function (a) {
      var c = new b(a);
      c.addListener("hide", function () {
        if (c.editor) {
          var a = c.editor;
          try {
            if (r.gecko) {
              var b = a.window.scrollY,
                d = a.window.scrollX;
              a.body.focus();
              a.window.scrollTo(d, b);
            } else a.focus();
          } catch (e) {}
        }
      });
      return c;
    };
    for (
      var a = {
          anchor: "~/dialogs/anchor/anchor.html",
          insertimage: "~/dialogs/image/image.html",
          link: "~/dialogs/link/link.html",
          spechars: "~/dialogs/spechars/spechars.html",
          searchreplace: "~/dialogs/searchreplace/searchreplace.html",
          map: "~/dialogs/map/map.html",
          gmap: "~/dialogs/gmap/gmap.html",
          insertvideo: "~/dialogs/video/video.html",
          help: "~/dialogs/help/help.html",
          preview: "~/dialogs/preview/preview.html",
          emotion: "~/dialogs/emotion/emotion.html",
          wordimage: "~/dialogs/wordimage/wordimage.html",
          attachment: "~/dialogs/attachment/attachment.html",
          insertframe: "~/dialogs/insertframe/insertframe.html",
          edittip: "~/dialogs/table/edittip.html",
          edittable: "~/dialogs/table/edittable.html",
          edittd: "~/dialogs/table/edittd.html",
          webapp: "~/dialogs/webapp/webapp.html",
          snapscreen: "~/dialogs/snapscreen/snapscreen.html",
          scrawl: "~/dialogs/scrawl/scrawl.html",
          music: "~/dialogs/music/music.html",
          template: "~/dialogs/template/template.html",
          background: "~/dialogs/background/background.html",
          charts: "~/dialogs/charts/charts.html",
        },
        e =
          "undo redo formatmatch bold italic underline fontborder touppercase tolowercase strikethrough subscript superscript source indent outdent blockquote pasteplain pagebreak selectall print horizontal removeformat time date unlink insertparagraphbeforetable insertrow insertcol mergeright mergedown deleterow deletecol splittorows splittocols splittocells mergecells deletetable drafts".split(
            " "
          ),
        f = 0,
        g;
      (g = e[f++]);

    )
      (g = g.toLowerCase()),
        (c[g] = (function (a) {
          return function (b) {
            var d = new c.Button({
              className: "edui-for-" + a,
              title: b.options.labelMap[a] || b.getLang("labelMap." + a) || "",
              onclick: function () {
                b.execCommand(a);
              },
              theme: b.options.theme,
              showText: !1,
            });
            c.buttons[a] = d;
            b.addListener("selectionchange", function (c, e, f) {
              c = b.queryCommandState(a);
              -1 == c
                ? (d.setDisabled(!0), d.setChecked(!1))
                : f || (d.setDisabled(!1), d.setChecked(c));
            });
            return d;
          };
        })(g));
    c.cleardoc = function (a) {
      var b = new c.Button({
        className: "edui-for-cleardoc",
        title:
          a.options.labelMap.cleardoc || a.getLang("labelMap.cleardoc") || "",
        theme: a.options.theme,
        onclick: function () {
          confirm(a.getLang("confirmClear")) && a.execCommand("cleardoc");
        },
      });
      c.buttons.cleardoc = b;
      a.addListener("selectionchange", function () {
        b.setDisabled(-1 == a.queryCommandState("cleardoc"));
      });
      return b;
    };
    var e = {
        justify: ["left", "right", "center", "justify"],
        imagefloat: ["none", "left", "center", "right"],
        directionality: ["ltr", "rtl"],
      },
      l;
    for (l in e)
      (function (a, b) {
        for (var d = 0, e; (e = b[d++]); )
          (function (b) {
            c[a.replace("float", "") + b] = function (d) {
              var e = new c.Button({
                className: "edui-for-" + a.replace("float", "") + b,
                title:
                  d.options.labelMap[a.replace("float", "") + b] ||
                  d.getLang("labelMap." + a.replace("float", "") + b) ||
                  "",
                theme: d.options.theme,
                onclick: function () {
                  d.execCommand(a, b);
                },
              });
              c.buttons[a] = e;
              d.addListener("selectionchange", function (c, f, g) {
                e.setDisabled(-1 == d.queryCommandState(a));
                e.setChecked(d.queryCommandValue(a) == b && !g);
              });
              return e;
            };
          })(e);
      })(l, e[l]);
    for (f = 0; (g = ["backcolor", "forecolor"][f++]); )
      c[g] = (function (a) {
        return function (b) {
          var d = new c.ColorButton({
            className: "edui-for-" + a,
            color: "default",
            title: b.options.labelMap[a] || b.getLang("labelMap." + a) || "",
            editor: b,
            onpickcolor: function (c, d) {
              b.execCommand(a, d);
            },
            onpicknocolor: function () {
              b.execCommand(a, "default");
              this.setColor("transparent");
              this.color = "default";
            },
            onbuttonclick: function () {
              b.execCommand(a, this.color);
            },
          });
          c.buttons[a] = d;
          b.addListener("selectionchange", function () {
            d.setDisabled(-1 == b.queryCommandState(a));
          });
          return d;
        };
      })(g);
    e = {
      noOk: ["searchreplace", "help", "spechars", "webapp", "preview"],
      ok: "attachment anchor link insertimage map gmap insertframe wordimage insertvideo insertframe edittip edittable edittd scrawl template music background charts".split(
        " "
      ),
    };
    for (l in e)
      (function (b, e) {
        for (var f = 0, g; (g = e[f++]); )
          (r.opera && "searchreplace" === g) ||
            (function (e) {
              c[e] = function (f, g, h) {
                g = g || (f.options.iframeUrlMap || {})[e] || a[e];
                h = f.options.labelMap[e] || f.getLang("labelMap." + e) || "";
                var l;
                g &&
                  ((l = new c.Dialog(
                    d.extend(
                      {
                        iframeUrl: f.ui.mapUrl(g),
                        editor: f,
                        className: "edui-for-" + e,
                        title: h,
                        holdScroll: "insertimage" === e,
                        fullscreen: /charts|preview/.test(e),
                        closeDialog: f.getLang("closeDialog"),
                      },
                      "ok" == b
                        ? {
                            buttons: [
                              {
                                className: "edui-okbutton",
                                label: f.getLang("ok"),
                                editor: f,
                                onclick: function () {
                                  l.close(!0);
                                },
                              },
                              {
                                className: "edui-cancelbutton",
                                label: f.getLang("cancel"),
                                editor: f,
                                onclick: function () {
                                  l.close(!1);
                                },
                              },
                            ],
                          }
                        : {}
                    )
                  )),
                  (f.ui._dialogs[e + "Dialog"] = l));
                var m = new c.Button({
                  className: "edui-for-" + e,
                  title: h,
                  onclick: function () {
                    if (l)
                      switch (e) {
                        case "wordimage":
                          var a = f.execCommand("wordimage");
                          a && a.length && (l.render(), l.open());
                          break;
                        case "scrawl":
                          -1 != f.queryCommandState("scrawl") &&
                            (l.render(), l.open());
                          break;
                        default:
                          l.render(), l.open();
                      }
                  },
                  theme: f.options.theme,
                  disabled:
                    ("scrawl" == e && -1 == f.queryCommandState("scrawl")) ||
                    "charts" == e,
                });
                c.buttons[e] = m;
                f.addListener("selectionchange", function () {
                  if (!(e in { edittable: 1 })) {
                    var a = f.queryCommandState(e);
                    m.getDom() && (m.setDisabled(-1 == a), m.setChecked(a));
                  }
                });
                return m;
              };
            })(g.toLowerCase());
      })(l, e[l]);
    c.snapscreen = function (b, d, e) {
      e =
        b.options.labelMap.snapscreen || b.getLang("labelMap.snapscreen") || "";
      var f = new c.Button({
        className: "edui-for-snapscreen",
        title: e,
        onclick: function () {
          b.execCommand("snapscreen");
        },
        theme: b.options.theme,
      });
      c.buttons.snapscreen = f;
      if (
        (d = d || (b.options.iframeUrlMap || {}).snapscreen || a.snapscreen)
      ) {
        var g = new c.Dialog({
          iframeUrl: b.ui.mapUrl(d),
          editor: b,
          className: "edui-for-snapscreen",
          title: e,
          buttons: [
            {
              className: "edui-okbutton",
              label: b.getLang("ok"),
              editor: b,
              onclick: function () {
                g.close(!0);
              },
            },
            {
              className: "edui-cancelbutton",
              label: b.getLang("cancel"),
              editor: b,
              onclick: function () {
                g.close(!1);
              },
            },
          ],
        });
        g.render();
        b.ui._dialogs.snapscreenDialog = g;
      }
      b.addListener("selectionchange", function () {
        f.setDisabled(-1 == b.queryCommandState("snapscreen"));
      });
      return f;
    };
    c.insertcode = function (a, b, e) {
      b = a.options.insertcode || [];
      e =
        a.options.labelMap.insertcode || a.getLang("labelMap.insertcode") || "";
      var f = [];
      d.each(b, function (b, c) {
        f.push({
          label: b,
          value: c,
          theme: a.options.theme,
          renderLabelHtml: function () {
            return (
              '<div class="edui-label %%-label" >' +
              (this.label || "") +
              "</div>"
            );
          },
        });
      });
      var g = new c.Combox({
        editor: a,
        items: f,
        onselect: function (b, c) {
          a.execCommand("insertcode", this.items[c].value);
        },
        onbuttonclick: function () {
          this.showPopup();
        },
        title: e,
        initValue: e,
        className: "edui-for-insertcode",
        indexByValue: function (a) {
          if (a)
            for (var b = 0, c; (c = this.items[b]); b++)
              if (-1 != c.value.indexOf(a)) return b;
          return -1;
        },
      });
      c.buttons.insertcode = g;
      a.addListener("selectionchange", function (b, c, d) {
        d ||
          (-1 == a.queryCommandState("insertcode")
            ? g.setDisabled(!0)
            : (g.setDisabled(!1),
              (b = a.queryCommandValue("insertcode"))
                ? (b && (b = b.replace(/['"]/g, "").split(",")[0]),
                  g.setValue(b))
                : g.setValue(e)));
      });
      return g;
    };
    c.fontfamily = function (a, b, e) {
      b = a.options.fontfamily || [];
      e =
        a.options.labelMap.fontfamily || a.getLang("labelMap.fontfamily") || "";
      if (b.length) {
        for (var f = 0, g, h = []; (g = b[f]); f++) {
          var l = a.getLang("fontfamily")[g.name] || "";
          (function (b, c) {
            h.push({
              label: b,
              value: c,
              theme: a.options.theme,
              renderLabelHtml: function () {
                return (
                  '<div class="edui-label %%-label" style="font-family:' +
                  d.unhtml(this.value) +
                  '">' +
                  (this.label || "") +
                  "</div>"
                );
              },
            });
          })(g.label || l, g.val);
        }
        var p = new c.Combox({
          editor: a,
          items: h,
          onselect: function (b, c) {
            a.execCommand("FontFamily", this.items[c].value);
          },
          onbuttonclick: function () {
            this.showPopup();
          },
          title: e,
          initValue: e,
          className: "edui-for-fontfamily",
          indexByValue: function (a) {
            if (a)
              for (var b = 0, c; (c = this.items[b]); b++)
                if (-1 != c.value.indexOf(a)) return b;
            return -1;
          },
        });
        c.buttons.fontfamily = p;
        a.addListener("selectionchange", function (b, c, d) {
          d ||
            (-1 == a.queryCommandState("FontFamily")
              ? p.setDisabled(!0)
              : (p.setDisabled(!1),
                (b = a.queryCommandValue("FontFamily")) &&
                  (b = b.replace(/['"]/g, "").split(",")[0]),
                p.setValue(b)));
        });
        return p;
      }
    };
    c.fontsize = function (a, b, d) {
      d = a.options.labelMap.fontsize || a.getLang("labelMap.fontsize") || "";
      b = b || a.options.fontsize || [];
      if (b.length) {
        for (var e = [], f = 0; f < b.length; f++) {
          var g = b[f] + "px";
          e.push({
            label: g,
            value: g,
            theme: a.options.theme,
            renderLabelHtml: function () {
              return (
                '<div class="edui-label %%-label" style="line-height:1;font-size:' +
                this.value +
                '">' +
                (this.label || "") +
                "</div>"
              );
            },
          });
        }
        var h = new c.Combox({
          editor: a,
          items: e,
          title: d,
          initValue: d,
          onselect: function (b, c) {
            a.execCommand("FontSize", this.items[c].value);
          },
          onbuttonclick: function () {
            this.showPopup();
          },
          className: "edui-for-fontsize",
        });
        c.buttons.fontsize = h;
        a.addListener("selectionchange", function (b, c, d) {
          d ||
            (-1 == a.queryCommandState("FontSize")
              ? h.setDisabled(!0)
              : (h.setDisabled(!1),
                h.setValue(a.queryCommandValue("FontSize"))));
        });
        return h;
      }
    };
    c.paragraph = function (a, b, e) {
      e = a.options.labelMap.paragraph || a.getLang("labelMap.paragraph") || "";
      b = a.options.paragraph || [];
      if (!d.isEmptyObject(b)) {
        var f = [],
          g;
        for (g in b)
          f.push({
            value: g,
            label: b[g] || a.getLang("paragraph")[g],
            theme: a.options.theme,
            renderLabelHtml: function () {
              return (
                '<div class="edui-label %%-label"><span class="edui-for-' +
                this.value +
                '">' +
                (this.label || "") +
                "</span></div>"
              );
            },
          });
        var h = new c.Combox({
          editor: a,
          items: f,
          title: e,
          initValue: e,
          className: "edui-for-paragraph",
          onselect: function (b, c) {
            a.execCommand("Paragraph", this.items[c].value);
          },
          onbuttonclick: function () {
            this.showPopup();
          },
        });
        c.buttons.paragraph = h;
        a.addListener("selectionchange", function (b, c, d) {
          d ||
            (-1 == a.queryCommandState("Paragraph")
              ? h.setDisabled(!0)
              : (h.setDisabled(!1),
                (b = a.queryCommandValue("Paragraph")),
                -1 != h.indexByValue(b)
                  ? h.setValue(b)
                  : h.setValue(h.initValue)));
        });
        return h;
      }
    };
    c.customstyle = function (a) {
      var b = a.options.customstyle || [],
        d =
          a.options.labelMap.customstyle ||
          a.getLang("labelMap.customstyle") ||
          "";
      if (b.length) {
        for (var e = a.getLang("customstyle"), f = 0, g = [], h; (h = b[f++]); )
          (function (b) {
            var c = {};
            c.label = b.label ? b.label : e[b.name];
            c.style = b.style;
            c.className = b.className;
            c.tag = b.tag;
            g.push({
              label: c.label,
              value: c,
              theme: a.options.theme,
              renderLabelHtml: function () {
                return (
                  '<div class="edui-label %%-label"><' +
                  c.tag +
                  " " +
                  (c.className ? ' class="' + c.className + '"' : "") +
                  (c.style ? ' style="' + c.style + '"' : "") +
                  ">" +
                  c.label +
                  "</" +
                  c.tag +
                  "></div>"
                );
              },
            });
          })(h);
        var l = new c.Combox({
          editor: a,
          items: g,
          title: d,
          initValue: d,
          className: "edui-for-customstyle",
          onselect: function (b, c) {
            a.execCommand("customstyle", this.items[c].value);
          },
          onbuttonclick: function () {
            this.showPopup();
          },
          indexByValue: function (a) {
            for (var b = 0, c; (c = this.items[b++]); )
              if (c.label == a) return b - 1;
            return -1;
          },
        });
        c.buttons.customstyle = l;
        a.addListener("selectionchange", function (b, c, d) {
          d ||
            (-1 == a.queryCommandState("customstyle")
              ? l.setDisabled(!0)
              : (l.setDisabled(!1),
                (b = a.queryCommandValue("customstyle")),
                -1 != l.indexByValue(b)
                  ? l.setValue(b)
                  : l.setValue(l.initValue)));
        });
        return l;
      }
    };
    c.inserttable = function (a, b, d) {
      d =
        a.options.labelMap.inserttable ||
        a.getLang("labelMap.inserttable") ||
        "";
      var e = new c.TableButton({
        editor: a,
        title: d,
        className: "edui-for-inserttable",
        onpicktable: function (b, c, d) {
          a.execCommand("InsertTable", { numRows: d, numCols: c, border: 1 });
        },
        onbuttonclick: function () {
          this.showPopup();
        },
      });
      c.buttons.inserttable = e;
      a.addListener("selectionchange", function () {
        e.setDisabled(-1 == a.queryCommandState("inserttable"));
      });
      return e;
    };
    c.lineheight = function (a) {
      var b = a.options.lineheight || [];
      if (b.length) {
        for (var d = 0, e, f = []; (e = b[d++]); )
          f.push({
            label: e,
            value: e,
            theme: a.options.theme,
            onclick: function () {
              a.execCommand("lineheight", this.value);
            },
          });
        var g = new c.MenuButton({
          editor: a,
          className: "edui-for-lineheight",
          title:
            a.options.labelMap.lineheight ||
            a.getLang("labelMap.lineheight") ||
            "",
          items: f,
          onbuttonclick: function () {
            var b = a.queryCommandValue("LineHeight") || this.value;
            a.execCommand("LineHeight", b);
          },
        });
        c.buttons.lineheight = g;
        a.addListener("selectionchange", function () {
          var b = a.queryCommandState("LineHeight");
          if (-1 == b) g.setDisabled(!0);
          else {
            g.setDisabled(!1);
            var c = a.queryCommandValue("LineHeight");
            c && g.setValue((c + "").replace(/cm/, ""));
            g.setChecked(b);
          }
        });
        return g;
      }
    };
    l = ["top", "bottom"];
    for (e = 0; (f = l[e++]); )
      (function (a) {
        c["rowspacing" + a] = function (b) {
          var d = b.options["rowspacing" + a] || [];
          if (!d.length) return null;
          for (var e = 0, f, g = []; (f = d[e++]); )
            g.push({
              label: f,
              value: f,
              theme: b.options.theme,
              onclick: function () {
                b.execCommand("rowspacing", this.value, a);
              },
            });
          var h = new c.MenuButton({
            editor: b,
            className: "edui-for-rowspacing" + a,
            title:
              b.options.labelMap["rowspacing" + a] ||
              b.getLang("labelMap.rowspacing" + a) ||
              "",
            items: g,
            onbuttonclick: function () {
              var c = b.queryCommandValue("rowspacing", a) || this.value;
              b.execCommand("rowspacing", c, a);
            },
          });
          c.buttons[a] = h;
          b.addListener("selectionchange", function () {
            var c = b.queryCommandState("rowspacing", a);
            if (-1 == c) h.setDisabled(!0);
            else {
              h.setDisabled(!1);
              var d = b.queryCommandValue("rowspacing", a);
              d && h.setValue((d + "").replace(/%/, ""));
              h.setChecked(c);
            }
          });
          return h;
        };
      })(f);
    l = ["insertorderedlist", "insertunorderedlist"];
    for (e = 0; (f = l[e++]); )
      (function (a) {
        c[a] = function (b) {
          var d = b.options[a],
            e = function () {
              b.execCommand(a, this.value);
            },
            f = [],
            g;
          for (g in d)
            f.push({
              label: d[g] || b.getLang()[a][g] || "",
              value: g,
              theme: b.options.theme,
              onclick: e,
            });
          var h = new c.MenuButton({
            editor: b,
            className: "edui-for-" + a,
            title: b.getLang("labelMap." + a) || "",
            items: f,
            onbuttonclick: function () {
              var c = b.queryCommandValue(a) || this.value;
              b.execCommand(a, c);
            },
          });
          c.buttons[a] = h;
          b.addListener("selectionchange", function () {
            var c = b.queryCommandState(a);
            if (-1 == c) h.setDisabled(!0);
            else {
              h.setDisabled(!1);
              var d = b.queryCommandValue(a);
              h.setValue(d);
              h.setChecked(c);
            }
          });
          return h;
        };
      })(f);
    c.fullscreen = function (a, b) {
      b =
        a.options.labelMap.fullscreen || a.getLang("labelMap.fullscreen") || "";
      var d = new c.Button({
        className: "edui-for-fullscreen",
        title: b,
        theme: a.options.theme,
        onclick: function () {
          a.ui && a.ui.setFullScreen(!a.ui.isFullScreen());
          this.setChecked(a.ui.isFullScreen());
        },
      });
      c.buttons.fullscreen = d;
      a.addListener("selectionchange", function () {
        var b = a.queryCommandState("fullscreen");
        d.setDisabled(-1 == b);
        d.setChecked(a.ui.isFullScreen());
      });
      return d;
    };
    c.emotion = function (b, d) {
      var e = new c.MultiMenuPop({
        title:
          b.options.labelMap.emotion || b.getLang("labelMap.emotion") || "",
        editor: b,
        className: "edui-for-emotion",
        iframeUrl: b.ui.mapUrl(
          d || (b.options.iframeUrlMap || {}).emotion || a.emotion
        ),
      });
      c.buttons.emotion = e;
      b.addListener("selectionchange", function () {
        e.setDisabled(-1 == b.queryCommandState("emotion"));
      });
      return e;
    };
    c.autotypeset = function (a) {
      var b = new c.AutoTypeSetButton({
        editor: a,
        title:
          a.options.labelMap.autotypeset ||
          a.getLang("labelMap.autotypeset") ||
          "",
        className: "edui-for-autotypeset",
        onbuttonclick: function () {
          a.execCommand("autotypeset");
        },
      });
      c.buttons.autotypeset = b;
      a.addListener("selectionchange", function () {
        b.setDisabled(-1 == a.queryCommandState("autotypeset"));
      });
      return b;
    };
    c.simpleupload = function (a) {
      var b = new c.Button({
        className: "edui-for-simpleupload",
        title:
          a.options.labelMap.simpleupload ||
          a.getLang("labelMap.simpleupload") ||
          "",
        onclick: function () {},
        theme: a.options.theme,
        showText: !1,
      });
      c.buttons.simpleupload = b;
      a.addListener("ready", function () {
        var c = b.getDom("body").children[0];
        a.fireEvent("simpleuploadbtnready", c);
      });
      a.addListener("selectionchange", function (c, d, e) {
        c = a.queryCommandState("simpleupload");
        -1 == c
          ? (b.setDisabled(!0), b.setChecked(!1))
          : e || (b.setDisabled(!1), b.setChecked(c));
      });
      return b;
    };
  })();
  (function () {
    function d(a) {
      this.initOptions(a);
      this.initEditorUI();
    }
    var c = s.editor.utils,
      b = s.editor.ui.uiUtils,
      a = s.editor.ui.UIBase,
      e = s.editor.dom.domUtils,
      f = [];
    d.prototype = {
      uiName: "editor",
      initEditorUI: function () {
        function a(b, c) {
          b.setOpt({
            wordCount: !0,
            maximumWords: 1e4,
            wordCountMsg: b.options.wordCountMsg || b.getLang("wordCountMsg"),
            wordOverFlowMsg:
              b.options.wordOverFlowMsg || b.getLang("wordOverFlowMsg"),
          });
          var d = b.options,
            e = d.maximumWords,
            f = d.wordCountMsg,
            g = d.wordOverFlowMsg,
            h = c.getDom("wordcount");
          d.wordCount &&
            ((d = b.getContentLength(!0)),
            d > e
              ? ((h.innerHTML = g), b.fireEvent("wordcountoverflow"))
              : (h.innerHTML = f
                  .replace("{#leave}", e - d)
                  .replace("{#count}", d)));
        }
        this.editor.ui = this;
        this._dialogs = {};
        this.initUIBase();
        this._initToolbars();
        var b = this.editor,
          c = this;
        b.addListener("ready", function () {
          b.getDialog = function (a) {
            return b.ui._dialogs[a + "Dialog"];
          };
          e.on(b.window, "scroll", function (a) {
            s.editor.ui.Popup.postHide(a);
          });
          b.ui._actualFrameWidth = b.options.initialFrameWidth;
          UE.browser.ie &&
            6 === UE.browser.version &&
            b.container.ownerDocument.execCommand(
              "BackgroundImageCache",
              !1,
              !0
            );
          b.options.elementPathEnabled &&
            (b.ui.getDom("elementpath").innerHTML =
              '<div class="edui-editor-breadcrumb">' +
              b.getLang("elementPathTip") +
              ":</div>");
          b.options.wordCount &&
            (e.on(b.document, "click", function () {
              a(b, c);
              e.un(b.document, "click", arguments.callee);
            }),
            (b.ui.getDom("wordcount").innerHTML = b.getLang("wordCountTip")));
          b.ui._scale();
          b.options.scaleEnabled
            ? (b.autoHeightEnabled && b.disableAutoHeight(), c.enableScale())
            : c.disableScale();
          b.options.elementPathEnabled ||
            b.options.wordCount ||
            b.options.scaleEnabled ||
            ((b.ui.getDom("elementpath").style.display = "none"),
            (b.ui.getDom("wordcount").style.display = "none"),
            (b.ui.getDom("scale").style.display = "none"));
          b.selection.isFocus() && b.fireEvent("selectionchange", !1, !0);
        });
        b.addListener("mousedown", function (a, b) {
          s.editor.ui.Popup.postHide(b, b.target || b.srcElement);
          s.editor.ui.ShortCutMenu.postHide(b);
        });
        b.addListener("delcells", function () {
          UE.ui.edittip && new UE.ui.edittip(b);
          b.getDialog("edittip").open();
        });
        var d,
          f = !1,
          g;
        b.addListener("afterpaste", function () {
          b.queryCommandState("pasteplain") ||
            (s.editor.ui.PastePicker &&
              ((d = new s.editor.ui.Popup({
                content: new s.editor.ui.PastePicker({ editor: b }),
                editor: b,
                className: "edui-wordpastepop",
              })),
              d.render()),
            (f = !0));
        });
        b.addListener("afterinserthtml", function () {
          clearTimeout(g);
          g = setTimeout(function () {
            if (d && (f || b.ui._isTransfer)) {
              if (d.isHidden()) {
                var a = e.createElement(b.document, "span", {
                  style: "line-height:0px;",
                  innerHTML: "\ufeff",
                });
                b.selection.getRange().insertNode(a);
                var c = X(a, "firstChild", "previousSibling");
                c && d.showAnchor(3 == c.nodeType ? c.parentNode : c);
                e.remove(a);
              } else d.show();
              delete b.ui._isTransfer;
              f = !1;
            }
          }, 200);
        });
        b.addListener("contextmenu", function (a, b) {
          s.editor.ui.Popup.postHide(b);
        });
        b.addListener("keydown", function (a, b) {
          d && d.dispose(b);
          var c = b.keyCode || b.which;
          if (b.altKey && 90 == c) UE.ui.buttons.fullscreen.onclick();
        });
        b.addListener("wordcount", function (b) {
          a(this, c);
        });
        b.addListener("selectionchange", function () {
          if (b.options.elementPathEnabled)
            c[
              (-1 == b.queryCommandState("elementpath") ? "dis" : "en") +
                "ableElementPath"
            ]();
          if (b.options.scaleEnabled)
            c[
              (-1 == b.queryCommandState("scale") ? "dis" : "en") + "ableScale"
            ]();
        });
        var h = new s.editor.ui.Popup({
          editor: b,
          content: "",
          className: "edui-bubble",
          _onEditButtonClick: function () {
            this.hide();
            b.ui._dialogs.linkDialog.open();
          },
          _onImgEditButtonClick: function (a) {
            this.hide();
            b.ui._dialogs[a] && b.ui._dialogs[a].open();
          },
          _onImgSetFloat: function (a) {
            this.hide();
            b.execCommand("imagefloat", a);
          },
          _setIframeAlign: function (a) {
            var b = h.anchorEl,
              c = b.cloneNode(!0);
            switch (a) {
              case -2:
                c.setAttribute("align", "");
                break;
              case -1:
                c.setAttribute("align", "left");
                break;
              case 1:
                c.setAttribute("align", "right");
            }
            b.parentNode.insertBefore(c, b);
            e.remove(b);
            h.anchorEl = c;
            h.showAnchor(h.anchorEl);
          },
          _updateIframe: function () {
            var a = (b._iframe = h.anchorEl);
            e.hasClass(a, "ueditor_baidumap")
              ? (b.selection.getRange().selectNode(a).select(),
                b.ui._dialogs.mapDialog.open())
              : b.ui._dialogs.insertframeDialog.open();
            h.hide();
          },
          _onRemoveButtonClick: function (a) {
            b.execCommand(a);
            this.hide();
          },
          queryAutoHide: function (a) {
            return a &&
              a.ownerDocument == b.document &&
              ("img" == a.tagName.toLowerCase() ||
                e.findParentByTagName(a, "a", !0))
              ? a !== h.anchorEl
              : s.editor.ui.Popup.prototype.queryAutoHide.call(this, a);
          },
        });
        h.render();
        b.options.imagePopup &&
          (b.addListener("mouseover", function (a, c) {
            c = c || window.event;
            var d = c.target || c.srcElement;
            if (b.ui._dialogs.insertframeDialog && /iframe/gi.test(d.tagName)) {
              var e = h.formatHtml(
                "<nobr>" +
                  b.getLang("property") +
                  ': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">' +
                  b.getLang("default") +
                  '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">' +
                  b.getLang("justifyleft") +
                  '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">' +
                  b.getLang("justifyright") +
                  '</span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">' +
                  b.getLang("modify") +
                  "</span></nobr>"
              );
              e
                ? ((h.getDom("content").innerHTML = e),
                  (h.anchorEl = d),
                  h.showAnchor(h.anchorEl))
                : h.hide();
            }
          }),
          b.addListener("selectionchange", function (a, c) {
            if (c) {
              var d = "",
                f = "",
                g = b.selection.getRange().getClosedNode(),
                f = b.ui._dialogs;
              if (g && "IMG" == g.tagName) {
                var l = "insertimageDialog";
                if (
                  -1 != g.className.indexOf("edui-faked-video") ||
                  -1 != g.className.indexOf("edui-upload-video")
                )
                  l = "insertvideoDialog";
                -1 != g.className.indexOf("edui-faked-webapp") &&
                  (l = "webappDialog");
                -1 != g.src.indexOf("http://api.map.baidu.com") &&
                  (l = "mapDialog");
                -1 != g.className.indexOf("edui-faked-music") &&
                  (l = "musicDialog");
                -1 !=
                  g.src.indexOf("http://maps.google.com/maps/api/staticmap") &&
                  (l = "gmapDialog");
                g.getAttribute("anchorname") &&
                  ((l = "anchorDialog"),
                  (d = h.formatHtml(
                    "<nobr>" +
                      b.getLang("property") +
                      ': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">' +
                      b.getLang("modify") +
                      "</span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">" +
                      b.getLang("delete") +
                      "</span></nobr>"
                  )));
                g.getAttribute("word_img") &&
                  ((b.word_img = [g.getAttribute("word_img")]),
                  (l = "wordimageDialog"));
                if (
                  e.hasClass(g, "loadingclass") ||
                  e.hasClass(g, "loaderrorclass")
                )
                  l = "";
                if (!f[l]) return;
                f =
                  "<nobr>" +
                  b.getLang("property") +
                  ': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">' +
                  b.getLang("default") +
                  '</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">' +
                  b.getLang("justifyleft") +
                  '</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">' +
                  b.getLang("justifyright") +
                  '</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">' +
                  b.getLang("justifycenter") +
                  "</span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('" +
                  l +
                  '\');" class="edui-clickable">' +
                  b.getLang("modify") +
                  "</span></nobr>";
                !d && (d = h.formatHtml(f));
              }
              if (b.ui._dialogs.linkDialog) {
                var m = b.queryCommandValue("link"),
                  n;
                m &&
                  (n = m.getAttribute("_href") || m.getAttribute("href", 2)) &&
                  ((f = n),
                  30 < n.length && (f = n.substring(0, 20) + "..."),
                  d && (d += '<div style="height:5px;"></div>'),
                  (d += h.formatHtml(
                    "<nobr>" +
                      b.getLang("anthorMsg") +
                      ': <a target="_blank" href="' +
                      n +
                      '" title="' +
                      n +
                      '" >' +
                      f +
                      '</a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">' +
                      b.getLang("modify") +
                      '</span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> ' +
                      b.getLang("clear") +
                      "</span></nobr>"
                  )),
                  h.showAnchor(m));
              }
              d
                ? ((h.getDom("content").innerHTML = d),
                  (h.anchorEl = g || m),
                  h.showAnchor(h.anchorEl))
                : h.hide();
            }
          }));
      },
      _initToolbars: function () {
        for (
          var a = this.editor, b = this.toolbars || [], d = [], e = 0;
          e < b.length;
          e++
        ) {
          for (
            var f = b[e],
              g = new s.editor.ui.Toolbar({ theme: a.options.theme }),
              h = 0;
            h < f.length;
            h++
          ) {
            var p = f[h],
              r = null;
            if ("string" == typeof p) {
              if (
                ((p = p.toLowerCase()),
                "|" == p && (p = "Separator"),
                "||" == p && (p = "Breakline"),
                s.editor.ui[p] && (r = new s.editor.ui[p](a)),
                "fullscreen" == p)
              ) {
                d && d[0]
                  ? d[0].items.splice(0, 0, r)
                  : r && g.items.splice(0, 0, r);
                continue;
              }
            } else r = p;
            r && r.id && g.add(r);
          }
          d[e] = g;
        }
        c.each(UE._customizeUI, function (b, c) {
          var d, e;
          if (b.id && b.id != a.key) return !1;
          if ((d = b.execFn.call(a, a, c)))
            (e = b.index), void 0 === e && (e = g.items.length), g.add(d, e);
        });
        this.toolbars = d;
      },
      getHtmlTpl: function () {
        return (
          '<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">' +
          (this.toolbars.length
            ? '<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">' +
              this.renderToolbarBoxHtml() +
              "</div></div>"
            : "") +
          '<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">' +
          this.editor.getLang("clickToUpload") +
          '</div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div><div style="height:0;overflow:hidden;clear:both;"></div></div><div id="##_message_holder" class="%%-messageholder"></div></div><div id="##_iframeholder" class="%%-iframeholder"></div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"></td><td id="##_wordcount" class="%%-wordcount"></td><td id="##_scale" class="%%-scale"><div class="%%-icon"></div></td></tr></table></div><div id="##_scalelayer"></div></div>'
        );
      },
      showWordImageDialog: function () {
        this._dialogs.wordimageDialog.open();
      },
      renderToolbarBoxHtml: function () {
        for (var a = [], b = 0; b < this.toolbars.length; b++)
          a.push(this.toolbars[b].renderHtml());
        return a.join("");
      },
      setFullScreen: function (a) {
        var b = this.editor,
          c = b.container.parentNode.parentNode;
        if (this._fullscreen != a) {
          this._fullscreen = a;
          this.editor.fireEvent("beforefullscreenchange", a);
          if (s.editor.browser.gecko)
            var d = b.selection.getRange().createBookmark();
          if (a) {
            for (; "BODY" != c.tagName; ) {
              var e = s.editor.dom.domUtils.getComputedStyle(c, "position");
              f.push(e);
              c.style.position = "static";
              c = c.parentNode;
            }
            this._bakHtmlOverflow = document.documentElement.style.overflow;
            this._bakBodyOverflow = document.body.style.overflow;
            this._bakAutoHeight = this.editor.autoHeightEnabled;
            this._bakScrollTop = Math.max(
              document.documentElement.scrollTop,
              document.body.scrollTop
            );
            this._bakEditorContaninerWidth = b.iframe.parentNode.offsetWidth;
            this._bakAutoHeight &&
              ((b.autoHeightEnabled = !1), this.editor.disableAutoHeight());
            document.documentElement.style.overflow = "hidden";
            window.scrollTo(0, window.scrollY);
            this._bakCssText = this.getDom().style.cssText;
            this._bakCssText1 = this.getDom("iframeholder").style.cssText;
            b.iframe.parentNode.style.width = "";
            this._updateFullScreen();
          } else {
            for (; "BODY" != c.tagName; )
              (c.style.position = f.shift()), (c = c.parentNode);
            this.getDom().style.cssText = this._bakCssText;
            this.getDom("iframeholder").style.cssText = this._bakCssText1;
            this._bakAutoHeight &&
              ((b.autoHeightEnabled = !0), this.editor.enableAutoHeight());
            document.documentElement.style.overflow = this._bakHtmlOverflow;
            document.body.style.overflow = this._bakBodyOverflow;
            b.iframe.parentNode.style.width =
              this._bakEditorContaninerWidth + "px";
            window.scrollTo(0, this._bakScrollTop);
          }
          if (r.gecko && "true" === b.body.contentEditable) {
            var g = document.createElement("input");
            document.body.appendChild(g);
            b.body.contentEditable = !1;
            setTimeout(function () {
              g.focus();
              setTimeout(function () {
                b.body.contentEditable = !0;
                b.fireEvent("fullscreenchanged", a);
                b.selection.getRange().moveToBookmark(d).select(!0);
                s.editor.dom.domUtils.remove(g);
                a && window.scroll(0, 0);
              }, 0);
            }, 0);
          }
          "true" === b.body.contentEditable &&
            (this.editor.fireEvent("fullscreenchanged", a),
            this.triggerLayout());
        }
      },
      _updateFullScreen: function () {
        if (this._fullscreen) {
          var a = b.getViewportRect();
          this.getDom().style.cssText =
            "border:0;position:absolute;left:0;top:" +
            (this.editor.options.topOffset || 0) +
            "px;width:" +
            a.width +
            "px;height:" +
            a.height +
            "px;z-index:" +
            (1 * this.getDom().style.zIndex + 100);
          b.setViewportOffset(this.getDom(), {
            left: 0,
            top: this.editor.options.topOffset || 0,
          });
          this.editor.setHeight(
            a.height -
              this.getDom("toolbarbox").offsetHeight -
              this.getDom("bottombar").offsetHeight -
              (this.editor.options.topOffset || 0),
            !0
          );
          if (r.gecko)
            try {
              window.onresize();
            } catch (c) {}
        }
      },
      _updateElementPath: function () {
        var a = this.getDom("elementpath"),
          b;
        if (
          this.elementPathEnabled &&
          (b = this.editor.queryCommandValue("elementpath"))
        ) {
          for (var c = [], d = 0, e; (e = b[d]); d++)
            c[d] = this.formatHtml(
              '<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;' +
                d +
                '&quot;);">' +
                e +
                "</span>"
            );
          a.innerHTML =
            '<div class="edui-editor-breadcrumb" onmousedown="return false;">' +
            this.editor.getLang("elementPathTip") +
            ": " +
            c.join(" &gt; ") +
            "</div>";
        } else a.style.display = "none";
      },
      disableElementPath: function () {
        var a = this.getDom("elementpath");
        a.innerHTML = "";
        a.style.display = "none";
        this.elementPathEnabled = !1;
      },
      enableElementPath: function () {
        this.getDom("elementpath").style.display = "";
        this.elementPathEnabled = !0;
        this._updateElementPath();
      },
      _scale: function () {
        function a() {
          I = e.getXY(h);
          L || (L = g.options.minFrameHeight + s.offsetHeight + v.offsetHeight);
          G.style.cssText =
            "position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:" +
            h.offsetWidth +
            "px;height:" +
            h.offsetHeight +
            "px;z-index:" +
            (g.options.zIndex + 1);
          e.on(f, "mousemove", b);
          e.on(p, "mouseup", c);
          e.on(f, "mouseup", c);
        }
        function b(a) {
          d();
          a = a || window.event;
          T = a.pageX || f.documentElement.scrollLeft + a.clientX;
          z = a.pageY || f.documentElement.scrollTop + a.clientY;
          H = T - I.x;
          D = z - I.y;
          H >= P && ((A = !0), (G.style.width = H + "px"));
          D >= L && ((A = !0), (G.style.height = D + "px"));
        }
        function c() {
          A &&
            ((A = !1),
            (g.ui._actualFrameWidth = G.offsetWidth - 2),
            (h.style.width = g.ui._actualFrameWidth + "px"),
            g.setHeight(
              G.offsetHeight - v.offsetHeight - s.offsetHeight - 2,
              !0
            ));
          G && (G.style.display = "none");
          d();
          e.un(f, "mousemove", b);
          e.un(p, "mouseup", c);
          e.un(f, "mouseup", c);
        }
        function d() {
          r.ie ? f.selection.clear() : window.getSelection().removeAllRanges();
        }
        var f = document,
          g = this.editor,
          h = g.container,
          p = g.document,
          s = this.getDom("toolbarbox"),
          v = this.getDom("bottombar"),
          E = this.getDom("scale"),
          G = this.getDom("scalelayer"),
          A = !1,
          I = null,
          L = 0,
          P = g.options.minFrameWidth,
          T = 0,
          z = 0,
          H = 0,
          D = 0,
          B = this;
        this.editor.addListener("fullscreenchanged", function (a, b) {
          if (b) B.disableScale();
          else if (B.editor.options.scaleEnabled) {
            B.enableScale();
            var c = B.editor.document.createElement("span");
            B.editor.body.appendChild(c);
            B.editor.body.style.height =
              Math.max(e.getXY(c).y, B.editor.iframe.offsetHeight - 20) + "px";
            e.remove(c);
          }
        });
        this.enableScale = function () {
          1 != g.queryCommandState("source") &&
            ((E.style.display = ""),
            (this.scaleEnabled = !0),
            e.on(E, "mousedown", a));
        };
        this.disableScale = function () {
          E.style.display = "none";
          this.scaleEnabled = !1;
          e.un(E, "mousedown", a);
        };
      },
      isFullScreen: function () {
        return this._fullscreen;
      },
      postRender: function () {
        a.prototype.postRender.call(this);
        for (var b = 0; b < this.toolbars.length; b++)
          this.toolbars[b].postRender();
        var c = this,
          d,
          e = s.editor.dom.domUtils,
          f = function () {
            clearTimeout(d);
            d = setTimeout(function () {
              c._updateFullScreen();
            });
          };
        e.on(window, "resize", f);
        c.addListener("destroy", function () {
          e.un(window, "resize", f);
          clearTimeout(d);
        });
      },
      showToolbarMsg: function (a, b) {
        this.getDom("toolbarmsg_label").innerHTML = a;
        this.getDom("toolbarmsg").style.display = "";
        b || (this.getDom("upload_dialog").style.display = "none");
      },
      hideToolbarMsg: function () {
        this.getDom("toolbarmsg").style.display = "none";
      },
      mapUrl: function (a) {
        return a
          ? a.replace("~/", this.editor.options.UEDITOR_HOME_URL || "")
          : "";
      },
      triggerLayout: function () {
        var a = this.getDom();
        a.style.zoom = "1" == a.style.zoom ? "100%" : "1";
      },
    };
    c.inherits(d, s.editor.ui.UIBase);
    var g = {};
    UE.ui.Editor = function (a) {
      var b = new UE.Editor(a);
      b.options.editor = b;
      c.loadFile(document, {
        href: b.options.themePath + b.options.theme + "/css/ueditor.css",
        tag: "link",
        type: "text/css",
        rel: "stylesheet",
      });
      var f = b.render;
      b.render = function (a) {
        a.constructor === String && ((b.key = a), (g[a] = b));
        c.domReady(function () {
          function c() {
            b.setOpt({ labelMap: b.options.labelMap || b.getLang("labelMap") });
            new d(b.options);
            if (
              a &&
              (a.constructor === String && (a = document.getElementById(a)),
              a &&
                a.getAttribute("name") &&
                (b.options.textarea = a.getAttribute("name")),
              a && /script|textarea/gi.test(a.tagName))
            ) {
              var g = document.createElement("div");
              a.parentNode.insertBefore(g, a);
              var h = a.value || a.innerHTML;
              b.options.initialContent = /^[\t\r\n ]*$/.test(h)
                ? b.options.initialContent
                : h
                    .replace(/>[\n\r\t]+([ ]{4})+/g, ">")
                    .replace(/[\n\r\t]+([ ]{4})+</g, "<")
                    .replace(/>[\n\r\t]+</g, "><");
              a.className && (g.className = a.className);
              a.style.cssText && (g.style.cssText = a.style.cssText);
              /textarea/i.test(a.tagName)
                ? ((b.textarea = a), (b.textarea.style.display = "none"))
                : a.parentNode.removeChild(a);
              a.id && ((g.id = a.id), e.removeAttributes(a, "id"));
              a = g;
              a.innerHTML = "";
            }
            e.addClass(a, "edui-" + b.options.theme);
            b.ui.render(a);
            g = b.options;
            b.container = b.ui.getDom();
            for (
              var h = e.findParents(a, !0), l = [], p = 0, q;
              (q = h[p]);
              p++
            )
              (l[p] = q.style.display), (q.style.display = "block");
            g.initialFrameWidth
              ? (g.minFrameWidth = g.initialFrameWidth)
              : ((g.minFrameWidth = g.initialFrameWidth = a.offsetWidth),
                (p = a.style.width),
                /%$/.test(p) && (g.initialFrameWidth = p));
            g.initialFrameHeight
              ? (g.minFrameHeight = g.initialFrameHeight)
              : (g.initialFrameHeight = g.minFrameHeight = a.offsetHeight);
            for (p = 0; (q = h[p]); p++) q.style.display = l[p];
            a.style.height && (a.style.height = "");
            b.container.style.width =
              g.initialFrameWidth +
              (/%$/.test(g.initialFrameWidth) ? "" : "px");
            b.container.style.zIndex = g.zIndex;
            f.call(b, b.ui.getDom("iframeholder"));
            b.fireEvent("afteruiready");
          }
          b.langIsReady ? c() : b.addListener("langReady", c);
        });
      };
      return b;
    };
    UE.getEditor = function (a, b) {
      var c = g[a];
      c || ((c = g[a] = new UE.ui.Editor(b)), c.render(a));
      return c;
    };
    UE.delEditor = function (a) {
      var b;
      if ((b = g[a])) b.key && b.destroy(), delete g[a];
    };
    UE.registerUI = function (a, b, d, e) {
      c.each(a.split(/\s+/), function (a) {
        UE._customizeUI[a] = { id: e, execFn: b, index: d };
      });
    };
  })();
  UE.registerUI("message", function (d) {
    function c() {
      var b = f.ui.getDom("toolbarbox");
      b && (a.style.top = b.offsetHeight + 3 + "px");
      a.style.zIndex = Math.max(f.options.zIndex, f.iframe.style.zIndex) + 1;
    }
    var b = s.editor.ui.Message,
      a,
      e = [],
      f = d;
    f.addListener("ready", function () {
      a = document.getElementById(f.ui.id + "_message_holder");
      c();
      setTimeout(function () {
        c();
      }, 500);
    });
    f.addListener("showmessage", function (d, l) {
      l = p.isString(l) ? { content: l } : l;
      var k = new b({
          timeout: l.timeout,
          type: l.type,
          content: l.content,
          keepshow: l.keepshow,
          editor: f,
        }),
        m = l.id || "msg_" + (+new Date()).toString(36);
      k.render(a);
      e[m] = k;
      k.reset(l);
      c();
      return m;
    });
    f.addListener("updatemessage", function (b, c, d) {
      d = p.isString(d) ? { content: d } : d;
      b = e[c];
      b.render(a);
      b && b.reset(d);
    });
    f.addListener("hidemessage", function (a, b) {
      var c = e[b];
      c && c.hide();
    });
  });
  UE.registerUI("autosave", function (d) {
    var c = null,
      b = null;
    d.on("afterautosave", function () {
      clearTimeout(c);
      c = setTimeout(function () {
        b && d.trigger("hidemessage", b);
        b = d.trigger("showmessage", {
          content: d.getLang("autosave.success"),
          timeout: 2e3,
        });
      }, 2e3);
    });
  });
})();
/**
 * ueditor
 * 
 */
/**********************************************************
 * UEditor
 * 
 * 
 * ,
 **********************************************************/

(function () {
  /**
   * dialog
   * ""
   * """/myProject/ueditor/"
   * UEditorURL
   * UEditorURL
   * window.UEDITOR_HOME_URL = "/xxxx/xxxx/";
   */
  var URL = window.UEDITOR_HOME_URL || getUEBasePath();

  /**
   * URL
   */
  window.UEDITOR_CONFIG = {
    //
    UEDITOR_HOME_URL: URL,

    // 
    // , serverUrl: URL + "/api/ueditor/images/upload"

    //new
    toolbars: [
      [
        "fullscreen",
        "source",
        "|",
        "undo",
        "redo",
        "|",
        "bold",
        "italic",
        "underline",
        "fontborder",
        "strikethrough",
        "superscript",
        "subscript",
        "removeformat",
        "formatmatch",
        "autotypeset",
        "blockquote",
        "pasteplain",
        "|",
        "forecolor",
        "backcolor",
        "insertorderedlist",
        "insertunorderedlist",
        "selectall",
        "cleardoc",
        "|",
        "rowspacingtop",
        "rowspacingbottom",
        "lineheight",
        "|",
        "customstyle",
        "paragraph",
        "fontfamily",
        "fontsize",
        "|",
        "directionalityltr",
        "directionalityrtl",
        "indent",
        "|",
        "justifyleft",
        "justifycenter",
        "justifyright",
        "justifyjustify",
        "|",
        "touppercase",
        "tolowercase",
        "|",
        "link",
        "unlink",
        "anchor",
        "|",
        "imagenone",
        "imageleft",
        "imageright",
        "imagecenter",
        "|",
        "simpleupload",
        "insertimage",
        "emotion",
        "scrawl",
        "insertvideo",
        "music",
        "attachment",
        "map",
        "gmap",
        "insertframe",
        "insertcode",
        "webapp",
        "pagebreak",
        "template",
        "background",
        "|",
        "horizontal",
        "date",
        "time",
        "spechars",
        "snapscreen",
        "wordimage",
        "|",
        "inserttable",
        "deletetable",
        "insertparagraphbeforetable",
        "insertrow",
        "deleterow",
        "insertcol",
        "deletecol",
        "mergecells",
        "mergeright",
        "mergedown",
        "splittocells",
        "splittorows",
        "splittocols",
        "charts",
        "|",
        "print",
        "preview",
        "searchreplace",
        "help",
        "drafts",
      ],
    ],
    //tooltip,
    //,labelMap:{
    //    'anchor':'', 'undo':''
    //}

    //,zh-cnlang
    //lang (navigator.language||navigator.browserLanguage ||navigator.userLanguage).toLowerCase()
    //,lang:"zh-cn"
    langPath: URL + "lang/",

    //,defaultthemes
    //:default
    //,theme:'default'
    //,themePath:URL +"themes/"

    //,zIndex : 900     //,900

    //getAllHtmlhead
    //,charset:"utf-8"

    //domaintrue
    //,customDomain:false

    //
    //,isShow : true    //

    //,textarea:'editorValue' // namename

    //,initialContent:'ueditor!'    //,textarea/script

    //,autoClearinitialContent:true //focustrue,

    //,focus:false //truefalse

    //p
    //,initialStyle:'p{line-height:1em}'//,

    //,iframeCssUrl: URL + '/themes/iframe.css' //css

    //indentValue
    //,2em
    //,indentValue:'2em'

    //,initialFrameWidth:1000  //,1000
    //,initialFrameHeight:320  //,320

    //,readonly : false //,false

    //,autoClearEmptyNode : true //getContentinlineElement

    //
    //,enableAutoSave: true
    // ms
    //,saveInterval: 500

    //,fullscreen : false //

    //,imagePopup:true      //

    //,autoSyncData:true //
    //,emotionLocalization:false //emotionimages

    //
    //,retainOnlyLabelPasted: false

    //,pasteplain:false  //falsetrue
    //
    //'filterTxtRules' : function(){
    //    function transP(node){
    //        node.tagName = 'p';
    //        node.setStyle();
    //    }
    //    return {
    //        //
    //        '-' : 'script style object iframe embed input select',
    //        'p': {$:{}},
    //        'br':{$:{}},
    //        'div':{'$':{}},
    //        'li':{'$':{}},
    //        'caption':transP,
    //        'th':transP,
    //        'tr':transP,
    //        'h1':transP,'h2':transP,'h3':transP,'h4':transP,'h5':transP,'h6':transP,
    //        'td':function(node){
    //            //td
    //            var txt = !!node.innerText();
    //            if(txt){
    //                node.parentNode.insertAfter(UE.uNode.createText(' &nbsp; &nbsp;'),node);
    //            }
    //            node.parentNode.removeChild(node,node.innerText())
    //        }
    //    }
    //}()

    //,allHtmlEnabled:false //html

    //insertorderedlist
    //,
    //,'insertorderedlist':{
    //      //
    //        'num':'1,2,3...',
    //        'num1':'1),2),3)...',
    //        'num2':'(1),(2),(3)...',
    //        'cn':',,....',
    //        'cn1':'),),)....',
    //        'cn2':'(),(),()....',
    //     //
    //     'decimal' : '' ,         //'1,2,3...'
    //     'lower-alpha' : '' ,    // 'a,b,c...'
    //     'lower-roman' : '' ,    //'i,ii,iii...'
    //     'upper-alpha' : '' , lang   //'A,B,C'
    //     'upper-roman' : ''      //'I,II,III...'
    //}

    //insertunorderedlist
    //
    //,insertunorderedlist : { //
    //    'dash' :' ', //-
    //    'dot':'  ', //
    //    'circle' : '',  // ' '
    //    'disc' : '',    // ' '
    //    'square' : ''   //' '
    //}
    //,listDefaultPaddingLeft : '30'//
    //,listiconpath : 'http://bs.baidu.com/listicon/'//
    //,maxListLevel : 3 //tab, -1

    //,autoTransWordToList:false  //word

    //fontfamily
    // label
    //,'fontfamily':[
    //    { label:'',name:'songti',val:',SimSun'},
    //    { label:'',name:'kaiti',val:',_GB2312, SimKai'},
    //    { label:'',name:'yahei',val:',Microsoft YaHei'},
    //    { label:'',name:'heiti',val:', SimHei'},
    //    { label:'',name:'lishu',val:', SimLi'},
    //    { label:'',name:'andaleMono',val:'andale mono'},
    //    { label:'',name:'arial',val:'arial, helvetica,sans-serif'},
    //    { label:'',name:'arialBlack',val:'arial black,avant garde'},
    //    { label:'',name:'comicSansMs',val:'comic sans ms'},
    //    { label:'',name:'impact',val:'impact,chicago'},
    //    { label:'',name:'timesNewRoman',val:'times new roman'}
    //]

    //fontsize
    //
    //,'fontsize':[10, 11, 12, 14, 16, 18, 20, 24, 36]

    //paragraph
    // 
    //,'paragraph':{'p':'', 'h1':'', 'h2':'', 'h3':'', 'h4':'', 'h5':'', 'h6':''}

    //rowspacingtop
    // 
    //,'rowspacingtop':['5', '10', '15', '20', '25']

    //rowspacingBottom
    // 
    //,'rowspacingbottom':['5', '10', '15', '20', '25']

    //lineheight
    // 
    //,'lineheight':['1', '1.5','1.75','2', '3', '4', '5']

    //customstyle
    //
    //blockinlineBIU
    //
    //
    //tag 
    //label 
    //style 
    //
    //,'customstyle':[
    //    {tag:'h1', name:'tc', label:'', style:'border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;'},
    //    {tag:'h1', name:'tl',label:'', style:'border-bottom:#ccc 2px solid;padding:0 4px 0 0;margin:0 0 10px 0;'},
    //    {tag:'span',name:'im', label:'', style:'font-style:italic;font-weight:bold'},
    //    {tag:'span',name:'hi', label:'', style:'font-style:italic;font-weight:bold;color:rgb(51, 153, 204)'}
    //]

    //
    //,enableContextMenu: true
    //plugins/contextmenu.jslabel
    //,contextMenu:[
    //    {
    //        label:'',       //
    //        cmdName:'selectall',//command
    //        //execexecfunctioncmdName
    //        exec:function () {
    //            //this
    //            //this.ui._dialogs['inserttableDialog'].open();
    //        }
    //    }
    //]

    //
    //,shortcutMenu:["fontfamily", "fontsize", "bold", "italic", "underline", "forecolor", "backcolor", "insertorderedlist", "insertunorderedlist"]

    //elementPathEnabled
    //
    //,elementPathEnabled : true

    //wordCount
    //,wordCount:true          //
    //,maximumWords:10000       //
    //{#count}{#leave},
    //,wordCountMsg:''   // {#count} {#leave} 
    //  
    //,wordOverFlowMsg:''    //<span style="color:red;"></span>

    //tab
    //tab,tabSizetabNode
    //,tabSize:4
    //,tabNode:'&nbsp;'

    //removeFormat
    //
    //removeForamtTags
    //,removeFormatTags:'b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var'
    //removeFormatAttributes
    //,removeFormatAttributes:'class,style,lang,width,height,align,hspace,valign'

    //undo
    //,20
    //,maxUndoCount:20
    //
    //,maxInputCount:1

    //autoHeightEnabled
    // ,true
    //,autoHeightEnabled:true

    //scaleEnabled
    //,true()
    //,scaleEnabled:false
    //,minFrameWidth:800    //,800
    //,minFrameHeight:220  //,220

    //autoFloatEnabled
    //toolbar,true
    //,autoFloatEnabled:true
    //
    //,topOffset:30
    //()
    //,toolbarTopOffset:400

    //pageBreakTag
    //,_ueditor_page_break_tag_
    //,pageBreakTag:'_ueditor_page_break_tag_'

    //autotypeset
    //
    //,autotypeset: {
    //    mergeEmptyline: true,           //
    //    removeClass: true,              //class
    //    removeEmptyline: false,         //
    //    textAlign:"left",               // left,right,center,justify 
    //    imageBlockLine: 'center',       //,: center,left,right,none 
    //    pasteFilter: false,             //
    //    clearFontSize: false,           //
    //    clearFontFamily: false,         //
    //    removeEmptyNode: false,         // 
    //    //
    //    removeTagNames: {:1},
    //    indent: false,                  // 
    //    indentValue : '2em',            //
    //    bdc2sb: false,
    //    tobdc: false
    //}

    //tableDragable
    //
    //,tableDragable: true

    //,disabledTableInTable:true  //

    //sourceEditor
    //,codemirror textarea,codemirror
    //codemirrorie8+ie
    //,sourceEditor:"codemirror"
    //sourceEditorcodemirror
    //codeMirrorJsUrl js URL + "third-party/codemirror/codemirror.js"
    //,codeMirrorJsUrl:URL + "third-party/codemirror/codemirror.js"
    //codeMirrorCssUrl css URL + "third-party/codemirror/codemirror.css"
    //,codeMirrorCssUrl:URL + "third-party/codemirror/codemirror.css"
    //
    //,sourceEditorFirst:false

    //iframeUrlMap
    //dialog URL,dialog
    //,iframeUrlMap:{
    //    'anchor':'~/dialogs/anchor/anchor.html',
    //}

    //webAppKey APIkeykeyapphttp://app.baidu.com/static/cms/getapikey.html
    //, webAppKey: ""
  };

  function getUEBasePath(docUrl, confUrl) {
    return getBasePath(
      docUrl || self.document.URL || self.location.href,
      confUrl || getConfigFilePath()
    );
  }

  function getConfigFilePath() {
    var configPath = document.getElementsByTagName("script");

    return configPath[configPath.length - 1].src;
  }

  function getBasePath(docUrl, confUrl) {
    var basePath = confUrl;

    if (/^(\/|\\\\)/.test(confUrl)) {
      basePath =
        /^.+?\w(\/|\\\\)/.exec(docUrl)[0] + confUrl.replace(/^(\/|\\\\)/, "");
    } else if (!/^[a-z]+:/i.test(confUrl)) {
      docUrl = docUrl
        .split("#")[0]
        .split("?")[0]
        .replace(/[^\\\/]+$/, "");

      basePath = docUrl + "" + confUrl;
    }

    return optimizationPath(basePath);
  }

  function optimizationPath(path) {
    var protocol = /^[a-z]+:\/\//.exec(path)[0],
      tmp = null,
      res = [];

    path = path.replace(protocol, "").split("?")[0].split("#")[0];

    path = path.replace(/\\/g, "/").split(/\//);

    path[path.length - 1] = "";

    while (path.length) {
      if ((tmp = path.shift()) === "..") {
        res.pop();
      } else if (tmp !== ".") {
        res.push(tmp);
      }
    }

    return protocol + res.join("/");
  }

  window.UE = {
    getUEBasePath: getUEBasePath,
  };
})(); /*
 AngularJS v1.2.20
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (S, U, s) {
  "use strict";
  function v(b) {
    return function () {
      var a = arguments[0],
        c,
        a =
          "[" +
          (b ? b + ":" : "") +
          a +
          "] http://errors.angularjs.org/1.2.20/" +
          (b ? b + "/" : "") +
          a;
      for (c = 1; c < arguments.length; c++)
        a =
          a +
          (1 == c ? "?" : "&") +
          "p" +
          (c - 1) +
          "=" +
          encodeURIComponent(
            "function" == typeof arguments[c]
              ? arguments[c].toString().replace(/ \{[\s\S]*$/, "")
              : "undefined" == typeof arguments[c]
              ? "undefined"
              : "string" != typeof arguments[c]
              ? JSON.stringify(arguments[c])
              : arguments[c]
          );
      return Error(a);
    };
  }
  function db(b) {
    if (null == b || Ea(b)) return !1;
    var a = b.length;
    return 1 === b.nodeType && a
      ? !0
      : y(b) ||
          L(b) ||
          0 === a ||
          ("number" === typeof a && 0 < a && a - 1 in b);
  }
  function q(b, a, c) {
    var d;
    if (b)
      if (O(b))
        for (d in b)
          "prototype" == d ||
            "length" == d ||
            "name" == d ||
            (b.hasOwnProperty && !b.hasOwnProperty(d)) ||
            a.call(c, b[d], d);
      else if (b.forEach && b.forEach !== q) b.forEach(a, c);
      else if (db(b)) for (d = 0; d < b.length; d++) a.call(c, b[d], d);
      else for (d in b) b.hasOwnProperty(d) && a.call(c, b[d], d);
    return b;
  }
  function Vb(b) {
    var a = [],
      c;
    for (c in b) b.hasOwnProperty(c) && a.push(c);
    return a.sort();
  }
  function Tc(b, a, c) {
    for (var d = Vb(b), e = 0; e < d.length; e++) a.call(c, b[d[e]], d[e]);
    return d;
  }
  function Wb(b) {
    return function (a, c) {
      b(c, a);
    };
  }
  function eb() {
    for (var b = ja.length, a; b; ) {
      b--;
      a = ja[b].charCodeAt(0);
      if (57 == a) return (ja[b] = "A"), ja.join("");
      if (90 == a) ja[b] = "0";
      else return (ja[b] = String.fromCharCode(a + 1)), ja.join("");
    }
    ja.unshift("0");
    return ja.join("");
  }
  function Xb(b, a) {
    a ? (b.$$hashKey = a) : delete b.$$hashKey;
  }
  function E(b) {
    var a = b.$$hashKey;
    q(arguments, function (a) {
      a !== b &&
        q(a, function (a, c) {
          b[c] = a;
        });
    });
    Xb(b, a);
    return b;
  }
  function Z(b) {
    return parseInt(b, 10);
  }
  function Yb(b, a) {
    return E(new (E(function () {}, { prototype: b }))(), a);
  }
  function A() {}
  function Fa(b) {
    return b;
  }
  function $(b) {
    return function () {
      return b;
    };
  }
  function F(b) {
    return "undefined" === typeof b;
  }
  function B(b) {
    return "undefined" !== typeof b;
  }
  function T(b) {
    return null != b && "object" === typeof b;
  }
  function y(b) {
    return "string" === typeof b;
  }
  function yb(b) {
    return "number" === typeof b;
  }
  function Oa(b) {
    return "[object Date]" === xa.call(b);
  }
  function O(b) {
    return "function" === typeof b;
  }
  function fb(b) {
    return "[object RegExp]" === xa.call(b);
  }
  function Ea(b) {
    return b && b.document && b.location && b.alert && b.setInterval;
  }
  function Uc(b) {
    return !(!b || !(b.nodeName || (b.prop && b.attr && b.find)));
  }
  function Vc(b, a, c) {
    var d = [];
    q(b, function (b, g, f) {
      d.push(a.call(c, b, g, f));
    });
    return d;
  }
  function Pa(b, a) {
    if (b.indexOf) return b.indexOf(a);
    for (var c = 0; c < b.length; c++) if (a === b[c]) return c;
    return -1;
  }
  function Qa(b, a) {
    var c = Pa(b, a);
    0 <= c && b.splice(c, 1);
    return a;
  }
  function Ga(b, a, c, d) {
    if (Ea(b) || (b && b.$evalAsync && b.$watch)) throw Ra("cpws");
    if (a) {
      if (b === a) throw Ra("cpi");
      c = c || [];
      d = d || [];
      if (T(b)) {
        var e = Pa(c, b);
        if (-1 !== e) return d[e];
        c.push(b);
        d.push(a);
      }
      if (L(b))
        for (var g = (a.length = 0); g < b.length; g++)
          (e = Ga(b[g], null, c, d)),
            T(b[g]) && (c.push(b[g]), d.push(e)),
            a.push(e);
      else {
        var f = a.$$hashKey;
        q(a, function (b, c) {
          delete a[c];
        });
        for (g in b)
          (e = Ga(b[g], null, c, d)),
            T(b[g]) && (c.push(b[g]), d.push(e)),
            (a[g] = e);
        Xb(a, f);
      }
    } else
      (a = b) &&
        (L(b)
          ? (a = Ga(b, [], c, d))
          : Oa(b)
          ? (a = new Date(b.getTime()))
          : fb(b)
          ? (a = RegExp(b.source))
          : T(b) && (a = Ga(b, {}, c, d)));
    return a;
  }
  function ka(b, a) {
    if (L(b)) {
      a = a || [];
      for (var c = 0; c < b.length; c++) a[c] = b[c];
    } else if (T(b))
      for (c in ((a = a || {}), b))
        !gb.call(b, c) ||
          ("$" === c.charAt(0) && "$" === c.charAt(1)) ||
          (a[c] = b[c]);
    return a || b;
  }
  function ya(b, a) {
    if (b === a) return !0;
    if (null === b || null === a) return !1;
    if (b !== b && a !== a) return !0;
    var c = typeof b,
      d;
    if (c == typeof a && "object" == c)
      if (L(b)) {
        if (!L(a)) return !1;
        if ((c = b.length) == a.length) {
          for (d = 0; d < c; d++) if (!ya(b[d], a[d])) return !1;
          return !0;
        }
      } else {
        if (Oa(b)) return Oa(a) && b.getTime() == a.getTime();
        if (fb(b) && fb(a)) return b.toString() == a.toString();
        if (
          (b && b.$evalAsync && b.$watch) ||
          (a && a.$evalAsync && a.$watch) ||
          Ea(b) ||
          Ea(a) ||
          L(a)
        )
          return !1;
        c = {};
        for (d in b)
          if ("$" !== d.charAt(0) && !O(b[d])) {
            if (!ya(b[d], a[d])) return !1;
            c[d] = !0;
          }
        for (d in a)
          if (
            !c.hasOwnProperty(d) &&
            "$" !== d.charAt(0) &&
            a[d] !== s &&
            !O(a[d])
          )
            return !1;
        return !0;
      }
    return !1;
  }
  function Zb() {
    return (
      (U.securityPolicy && U.securityPolicy.isActive) ||
      (U.querySelector &&
        !(!U.querySelector("[ng-csp]") && !U.querySelector("[data-ng-csp]")))
    );
  }
  function zb(b, a) {
    var c = 2 < arguments.length ? za.call(arguments, 2) : [];
    return !O(a) || a instanceof RegExp
      ? a
      : c.length
      ? function () {
          return arguments.length
            ? a.apply(b, c.concat(za.call(arguments, 0)))
            : a.apply(b, c);
        }
      : function () {
          return arguments.length ? a.apply(b, arguments) : a.call(b);
        };
  }
  function Wc(b, a) {
    var c = a;
    "string" === typeof b && "$" === b.charAt(0)
      ? (c = s)
      : Ea(a)
      ? (c = "$WINDOW")
      : a && U === a
      ? (c = "$DOCUMENT")
      : a && a.$evalAsync && a.$watch && (c = "$SCOPE");
    return c;
  }
  function sa(b, a) {
    return "undefined" === typeof b
      ? s
      : JSON.stringify(b, Wc, a ? "  " : null);
  }
  function $b(b) {
    return y(b) ? JSON.parse(b) : b;
  }
  function Sa(b) {
    "function" === typeof b
      ? (b = !0)
      : b && 0 !== b.length
      ? ((b = I("" + b)),
        (b = !(
          "f" == b ||
          "0" == b ||
          "false" == b ||
          "no" == b ||
          "n" == b ||
          "[]" == b
        )))
      : (b = !1);
    return b;
  }
  function ga(b) {
    b = x(b).clone();
    try {
      b.empty();
    } catch (a) {}
    var c = x("<div>").append(b).html();
    try {
      return 3 === b[0].nodeType
        ? I(c)
        : c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function (a, b) {
            return "<" + I(b);
          });
    } catch (d) {
      return I(c);
    }
  }
  function ac(b) {
    try {
      return decodeURIComponent(b);
    } catch (a) {}
  }
  function bc(b) {
    var a = {},
      c,
      d;
    q((b || "").split("&"), function (b) {
      b &&
        ((c = b.split("=")),
        (d = ac(c[0])),
        B(d) &&
          ((b = B(c[1]) ? ac(c[1]) : !0),
          gb.call(a, d)
            ? L(a[d])
              ? a[d].push(b)
              : (a[d] = [a[d], b])
            : (a[d] = b)));
    });
    return a;
  }
  function Ab(b) {
    var a = [];
    q(b, function (b, d) {
      L(b)
        ? q(b, function (b) {
            a.push(Aa(d, !0) + (!0 === b ? "" : "=" + Aa(b, !0)));
          })
        : a.push(Aa(d, !0) + (!0 === b ? "" : "=" + Aa(b, !0)));
    });
    return a.length ? a.join("&") : "";
  }
  function hb(b) {
    return Aa(b, !0)
      .replace(/%26/gi, "&")
      .replace(/%3D/gi, "=")
      .replace(/%2B/gi, "+");
  }
  function Aa(b, a) {
    return encodeURIComponent(b)
      .replace(/%40/gi, "@")
      .replace(/%3A/gi, ":")
      .replace(/%24/g, "$")
      .replace(/%2C/gi, ",")
      .replace(/%20/g, a ? "%20" : "+");
  }
  function Xc(b, a) {
    function c(a) {
      a && d.push(a);
    }
    var d = [b],
      e,
      g,
      f = ["ng:app", "ng-app", "x-ng-app", "data-ng-app"],
      k = /\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;
    q(f, function (a) {
      f[a] = !0;
      c(U.getElementById(a));
      a = a.replace(":", "\\:");
      b.querySelectorAll &&
        (q(b.querySelectorAll("." + a), c),
        q(b.querySelectorAll("." + a + "\\:"), c),
        q(b.querySelectorAll("[" + a + "]"), c));
    });
    q(d, function (a) {
      if (!e) {
        var b = k.exec(" " + a.className + " ");
        b
          ? ((e = a), (g = (b[2] || "").replace(/\s+/g, ",")))
          : q(a.attributes, function (b) {
              !e && f[b.name] && ((e = a), (g = b.value));
            });
      }
    });
    e && a(e, g ? [g] : []);
  }
  function cc(b, a) {
    var c = function () {
        b = x(b);
        if (b.injector()) {
          var c = b[0] === U ? "document" : ga(b);
          throw Ra("btstrpd", c);
        }
        a = a || [];
        a.unshift([
          "$provide",
          function (a) {
            a.value("$rootElement", b);
          },
        ]);
        a.unshift("ng");
        c = dc(a);
        c.invoke([
          "$rootScope",
          "$rootElement",
          "$compile",
          "$injector",
          "$animate",
          function (a, b, c, d, e) {
            a.$apply(function () {
              b.data("$injector", d);
              c(b)(a);
            });
          },
        ]);
        return c;
      },
      d = /^NG_DEFER_BOOTSTRAP!/;
    if (S && !d.test(S.name)) return c();
    S.name = S.name.replace(d, "");
    Ta.resumeBootstrap = function (b) {
      q(b, function (b) {
        a.push(b);
      });
      c();
    };
  }
  function ib(b, a) {
    a = a || "_";
    return b.replace(Yc, function (b, d) {
      return (d ? a : "") + b.toLowerCase();
    });
  }
  function Bb(b, a, c) {
    if (!b) throw Ra("areq", a || "?", c || "required");
    return b;
  }
  function Ua(b, a, c) {
    c && L(b) && (b = b[b.length - 1]);
    Bb(
      O(b),
      a,
      "not a function, got " +
        (b && "object" === typeof b ? b.constructor.name || "Object" : typeof b)
    );
    return b;
  }
  function Ba(b, a) {
    if ("hasOwnProperty" === b) throw Ra("badname", a);
  }
  function ec(b, a, c) {
    if (!a) return b;
    a = a.split(".");
    for (var d, e = b, g = a.length, f = 0; f < g; f++)
      (d = a[f]), b && (b = (e = b)[d]);
    return !c && O(b) ? zb(e, b) : b;
  }
  function Cb(b) {
    var a = b[0];
    b = b[b.length - 1];
    if (a === b) return x(a);
    var c = [a];
    do {
      a = a.nextSibling;
      if (!a) break;
      c.push(a);
    } while (a !== b);
    return x(c);
  }
  function Zc(b) {
    var a = v("$injector"),
      c = v("ng");
    b = b.angular || (b.angular = {});
    b.$$minErr = b.$$minErr || v;
    return (
      b.module ||
      (b.module = (function () {
        var b = {};
        return function (e, g, f) {
          if ("hasOwnProperty" === e) throw c("badname", "module");
          g && b.hasOwnProperty(e) && (b[e] = null);
          return (
            b[e] ||
            (b[e] = (function () {
              function b(a, d, e) {
                return function () {
                  c[e || "push"]([a, d, arguments]);
                  return p;
                };
              }
              if (!g) throw a("nomod", e);
              var c = [],
                d = [],
                l = b("$injector", "invoke"),
                p = {
                  _invokeQueue: c,
                  _runBlocks: d,
                  requires: g,
                  name: e,
                  provider: b("$provide", "provider"),
                  factory: b("$provide", "factory"),
                  service: b("$provide", "service"),
                  value: b("$provide", "value"),
                  constant: b("$provide", "constant", "unshift"),
                  animation: b("$animateProvider", "register"),
                  filter: b("$filterProvider", "register"),
                  controller: b("$controllerProvider", "register"),
                  directive: b("$compileProvider", "directive"),
                  config: l,
                  run: function (a) {
                    d.push(a);
                    return this;
                  },
                };
              f && l(f);
              return p;
            })())
          );
        };
      })())
    );
  }
  function $c(b) {
    E(b, {
      bootstrap: cc,
      copy: Ga,
      extend: E,
      equals: ya,
      element: x,
      forEach: q,
      injector: dc,
      noop: A,
      bind: zb,
      toJson: sa,
      fromJson: $b,
      identity: Fa,
      isUndefined: F,
      isDefined: B,
      isString: y,
      isFunction: O,
      isObject: T,
      isNumber: yb,
      isElement: Uc,
      isArray: L,
      version: ad,
      isDate: Oa,
      lowercase: I,
      uppercase: Ha,
      callbacks: { counter: 0 },
      $$minErr: v,
      $$csp: Zb,
    });
    Va = Zc(S);
    try {
      Va("ngLocale");
    } catch (a) {
      Va("ngLocale", []).provider("$locale", bd);
    }
    Va(
      "ng",
      ["ngLocale"],
      [
        "$provide",
        function (a) {
          a.provider({ $$sanitizeUri: cd });
          a.provider("$compile", fc)
            .directive({
              a: dd,
              input: gc,
              textarea: gc,
              form: ed,
              script: fd,
              select: gd,
              style: hd,
              option: id,
              ngBind: jd,
              ngBindHtml: kd,
              ngBindTemplate: ld,
              ngClass: md,
              ngClassEven: nd,
              ngClassOdd: od,
              ngCloak: pd,
              ngController: qd,
              ngForm: rd,
              ngHide: sd,
              ngIf: td,
              ngInclude: ud,
              ngInit: vd,
              ngNonBindable: wd,
              ngPluralize: xd,
              ngRepeat: yd,
              ngShow: zd,
              ngStyle: Ad,
              ngSwitch: Bd,
              ngSwitchWhen: Cd,
              ngSwitchDefault: Dd,
              ngOptions: Ed,
              ngTransclude: Fd,
              ngModel: Gd,
              ngList: Hd,
              ngChange: Id,
              required: hc,
              ngRequired: hc,
              ngValue: Jd,
            })
            .directive({ ngInclude: Kd })
            .directive(Db)
            .directive(ic);
          a.provider({
            $anchorScroll: Ld,
            $animate: Md,
            $browser: Nd,
            $cacheFactory: Od,
            $controller: Pd,
            $document: Qd,
            $exceptionHandler: Rd,
            $filter: jc,
            $interpolate: Sd,
            $interval: Td,
            $http: Ud,
            $httpBackend: Vd,
            $location: Wd,
            $log: Xd,
            $parse: Yd,
            $rootScope: Zd,
            $q: $d,
            $sce: ae,
            $sceDelegate: be,
            $sniffer: ce,
            $templateCache: de,
            $timeout: ee,
            $window: fe,
            $$rAF: ge,
            $$asyncCallback: he,
          });
        },
      ]
    );
  }
  function Wa(b) {
    return b
      .replace(ie, function (a, b, d, e) {
        return e ? d.toUpperCase() : d;
      })
      .replace(je, "Moz$1");
  }
  function Eb(b, a, c, d) {
    function e(b) {
      var e = c && b ? [this.filter(b)] : [this],
        m = a,
        h,
        l,
        p,
        n,
        r,
        t;
      if (!d || null != b)
        for (; e.length; )
          for (h = e.shift(), l = 0, p = h.length; l < p; l++)
            for (
              n = x(h[l]),
                m ? n.triggerHandler("$destroy") : (m = !m),
                r = 0,
                n = (t = n.children()).length;
              r < n;
              r++
            )
              e.push(Ca(t[r]));
      return g.apply(this, arguments);
    }
    var g = Ca.fn[b],
      g = g.$original || g;
    e.$original = g;
    Ca.fn[b] = e;
  }
  function R(b) {
    if (b instanceof R) return b;
    y(b) && (b = aa(b));
    if (!(this instanceof R)) {
      if (y(b) && "<" != b.charAt(0)) throw Fb("nosel");
      return new R(b);
    }
    if (y(b)) {
      var a = b;
      b = U;
      var c;
      if ((c = ke.exec(a))) b = [b.createElement(c[1])];
      else {
        var d = b,
          e;
        b = d.createDocumentFragment();
        c = [];
        if (Gb.test(a)) {
          d = b.appendChild(d.createElement("div"));
          e = (le.exec(a) || ["", ""])[1].toLowerCase();
          e = ba[e] || ba._default;
          d.innerHTML =
            "<div>&#160;</div>" + e[1] + a.replace(me, "<$1></$2>") + e[2];
          d.removeChild(d.firstChild);
          for (a = e[0]; a--; ) d = d.lastChild;
          a = 0;
          for (e = d.childNodes.length; a < e; ++a) c.push(d.childNodes[a]);
          d = b.firstChild;
          d.textContent = "";
        } else c.push(d.createTextNode(a));
        b.textContent = "";
        b.innerHTML = "";
        b = c;
      }
      Hb(this, b);
      x(U.createDocumentFragment()).append(this);
    } else Hb(this, b);
  }
  function Ib(b) {
    return b.cloneNode(!0);
  }
  function Ia(b) {
    kc(b);
    var a = 0;
    for (b = b.childNodes || []; a < b.length; a++) Ia(b[a]);
  }
  function lc(b, a, c, d) {
    if (B(d)) throw Fb("offargs");
    var e = la(b, "events");
    la(b, "handle") &&
      (F(a)
        ? q(e, function (a, c) {
            Xa(b, c, a);
            delete e[c];
          })
        : q(a.split(" "), function (a) {
            F(c) ? (Xa(b, a, e[a]), delete e[a]) : Qa(e[a] || [], c);
          }));
  }
  function kc(b, a) {
    var c = b.ng339,
      d = Ya[c];
    d &&
      (a
        ? delete Ya[c].data[a]
        : (d.handle && (d.events.$destroy && d.handle({}, "$destroy"), lc(b)),
          delete Ya[c],
          (b.ng339 = s)));
  }
  function la(b, a, c) {
    var d = b.ng339,
      d = Ya[d || -1];
    if (B(c)) d || ((b.ng339 = d = ++ne), (d = Ya[d] = {})), (d[a] = c);
    else return d && d[a];
  }
  function mc(b, a, c) {
    var d = la(b, "data"),
      e = B(c),
      g = !e && B(a),
      f = g && !T(a);
    d || f || la(b, "data", (d = {}));
    if (e) d[a] = c;
    else if (g) {
      if (f) return d && d[a];
      E(d, a);
    } else return d;
  }
  function Jb(b, a) {
    return b.getAttribute
      ? -1 <
          (" " + (b.getAttribute("class") || "") + " ")
            .replace(/[\n\t]/g, " ")
            .indexOf(" " + a + " ")
      : !1;
  }
  function jb(b, a) {
    a &&
      b.setAttribute &&
      q(a.split(" "), function (a) {
        b.setAttribute(
          "class",
          aa(
            (" " + (b.getAttribute("class") || "") + " ")
              .replace(/[\n\t]/g, " ")
              .replace(" " + aa(a) + " ", " ")
          )
        );
      });
  }
  function kb(b, a) {
    if (a && b.setAttribute) {
      var c = (" " + (b.getAttribute("class") || "") + " ").replace(
        /[\n\t]/g,
        " "
      );
      q(a.split(" "), function (a) {
        a = aa(a);
        -1 === c.indexOf(" " + a + " ") && (c += a + " ");
      });
      b.setAttribute("class", aa(c));
    }
  }
  function Hb(b, a) {
    if (a) {
      a = a.nodeName || !B(a.length) || Ea(a) ? [a] : a;
      for (var c = 0; c < a.length; c++) b.push(a[c]);
    }
  }
  function nc(b, a) {
    return lb(b, "$" + (a || "ngController") + "Controller");
  }
  function lb(b, a, c) {
    b = x(b);
    9 == b[0].nodeType && (b = b.find("html"));
    for (a = L(a) ? a : [a]; b.length; ) {
      for (var d = b[0], e = 0, g = a.length; e < g; e++)
        if ((c = b.data(a[e])) !== s) return c;
      b = x(d.parentNode || (11 === d.nodeType && d.host));
    }
  }
  function oc(b) {
    for (var a = 0, c = b.childNodes; a < c.length; a++) Ia(c[a]);
    for (; b.firstChild; ) b.removeChild(b.firstChild);
  }
  function pc(b, a) {
    var c = mb[a.toLowerCase()];
    return c && qc[b.nodeName] && c;
  }
  function oe(b, a) {
    var c = function (c, e) {
      c.preventDefault ||
        (c.preventDefault = function () {
          c.returnValue = !1;
        });
      c.stopPropagation ||
        (c.stopPropagation = function () {
          c.cancelBubble = !0;
        });
      c.target || (c.target = c.srcElement || U);
      if (F(c.defaultPrevented)) {
        var g = c.preventDefault;
        c.preventDefault = function () {
          c.defaultPrevented = !0;
          g.call(c);
        };
        c.defaultPrevented = !1;
      }
      c.isDefaultPrevented = function () {
        return c.defaultPrevented || !1 === c.returnValue;
      };
      var f = ka(a[e || c.type] || []);
      q(f, function (a) {
        a.call(b, c);
      });
      8 >= P
        ? ((c.preventDefault = null),
          (c.stopPropagation = null),
          (c.isDefaultPrevented = null))
        : (delete c.preventDefault,
          delete c.stopPropagation,
          delete c.isDefaultPrevented);
    };
    c.elem = b;
    return c;
  }
  function Ja(b, a) {
    var c = typeof b,
      d;
    "function" == c || ("object" == c && null !== b)
      ? "function" == typeof (d = b.$$hashKey)
        ? (d = b.$$hashKey())
        : d === s && (d = b.$$hashKey = (a || eb)())
      : (d = b);
    return c + ":" + d;
  }
  function Za(b, a) {
    if (a) {
      var c = 0;
      this.nextUid = function () {
        return ++c;
      };
    }
    q(b, this.put, this);
  }
  function rc(b) {
    var a, c;
    "function" === typeof b
      ? (a = b.$inject) ||
        ((a = []),
        b.length &&
          ((c = b.toString().replace(pe, "")),
          (c = c.match(qe)),
          q(c[1].split(re), function (b) {
            b.replace(se, function (b, c, d) {
              a.push(d);
            });
          })),
        (b.$inject = a))
      : L(b)
      ? ((c = b.length - 1), Ua(b[c], "fn"), (a = b.slice(0, c)))
      : Ua(b, "fn", !0);
    return a;
  }
  function dc(b) {
    function a(a) {
      return function (b, c) {
        if (T(b)) q(b, Wb(a));
        else return a(b, c);
      };
    }
    function c(a, b) {
      Ba(a, "service");
      if (O(b) || L(b)) b = p.instantiate(b);
      if (!b.$get) throw $a("pget", a);
      return (l[a + k] = b);
    }
    function d(a, b) {
      return c(a, { $get: b });
    }
    function e(a) {
      var b = [],
        c,
        d,
        g,
        k;
      q(a, function (a) {
        if (!h.get(a)) {
          h.put(a, !0);
          try {
            if (y(a))
              for (
                c = Va(a),
                  b = b.concat(e(c.requires)).concat(c._runBlocks),
                  d = c._invokeQueue,
                  g = 0,
                  k = d.length;
                g < k;
                g++
              ) {
                var f = d[g],
                  m = p.get(f[0]);
                m[f[1]].apply(m, f[2]);
              }
            else
              O(a)
                ? b.push(p.invoke(a))
                : L(a)
                ? b.push(p.invoke(a))
                : Ua(a, "module");
          } catch (l) {
            throw (
              (L(a) && (a = a[a.length - 1]),
              l.message &&
                l.stack &&
                -1 == l.stack.indexOf(l.message) &&
                (l = l.message + "\n" + l.stack),
              $a("modulerr", a, l.stack || l.message || l))
            );
          }
        }
      });
      return b;
    }
    function g(a, b) {
      function c(d) {
        if (a.hasOwnProperty(d)) {
          if (a[d] === f) throw $a("cdep", d + " <- " + m.join(" <- "));
          return a[d];
        }
        try {
          return m.unshift(d), (a[d] = f), (a[d] = b(d));
        } catch (e) {
          throw (a[d] === f && delete a[d], e);
        } finally {
          m.shift();
        }
      }
      function d(a, b, e) {
        var g = [],
          k = rc(a),
          f,
          m,
          h;
        m = 0;
        for (f = k.length; m < f; m++) {
          h = k[m];
          if ("string" !== typeof h) throw $a("itkn", h);
          g.push(e && e.hasOwnProperty(h) ? e[h] : c(h));
        }
        L(a) && (a = a[f]);
        return a.apply(b, g);
      }
      return {
        invoke: d,
        instantiate: function (a, b) {
          var c = function () {},
            e;
          c.prototype = (L(a) ? a[a.length - 1] : a).prototype;
          c = new c();
          e = d(a, c, b);
          return T(e) || O(e) ? e : c;
        },
        get: c,
        annotate: rc,
        has: function (b) {
          return l.hasOwnProperty(b + k) || a.hasOwnProperty(b);
        },
      };
    }
    var f = {},
      k = "Provider",
      m = [],
      h = new Za([], !0),
      l = {
        $provide: {
          provider: a(c),
          factory: a(d),
          service: a(function (a, b) {
            return d(a, [
              "$injector",
              function (a) {
                return a.instantiate(b);
              },
            ]);
          }),
          value: a(function (a, b) {
            return d(a, $(b));
          }),
          constant: a(function (a, b) {
            Ba(a, "constant");
            l[a] = b;
            n[a] = b;
          }),
          decorator: function (a, b) {
            var c = p.get(a + k),
              d = c.$get;
            c.$get = function () {
              var a = r.invoke(d, c);
              return r.invoke(b, null, { $delegate: a });
            };
          },
        },
      },
      p = (l.$injector = g(l, function () {
        throw $a("unpr", m.join(" <- "));
      })),
      n = {},
      r = (n.$injector = g(n, function (a) {
        a = p.get(a + k);
        return r.invoke(a.$get, a);
      }));
    q(e(b), function (a) {
      r.invoke(a || A);
    });
    return r;
  }
  function Ld() {
    var b = !0;
    this.disableAutoScrolling = function () {
      b = !1;
    };
    this.$get = [
      "$window",
      "$location",
      "$rootScope",
      function (a, c, d) {
        function e(a) {
          var b = null;
          q(a, function (a) {
            b || "a" !== I(a.nodeName) || (b = a);
          });
          return b;
        }
        function g() {
          var b = c.hash(),
            d;
          b
            ? (d = f.getElementById(b))
              ? d.scrollIntoView()
              : (d = e(f.getElementsByName(b)))
              ? d.scrollIntoView()
              : "top" === b && a.scrollTo(0, 0)
            : a.scrollTo(0, 0);
        }
        var f = a.document;
        b &&
          d.$watch(
            function () {
              return c.hash();
            },
            function () {
              d.$evalAsync(g);
            }
          );
        return g;
      },
    ];
  }
  function he() {
    this.$get = [
      "$$rAF",
      "$timeout",
      function (b, a) {
        return b.supported
          ? function (a) {
              return b(a);
            }
          : function (b) {
              return a(b, 0, !1);
            };
      },
    ];
  }
  function te(b, a, c, d) {
    function e(a) {
      try {
        a.apply(null, za.call(arguments, 1));
      } finally {
        if ((t--, 0 === t))
          for (; J.length; )
            try {
              J.pop()();
            } catch (b) {
              c.error(b);
            }
      }
    }
    function g(a, b) {
      (function ca() {
        q(w, function (a) {
          a();
        });
        u = b(ca, a);
      })();
    }
    function f() {
      z = null;
      K != k.url() &&
        ((K = k.url()),
        q(da, function (a) {
          a(k.url());
        }));
    }
    var k = this,
      m = a[0],
      h = b.location,
      l = b.history,
      p = b.setTimeout,
      n = b.clearTimeout,
      r = {};
    k.isMock = !1;
    var t = 0,
      J = [];
    k.$$completeOutstandingRequest = e;
    k.$$incOutstandingRequestCount = function () {
      t++;
    };
    k.notifyWhenNoOutstandingRequests = function (a) {
      q(w, function (a) {
        a();
      });
      0 === t ? a() : J.push(a);
    };
    var w = [],
      u;
    k.addPollFn = function (a) {
      F(u) && g(100, p);
      w.push(a);
      return a;
    };
    var K = h.href,
      X = a.find("base"),
      z = null;
    k.url = function (a, c) {
      h !== b.location && (h = b.location);
      l !== b.history && (l = b.history);
      if (a) {
        if (K != a)
          return (
            (K = a),
            d.history
              ? c
                ? l.replaceState(null, "", a)
                : (l.pushState(null, "", a), X.attr("href", X.attr("href")))
              : ((z = a), c ? h.replace(a) : (h.href = a)),
            k
          );
      } else return z || h.href.replace(/%27/g, "'");
    };
    var da = [],
      N = !1;
    k.onUrlChange = function (a) {
      if (!N) {
        if (d.history) x(b).on("popstate", f);
        if (d.hashchange) x(b).on("hashchange", f);
        else k.addPollFn(f);
        N = !0;
      }
      da.push(a);
      return a;
    };
    k.baseHref = function () {
      var a = X.attr("href");
      return a ? a.replace(/^(https?\:)?\/\/[^\/]*/, "") : "";
    };
    var M = {},
      ea = "",
      C = k.baseHref();
    k.cookies = function (a, b) {
      var d, e, g, k;
      if (a)
        b === s
          ? (m.cookie =
              escape(a) +
              "=;path=" +
              C +
              ";expires=Thu, 01 Jan 1970 00:00:00 GMT")
          : y(b) &&
            ((d =
              (m.cookie = escape(a) + "=" + escape(b) + ";path=" + C).length +
              1),
            4096 < d &&
              c.warn(
                "Cookie '" +
                  a +
                  "' possibly not set or overflowed because it was too large (" +
                  d +
                  " > 4096 bytes)!"
              ));
      else {
        if (m.cookie !== ea)
          for (
            ea = m.cookie, d = ea.split("; "), M = {}, g = 0;
            g < d.length;
            g++
          )
            (e = d[g]),
              (k = e.indexOf("=")),
              0 < k &&
                ((a = unescape(e.substring(0, k))),
                M[a] === s && (M[a] = unescape(e.substring(k + 1))));
        return M;
      }
    };
    k.defer = function (a, b) {
      var c;
      t++;
      c = p(function () {
        delete r[c];
        e(a);
      }, b || 0);
      r[c] = !0;
      return c;
    };
    k.defer.cancel = function (a) {
      return r[a] ? (delete r[a], n(a), e(A), !0) : !1;
    };
  }
  function Nd() {
    this.$get = [
      "$window",
      "$log",
      "$sniffer",
      "$document",
      function (b, a, c, d) {
        return new te(b, d, a, c);
      },
    ];
  }
  function Od() {
    this.$get = function () {
      function b(b, d) {
        function e(a) {
          a != p &&
            (n ? n == a && (n = a.n) : (n = a),
            g(a.n, a.p),
            g(a, p),
            (p = a),
            (p.n = null));
        }
        function g(a, b) {
          a != b && (a && (a.p = b), b && (b.n = a));
        }
        if (b in a) throw v("$cacheFactory")("iid", b);
        var f = 0,
          k = E({}, d, { id: b }),
          m = {},
          h = (d && d.capacity) || Number.MAX_VALUE,
          l = {},
          p = null,
          n = null;
        return (a[b] = {
          put: function (a, b) {
            if (h < Number.MAX_VALUE) {
              var c = l[a] || (l[a] = { key: a });
              e(c);
            }
            if (!F(b))
              return a in m || f++, (m[a] = b), f > h && this.remove(n.key), b;
          },
          get: function (a) {
            if (h < Number.MAX_VALUE) {
              var b = l[a];
              if (!b) return;
              e(b);
            }
            return m[a];
          },
          remove: function (a) {
            if (h < Number.MAX_VALUE) {
              var b = l[a];
              if (!b) return;
              b == p && (p = b.p);
              b == n && (n = b.n);
              g(b.n, b.p);
              delete l[a];
            }
            delete m[a];
            f--;
          },
          removeAll: function () {
            m = {};
            f = 0;
            l = {};
            p = n = null;
          },
          destroy: function () {
            l = k = m = null;
            delete a[b];
          },
          info: function () {
            return E({}, k, { size: f });
          },
        });
      }
      var a = {};
      b.info = function () {
        var b = {};
        q(a, function (a, e) {
          b[e] = a.info();
        });
        return b;
      };
      b.get = function (b) {
        return a[b];
      };
      return b;
    };
  }
  function de() {
    this.$get = [
      "$cacheFactory",
      function (b) {
        return b("templates");
      },
    ];
  }
  function fc(b, a) {
    var c = {},
      d = "Directive",
      e = /^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,
      g = /(([\d\w_\-]+)(?:\:([^;]+))?;?)/,
      f = /^(on[a-z]+|formaction)$/;
    this.directive = function m(a, e) {
      Ba(a, "directive");
      y(a)
        ? (Bb(e, "directiveFactory"),
          c.hasOwnProperty(a) ||
            ((c[a] = []),
            b.factory(a + d, [
              "$injector",
              "$exceptionHandler",
              function (b, d) {
                var e = [];
                q(c[a], function (c, g) {
                  try {
                    var f = b.invoke(c);
                    O(f)
                      ? (f = { compile: $(f) })
                      : !f.compile && f.link && (f.compile = $(f.link));
                    f.priority = f.priority || 0;
                    f.index = g;
                    f.name = f.name || a;
                    f.require = f.require || (f.controller && f.name);
                    f.restrict = f.restrict || "A";
                    e.push(f);
                  } catch (m) {
                    d(m);
                  }
                });
                return e;
              },
            ])),
          c[a].push(e))
        : q(a, Wb(m));
      return this;
    };
    this.aHrefSanitizationWhitelist = function (b) {
      return B(b)
        ? (a.aHrefSanitizationWhitelist(b), this)
        : a.aHrefSanitizationWhitelist();
    };
    this.imgSrcSanitizationWhitelist = function (b) {
      return B(b)
        ? (a.imgSrcSanitizationWhitelist(b), this)
        : a.imgSrcSanitizationWhitelist();
    };
    this.$get = [
      "$injector",
      "$interpolate",
      "$exceptionHandler",
      "$http",
      "$templateCache",
      "$parse",
      "$controller",
      "$rootScope",
      "$document",
      "$sce",
      "$animate",
      "$$sanitizeUri",
      function (a, b, l, p, n, r, t, J, w, u, K, X) {
        function z(a, b, c, d, e) {
          a instanceof x || (a = x(a));
          q(a, function (b, c) {
            3 == b.nodeType &&
              b.nodeValue.match(/\S+/) &&
              (a[c] = x(b).wrap("<span></span>").parent()[0]);
          });
          var g = N(a, b, a, c, d, e);
          da(a, "ng-scope");
          return function (b, c, d, e) {
            Bb(b, "scope");
            var f = c ? Ka.clone.call(a) : a;
            q(d, function (a, b) {
              f.data("$" + b + "Controller", a);
            });
            d = 0;
            for (var m = f.length; d < m; d++) {
              var h = f[d].nodeType;
              (1 !== h && 9 !== h) || f.eq(d).data("$scope", b);
            }
            c && c(f, b);
            g && g(b, f, f, e);
            return f;
          };
        }
        function da(a, b) {
          try {
            a.addClass(b);
          } catch (c) {}
        }
        function N(a, b, c, d, e, g) {
          function f(a, c, d, e) {
            var g, h, l, r, p, n, t;
            g = c.length;
            var w = Array(g);
            for (p = 0; p < g; p++) w[p] = c[p];
            t = p = 0;
            for (n = m.length; p < n; t++)
              (h = w[t]),
                (c = m[p++]),
                (g = m[p++]),
                (l = x(h)),
                c
                  ? (c.scope ? ((r = a.$new()), l.data("$scope", r)) : (r = a),
                    (l = c.transcludeOnThisElement
                      ? M(a, c.transclude, e)
                      : !c.templateOnThisElement && e
                      ? e
                      : !e && b
                      ? M(a, b)
                      : null),
                    c(g, r, h, d, l))
                  : g && g(a, h.childNodes, s, e);
          }
          for (var m = [], h, l, r, p, n = 0; n < a.length; n++)
            (h = new Kb()),
              (l = ea(a[n], [], h, 0 === n ? d : s, e)),
              (g = l.length ? H(l, a[n], h, b, c, null, [], [], g) : null) &&
                g.scope &&
                da(x(a[n]), "ng-scope"),
              (h =
                (g && g.terminal) || !(r = a[n].childNodes) || !r.length
                  ? null
                  : N(
                      r,
                      g
                        ? (g.transcludeOnThisElement ||
                            !g.templateOnThisElement) &&
                            g.transclude
                        : b
                    )),
              m.push(g, h),
              (p = p || g || h),
              (g = null);
          return p ? f : null;
        }
        function M(a, b, c) {
          return function (d, e, g) {
            var f = !1;
            d || ((d = a.$new()), (f = d.$$transcluded = !0));
            e = b(d, e, g, c);
            if (f)
              e.on("$destroy", function () {
                d.$destroy();
              });
            return e;
          };
        }
        function ea(a, b, c, d, f) {
          var h = c.$attr,
            m;
          switch (a.nodeType) {
            case 1:
              ca(b, ma(La(a).toLowerCase()), "E", d, f);
              for (
                var l, r, p, n = a.attributes, t = 0, w = n && n.length;
                t < w;
                t++
              ) {
                var J = !1,
                  K = !1;
                l = n[t];
                if (!P || 8 <= P || l.specified) {
                  m = l.name;
                  r = aa(l.value);
                  l = ma(m);
                  if ((p = V.test(l))) m = ib(l.substr(6), "-");
                  var u = l.replace(/(Start|End)$/, "");
                  l === u + "Start" &&
                    ((J = m),
                    (K = m.substr(0, m.length - 5) + "end"),
                    (m = m.substr(0, m.length - 6)));
                  l = ma(m.toLowerCase());
                  h[l] = m;
                  if (p || !c.hasOwnProperty(l))
                    (c[l] = r), pc(a, l) && (c[l] = !0);
                  R(a, b, r, l);
                  ca(b, l, "A", d, f, J, K);
                }
              }
              a = a.className;
              if (y(a) && "" !== a)
                for (; (m = g.exec(a)); )
                  (l = ma(m[2])),
                    ca(b, l, "C", d, f) && (c[l] = aa(m[3])),
                    (a = a.substr(m.index + m[0].length));
              break;
            case 3:
              v(b, a.nodeValue);
              break;
            case 8:
              try {
                if ((m = e.exec(a.nodeValue)))
                  (l = ma(m[1])), ca(b, l, "M", d, f) && (c[l] = aa(m[2]));
              } catch (z) {}
          }
          b.sort(F);
          return b;
        }
        function C(a, b, c) {
          var d = [],
            e = 0;
          if (b && a.hasAttribute && a.hasAttribute(b)) {
            do {
              if (!a) throw ha("uterdir", b, c);
              1 == a.nodeType &&
                (a.hasAttribute(b) && e++, a.hasAttribute(c) && e--);
              d.push(a);
              a = a.nextSibling;
            } while (0 < e);
          } else d.push(a);
          return x(d);
        }
        function D(a, b, c) {
          return function (d, e, g, f, m) {
            e = C(e[0], b, c);
            return a(d, e, g, f, m);
          };
        }
        function H(a, c, d, e, g, f, m, p, n) {
          function w(a, b, c, d) {
            if (a) {
              c && (a = D(a, c, d));
              a.require = G.require;
              a.directiveName = na;
              if (M === G || G.$$isolateScope) a = tc(a, { isolateScope: !0 });
              m.push(a);
            }
            if (b) {
              c && (b = D(b, c, d));
              b.require = G.require;
              b.directiveName = na;
              if (M === G || G.$$isolateScope) b = tc(b, { isolateScope: !0 });
              p.push(b);
            }
          }
          function J(a, b, c, d) {
            var e,
              g = "data",
              f = !1;
            if (y(b)) {
              for (; "^" == (e = b.charAt(0)) || "?" == e; )
                (b = b.substr(1)),
                  "^" == e && (g = "inheritedData"),
                  (f = f || "?" == e);
              e = null;
              d && "data" === g && (e = d[b]);
              e = e || c[g]("$" + b + "Controller");
              if (!e && !f) throw ha("ctreq", b, a);
            } else
              L(b) &&
                ((e = []),
                q(b, function (b) {
                  e.push(J(a, b, c, d));
                }));
            return e;
          }
          function K(a, e, g, f, n) {
            function w(a, b) {
              var c;
              2 > arguments.length && ((b = a), (a = s));
              Da && (c = ea);
              return n(a, b, c);
            }
            var u,
              Q,
              z,
              D,
              X,
              C,
              ea = {},
              nb;
            u = c === g ? d : ka(d, new Kb(x(g), d.$attr));
            Q = u.$$element;
            if (M) {
              var ca = /^\s*([@=&])(\??)\s*(\w*)\s*$/;
              f = x(g);
              C = e.$new(!0);
              !H || (H !== M && H !== M.$$originalDirective)
                ? f.data("$isolateScopeNoTemplate", C)
                : f.data("$isolateScope", C);
              da(f, "ng-isolate-scope");
              q(M.scope, function (a, c) {
                var d = a.match(ca) || [],
                  g = d[3] || c,
                  f = "?" == d[2],
                  d = d[1],
                  m,
                  l,
                  p,
                  n;
                C.$$isolateBindings[c] = d + g;
                switch (d) {
                  case "@":
                    u.$observe(g, function (a) {
                      C[c] = a;
                    });
                    u.$$observers[g].$$scope = e;
                    u[g] && (C[c] = b(u[g])(e));
                    break;
                  case "=":
                    if (f && !u[g]) break;
                    l = r(u[g]);
                    n = l.literal
                      ? ya
                      : function (a, b) {
                          return a === b;
                        };
                    p =
                      l.assign ||
                      function () {
                        m = C[c] = l(e);
                        throw ha("nonassign", u[g], M.name);
                      };
                    m = C[c] = l(e);
                    C.$watch(
                      function () {
                        var a = l(e);
                        n(a, C[c]) || (n(a, m) ? p(e, (a = C[c])) : (C[c] = a));
                        return (m = a);
                      },
                      null,
                      l.literal
                    );
                    break;
                  case "&":
                    l = r(u[g]);
                    C[c] = function (a) {
                      return l(e, a);
                    };
                    break;
                  default:
                    throw ha("iscp", M.name, c, a);
                }
              });
            }
            nb = n && w;
            N &&
              q(N, function (a) {
                var b = {
                    $scope: a === M || a.$$isolateScope ? C : e,
                    $element: Q,
                    $attrs: u,
                    $transclude: nb,
                  },
                  c;
                X = a.controller;
                "@" == X && (X = u[a.name]);
                c = t(X, b);
                ea[a.name] = c;
                Da || Q.data("$" + a.name + "Controller", c);
                a.controllerAs && (b.$scope[a.controllerAs] = c);
              });
            f = 0;
            for (z = m.length; f < z; f++)
              try {
                (D = m[f]),
                  D(
                    D.isolateScope ? C : e,
                    Q,
                    u,
                    D.require && J(D.directiveName, D.require, Q, ea),
                    nb
                  );
              } catch (G) {
                l(G, ga(Q));
              }
            f = e;
            M && (M.template || null === M.templateUrl) && (f = C);
            a && a(f, g.childNodes, s, n);
            for (f = p.length - 1; 0 <= f; f--)
              try {
                (D = p[f]),
                  D(
                    D.isolateScope ? C : e,
                    Q,
                    u,
                    D.require && J(D.directiveName, D.require, Q, ea),
                    nb
                  );
              } catch (B) {
                l(B, ga(Q));
              }
          }
          n = n || {};
          for (
            var u = -Number.MAX_VALUE,
              X,
              N = n.controllerDirectives,
              M = n.newIsolateScopeDirective,
              H = n.templateDirective,
              ca = n.nonTlbTranscludeDirective,
              F = !1,
              E = !1,
              Da = n.hasElementTranscludeDirective,
              v = (d.$$element = x(c)),
              G,
              na,
              W,
              S = e,
              R,
              P = 0,
              oa = a.length;
            P < oa;
            P++
          ) {
            G = a[P];
            var V = G.$$start,
              Y = G.$$end;
            V && (v = C(c, V, Y));
            W = s;
            if (u > G.priority) break;
            if ((W = G.scope))
              (X = X || G),
                G.templateUrl ||
                  (I("new/isolated scope", M, G, v), T(W) && (M = G));
            na = G.name;
            !G.templateUrl &&
              G.controller &&
              ((W = G.controller),
              (N = N || {}),
              I("'" + na + "' controller", N[na], G, v),
              (N[na] = G));
            if ((W = G.transclude))
              (F = !0),
                G.$$tlb || (I("transclusion", ca, G, v), (ca = G)),
                "element" == W
                  ? ((Da = !0),
                    (u = G.priority),
                    (W = C(c, V, Y)),
                    (v = d.$$element =
                      x(U.createComment(" " + na + ": " + d[na] + " "))),
                    (c = v[0]),
                    ob(g, x(za.call(W, 0)), c),
                    (S = z(W, e, u, f && f.name, {
                      nonTlbTranscludeDirective: ca,
                    })))
                  : ((W = x(Ib(c)).contents()), v.empty(), (S = z(W, e)));
            if (G.template)
              if (
                ((E = !0),
                I("template", H, G, v),
                (H = G),
                (W = O(G.template) ? G.template(v, d) : G.template),
                (W = Z(W)),
                G.replace)
              ) {
                f = G;
                W = Gb.test(W) ? x(aa(W)) : [];
                c = W[0];
                if (1 != W.length || 1 !== c.nodeType)
                  throw ha("tplrt", na, "");
                ob(g, v, c);
                oa = { $attr: {} };
                W = ea(c, [], oa);
                var $ = a.splice(P + 1, a.length - (P + 1));
                M && sc(W);
                a = a.concat(W).concat($);
                B(d, oa);
                oa = a.length;
              } else v.html(W);
            if (G.templateUrl)
              (E = !0),
                I("template", H, G, v),
                (H = G),
                G.replace && (f = G),
                (K = A(a.splice(P, a.length - P), v, d, g, F && S, m, p, {
                  controllerDirectives: N,
                  newIsolateScopeDirective: M,
                  templateDirective: H,
                  nonTlbTranscludeDirective: ca,
                })),
                (oa = a.length);
            else if (G.compile)
              try {
                (R = G.compile(v, d, S)),
                  O(R) ? w(null, R, V, Y) : R && w(R.pre, R.post, V, Y);
              } catch (ba) {
                l(ba, ga(v));
              }
            G.terminal && ((K.terminal = !0), (u = Math.max(u, G.priority)));
          }
          K.scope = X && !0 === X.scope;
          K.transcludeOnThisElement = F;
          K.templateOnThisElement = E;
          K.transclude = S;
          n.hasElementTranscludeDirective = Da;
          return K;
        }
        function sc(a) {
          for (var b = 0, c = a.length; b < c; b++)
            a[b] = Yb(a[b], { $$isolateScope: !0 });
        }
        function ca(b, e, g, f, h, r, p) {
          if (e === h) return null;
          h = null;
          if (c.hasOwnProperty(e)) {
            var n;
            e = a.get(e + d);
            for (var t = 0, w = e.length; t < w; t++)
              try {
                (n = e[t]),
                  (f === s || f > n.priority) &&
                    -1 != n.restrict.indexOf(g) &&
                    (r && (n = Yb(n, { $$start: r, $$end: p })),
                    b.push(n),
                    (h = n));
              } catch (J) {
                l(J);
              }
          }
          return h;
        }
        function B(a, b) {
          var c = b.$attr,
            d = a.$attr,
            e = a.$$element;
          q(a, function (d, e) {
            "$" != e.charAt(0) &&
              (b[e] && b[e] !== d && (d += ("style" === e ? ";" : " ") + b[e]),
              a.$set(e, d, !0, c[e]));
          });
          q(b, function (b, g) {
            "class" == g
              ? (da(e, b),
                (a["class"] = (a["class"] ? a["class"] + " " : "") + b))
              : "style" == g
              ? (e.attr("style", e.attr("style") + ";" + b),
                (a.style = (a.style ? a.style + ";" : "") + b))
              : "$" == g.charAt(0) ||
                a.hasOwnProperty(g) ||
                ((a[g] = b), (d[g] = c[g]));
          });
        }
        function A(a, b, c, d, e, g, f, m) {
          var h = [],
            l,
            r,
            t = b[0],
            w = a.shift(),
            J = E({}, w, {
              templateUrl: null,
              transclude: null,
              replace: null,
              $$originalDirective: w,
            }),
            K = O(w.templateUrl) ? w.templateUrl(b, c) : w.templateUrl;
          b.empty();
          p.get(u.getTrustedResourceUrl(K), { cache: n })
            .success(function (p) {
              var n, u;
              p = Z(p);
              if (w.replace) {
                p = Gb.test(p) ? x(aa(p)) : [];
                n = p[0];
                if (1 != p.length || 1 !== n.nodeType)
                  throw ha("tplrt", w.name, K);
                p = { $attr: {} };
                ob(d, b, n);
                var z = ea(n, [], p);
                T(w.scope) && sc(z);
                a = z.concat(a);
                B(c, p);
              } else (n = t), b.html(p);
              a.unshift(J);
              l = H(a, n, c, e, b, w, g, f, m);
              q(d, function (a, c) {
                a == n && (d[c] = b[0]);
              });
              for (r = N(b[0].childNodes, e); h.length; ) {
                p = h.shift();
                u = h.shift();
                var D = h.shift(),
                  X = h.shift(),
                  z = b[0];
                if (u !== t) {
                  var C = u.className;
                  (m.hasElementTranscludeDirective && w.replace) || (z = Ib(n));
                  ob(D, x(u), z);
                  da(x(z), C);
                }
                u = l.transcludeOnThisElement ? M(p, l.transclude, X) : X;
                l(r, p, z, d, u);
              }
              h = null;
            })
            .error(function (a, b, c, d) {
              throw ha("tpload", d.url);
            });
          return function (a, b, c, d, e) {
            a = e;
            h
              ? (h.push(b), h.push(c), h.push(d), h.push(a))
              : (l.transcludeOnThisElement && (a = M(b, l.transclude, e)),
                l(r, b, c, d, a));
          };
        }
        function F(a, b) {
          var c = b.priority - a.priority;
          return 0 !== c
            ? c
            : a.name !== b.name
            ? a.name < b.name
              ? -1
              : 1
            : a.index - b.index;
        }
        function I(a, b, c, d) {
          if (b) throw ha("multidir", b.name, c.name, a, ga(d));
        }
        function v(a, c) {
          var d = b(c, !0);
          d &&
            a.push({
              priority: 0,
              compile: function (a) {
                var b = a.parent().length;
                b && da(a.parent(), "ng-binding");
                return function (a, c) {
                  var e = c.parent(),
                    g = e.data("$binding") || [];
                  g.push(d);
                  e.data("$binding", g);
                  b || da(e, "ng-binding");
                  a.$watch(d, function (a) {
                    c[0].nodeValue = a;
                  });
                };
              },
            });
        }
        function S(a, b) {
          if ("srcdoc" == b) return u.HTML;
          var c = La(a);
          if (
            "xlinkHref" == b ||
            ("FORM" == c && "action" == b) ||
            ("IMG" != c && ("src" == b || "ngSrc" == b))
          )
            return u.RESOURCE_URL;
        }
        function R(a, c, d, e) {
          var g = b(d, !0);
          if (g) {
            if ("multiple" === e && "SELECT" === La(a))
              throw ha("selmulti", ga(a));
            c.push({
              priority: 100,
              compile: function () {
                return {
                  pre: function (c, d, m) {
                    d = m.$$observers || (m.$$observers = {});
                    if (f.test(e)) throw ha("nodomevents");
                    if ((g = b(m[e], !0, S(a, e))))
                      (m[e] = g(c)),
                        ((d[e] || (d[e] = [])).$$inter = !0),
                        (
                          (m.$$observers && m.$$observers[e].$$scope) ||
                          c
                        ).$watch(g, function (a, b) {
                          "class" === e && a != b
                            ? m.$updateClass(a, b)
                            : m.$set(e, a);
                        });
                  },
                };
              },
            });
          }
        }
        function ob(a, b, c) {
          var d = b[0],
            e = b.length,
            g = d.parentNode,
            f,
            m;
          if (a)
            for (f = 0, m = a.length; f < m; f++)
              if (a[f] == d) {
                a[f++] = c;
                m = f + e - 1;
                for (var h = a.length; f < h; f++, m++)
                  m < h ? (a[f] = a[m]) : delete a[f];
                a.length -= e - 1;
                break;
              }
          g && g.replaceChild(c, d);
          a = U.createDocumentFragment();
          a.appendChild(d);
          c[x.expando] = d[x.expando];
          d = 1;
          for (e = b.length; d < e; d++)
            (g = b[d]), x(g).remove(), a.appendChild(g), delete b[d];
          b[0] = c;
          b.length = 1;
        }
        function tc(a, b) {
          return E(
            function () {
              return a.apply(null, arguments);
            },
            a,
            b
          );
        }
        var Kb = function (a, b) {
          this.$$element = a;
          this.$attr = b || {};
        };
        Kb.prototype = {
          $normalize: ma,
          $addClass: function (a) {
            a && 0 < a.length && K.addClass(this.$$element, a);
          },
          $removeClass: function (a) {
            a && 0 < a.length && K.removeClass(this.$$element, a);
          },
          $updateClass: function (a, b) {
            var c = uc(a, b),
              d = uc(b, a);
            0 === c.length
              ? K.removeClass(this.$$element, d)
              : 0 === d.length
              ? K.addClass(this.$$element, c)
              : K.setClass(this.$$element, c, d);
          },
          $set: function (a, b, c, d) {
            var e = pc(this.$$element[0], a);
            e && (this.$$element.prop(a, b), (d = e));
            this[a] = b;
            d
              ? (this.$attr[a] = d)
              : (d = this.$attr[a]) || (this.$attr[a] = d = ib(a, "-"));
            e = La(this.$$element);
            if (("A" === e && "href" === a) || ("IMG" === e && "src" === a))
              this[a] = b = X(b, "src" === a);
            !1 !== c &&
              (null === b || b === s
                ? this.$$element.removeAttr(d)
                : this.$$element.attr(d, b));
            (c = this.$$observers) &&
              q(c[a], function (a) {
                try {
                  a(b);
                } catch (c) {
                  l(c);
                }
              });
          },
          $observe: function (a, b) {
            var c = this,
              d = c.$$observers || (c.$$observers = {}),
              e = d[a] || (d[a] = []);
            e.push(b);
            J.$evalAsync(function () {
              e.$$inter || b(c[a]);
            });
            return b;
          },
        };
        var Da = b.startSymbol(),
          oa = b.endSymbol(),
          Z =
            "{{" == Da || "}}" == oa
              ? Fa
              : function (a) {
                  return a.replace(/\{\{/g, Da).replace(/}}/g, oa);
                },
          V = /^ngAttr[A-Z]/;
        return z;
      },
    ];
  }
  function ma(b) {
    return Wa(b.replace(ue, ""));
  }
  function uc(b, a) {
    var c = "",
      d = b.split(/\s+/),
      e = a.split(/\s+/),
      g = 0;
    a: for (; g < d.length; g++) {
      for (var f = d[g], k = 0; k < e.length; k++) if (f == e[k]) continue a;
      c += (0 < c.length ? " " : "") + f;
    }
    return c;
  }
  function Pd() {
    var b = {},
      a = /^(\S+)(\s+as\s+(\w+))?$/;
    this.register = function (a, d) {
      Ba(a, "controller");
      T(a) ? E(b, a) : (b[a] = d);
    };
    this.$get = [
      "$injector",
      "$window",
      function (c, d) {
        return function (e, g) {
          var f, k, m;
          y(e) &&
            ((f = e.match(a)),
            (k = f[1]),
            (m = f[3]),
            (e = b.hasOwnProperty(k)
              ? b[k]
              : ec(g.$scope, k, !0) || ec(d, k, !0)),
            Ua(e, k, !0));
          f = c.instantiate(e, g);
          if (m) {
            if (!g || "object" !== typeof g.$scope)
              throw v("$controller")("noscp", k || e.name, m);
            g.$scope[m] = f;
          }
          return f;
        };
      },
    ];
  }
  function Qd() {
    this.$get = [
      "$window",
      function (b) {
        return x(b.document);
      },
    ];
  }
  function Rd() {
    this.$get = [
      "$log",
      function (b) {
        return function (a, c) {
          b.error.apply(b, arguments);
        };
      },
    ];
  }
  function vc(b) {
    var a = {},
      c,
      d,
      e;
    if (!b) return a;
    q(b.split("\n"), function (b) {
      e = b.indexOf(":");
      c = I(aa(b.substr(0, e)));
      d = aa(b.substr(e + 1));
      c && (a[c] = a[c] ? a[c] + (", " + d) : d);
    });
    return a;
  }
  function wc(b) {
    var a = T(b) ? b : s;
    return function (c) {
      a || (a = vc(b));
      return c ? a[I(c)] || null : a;
    };
  }
  function xc(b, a, c) {
    if (O(c)) return c(b, a);
    q(c, function (c) {
      b = c(b, a);
    });
    return b;
  }
  function Ud() {
    var b = /^\s*(\[|\{[^\{])/,
      a = /[\}\]]\s*$/,
      c = /^\)\]\}',?\n/,
      d = { "Content-Type": "application/json;charset=utf-8" },
      e = (this.defaults = {
        transformResponse: [
          function (d) {
            y(d) &&
              ((d = d.replace(c, "")), b.test(d) && a.test(d) && (d = $b(d)));
            return d;
          },
        ],
        transformRequest: [
          function (a) {
            return T(a) &&
              "[object File]" !== xa.call(a) &&
              "[object Blob]" !== xa.call(a)
              ? sa(a)
              : a;
          },
        ],
        headers: {
          common: { Accept: "application/json, text/plain, */*" },
          post: ka(d),
          put: ka(d),
          patch: ka(d),
        },
        xsrfCookieName: "XSRF-TOKEN",
        xsrfHeaderName: "X-XSRF-TOKEN",
      }),
      g = (this.interceptors = []),
      f = (this.responseInterceptors = []);
    this.$get = [
      "$httpBackend",
      "$browser",
      "$cacheFactory",
      "$rootScope",
      "$q",
      "$injector",
      function (a, b, c, d, p, n) {
        function r(a) {
          function b(a) {
            var d = E({}, a, {
              data: xc(a.data, a.headers, c.transformResponse),
            });
            return 200 <= a.status && 300 > a.status ? d : p.reject(d);
          }
          var c = {
              method: "get",
              transformRequest: e.transformRequest,
              transformResponse: e.transformResponse,
            },
            d = (function (a) {
              var b = e.headers,
                c = E({}, a.headers),
                d,
                g,
                b = E({}, b.common, b[I(a.method)]);
              a: for (d in b) {
                a = I(d);
                for (g in c) if (I(g) === a) continue a;
                c[d] = b[d];
              }
              (function (a) {
                var b;
                q(a, function (c, d) {
                  O(c) && ((b = c()), null != b ? (a[d] = b) : delete a[d]);
                });
              })(c);
              return c;
            })(a);
          E(c, a);
          c.headers = d;
          c.method = Ha(c.method);
          var g = [
              function (a) {
                d = a.headers;
                var c = xc(a.data, wc(d), a.transformRequest);
                F(c) &&
                  q(d, function (a, b) {
                    "content-type" === I(b) && delete d[b];
                  });
                F(a.withCredentials) &&
                  !F(e.withCredentials) &&
                  (a.withCredentials = e.withCredentials);
                return t(a, c, d).then(b, b);
              },
              s,
            ],
            f = p.when(c);
          for (
            q(u, function (a) {
              (a.request || a.requestError) &&
                g.unshift(a.request, a.requestError);
              (a.response || a.responseError) &&
                g.push(a.response, a.responseError);
            });
            g.length;

          ) {
            a = g.shift();
            var m = g.shift(),
              f = f.then(a, m);
          }
          f.success = function (a) {
            f.then(function (b) {
              a(b.data, b.status, b.headers, c);
            });
            return f;
          };
          f.error = function (a) {
            f.then(null, function (b) {
              a(b.data, b.status, b.headers, c);
            });
            return f;
          };
          return f;
        }
        function t(c, g, f) {
          function h(a, b, c, e) {
            D &&
              (200 <= a && 300 > a ? D.put(x, [a, b, vc(c), e]) : D.remove(x));
            n(b, a, c, e);
            d.$$phase || d.$apply();
          }
          function n(a, b, d, e) {
            b = Math.max(b, 0);
            (200 <= b && 300 > b ? u.resolve : u.reject)({
              data: a,
              status: b,
              headers: wc(d),
              config: c,
              statusText: e,
            });
          }
          function t() {
            var a = Pa(r.pendingRequests, c);
            -1 !== a && r.pendingRequests.splice(a, 1);
          }
          var u = p.defer(),
            q = u.promise,
            D,
            H,
            x = J(c.url, c.params);
          r.pendingRequests.push(c);
          q.then(t, t);
          (c.cache || e.cache) &&
            !1 !== c.cache &&
            "GET" == c.method &&
            (D = T(c.cache) ? c.cache : T(e.cache) ? e.cache : w);
          if (D)
            if (((H = D.get(x)), B(H))) {
              if (H.then) return H.then(t, t), H;
              L(H) ? n(H[1], H[0], ka(H[2]), H[3]) : n(H, 200, {}, "OK");
            } else D.put(x, q);
          F(H) &&
            ((H = Lb(c.url)
              ? b.cookies()[c.xsrfCookieName || e.xsrfCookieName]
              : s) && (f[c.xsrfHeaderName || e.xsrfHeaderName] = H),
            a(
              c.method,
              x,
              g,
              h,
              f,
              c.timeout,
              c.withCredentials,
              c.responseType
            ));
          return q;
        }
        function J(a, b) {
          if (!b) return a;
          var c = [];
          Tc(b, function (a, b) {
            null === a ||
              F(a) ||
              (L(a) || (a = [a]),
              q(a, function (a) {
                T(a) && (a = sa(a));
                c.push(Aa(b) + "=" + Aa(a));
              }));
          });
          0 < c.length &&
            (a += (-1 == a.indexOf("?") ? "?" : "&") + c.join("&"));
          return a;
        }
        var w = c("$http"),
          u = [];
        q(g, function (a) {
          u.unshift(y(a) ? n.get(a) : n.invoke(a));
        });
        q(f, function (a, b) {
          var c = y(a) ? n.get(a) : n.invoke(a);
          u.splice(b, 0, {
            response: function (a) {
              return c(p.when(a));
            },
            responseError: function (a) {
              return c(p.reject(a));
            },
          });
        });
        r.pendingRequests = [];
        (function (a) {
          q(arguments, function (a) {
            r[a] = function (b, c) {
              return r(E(c || {}, { method: a, url: b }));
            };
          });
        })("get", "delete", "head", "jsonp");
        (function (a) {
          q(arguments, function (a) {
            r[a] = function (b, c, d) {
              return r(E(d || {}, { method: a, url: b, data: c }));
            };
          });
        })("post", "put");
        r.defaults = e;
        return r;
      },
    ];
  }
  function ve(b) {
    if (
      8 >= P &&
      (!b.match(/^(get|post|head|put|delete|options)$/i) || !S.XMLHttpRequest)
    )
      return new S.ActiveXObject("Microsoft.XMLHTTP");
    if (S.XMLHttpRequest) return new S.XMLHttpRequest();
    throw v("$httpBackend")("noxhr");
  }
  function Vd() {
    this.$get = [
      "$browser",
      "$window",
      "$document",
      function (b, a, c) {
        return we(b, ve, b.defer, a.angular.callbacks, c[0]);
      },
    ];
  }
  function we(b, a, c, d, e) {
    function g(a, b, c) {
      var g = e.createElement("script"),
        f = null;
      g.type = "text/javascript";
      g.src = a;
      g.async = !0;
      f = function (a) {
        Xa(g, "load", f);
        Xa(g, "error", f);
        e.body.removeChild(g);
        g = null;
        var k = -1,
          t = "unknown";
        a &&
          ("load" !== a.type || d[b].called || (a = { type: "error" }),
          (t = a.type),
          (k = "error" === a.type ? 404 : 200));
        c && c(k, t);
      };
      pb(g, "load", f);
      pb(g, "error", f);
      8 >= P &&
        (g.onreadystatechange = function () {
          y(g.readyState) &&
            /loaded|complete/.test(g.readyState) &&
            ((g.onreadystatechange = null), f({ type: "load" }));
        });
      e.body.appendChild(g);
      return f;
    }
    var f = -1;
    return function (e, m, h, l, p, n, r, t) {
      function J() {
        u = f;
        X && X();
        z && z.abort();
      }
      function w(a, d, e, g, f) {
        N && c.cancel(N);
        X = z = null;
        0 === d && (d = e ? 200 : "file" == ta(m).protocol ? 404 : 0);
        a(1223 === d ? 204 : d, e, g, f || "");
        b.$$completeOutstandingRequest(A);
      }
      var u;
      b.$$incOutstandingRequestCount();
      m = m || b.url();
      if ("jsonp" == I(e)) {
        var K = "_" + (d.counter++).toString(36);
        d[K] = function (a) {
          d[K].data = a;
          d[K].called = !0;
        };
        var X = g(
          m.replace("JSON_CALLBACK", "angular.callbacks." + K),
          K,
          function (a, b) {
            w(l, a, d[K].data, "", b);
            d[K] = A;
          }
        );
      } else {
        var z = a(e);
        z.open(e, m, !0);
        q(p, function (a, b) {
          B(a) && z.setRequestHeader(b, a);
        });
        z.onreadystatechange = function () {
          if (z && 4 == z.readyState) {
            var a = null,
              b = null,
              c = "";
            u !== f &&
              ((a = z.getAllResponseHeaders()),
              (b = "response" in z ? z.response : z.responseText));
            (u === f && 10 > P) || (c = z.statusText);
            w(l, u || z.status, b, a, c);
          }
        };
        r && (z.withCredentials = !0);
        if (t)
          try {
            z.responseType = t;
          } catch (da) {
            if ("json" !== t) throw da;
          }
        z.send(h || null);
      }
      if (0 < n) var N = c(J, n);
      else n && n.then && n.then(J);
    };
  }
  function Sd() {
    var b = "{{",
      a = "}}";
    this.startSymbol = function (a) {
      return a ? ((b = a), this) : b;
    };
    this.endSymbol = function (b) {
      return b ? ((a = b), this) : a;
    };
    this.$get = [
      "$parse",
      "$exceptionHandler",
      "$sce",
      function (c, d, e) {
        function g(g, h, l) {
          for (var p, n, r = 0, t = [], J = g.length, w = !1, u = []; r < J; )
            -1 != (p = g.indexOf(b, r)) && -1 != (n = g.indexOf(a, p + f))
              ? (r != p && t.push(g.substring(r, p)),
                t.push((r = c((w = g.substring(p + f, n))))),
                (r.exp = w),
                (r = n + k),
                (w = !0))
              : (r != J && t.push(g.substring(r)), (r = J));
          (J = t.length) || (t.push(""), (J = 1));
          if (l && 1 < t.length) throw yc("noconcat", g);
          if (!h || w)
            return (
              (u.length = J),
              (r = function (a) {
                try {
                  for (var b = 0, c = J, f; b < c; b++) {
                    if ("function" == typeof (f = t[b]))
                      if (
                        ((f = f(a)),
                        (f = l ? e.getTrusted(l, f) : e.valueOf(f)),
                        null == f)
                      )
                        f = "";
                      else
                        switch (typeof f) {
                          case "string":
                            break;
                          case "number":
                            f = "" + f;
                            break;
                          default:
                            f = sa(f);
                        }
                    u[b] = f;
                  }
                  return u.join("");
                } catch (k) {
                  (a = yc("interr", g, k.toString())), d(a);
                }
              }),
              (r.exp = g),
              (r.parts = t),
              r
            );
        }
        var f = b.length,
          k = a.length;
        g.startSymbol = function () {
          return b;
        };
        g.endSymbol = function () {
          return a;
        };
        return g;
      },
    ];
  }
  function Td() {
    this.$get = [
      "$rootScope",
      "$window",
      "$q",
      function (b, a, c) {
        function d(d, f, k, m) {
          var h = a.setInterval,
            l = a.clearInterval,
            p = c.defer(),
            n = p.promise,
            r = 0,
            t = B(m) && !m;
          k = B(k) ? k : 0;
          n.then(null, null, d);
          n.$$intervalId = h(function () {
            p.notify(r++);
            0 < k &&
              r >= k &&
              (p.resolve(r), l(n.$$intervalId), delete e[n.$$intervalId]);
            t || b.$apply();
          }, f);
          e[n.$$intervalId] = p;
          return n;
        }
        var e = {};
        d.cancel = function (b) {
          return b && b.$$intervalId in e
            ? (e[b.$$intervalId].reject("canceled"),
              a.clearInterval(b.$$intervalId),
              delete e[b.$$intervalId],
              !0)
            : !1;
        };
        return d;
      },
    ];
  }
  function bd() {
    this.$get = function () {
      return {
        id: "en-us",
        NUMBER_FORMATS: {
          DECIMAL_SEP: ".",
          GROUP_SEP: ",",
          PATTERNS: [
            {
              minInt: 1,
              minFrac: 0,
              maxFrac: 3,
              posPre: "",
              posSuf: "",
              negPre: "-",
              negSuf: "",
              gSize: 3,
              lgSize: 3,
            },
            {
              minInt: 1,
              minFrac: 2,
              maxFrac: 2,
              posPre: "\u00a4",
              posSuf: "",
              negPre: "(\u00a4",
              negSuf: ")",
              gSize: 3,
              lgSize: 3,
            },
          ],
          CURRENCY_SYM: "$",
        },
        DATETIME_FORMATS: {
          MONTH:
            "January February March April May June July August September October November December".split(
              " "
            ),
          SHORTMONTH: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(
            " "
          ),
          DAY: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(
            " "
          ),
          SHORTDAY: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
          AMPMS: ["AM", "PM"],
          medium: "MMM d, y h:mm:ss a",
          short: "M/d/yy h:mm a",
          fullDate: "EEEE, MMMM d, y",
          longDate: "MMMM d, y",
          mediumDate: "MMM d, y",
          shortDate: "M/d/yy",
          mediumTime: "h:mm:ss a",
          shortTime: "h:mm a",
        },
        pluralCat: function (b) {
          return 1 === b ? "one" : "other";
        },
      };
    };
  }
  function Mb(b) {
    b = b.split("/");
    for (var a = b.length; a--; ) b[a] = hb(b[a]);
    return b.join("/");
  }
  function zc(b, a, c) {
    b = ta(b, c);
    a.$$protocol = b.protocol;
    a.$$host = b.hostname;
    a.$$port = Z(b.port) || xe[b.protocol] || null;
  }
  function Ac(b, a, c) {
    var d = "/" !== b.charAt(0);
    d && (b = "/" + b);
    b = ta(b, c);
    a.$$path = decodeURIComponent(
      d && "/" === b.pathname.charAt(0) ? b.pathname.substring(1) : b.pathname
    );
    a.$$search = bc(b.search);
    a.$$hash = decodeURIComponent(b.hash);
    a.$$path && "/" != a.$$path.charAt(0) && (a.$$path = "/" + a.$$path);
  }
  function pa(b, a) {
    if (0 === a.indexOf(b)) return a.substr(b.length);
  }
  function ab(b) {
    var a = b.indexOf("#");
    return -1 == a ? b : b.substr(0, a);
  }
  function Nb(b) {
    return b.substr(0, ab(b).lastIndexOf("/") + 1);
  }
  function Bc(b, a) {
    this.$$html5 = !0;
    a = a || "";
    var c = Nb(b);
    zc(b, this, b);
    this.$$parse = function (a) {
      var e = pa(c, a);
      if (!y(e)) throw Ob("ipthprfx", a, c);
      Ac(e, this, b);
      this.$$path || (this.$$path = "/");
      this.$$compose();
    };
    this.$$compose = function () {
      var a = Ab(this.$$search),
        b = this.$$hash ? "#" + hb(this.$$hash) : "";
      this.$$url = Mb(this.$$path) + (a ? "?" + a : "") + b;
      this.$$absUrl = c + this.$$url.substr(1);
    };
    this.$$rewrite = function (d) {
      var e;
      if ((e = pa(b, d)) !== s)
        return (d = e), (e = pa(a, e)) !== s ? c + (pa("/", e) || e) : b + d;
      if ((e = pa(c, d)) !== s) return c + e;
      if (c == d + "/") return c;
    };
  }
  function Pb(b, a) {
    var c = Nb(b);
    zc(b, this, b);
    this.$$parse = function (d) {
      var e = pa(b, d) || pa(c, d),
        e = "#" == e.charAt(0) ? pa(a, e) : this.$$html5 ? e : "";
      if (!y(e)) throw Ob("ihshprfx", d, a);
      Ac(e, this, b);
      d = this.$$path;
      var g = /^\/[A-Z]:(\/.*)/;
      0 === e.indexOf(b) && (e = e.replace(b, ""));
      g.exec(e) || (d = (e = g.exec(d)) ? e[1] : d);
      this.$$path = d;
      this.$$compose();
    };
    this.$$compose = function () {
      var c = Ab(this.$$search),
        e = this.$$hash ? "#" + hb(this.$$hash) : "";
      this.$$url = Mb(this.$$path) + (c ? "?" + c : "") + e;
      this.$$absUrl = b + (this.$$url ? a + this.$$url : "");
    };
    this.$$rewrite = function (a) {
      if (ab(b) == ab(a)) return a;
    };
  }
  function Qb(b, a) {
    this.$$html5 = !0;
    Pb.apply(this, arguments);
    var c = Nb(b);
    this.$$rewrite = function (d) {
      var e;
      if (b == ab(d)) return d;
      if ((e = pa(c, d))) return b + a + e;
      if (c === d + "/") return c;
    };
    this.$$compose = function () {
      var c = Ab(this.$$search),
        e = this.$$hash ? "#" + hb(this.$$hash) : "";
      this.$$url = Mb(this.$$path) + (c ? "?" + c : "") + e;
      this.$$absUrl = b + a + this.$$url;
    };
  }
  function qb(b) {
    return function () {
      return this[b];
    };
  }
  function Cc(b, a) {
    return function (c) {
      if (F(c)) return this[b];
      this[b] = a(c);
      this.$$compose();
      return this;
    };
  }
  function Wd() {
    var b = "",
      a = !1;
    this.hashPrefix = function (a) {
      return B(a) ? ((b = a), this) : b;
    };
    this.html5Mode = function (b) {
      return B(b) ? ((a = b), this) : a;
    };
    this.$get = [
      "$rootScope",
      "$browser",
      "$sniffer",
      "$rootElement",
      function (c, d, e, g) {
        function f(a) {
          c.$broadcast("$locationChangeSuccess", k.absUrl(), a);
        }
        var k,
          m,
          h = d.baseHref(),
          l = d.url(),
          p;
        a
          ? ((p =
              l.substring(0, l.indexOf("/", l.indexOf("//") + 2)) + (h || "/")),
            (m = e.history ? Bc : Qb))
          : ((p = ab(l)), (m = Pb));
        k = new m(p, "#" + b);
        k.$$parse(k.$$rewrite(l));
        g.on("click", function (a) {
          if (!a.ctrlKey && !a.metaKey && 2 != a.which) {
            for (var e = x(a.target); "a" !== I(e[0].nodeName); )
              if (e[0] === g[0] || !(e = e.parent())[0]) return;
            var f = e.prop("href");
            T(f) &&
              "[object SVGAnimatedString]" === f.toString() &&
              (f = ta(f.animVal).href);
            if (m === Qb) {
              var h = e.attr("href") || e.attr("xlink:href");
              if (0 > h.indexOf("://"))
                if (((f = "#" + b), "/" == h[0])) f = p + f + h;
                else if ("#" == h[0]) f = p + f + (k.path() || "/") + h;
                else {
                  for (
                    var l = k.path().split("/"), h = h.split("/"), n = 0;
                    n < h.length;
                    n++
                  )
                    "." != h[n] &&
                      (".." == h[n] ? l.pop() : h[n].length && l.push(h[n]));
                  f = p + f + l.join("/");
                }
            }
            l = k.$$rewrite(f);
            f &&
              !e.attr("target") &&
              l &&
              !a.isDefaultPrevented() &&
              (a.preventDefault(),
              l != d.url() &&
                (k.$$parse(l),
                c.$apply(),
                (S.angular["ff-684208-preventDefault"] = !0)));
          }
        });
        k.absUrl() != l && d.url(k.absUrl(), !0);
        d.onUrlChange(function (a) {
          k.absUrl() != a &&
            (c.$evalAsync(function () {
              var b = k.absUrl();
              k.$$parse(a);
              c.$broadcast("$locationChangeStart", a, b).defaultPrevented
                ? (k.$$parse(b), d.url(b))
                : f(b);
            }),
            c.$$phase || c.$digest());
        });
        var n = 0;
        c.$watch(function () {
          var a = d.url(),
            b = k.$$replace;
          (n && a == k.absUrl()) ||
            (n++,
            c.$evalAsync(function () {
              c.$broadcast("$locationChangeStart", k.absUrl(), a)
                .defaultPrevented
                ? k.$$parse(a)
                : (d.url(k.absUrl(), b), f(a));
            }));
          k.$$replace = !1;
          return n;
        });
        return k;
      },
    ];
  }
  function Xd() {
    var b = !0,
      a = this;
    this.debugEnabled = function (a) {
      return B(a) ? ((b = a), this) : b;
    };
    this.$get = [
      "$window",
      function (c) {
        function d(a) {
          a instanceof Error &&
            (a.stack
              ? (a =
                  a.message && -1 === a.stack.indexOf(a.message)
                    ? "Error: " + a.message + "\n" + a.stack
                    : a.stack)
              : a.sourceURL &&
                (a = a.message + "\n" + a.sourceURL + ":" + a.line));
          return a;
        }
        function e(a) {
          var b = c.console || {},
            e = b[a] || b.log || A;
          a = !1;
          try {
            a = !!e.apply;
          } catch (m) {}
          return a
            ? function () {
                var a = [];
                q(arguments, function (b) {
                  a.push(d(b));
                });
                return e.apply(b, a);
              }
            : function (a, b) {
                e(a, null == b ? "" : b);
              };
        }
        return {
          log: e("log"),
          info: e("info"),
          warn: e("warn"),
          error: e("error"),
          debug: (function () {
            var c = e("debug");
            return function () {
              b && c.apply(a, arguments);
            };
          })(),
        };
      },
    ];
  }
  function qa(b, a) {
    if (
      "__defineGetter__" === b ||
      "__defineSetter__" === b ||
      "__lookupGetter__" === b ||
      "__lookupSetter__" === b ||
      "__proto__" === b
    )
      throw ia("isecfld", a);
    return b;
  }
  function Ma(b, a) {
    if (b) {
      if (b.constructor === b) throw ia("isecfn", a);
      if (b.document && b.location && b.alert && b.setInterval)
        throw ia("isecwindow", a);
      if (b.children && (b.nodeName || (b.prop && b.attr && b.find)))
        throw ia("isdvcom", a);
      if (b === Object) throw ia("isecobj", a);
    }
    return b;
  }
  function rb(b, a, c, d, e) {
    e = e || {};
    a = a.split(".");
    for (var g, f = 0; 1 < a.length; f++) {
      g = qa(a.shift(), d);
      var k = b[g];
      k || ((k = {}), (b[g] = k));
      b = k;
      b.then &&
        e.unwrapPromises &&
        (ua(d),
        "$$v" in b ||
          (function (a) {
            a.then(function (b) {
              a.$$v = b;
            });
          })(b),
        b.$$v === s && (b.$$v = {}),
        (b = b.$$v));
    }
    g = qa(a.shift(), d);
    Ma(b, d);
    Ma(b[g], d);
    return (b[g] = c);
  }
  function Dc(b, a, c, d, e, g, f) {
    qa(b, g);
    qa(a, g);
    qa(c, g);
    qa(d, g);
    qa(e, g);
    return f.unwrapPromises
      ? function (f, m) {
          var h = m && m.hasOwnProperty(b) ? m : f,
            l;
          if (null == h) return h;
          (h = h[b]) &&
            h.then &&
            (ua(g),
            "$$v" in h ||
              ((l = h),
              (l.$$v = s),
              l.then(function (a) {
                l.$$v = a;
              })),
            (h = h.$$v));
          if (!a) return h;
          if (null == h) return s;
          (h = h[a]) &&
            h.then &&
            (ua(g),
            "$$v" in h ||
              ((l = h),
              (l.$$v = s),
              l.then(function (a) {
                l.$$v = a;
              })),
            (h = h.$$v));
          if (!c) return h;
          if (null == h) return s;
          (h = h[c]) &&
            h.then &&
            (ua(g),
            "$$v" in h ||
              ((l = h),
              (l.$$v = s),
              l.then(function (a) {
                l.$$v = a;
              })),
            (h = h.$$v));
          if (!d) return h;
          if (null == h) return s;
          (h = h[d]) &&
            h.then &&
            (ua(g),
            "$$v" in h ||
              ((l = h),
              (l.$$v = s),
              l.then(function (a) {
                l.$$v = a;
              })),
            (h = h.$$v));
          if (!e) return h;
          if (null == h) return s;
          (h = h[e]) &&
            h.then &&
            (ua(g),
            "$$v" in h ||
              ((l = h),
              (l.$$v = s),
              l.then(function (a) {
                l.$$v = a;
              })),
            (h = h.$$v));
          return h;
        }
      : function (g, f) {
          var h = f && f.hasOwnProperty(b) ? f : g;
          if (null == h) return h;
          h = h[b];
          if (!a) return h;
          if (null == h) return s;
          h = h[a];
          if (!c) return h;
          if (null == h) return s;
          h = h[c];
          if (!d) return h;
          if (null == h) return s;
          h = h[d];
          return e ? (null == h ? s : (h = h[e])) : h;
        };
  }
  function Ec(b, a, c) {
    if (Rb.hasOwnProperty(b)) return Rb[b];
    var d = b.split("."),
      e = d.length,
      g;
    if (a.csp)
      g =
        6 > e
          ? Dc(d[0], d[1], d[2], d[3], d[4], c, a)
          : function (b, g) {
              var f = 0,
                k;
              do
                (k = Dc(d[f++], d[f++], d[f++], d[f++], d[f++], c, a)(b, g)),
                  (g = s),
                  (b = k);
              while (f < e);
              return k;
            };
    else {
      var f = "var p;\n";
      q(d, function (b, d) {
        qa(b, c);
        f +=
          "if(s == null) return undefined;\ns=" +
          (d ? "s" : '((k&&k.hasOwnProperty("' + b + '"))?k:s)') +
          '["' +
          b +
          '"];\n' +
          (a.unwrapPromises
            ? 'if (s && s.then) {\n pw("' +
              c.replace(/(["\r\n])/g, "\\$1") +
              '");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n'
            : "");
      });
      var f = f + "return s;",
        k = new Function("s", "k", "pw", f);
      k.toString = $(f);
      g = a.unwrapPromises
        ? function (a, b) {
            return k(a, b, ua);
          }
        : k;
    }
    "hasOwnProperty" !== b && (Rb[b] = g);
    return g;
  }
  function Yd() {
    var b = {},
      a = { csp: !1, unwrapPromises: !1, logPromiseWarnings: !0 };
    this.unwrapPromises = function (b) {
      return B(b) ? ((a.unwrapPromises = !!b), this) : a.unwrapPromises;
    };
    this.logPromiseWarnings = function (b) {
      return B(b) ? ((a.logPromiseWarnings = b), this) : a.logPromiseWarnings;
    };
    this.$get = [
      "$filter",
      "$sniffer",
      "$log",
      function (c, d, e) {
        a.csp = d.csp;
        ua = function (b) {
          a.logPromiseWarnings &&
            !Fc.hasOwnProperty(b) &&
            ((Fc[b] = !0),
            e.warn(
              "[$parse] Promise found in the expression `" +
                b +
                "`. Automatic unwrapping of promises in Angular expressions is deprecated."
            ));
        };
        return function (d) {
          var e;
          switch (typeof d) {
            case "string":
              if (b.hasOwnProperty(d)) return b[d];
              e = new Sb(a);
              e = new bb(e, c, a).parse(d);
              "hasOwnProperty" !== d && (b[d] = e);
              return e;
            case "function":
              return d;
            default:
              return A;
          }
        };
      },
    ];
  }
  function $d() {
    this.$get = [
      "$rootScope",
      "$exceptionHandler",
      function (b, a) {
        return ye(function (a) {
          b.$evalAsync(a);
        }, a);
      },
    ];
  }
  function ye(b, a) {
    function c(a) {
      return a;
    }
    function d(a) {
      return f(a);
    }
    var e = function () {
        var f = [],
          h,
          l;
        return (l = {
          resolve: function (a) {
            if (f) {
              var c = f;
              f = s;
              h = g(a);
              c.length &&
                b(function () {
                  for (var a, b = 0, d = c.length; b < d; b++)
                    (a = c[b]), h.then(a[0], a[1], a[2]);
                });
            }
          },
          reject: function (a) {
            l.resolve(k(a));
          },
          notify: function (a) {
            if (f) {
              var c = f;
              f.length &&
                b(function () {
                  for (var b, d = 0, e = c.length; d < e; d++)
                    (b = c[d]), b[2](a);
                });
            }
          },
          promise: {
            then: function (b, g, k) {
              var l = e(),
                J = function (d) {
                  try {
                    l.resolve((O(b) ? b : c)(d));
                  } catch (e) {
                    l.reject(e), a(e);
                  }
                },
                w = function (b) {
                  try {
                    l.resolve((O(g) ? g : d)(b));
                  } catch (c) {
                    l.reject(c), a(c);
                  }
                },
                u = function (b) {
                  try {
                    l.notify((O(k) ? k : c)(b));
                  } catch (d) {
                    a(d);
                  }
                };
              f ? f.push([J, w, u]) : h.then(J, w, u);
              return l.promise;
            },
            catch: function (a) {
              return this.then(null, a);
            },
            finally: function (a) {
              function b(a, c) {
                var d = e();
                c ? d.resolve(a) : d.reject(a);
                return d.promise;
              }
              function d(e, g) {
                var f = null;
                try {
                  f = (a || c)();
                } catch (k) {
                  return b(k, !1);
                }
                return f && O(f.then)
                  ? f.then(
                      function () {
                        return b(e, g);
                      },
                      function (a) {
                        return b(a, !1);
                      }
                    )
                  : b(e, g);
              }
              return this.then(
                function (a) {
                  return d(a, !0);
                },
                function (a) {
                  return d(a, !1);
                }
              );
            },
          },
        });
      },
      g = function (a) {
        return a && O(a.then)
          ? a
          : {
              then: function (c) {
                var d = e();
                b(function () {
                  d.resolve(c(a));
                });
                return d.promise;
              },
            };
      },
      f = function (a) {
        var b = e();
        b.reject(a);
        return b.promise;
      },
      k = function (c) {
        return {
          then: function (g, f) {
            var k = e();
            b(function () {
              try {
                k.resolve((O(f) ? f : d)(c));
              } catch (b) {
                k.reject(b), a(b);
              }
            });
            return k.promise;
          },
        };
      };
    return {
      defer: e,
      reject: f,
      when: function (k, h, l, p) {
        var n = e(),
          r,
          t = function (b) {
            try {
              return (O(h) ? h : c)(b);
            } catch (d) {
              return a(d), f(d);
            }
          },
          J = function (b) {
            try {
              return (O(l) ? l : d)(b);
            } catch (c) {
              return a(c), f(c);
            }
          },
          w = function (b) {
            try {
              return (O(p) ? p : c)(b);
            } catch (d) {
              a(d);
            }
          };
        b(function () {
          g(k).then(
            function (a) {
              r || ((r = !0), n.resolve(g(a).then(t, J, w)));
            },
            function (a) {
              r || ((r = !0), n.resolve(J(a)));
            },
            function (a) {
              r || n.notify(w(a));
            }
          );
        });
        return n.promise;
      },
      all: function (a) {
        var b = e(),
          c = 0,
          d = L(a) ? [] : {};
        q(a, function (a, e) {
          c++;
          g(a).then(
            function (a) {
              d.hasOwnProperty(e) || ((d[e] = a), --c || b.resolve(d));
            },
            function (a) {
              d.hasOwnProperty(e) || b.reject(a);
            }
          );
        });
        0 === c && b.resolve(d);
        return b.promise;
      },
    };
  }
  function ge() {
    this.$get = [
      "$window",
      "$timeout",
      function (b, a) {
        var c =
            b.requestAnimationFrame ||
            b.webkitRequestAnimationFrame ||
            b.mozRequestAnimationFrame,
          d =
            b.cancelAnimationFrame ||
            b.webkitCancelAnimationFrame ||
            b.mozCancelAnimationFrame ||
            b.webkitCancelRequestAnimationFrame,
          e = !!c,
          g = e
            ? function (a) {
                var b = c(a);
                return function () {
                  d(b);
                };
              }
            : function (b) {
                var c = a(b, 16.66, !1);
                return function () {
                  a.cancel(c);
                };
              };
        g.supported = e;
        return g;
      },
    ];
  }
  function Zd() {
    var b = 10,
      a = v("$rootScope"),
      c = null;
    this.digestTtl = function (a) {
      arguments.length && (b = a);
      return b;
    };
    this.$get = [
      "$injector",
      "$exceptionHandler",
      "$parse",
      "$browser",
      function (d, e, g, f) {
        function k() {
          this.$id = eb();
          this.$$phase =
            this.$parent =
            this.$$watchers =
            this.$$nextSibling =
            this.$$prevSibling =
            this.$$childHead =
            this.$$childTail =
              null;
          this["this"] = this.$root = this;
          this.$$destroyed = !1;
          this.$$asyncQueue = [];
          this.$$postDigestQueue = [];
          this.$$listeners = {};
          this.$$listenerCount = {};
          this.$$isolateBindings = {};
        }
        function m(b) {
          if (n.$$phase) throw a("inprog", n.$$phase);
          n.$$phase = b;
        }
        function h(a, b) {
          var c = g(a);
          Ua(c, b);
          return c;
        }
        function l(a, b, c) {
          do
            (a.$$listenerCount[c] -= b),
              0 === a.$$listenerCount[c] && delete a.$$listenerCount[c];
          while ((a = a.$parent));
        }
        function p() {}
        k.prototype = {
          constructor: k,
          $new: function (a) {
            a
              ? ((a = new k()),
                (a.$root = this.$root),
                (a.$$asyncQueue = this.$$asyncQueue),
                (a.$$postDigestQueue = this.$$postDigestQueue))
              : (this.$$childScopeClass ||
                  ((this.$$childScopeClass = function () {
                    this.$$watchers =
                      this.$$nextSibling =
                      this.$$childHead =
                      this.$$childTail =
                        null;
                    this.$$listeners = {};
                    this.$$listenerCount = {};
                    this.$id = eb();
                    this.$$childScopeClass = null;
                  }),
                  (this.$$childScopeClass.prototype = this)),
                (a = new this.$$childScopeClass()));
            a["this"] = a;
            a.$parent = this;
            a.$$prevSibling = this.$$childTail;
            this.$$childHead
              ? (this.$$childTail = this.$$childTail.$$nextSibling = a)
              : (this.$$childHead = this.$$childTail = a);
            return a;
          },
          $watch: function (a, b, d) {
            var e = h(a, "watch"),
              g = this.$$watchers,
              f = { fn: b, last: p, get: e, exp: a, eq: !!d };
            c = null;
            if (!O(b)) {
              var k = h(b || A, "listener");
              f.fn = function (a, b, c) {
                k(c);
              };
            }
            if ("string" == typeof a && e.constant) {
              var m = f.fn;
              f.fn = function (a, b, c) {
                m.call(this, a, b, c);
                Qa(g, f);
              };
            }
            g || (g = this.$$watchers = []);
            g.unshift(f);
            return function () {
              Qa(g, f);
              c = null;
            };
          },
          $watchCollection: function (a, b) {
            var c = this,
              d,
              e,
              f,
              k = 1 < b.length,
              h = 0,
              m = g(a),
              l = [],
              n = {},
              p = !0,
              q = 0;
            return this.$watch(
              function () {
                d = m(c);
                var a, b;
                if (T(d))
                  if (db(d))
                    for (
                      e !== l && ((e = l), (q = e.length = 0), h++),
                        a = d.length,
                        q !== a && (h++, (e.length = q = a)),
                        b = 0;
                      b < a;
                      b++
                    )
                      (e[b] !== e[b] && d[b] !== d[b]) ||
                        e[b] === d[b] ||
                        (h++, (e[b] = d[b]));
                  else {
                    e !== n && ((e = n = {}), (q = 0), h++);
                    a = 0;
                    for (b in d)
                      d.hasOwnProperty(b) &&
                        (a++,
                        e.hasOwnProperty(b)
                          ? e[b] !== d[b] && (h++, (e[b] = d[b]))
                          : (q++, (e[b] = d[b]), h++));
                    if (q > a)
                      for (b in (h++, e))
                        e.hasOwnProperty(b) &&
                          !d.hasOwnProperty(b) &&
                          (q--, delete e[b]);
                  }
                else e !== d && ((e = d), h++);
                return h;
              },
              function () {
                p ? ((p = !1), b(d, d, c)) : b(d, f, c);
                if (k)
                  if (T(d))
                    if (db(d)) {
                      f = Array(d.length);
                      for (var a = 0; a < d.length; a++) f[a] = d[a];
                    } else
                      for (a in ((f = {}), d)) gb.call(d, a) && (f[a] = d[a]);
                  else f = d;
              }
            );
          },
          $digest: function () {
            var d,
              g,
              f,
              k,
              h = this.$$asyncQueue,
              l = this.$$postDigestQueue,
              q,
              z,
              s = b,
              N,
              M = [],
              x,
              C,
              D;
            m("$digest");
            c = null;
            do {
              z = !1;
              for (N = this; h.length; ) {
                try {
                  (D = h.shift()), D.scope.$eval(D.expression);
                } catch (H) {
                  (n.$$phase = null), e(H);
                }
                c = null;
              }
              a: do {
                if ((k = N.$$watchers))
                  for (q = k.length; q--; )
                    try {
                      if ((d = k[q]))
                        if (
                          (g = d.get(N)) !== (f = d.last) &&
                          !(d.eq
                            ? ya(g, f)
                            : "number" === typeof g &&
                              "number" === typeof f &&
                              isNaN(g) &&
                              isNaN(f))
                        )
                          (z = !0),
                            (c = d),
                            (d.last = d.eq ? Ga(g, null) : g),
                            d.fn(g, f === p ? g : f, N),
                            5 > s &&
                              ((x = 4 - s),
                              M[x] || (M[x] = []),
                              (C = O(d.exp)
                                ? "fn: " + (d.exp.name || d.exp.toString())
                                : d.exp),
                              (C +=
                                "; newVal: " + sa(g) + "; oldVal: " + sa(f)),
                              M[x].push(C));
                        else if (d === c) {
                          z = !1;
                          break a;
                        }
                    } catch (B) {
                      (n.$$phase = null), e(B);
                    }
                if (!(k = N.$$childHead || (N !== this && N.$$nextSibling)))
                  for (; N !== this && !(k = N.$$nextSibling); ) N = N.$parent;
              } while ((N = k));
              if ((z || h.length) && !s--)
                throw ((n.$$phase = null), a("infdig", b, sa(M)));
            } while (z || h.length);
            for (n.$$phase = null; l.length; )
              try {
                l.shift()();
              } catch (v) {
                e(v);
              }
          },
          $destroy: function () {
            if (!this.$$destroyed) {
              var a = this.$parent;
              this.$broadcast("$destroy");
              this.$$destroyed = !0;
              this !== n &&
                (q(this.$$listenerCount, zb(null, l, this)),
                a.$$childHead == this && (a.$$childHead = this.$$nextSibling),
                a.$$childTail == this && (a.$$childTail = this.$$prevSibling),
                this.$$prevSibling &&
                  (this.$$prevSibling.$$nextSibling = this.$$nextSibling),
                this.$$nextSibling &&
                  (this.$$nextSibling.$$prevSibling = this.$$prevSibling),
                (this.$parent =
                  this.$$nextSibling =
                  this.$$prevSibling =
                  this.$$childHead =
                  this.$$childTail =
                  this.$root =
                    null),
                (this.$$listeners = {}),
                (this.$$watchers =
                  this.$$asyncQueue =
                  this.$$postDigestQueue =
                    []),
                (this.$destroy = this.$digest = this.$apply = A),
                (this.$on = this.$watch =
                  function () {
                    return A;
                  }));
            }
          },
          $eval: function (a, b) {
            return g(a)(this, b);
          },
          $evalAsync: function (a) {
            n.$$phase ||
              n.$$asyncQueue.length ||
              f.defer(function () {
                n.$$asyncQueue.length && n.$digest();
              });
            this.$$asyncQueue.push({ scope: this, expression: a });
          },
          $$postDigest: function (a) {
            this.$$postDigestQueue.push(a);
          },
          $apply: function (a) {
            try {
              return m("$apply"), this.$eval(a);
            } catch (b) {
              e(b);
            } finally {
              n.$$phase = null;
              try {
                n.$digest();
              } catch (c) {
                throw (e(c), c);
              }
            }
          },
          $on: function (a, b) {
            var c = this.$$listeners[a];
            c || (this.$$listeners[a] = c = []);
            c.push(b);
            var d = this;
            do
              d.$$listenerCount[a] || (d.$$listenerCount[a] = 0),
                d.$$listenerCount[a]++;
            while ((d = d.$parent));
            var e = this;
            return function () {
              c[Pa(c, b)] = null;
              l(e, 1, a);
            };
          },
          $emit: function (a, b) {
            var c = [],
              d,
              g = this,
              f = !1,
              k = {
                name: a,
                targetScope: g,
                stopPropagation: function () {
                  f = !0;
                },
                preventDefault: function () {
                  k.defaultPrevented = !0;
                },
                defaultPrevented: !1,
              },
              h = [k].concat(za.call(arguments, 1)),
              m,
              l;
            do {
              d = g.$$listeners[a] || c;
              k.currentScope = g;
              m = 0;
              for (l = d.length; m < l; m++)
                if (d[m])
                  try {
                    d[m].apply(null, h);
                  } catch (n) {
                    e(n);
                  }
                else d.splice(m, 1), m--, l--;
              if (f) break;
              g = g.$parent;
            } while (g);
            return k;
          },
          $broadcast: function (a, b) {
            for (
              var c = this,
                d = this,
                g = {
                  name: a,
                  targetScope: this,
                  preventDefault: function () {
                    g.defaultPrevented = !0;
                  },
                  defaultPrevented: !1,
                },
                f = [g].concat(za.call(arguments, 1)),
                k,
                h;
              (c = d);

            ) {
              g.currentScope = c;
              d = c.$$listeners[a] || [];
              k = 0;
              for (h = d.length; k < h; k++)
                if (d[k])
                  try {
                    d[k].apply(null, f);
                  } catch (m) {
                    e(m);
                  }
                else d.splice(k, 1), k--, h--;
              if (
                !(d =
                  (c.$$listenerCount[a] && c.$$childHead) ||
                  (c !== this && c.$$nextSibling))
              )
                for (; c !== this && !(d = c.$$nextSibling); ) c = c.$parent;
            }
            return g;
          },
        };
        var n = new k();
        return n;
      },
    ];
  }
  function cd() {
    var b = /^\s*(https?|ftp|mailto|tel|file):/,
      a = /^\s*(https?|ftp|file):|data:image\//;
    this.aHrefSanitizationWhitelist = function (a) {
      return B(a) ? ((b = a), this) : b;
    };
    this.imgSrcSanitizationWhitelist = function (b) {
      return B(b) ? ((a = b), this) : a;
    };
    this.$get = function () {
      return function (c, d) {
        var e = d ? a : b,
          g;
        if (!P || 8 <= P)
          if (((g = ta(c).href), "" !== g && !g.match(e))) return "unsafe:" + g;
        return c;
      };
    };
  }
  function ze(b) {
    if ("self" === b) return b;
    if (y(b)) {
      if (-1 < b.indexOf("***")) throw va("iwcard", b);
      b = b
        .replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1")
        .replace(/\x08/g, "\\x08")
        .replace("\\*\\*", ".*")
        .replace("\\*", "[^:/.?&;]*");
      return RegExp("^" + b + "$");
    }
    if (fb(b)) return RegExp("^" + b.source + "$");
    throw va("imatcher");
  }
  function Gc(b) {
    var a = [];
    B(b) &&
      q(b, function (b) {
        a.push(ze(b));
      });
    return a;
  }
  function be() {
    this.SCE_CONTEXTS = fa;
    var b = ["self"],
      a = [];
    this.resourceUrlWhitelist = function (a) {
      arguments.length && (b = Gc(a));
      return b;
    };
    this.resourceUrlBlacklist = function (b) {
      arguments.length && (a = Gc(b));
      return a;
    };
    this.$get = [
      "$injector",
      function (c) {
        function d(a) {
          var b = function (a) {
            this.$$unwrapTrustedValue = function () {
              return a;
            };
          };
          a && (b.prototype = new a());
          b.prototype.valueOf = function () {
            return this.$$unwrapTrustedValue();
          };
          b.prototype.toString = function () {
            return this.$$unwrapTrustedValue().toString();
          };
          return b;
        }
        var e = function (a) {
          throw va("unsafe");
        };
        c.has("$sanitize") && (e = c.get("$sanitize"));
        var g = d(),
          f = {};
        f[fa.HTML] = d(g);
        f[fa.CSS] = d(g);
        f[fa.URL] = d(g);
        f[fa.JS] = d(g);
        f[fa.RESOURCE_URL] = d(f[fa.URL]);
        return {
          trustAs: function (a, b) {
            var c = f.hasOwnProperty(a) ? f[a] : null;
            if (!c) throw va("icontext", a, b);
            if (null === b || b === s || "" === b) return b;
            if ("string" !== typeof b) throw va("itype", a);
            return new c(b);
          },
          getTrusted: function (c, d) {
            if (null === d || d === s || "" === d) return d;
            var g = f.hasOwnProperty(c) ? f[c] : null;
            if (g && d instanceof g) return d.$$unwrapTrustedValue();
            if (c === fa.RESOURCE_URL) {
              var g = ta(d.toString()),
                l,
                p,
                n = !1;
              l = 0;
              for (p = b.length; l < p; l++)
                if ("self" === b[l] ? Lb(g) : b[l].exec(g.href)) {
                  n = !0;
                  break;
                }
              if (n)
                for (l = 0, p = a.length; l < p; l++)
                  if ("self" === a[l] ? Lb(g) : a[l].exec(g.href)) {
                    n = !1;
                    break;
                  }
              if (n) return d;
              throw va("insecurl", d.toString());
            }
            if (c === fa.HTML) return e(d);
            throw va("unsafe");
          },
          valueOf: function (a) {
            return a instanceof g ? a.$$unwrapTrustedValue() : a;
          },
        };
      },
    ];
  }
  function ae() {
    var b = !0;
    this.enabled = function (a) {
      arguments.length && (b = !!a);
      return b;
    };
    this.$get = [
      "$parse",
      "$sniffer",
      "$sceDelegate",
      function (a, c, d) {
        if (b && c.msie && 8 > c.msieDocumentMode) throw va("iequirks");
        var e = ka(fa);
        e.isEnabled = function () {
          return b;
        };
        e.trustAs = d.trustAs;
        e.getTrusted = d.getTrusted;
        e.valueOf = d.valueOf;
        b ||
          ((e.trustAs = e.getTrusted =
            function (a, b) {
              return b;
            }),
          (e.valueOf = Fa));
        e.parseAs = function (b, c) {
          var d = a(c);
          return d.literal && d.constant
            ? d
            : function (a, c) {
                return e.getTrusted(b, d(a, c));
              };
        };
        var g = e.parseAs,
          f = e.getTrusted,
          k = e.trustAs;
        q(fa, function (a, b) {
          var c = I(b);
          e[Wa("parse_as_" + c)] = function (b) {
            return g(a, b);
          };
          e[Wa("get_trusted_" + c)] = function (b) {
            return f(a, b);
          };
          e[Wa("trust_as_" + c)] = function (b) {
            return k(a, b);
          };
        });
        return e;
      },
    ];
  }
  function ce() {
    this.$get = [
      "$window",
      "$document",
      function (b, a) {
        var c = {},
          d = Z(
            (/android (\d+)/.exec(I((b.navigator || {}).userAgent)) || [])[1]
          ),
          e = /Boxee/i.test((b.navigator || {}).userAgent),
          g = a[0] || {},
          f = g.documentMode,
          k,
          m = /^(Moz|webkit|O|ms)(?=[A-Z])/,
          h = g.body && g.body.style,
          l = !1,
          p = !1;
        if (h) {
          for (var n in h)
            if ((l = m.exec(n))) {
              k = l[0];
              k = k.substr(0, 1).toUpperCase() + k.substr(1);
              break;
            }
          k || (k = "WebkitOpacity" in h && "webkit");
          l = !!("transition" in h || k + "Transition" in h);
          p = !!("animation" in h || k + "Animation" in h);
          !d ||
            (l && p) ||
            ((l = y(g.body.style.webkitTransition)),
            (p = y(g.body.style.webkitAnimation)));
        }
        return {
          history: !(!b.history || !b.history.pushState || 4 > d || e),
          hashchange: "onhashchange" in b && (!f || 7 < f),
          hasEvent: function (a) {
            if ("input" == a && 9 == P) return !1;
            if (F(c[a])) {
              var b = g.createElement("div");
              c[a] = "on" + a in b;
            }
            return c[a];
          },
          csp: Zb(),
          vendorPrefix: k,
          transitions: l,
          animations: p,
          android: d,
          msie: P,
          msieDocumentMode: f,
        };
      },
    ];
  }
  function ee() {
    this.$get = [
      "$rootScope",
      "$browser",
      "$q",
      "$exceptionHandler",
      function (b, a, c, d) {
        function e(e, k, m) {
          var h = c.defer(),
            l = h.promise,
            p = B(m) && !m;
          k = a.defer(function () {
            try {
              h.resolve(e());
            } catch (a) {
              h.reject(a), d(a);
            } finally {
              delete g[l.$$timeoutId];
            }
            p || b.$apply();
          }, k);
          l.$$timeoutId = k;
          g[k] = h;
          return l;
        }
        var g = {};
        e.cancel = function (b) {
          return b && b.$$timeoutId in g
            ? (g[b.$$timeoutId].reject("canceled"),
              delete g[b.$$timeoutId],
              a.defer.cancel(b.$$timeoutId))
            : !1;
        };
        return e;
      },
    ];
  }
  function ta(b, a) {
    var c = b;
    P && (V.setAttribute("href", c), (c = V.href));
    V.setAttribute("href", c);
    return {
      href: V.href,
      protocol: V.protocol ? V.protocol.replace(/:$/, "") : "",
      host: V.host,
      search: V.search ? V.search.replace(/^\?/, "") : "",
      hash: V.hash ? V.hash.replace(/^#/, "") : "",
      hostname: V.hostname,
      port: V.port,
      pathname: "/" === V.pathname.charAt(0) ? V.pathname : "/" + V.pathname,
    };
  }
  function Lb(b) {
    b = y(b) ? ta(b) : b;
    return b.protocol === Hc.protocol && b.host === Hc.host;
  }
  function fe() {
    this.$get = $(S);
  }
  function jc(b) {
    function a(d, e) {
      if (T(d)) {
        var g = {};
        q(d, function (b, c) {
          g[c] = a(c, b);
        });
        return g;
      }
      return b.factory(d + c, e);
    }
    var c = "Filter";
    this.register = a;
    this.$get = [
      "$injector",
      function (a) {
        return function (b) {
          return a.get(b + c);
        };
      },
    ];
    a("currency", Ic);
    a("date", Jc);
    a("filter", Ae);
    a("json", Be);
    a("limitTo", Ce);
    a("lowercase", De);
    a("number", Kc);
    a("orderBy", Lc);
    a("uppercase", Ee);
  }
  function Ae() {
    return function (b, a, c) {
      if (!L(b)) return b;
      var d = typeof c,
        e = [];
      e.check = function (a) {
        for (var b = 0; b < e.length; b++) if (!e[b](a)) return !1;
        return !0;
      };
      "function" !== d &&
        (c =
          "boolean" === d && c
            ? function (a, b) {
                return Ta.equals(a, b);
              }
            : function (a, b) {
                if (a && b && "object" === typeof a && "object" === typeof b) {
                  for (var d in a)
                    if ("$" !== d.charAt(0) && gb.call(a, d) && c(a[d], b[d]))
                      return !0;
                  return !1;
                }
                b = ("" + b).toLowerCase();
                return -1 < ("" + a).toLowerCase().indexOf(b);
              });
      var g = function (a, b) {
        if ("string" == typeof b && "!" === b.charAt(0))
          return !g(a, b.substr(1));
        switch (typeof a) {
          case "boolean":
          case "number":
          case "string":
            return c(a, b);
          case "object":
            switch (typeof b) {
              case "object":
                return c(a, b);
              default:
                for (var d in a)
                  if ("$" !== d.charAt(0) && g(a[d], b)) return !0;
            }
            return !1;
          case "array":
            for (d = 0; d < a.length; d++) if (g(a[d], b)) return !0;
            return !1;
          default:
            return !1;
        }
      };
      switch (typeof a) {
        case "boolean":
        case "number":
        case "string":
          a = { $: a };
        case "object":
          for (var f in a)
            (function (b) {
              "undefined" !== typeof a[b] &&
                e.push(function (c) {
                  return g("$" == b ? c : c && c[b], a[b]);
                });
            })(f);
          break;
        case "function":
          e.push(a);
          break;
        default:
          return b;
      }
      d = [];
      for (f = 0; f < b.length; f++) {
        var k = b[f];
        e.check(k) && d.push(k);
      }
      return d;
    };
  }
  function Ic(b) {
    var a = b.NUMBER_FORMATS;
    return function (b, d) {
      F(d) && (d = a.CURRENCY_SYM);
      return Mc(b, a.PATTERNS[1], a.GROUP_SEP, a.DECIMAL_SEP, 2).replace(
        /\u00A4/g,
        d
      );
    };
  }
  function Kc(b) {
    var a = b.NUMBER_FORMATS;
    return function (b, d) {
      return Mc(b, a.PATTERNS[0], a.GROUP_SEP, a.DECIMAL_SEP, d);
    };
  }
  function Mc(b, a, c, d, e) {
    if (null == b || !isFinite(b) || T(b)) return "";
    var g = 0 > b;
    b = Math.abs(b);
    var f = b + "",
      k = "",
      m = [],
      h = !1;
    if (-1 !== f.indexOf("e")) {
      var l = f.match(/([\d\.]+)e(-?)(\d+)/);
      l && "-" == l[2] && l[3] > e + 1
        ? ((f = "0"), (b = 0))
        : ((k = f), (h = !0));
    }
    if (h) 0 < e && -1 < b && 1 > b && (k = b.toFixed(e));
    else {
      f = (f.split(Nc)[1] || "").length;
      F(e) && (e = Math.min(Math.max(a.minFrac, f), a.maxFrac));
      b = +(Math.round(+(b.toString() + "e" + e)).toString() + "e" + -e);
      b = ("" + b).split(Nc);
      f = b[0];
      b = b[1] || "";
      var l = 0,
        p = a.lgSize,
        n = a.gSize;
      if (f.length >= p + n)
        for (l = f.length - p, h = 0; h < l; h++)
          0 === (l - h) % n && 0 !== h && (k += c), (k += f.charAt(h));
      for (h = l; h < f.length; h++)
        0 === (f.length - h) % p && 0 !== h && (k += c), (k += f.charAt(h));
      for (; b.length < e; ) b += "0";
      e && "0" !== e && (k += d + b.substr(0, e));
    }
    m.push(g ? a.negPre : a.posPre);
    m.push(k);
    m.push(g ? a.negSuf : a.posSuf);
    return m.join("");
  }
  function Tb(b, a, c) {
    var d = "";
    0 > b && ((d = "-"), (b = -b));
    for (b = "" + b; b.length < a; ) b = "0" + b;
    c && (b = b.substr(b.length - a));
    return d + b;
  }
  function Y(b, a, c, d) {
    c = c || 0;
    return function (e) {
      e = e["get" + b]();
      if (0 < c || e > -c) e += c;
      0 === e && -12 == c && (e = 12);
      return Tb(e, a, d);
    };
  }
  function sb(b, a) {
    return function (c, d) {
      var e = c["get" + b](),
        g = Ha(a ? "SHORT" + b : b);
      return d[g][e];
    };
  }
  function Jc(b) {
    function a(a) {
      var b;
      if ((b = a.match(c))) {
        a = new Date(0);
        var g = 0,
          f = 0,
          k = b[8] ? a.setUTCFullYear : a.setFullYear,
          m = b[8] ? a.setUTCHours : a.setHours;
        b[9] && ((g = Z(b[9] + b[10])), (f = Z(b[9] + b[11])));
        k.call(a, Z(b[1]), Z(b[2]) - 1, Z(b[3]));
        g = Z(b[4] || 0) - g;
        f = Z(b[5] || 0) - f;
        k = Z(b[6] || 0);
        b = Math.round(1e3 * parseFloat("0." + (b[7] || 0)));
        m.call(a, g, f, k, b);
      }
      return a;
    }
    var c =
      /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
    return function (c, e) {
      var g = "",
        f = [],
        k,
        m;
      e = e || "mediumDate";
      e = b.DATETIME_FORMATS[e] || e;
      y(c) && (c = Fe.test(c) ? Z(c) : a(c));
      yb(c) && (c = new Date(c));
      if (!Oa(c)) return c;
      for (; e; )
        (m = Ge.exec(e))
          ? ((f = f.concat(za.call(m, 1))), (e = f.pop()))
          : (f.push(e), (e = null));
      q(f, function (a) {
        k = He[a];
        g += k
          ? k(c, b.DATETIME_FORMATS)
          : a.replace(/(^'|'$)/g, "").replace(/''/g, "'");
      });
      return g;
    };
  }
  function Be() {
    return function (b) {
      return sa(b, !0);
    };
  }
  function Ce() {
    return function (b, a) {
      if (!L(b) && !y(b)) return b;
      a = Infinity === Math.abs(Number(a)) ? Number(a) : Z(a);
      if (y(b)) return a ? (0 <= a ? b.slice(0, a) : b.slice(a, b.length)) : "";
      var c = [],
        d,
        e;
      a > b.length ? (a = b.length) : a < -b.length && (a = -b.length);
      0 < a ? ((d = 0), (e = a)) : ((d = b.length + a), (e = b.length));
      for (; d < e; d++) c.push(b[d]);
      return c;
    };
  }
  function Lc(b) {
    return function (a, c, d) {
      function e(a, b) {
        return Sa(b)
          ? function (b, c) {
              return a(c, b);
            }
          : a;
      }
      function g(a, b) {
        var c = typeof a,
          d = typeof b;
        return c == d
          ? ("string" == c && ((a = a.toLowerCase()), (b = b.toLowerCase())),
            a === b ? 0 : a < b ? -1 : 1)
          : c < d
          ? -1
          : 1;
      }
      if (!L(a) || !c) return a;
      c = L(c) ? c : [c];
      c = Vc(c, function (a) {
        var c = !1,
          d = a || Fa;
        if (y(a)) {
          if ("+" == a.charAt(0) || "-" == a.charAt(0))
            (c = "-" == a.charAt(0)), (a = a.substring(1));
          d = b(a);
          if (d.constant) {
            var f = d();
            return e(function (a, b) {
              return g(a[f], b[f]);
            }, c);
          }
        }
        return e(function (a, b) {
          return g(d(a), d(b));
        }, c);
      });
      for (var f = [], k = 0; k < a.length; k++) f.push(a[k]);
      return f.sort(
        e(function (a, b) {
          for (var d = 0; d < c.length; d++) {
            var e = c[d](a, b);
            if (0 !== e) return e;
          }
          return 0;
        }, d)
      );
    };
  }
  function wa(b) {
    O(b) && (b = { link: b });
    b.restrict = b.restrict || "AC";
    return $(b);
  }
  function Oc(b, a, c, d) {
    function e(a, c) {
      c = c ? "-" + ib(c, "-") : "";
      d.removeClass(b, (a ? tb : ub) + c);
      d.addClass(b, (a ? ub : tb) + c);
    }
    var g = this,
      f = b.parent().controller("form") || vb,
      k = 0,
      m = (g.$error = {}),
      h = [];
    g.$name = a.name || a.ngForm;
    g.$dirty = !1;
    g.$pristine = !0;
    g.$valid = !0;
    g.$invalid = !1;
    f.$addControl(g);
    b.addClass(Na);
    e(!0);
    g.$addControl = function (a) {
      Ba(a.$name, "input");
      h.push(a);
      a.$name && (g[a.$name] = a);
    };
    g.$removeControl = function (a) {
      a.$name && g[a.$name] === a && delete g[a.$name];
      q(m, function (b, c) {
        g.$setValidity(c, !0, a);
      });
      Qa(h, a);
    };
    g.$setValidity = function (a, b, c) {
      var d = m[a];
      if (b)
        d &&
          (Qa(d, c),
          d.length ||
            (k--,
            k || (e(b), (g.$valid = !0), (g.$invalid = !1)),
            (m[a] = !1),
            e(!0, a),
            f.$setValidity(a, !0, g)));
      else {
        k || e(b);
        if (d) {
          if (-1 != Pa(d, c)) return;
        } else (m[a] = d = []), k++, e(!1, a), f.$setValidity(a, !1, g);
        d.push(c);
        g.$valid = !1;
        g.$invalid = !0;
      }
    };
    g.$setDirty = function () {
      d.removeClass(b, Na);
      d.addClass(b, wb);
      g.$dirty = !0;
      g.$pristine = !1;
      f.$setDirty();
    };
    g.$setPristine = function () {
      d.removeClass(b, wb);
      d.addClass(b, Na);
      g.$dirty = !1;
      g.$pristine = !0;
      q(h, function (a) {
        a.$setPristine();
      });
    };
  }
  function ra(b, a, c, d) {
    b.$setValidity(a, c);
    return c ? d : s;
  }
  function Pc(b, a) {
    var c, d;
    if (a) for (c = 0; c < a.length; ++c) if (((d = a[c]), b[d])) return !0;
    return !1;
  }
  function Ie(b, a, c, d, e) {
    T(e) &&
      ((b.$$hasNativeValidators = !0),
      b.$parsers.push(function (g) {
        if (b.$error[a] || Pc(e, d) || !Pc(e, c)) return g;
        b.$setValidity(a, !1);
      }));
  }
  function xb(b, a, c, d, e, g) {
    var f = a.prop(Je),
      k = a[0].placeholder,
      m = {};
    d.$$validityState = f;
    if (!e.android) {
      var h = !1;
      a.on("compositionstart", function (a) {
        h = !0;
      });
      a.on("compositionend", function () {
        h = !1;
        l();
      });
    }
    var l = function (e) {
      if (!h) {
        var g = a.val();
        if (P && "input" === (e || m).type && a[0].placeholder !== k)
          k = a[0].placeholder;
        else if (
          (Sa(c.ngTrim || "T") && (g = aa(g)),
          (e = f && d.$$hasNativeValidators),
          d.$viewValue !== g || ("" === g && e))
        )
          b.$$phase
            ? d.$setViewValue(g)
            : b.$apply(function () {
                d.$setViewValue(g);
              });
      }
    };
    if (e.hasEvent("input")) a.on("input", l);
    else {
      var p,
        n = function () {
          p ||
            (p = g.defer(function () {
              l();
              p = null;
            }));
        };
      a.on("keydown", function (a) {
        a = a.keyCode;
        91 === a || (15 < a && 19 > a) || (37 <= a && 40 >= a) || n();
      });
      if (e.hasEvent("paste")) a.on("paste cut", n);
    }
    a.on("change", l);
    d.$render = function () {
      a.val(d.$isEmpty(d.$viewValue) ? "" : d.$viewValue);
    };
    var r = c.ngPattern;
    r &&
      ((e = r.match(/^\/(.*)\/([gim]*)$/))
        ? ((r = RegExp(e[1], e[2])),
          (e = function (a) {
            return ra(d, "pattern", d.$isEmpty(a) || r.test(a), a);
          }))
        : (e = function (c) {
            var e = b.$eval(r);
            if (!e || !e.test) throw v("ngPattern")("noregexp", r, e, ga(a));
            return ra(d, "pattern", d.$isEmpty(c) || e.test(c), c);
          }),
      d.$formatters.push(e),
      d.$parsers.push(e));
    if (c.ngMinlength) {
      var t = Z(c.ngMinlength);
      e = function (a) {
        return ra(d, "minlength", d.$isEmpty(a) || a.length >= t, a);
      };
      d.$parsers.push(e);
      d.$formatters.push(e);
    }
    if (c.ngMaxlength) {
      var q = Z(c.ngMaxlength);
      e = function (a) {
        return ra(d, "maxlength", d.$isEmpty(a) || a.length <= q, a);
      };
      d.$parsers.push(e);
      d.$formatters.push(e);
    }
  }
  function Ub(b, a) {
    b = "ngClass" + b;
    return [
      "$animate",
      function (c) {
        function d(a, b) {
          var c = [],
            d = 0;
          a: for (; d < a.length; d++) {
            for (var e = a[d], l = 0; l < b.length; l++)
              if (e == b[l]) continue a;
            c.push(e);
          }
          return c;
        }
        function e(a) {
          if (!L(a)) {
            if (y(a)) return a.split(" ");
            if (T(a)) {
              var b = [];
              q(a, function (a, c) {
                a && (b = b.concat(c.split(" ")));
              });
              return b;
            }
          }
          return a;
        }
        return {
          restrict: "AC",
          link: function (g, f, k) {
            function m(a, b) {
              var c = f.data("$classCounts") || {},
                d = [];
              q(a, function (a) {
                if (0 < b || c[a])
                  (c[a] = (c[a] || 0) + b), c[a] === +(0 < b) && d.push(a);
              });
              f.data("$classCounts", c);
              return d.join(" ");
            }
            function h(b) {
              if (!0 === a || g.$index % 2 === a) {
                var h = e(b || []);
                if (!l) {
                  var r = m(h, 1);
                  k.$addClass(r);
                } else if (!ya(b, l)) {
                  var q = e(l),
                    r = d(h, q),
                    h = d(q, h),
                    h = m(h, -1),
                    r = m(r, 1);
                  0 === r.length
                    ? c.removeClass(f, h)
                    : 0 === h.length
                    ? c.addClass(f, r)
                    : c.setClass(f, r, h);
                }
              }
              l = ka(b);
            }
            var l;
            g.$watch(k[b], h, !0);
            k.$observe("class", function (a) {
              h(g.$eval(k[b]));
            });
            "ngClass" !== b &&
              g.$watch("$index", function (c, d) {
                var f = c & 1;
                if (f !== (d & 1)) {
                  var h = e(g.$eval(k[b]));
                  f === a
                    ? ((f = m(h, 1)), k.$addClass(f))
                    : ((f = m(h, -1)), k.$removeClass(f));
                }
              });
          },
        };
      },
    ];
  }
  var Je = "validity",
    I = function (b) {
      return y(b) ? b.toLowerCase() : b;
    },
    gb = Object.prototype.hasOwnProperty,
    Ha = function (b) {
      return y(b) ? b.toUpperCase() : b;
    },
    P,
    x,
    Ca,
    za = [].slice,
    Ke = [].push,
    xa = Object.prototype.toString,
    Ra = v("ng"),
    Ta = S.angular || (S.angular = {}),
    Va,
    La,
    ja = ["0", "0", "0"];
  P = Z((/msie (\d+)/.exec(I(navigator.userAgent)) || [])[1]);
  isNaN(P) &&
    (P = Z((/trident\/.*; rv:(\d+)/.exec(I(navigator.userAgent)) || [])[1]));
  A.$inject = [];
  Fa.$inject = [];
  var L = (function () {
      return O(Array.isArray)
        ? Array.isArray
        : function (b) {
            return "[object Array]" === xa.call(b);
          };
    })(),
    aa = (function () {
      return String.prototype.trim
        ? function (b) {
            return y(b) ? b.trim() : b;
          }
        : function (b) {
            return y(b) ? b.replace(/^\s\s*/, "").replace(/\s\s*$/, "") : b;
          };
    })();
  La =
    9 > P
      ? function (b) {
          b = b.nodeName ? b : b[0];
          return b.scopeName && "HTML" != b.scopeName
            ? Ha(b.scopeName + ":" + b.nodeName)
            : b.nodeName;
        }
      : function (b) {
          return b.nodeName ? b.nodeName : b[0].nodeName;
        };
  var Yc = /[A-Z]/g,
    ad = {
      full: "1.2.20",
      major: 1,
      minor: 2,
      dot: 20,
      codeName: "accidental-beautification",
    };
  R.expando = "ng339";
  var Ya = (R.cache = {}),
    ne = 1,
    pb = S.document.addEventListener
      ? function (b, a, c) {
          b.addEventListener(a, c, !1);
        }
      : function (b, a, c) {
          b.attachEvent("on" + a, c);
        },
    Xa = S.document.removeEventListener
      ? function (b, a, c) {
          b.removeEventListener(a, c, !1);
        }
      : function (b, a, c) {
          b.detachEvent("on" + a, c);
        };
  R._data = function (b) {
    return this.cache[b[this.expando]] || {};
  };
  var ie = /([\:\-\_]+(.))/g,
    je = /^moz([A-Z])/,
    Fb = v("jqLite"),
    ke = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
    Gb = /<|&#?\w+;/,
    le = /<([\w:]+)/,
    me =
      /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
    ba = {
      option: [1, '<select multiple="multiple">', "</select>"],
      thead: [1, "<table>", "</table>"],
      col: [2, "<table><colgroup>", "</colgroup></table>"],
      tr: [2, "<table><tbody>", "</tbody></table>"],
      td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
      _default: [0, "", ""],
    };
  ba.optgroup = ba.option;
  ba.tbody = ba.tfoot = ba.colgroup = ba.caption = ba.thead;
  ba.th = ba.td;
  var Ka = (R.prototype = {
      ready: function (b) {
        function a() {
          c || ((c = !0), b());
        }
        var c = !1;
        "complete" === U.readyState
          ? setTimeout(a)
          : (this.on("DOMContentLoaded", a), R(S).on("load", a));
      },
      toString: function () {
        var b = [];
        q(this, function (a) {
          b.push("" + a);
        });
        return "[" + b.join(", ") + "]";
      },
      eq: function (b) {
        return 0 <= b ? x(this[b]) : x(this[this.length + b]);
      },
      length: 0,
      push: Ke,
      sort: [].sort,
      splice: [].splice,
    }),
    mb = {};
  q(
    "multiple selected checked disabled readOnly required open".split(" "),
    function (b) {
      mb[I(b)] = b;
    }
  );
  var qc = {};
  q(
    "input select option textarea button form details".split(" "),
    function (b) {
      qc[Ha(b)] = !0;
    }
  );
  q(
    {
      data: mc,
      inheritedData: lb,
      scope: function (b) {
        return (
          x(b).data("$scope") ||
          lb(b.parentNode || b, ["$isolateScope", "$scope"])
        );
      },
      isolateScope: function (b) {
        return (
          x(b).data("$isolateScope") || x(b).data("$isolateScopeNoTemplate")
        );
      },
      controller: nc,
      injector: function (b) {
        return lb(b, "$injector");
      },
      removeAttr: function (b, a) {
        b.removeAttribute(a);
      },
      hasClass: Jb,
      css: function (b, a, c) {
        a = Wa(a);
        if (B(c)) b.style[a] = c;
        else {
          var d;
          8 >= P &&
            ((d = b.currentStyle && b.currentStyle[a]),
            "" === d && (d = "auto"));
          d = d || b.style[a];
          8 >= P && (d = "" === d ? s : d);
          return d;
        }
      },
      attr: function (b, a, c) {
        var d = I(a);
        if (mb[d])
          if (B(c))
            c
              ? ((b[a] = !0), b.setAttribute(a, d))
              : ((b[a] = !1), b.removeAttribute(d));
          else
            return b[a] || (b.attributes.getNamedItem(a) || A).specified
              ? d
              : s;
        else if (B(c)) b.setAttribute(a, c);
        else if (b.getAttribute)
          return (b = b.getAttribute(a, 2)), null === b ? s : b;
      },
      prop: function (b, a, c) {
        if (B(c)) b[a] = c;
        else return b[a];
      },
      text: (function () {
        function b(b, d) {
          var e = a[b.nodeType];
          if (F(d)) return e ? b[e] : "";
          b[e] = d;
        }
        var a = [];
        9 > P
          ? ((a[1] = "innerText"), (a[3] = "nodeValue"))
          : (a[1] = a[3] = "textContent");
        b.$dv = "";
        return b;
      })(),
      val: function (b, a) {
        if (F(a)) {
          if ("SELECT" === La(b) && b.multiple) {
            var c = [];
            q(b.options, function (a) {
              a.selected && c.push(a.value || a.text);
            });
            return 0 === c.length ? null : c;
          }
          return b.value;
        }
        b.value = a;
      },
      html: function (b, a) {
        if (F(a)) return b.innerHTML;
        for (var c = 0, d = b.childNodes; c < d.length; c++) Ia(d[c]);
        b.innerHTML = a;
      },
      empty: oc,
    },
    function (b, a) {
      R.prototype[a] = function (a, d) {
        var e,
          g,
          f = this.length;
        if (b !== oc && (2 == b.length && b !== Jb && b !== nc ? a : d) === s) {
          if (T(a)) {
            for (e = 0; e < f; e++)
              if (b === mc) b(this[e], a);
              else for (g in a) b(this[e], g, a[g]);
            return this;
          }
          e = b.$dv;
          f = e === s ? Math.min(f, 1) : f;
          for (g = 0; g < f; g++) {
            var k = b(this[g], a, d);
            e = e ? e + k : k;
          }
          return e;
        }
        for (e = 0; e < f; e++) b(this[e], a, d);
        return this;
      };
    }
  );
  q(
    {
      removeData: kc,
      dealoc: Ia,
      on: function a(c, d, e, g) {
        if (B(g)) throw Fb("onargs");
        var f = la(c, "events"),
          k = la(c, "handle");
        f || la(c, "events", (f = {}));
        k || la(c, "handle", (k = oe(c, f)));
        q(d.split(" "), function (d) {
          var g = f[d];
          if (!g) {
            if ("mouseenter" == d || "mouseleave" == d) {
              var l =
                U.body.contains || U.body.compareDocumentPosition
                  ? function (a, c) {
                      var d = 9 === a.nodeType ? a.documentElement : a,
                        e = c && c.parentNode;
                      return (
                        a === e ||
                        !!(
                          e &&
                          1 === e.nodeType &&
                          (d.contains
                            ? d.contains(e)
                            : a.compareDocumentPosition &&
                              a.compareDocumentPosition(e) & 16)
                        )
                      );
                    }
                  : function (a, c) {
                      if (c)
                        for (; (c = c.parentNode); ) if (c === a) return !0;
                      return !1;
                    };
              f[d] = [];
              a(
                c,
                { mouseleave: "mouseout", mouseenter: "mouseover" }[d],
                function (a) {
                  var c = a.relatedTarget;
                  (c && (c === this || l(this, c))) || k(a, d);
                }
              );
            } else pb(c, d, k), (f[d] = []);
            g = f[d];
          }
          g.push(e);
        });
      },
      off: lc,
      one: function (a, c, d) {
        a = x(a);
        a.on(c, function g() {
          a.off(c, d);
          a.off(c, g);
        });
        a.on(c, d);
      },
      replaceWith: function (a, c) {
        var d,
          e = a.parentNode;
        Ia(a);
        q(new R(c), function (c) {
          d ? e.insertBefore(c, d.nextSibling) : e.replaceChild(c, a);
          d = c;
        });
      },
      children: function (a) {
        var c = [];
        q(a.childNodes, function (a) {
          1 === a.nodeType && c.push(a);
        });
        return c;
      },
      contents: function (a) {
        return a.contentDocument || a.childNodes || [];
      },
      append: function (a, c) {
        q(new R(c), function (c) {
          (1 !== a.nodeType && 11 !== a.nodeType) || a.appendChild(c);
        });
      },
      prepend: function (a, c) {
        if (1 === a.nodeType) {
          var d = a.firstChild;
          q(new R(c), function (c) {
            a.insertBefore(c, d);
          });
        }
      },
      wrap: function (a, c) {
        c = x(c)[0];
        var d = a.parentNode;
        d && d.replaceChild(c, a);
        c.appendChild(a);
      },
      remove: function (a) {
        Ia(a);
        var c = a.parentNode;
        c && c.removeChild(a);
      },
      after: function (a, c) {
        var d = a,
          e = a.parentNode;
        q(new R(c), function (a) {
          e.insertBefore(a, d.nextSibling);
          d = a;
        });
      },
      addClass: kb,
      removeClass: jb,
      toggleClass: function (a, c, d) {
        c &&
          q(c.split(" "), function (c) {
            var g = d;
            F(g) && (g = !Jb(a, c));
            (g ? kb : jb)(a, c);
          });
      },
      parent: function (a) {
        return (a = a.parentNode) && 11 !== a.nodeType ? a : null;
      },
      next: function (a) {
        if (a.nextElementSibling) return a.nextElementSibling;
        for (a = a.nextSibling; null != a && 1 !== a.nodeType; )
          a = a.nextSibling;
        return a;
      },
      find: function (a, c) {
        return a.getElementsByTagName ? a.getElementsByTagName(c) : [];
      },
      clone: Ib,
      triggerHandler: function (a, c, d) {
        c = (la(a, "events") || {})[c];
        d = d || [];
        var e = [{ preventDefault: A, stopPropagation: A }];
        q(c, function (c) {
          c.apply(a, e.concat(d));
        });
      },
    },
    function (a, c) {
      R.prototype[c] = function (c, e, g) {
        for (var f, k = 0; k < this.length; k++)
          F(f)
            ? ((f = a(this[k], c, e, g)), B(f) && (f = x(f)))
            : Hb(f, a(this[k], c, e, g));
        return B(f) ? f : this;
      };
      R.prototype.bind = R.prototype.on;
      R.prototype.unbind = R.prototype.off;
    }
  );
  Za.prototype = {
    put: function (a, c) {
      this[Ja(a, this.nextUid)] = c;
    },
    get: function (a) {
      return this[Ja(a, this.nextUid)];
    },
    remove: function (a) {
      var c = this[(a = Ja(a, this.nextUid))];
      delete this[a];
      return c;
    },
  };
  var qe = /^function\s*[^\(]*\(\s*([^\)]*)\)/m,
    re = /,/,
    se = /^\s*(_?)(\S+?)\1\s*$/,
    pe = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,
    $a = v("$injector"),
    Le = v("$animate"),
    Md = [
      "$provide",
      function (a) {
        this.$$selectors = {};
        this.register = function (c, d) {
          var e = c + "-animation";
          if (c && "." != c.charAt(0)) throw Le("notcsel", c);
          this.$$selectors[c.substr(1)] = e;
          a.factory(e, d);
        };
        this.classNameFilter = function (a) {
          1 === arguments.length &&
            (this.$$classNameFilter = a instanceof RegExp ? a : null);
          return this.$$classNameFilter;
        };
        this.$get = [
          "$timeout",
          "$$asyncCallback",
          function (a, d) {
            return {
              enter: function (a, c, f, k) {
                f ? f.after(a) : ((c && c[0]) || (c = f.parent()), c.append(a));
                k && d(k);
              },
              leave: function (a, c) {
                a.remove();
                c && d(c);
              },
              move: function (a, c, d, k) {
                this.enter(a, c, d, k);
              },
              addClass: function (a, c, f) {
                c = y(c) ? c : L(c) ? c.join(" ") : "";
                q(a, function (a) {
                  kb(a, c);
                });
                f && d(f);
              },
              removeClass: function (a, c, f) {
                c = y(c) ? c : L(c) ? c.join(" ") : "";
                q(a, function (a) {
                  jb(a, c);
                });
                f && d(f);
              },
              setClass: function (a, c, f, k) {
                q(a, function (a) {
                  kb(a, c);
                  jb(a, f);
                });
                k && d(k);
              },
              enabled: A,
            };
          },
        ];
      },
    ],
    ha = v("$compile");
  fc.$inject = ["$provide", "$$sanitizeUriProvider"];
  var ue = /^(x[\:\-_]|data[\:\-_])/i,
    yc = v("$interpolate"),
    Me = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/,
    xe = { http: 80, https: 443, ftp: 21 },
    Ob = v("$location");
  Qb.prototype =
    Pb.prototype =
    Bc.prototype =
      {
        $$html5: !1,
        $$replace: !1,
        absUrl: qb("$$absUrl"),
        url: function (a, c) {
          if (F(a)) return this.$$url;
          var d = Me.exec(a);
          d[1] && this.path(decodeURIComponent(d[1]));
          (d[2] || d[1]) && this.search(d[3] || "");
          this.hash(d[5] || "", c);
          return this;
        },
        protocol: qb("$$protocol"),
        host: qb("$$host"),
        port: qb("$$port"),
        path: Cc("$$path", function (a) {
          return "/" == a.charAt(0) ? a : "/" + a;
        }),
        search: function (a, c) {
          switch (arguments.length) {
            case 0:
              return this.$$search;
            case 1:
              if (y(a)) this.$$search = bc(a);
              else if (T(a))
                q(a, function (c, e) {
                  null == c && delete a[e];
                }),
                  (this.$$search = a);
              else throw Ob("isrcharg");
              break;
            default:
              F(c) || null === c
                ? delete this.$$search[a]
                : (this.$$search[a] = c);
          }
          this.$$compose();
          return this;
        },
        hash: Cc("$$hash", Fa),
        replace: function () {
          this.$$replace = !0;
          return this;
        },
      };
  var ia = v("$parse"),
    Fc = {},
    ua,
    Ne = Function.prototype.call,
    Oe = Function.prototype.apply,
    Qc = Function.prototype.bind,
    cb = {
      null: function () {
        return null;
      },
      true: function () {
        return !0;
      },
      false: function () {
        return !1;
      },
      undefined: A,
      "+": function (a, c, d, e) {
        d = d(a, c);
        e = e(a, c);
        return B(d) ? (B(e) ? d + e : d) : B(e) ? e : s;
      },
      "-": function (a, c, d, e) {
        d = d(a, c);
        e = e(a, c);
        return (B(d) ? d : 0) - (B(e) ? e : 0);
      },
      "*": function (a, c, d, e) {
        return d(a, c) * e(a, c);
      },
      "/": function (a, c, d, e) {
        return d(a, c) / e(a, c);
      },
      "%": function (a, c, d, e) {
        return d(a, c) % e(a, c);
      },
      "^": function (a, c, d, e) {
        return d(a, c) ^ e(a, c);
      },
      "=": A,
      "===": function (a, c, d, e) {
        return d(a, c) === e(a, c);
      },
      "!==": function (a, c, d, e) {
        return d(a, c) !== e(a, c);
      },
      "==": function (a, c, d, e) {
        return d(a, c) == e(a, c);
      },
      "!=": function (a, c, d, e) {
        return d(a, c) != e(a, c);
      },
      "<": function (a, c, d, e) {
        return d(a, c) < e(a, c);
      },
      ">": function (a, c, d, e) {
        return d(a, c) > e(a, c);
      },
      "<=": function (a, c, d, e) {
        return d(a, c) <= e(a, c);
      },
      ">=": function (a, c, d, e) {
        return d(a, c) >= e(a, c);
      },
      "&&": function (a, c, d, e) {
        return d(a, c) && e(a, c);
      },
      "||": function (a, c, d, e) {
        return d(a, c) || e(a, c);
      },
      "&": function (a, c, d, e) {
        return d(a, c) & e(a, c);
      },
      "|": function (a, c, d, e) {
        return e(a, c)(a, c, d(a, c));
      },
      "!": function (a, c, d) {
        return !d(a, c);
      },
    },
    Pe = { n: "\n", f: "\f", r: "\r", t: "\t", v: "\v", "'": "'", '"': '"' },
    Sb = function (a) {
      this.options = a;
    };
  Sb.prototype = {
    constructor: Sb,
    lex: function (a) {
      this.text = a;
      this.index = 0;
      this.ch = s;
      this.lastCh = ":";
      for (this.tokens = []; this.index < this.text.length; ) {
        this.ch = this.text.charAt(this.index);
        if (this.is("\"'")) this.readString(this.ch);
        else if (
          this.isNumber(this.ch) ||
          (this.is(".") && this.isNumber(this.peek()))
        )
          this.readNumber();
        else if (this.isIdent(this.ch)) this.readIdent();
        else if (this.is("(){}[].,;:?"))
          this.tokens.push({ index: this.index, text: this.ch }), this.index++;
        else if (this.isWhitespace(this.ch)) {
          this.index++;
          continue;
        } else {
          a = this.ch + this.peek();
          var c = a + this.peek(2),
            d = cb[this.ch],
            e = cb[a],
            g = cb[c];
          g
            ? (this.tokens.push({ index: this.index, text: c, fn: g }),
              (this.index += 3))
            : e
            ? (this.tokens.push({ index: this.index, text: a, fn: e }),
              (this.index += 2))
            : d
            ? (this.tokens.push({ index: this.index, text: this.ch, fn: d }),
              (this.index += 1))
            : this.throwError(
                "Unexpected next character ",
                this.index,
                this.index + 1
              );
        }
        this.lastCh = this.ch;
      }
      return this.tokens;
    },
    is: function (a) {
      return -1 !== a.indexOf(this.ch);
    },
    was: function (a) {
      return -1 !== a.indexOf(this.lastCh);
    },
    peek: function (a) {
      a = a || 1;
      return this.index + a < this.text.length
        ? this.text.charAt(this.index + a)
        : !1;
    },
    isNumber: function (a) {
      return "0" <= a && "9" >= a;
    },
    isWhitespace: function (a) {
      return (
        " " === a ||
        "\r" === a ||
        "\t" === a ||
        "\n" === a ||
        "\v" === a ||
        "\u00a0" === a
      );
    },
    isIdent: function (a) {
      return (
        ("a" <= a && "z" >= a) ||
        ("A" <= a && "Z" >= a) ||
        "_" === a ||
        "$" === a
      );
    },
    isExpOperator: function (a) {
      return "-" === a || "+" === a || this.isNumber(a);
    },
    throwError: function (a, c, d) {
      d = d || this.index;
      c = B(c)
        ? "s " + c + "-" + this.index + " [" + this.text.substring(c, d) + "]"
        : " " + d;
      throw ia("lexerr", a, c, this.text);
    },
    readNumber: function () {
      for (var a = "", c = this.index; this.index < this.text.length; ) {
        var d = I(this.text.charAt(this.index));
        if ("." == d || this.isNumber(d)) a += d;
        else {
          var e = this.peek();
          if ("e" == d && this.isExpOperator(e)) a += d;
          else if (
            this.isExpOperator(d) &&
            e &&
            this.isNumber(e) &&
            "e" == a.charAt(a.length - 1)
          )
            a += d;
          else if (
            !this.isExpOperator(d) ||
            (e && this.isNumber(e)) ||
            "e" != a.charAt(a.length - 1)
          )
            break;
          else this.throwError("Invalid exponent");
        }
        this.index++;
      }
      a *= 1;
      this.tokens.push({
        index: c,
        text: a,
        literal: !0,
        constant: !0,
        fn: function () {
          return a;
        },
      });
    },
    readIdent: function () {
      for (
        var a = this, c = "", d = this.index, e, g, f, k;
        this.index < this.text.length;

      ) {
        k = this.text.charAt(this.index);
        if ("." === k || this.isIdent(k) || this.isNumber(k))
          "." === k && (e = this.index), (c += k);
        else break;
        this.index++;
      }
      if (e)
        for (g = this.index; g < this.text.length; ) {
          k = this.text.charAt(g);
          if ("(" === k) {
            f = c.substr(e - d + 1);
            c = c.substr(0, e - d);
            this.index = g;
            break;
          }
          if (this.isWhitespace(k)) g++;
          else break;
        }
      d = { index: d, text: c };
      if (cb.hasOwnProperty(c))
        (d.fn = cb[c]), (d.literal = !0), (d.constant = !0);
      else {
        var m = Ec(c, this.options, this.text);
        d.fn = E(
          function (a, c) {
            return m(a, c);
          },
          {
            assign: function (d, e) {
              return rb(d, c, e, a.text, a.options);
            },
          }
        );
      }
      this.tokens.push(d);
      f &&
        (this.tokens.push({ index: e, text: "." }),
        this.tokens.push({ index: e + 1, text: f }));
    },
    readString: function (a) {
      var c = this.index;
      this.index++;
      for (var d = "", e = a, g = !1; this.index < this.text.length; ) {
        var f = this.text.charAt(this.index),
          e = e + f;
        if (g)
          "u" === f
            ? ((f = this.text.substring(this.index + 1, this.index + 5)),
              f.match(/[\da-f]{4}/i) ||
                this.throwError("Invalid unicode escape [\\u" + f + "]"),
              (this.index += 4),
              (d += String.fromCharCode(parseInt(f, 16))))
            : (d = (g = Pe[f]) ? d + g : d + f),
            (g = !1);
        else if ("\\" === f) g = !0;
        else {
          if (f === a) {
            this.index++;
            this.tokens.push({
              index: c,
              text: e,
              string: d,
              literal: !0,
              constant: !0,
              fn: function () {
                return d;
              },
            });
            return;
          }
          d += f;
        }
        this.index++;
      }
      this.throwError("Unterminated quote", c);
    },
  };
  var bb = function (a, c, d) {
    this.lexer = a;
    this.$filter = c;
    this.options = d;
  };
  bb.ZERO = E(
    function () {
      return 0;
    },
    { constant: !0 }
  );
  bb.prototype = {
    constructor: bb,
    parse: function (a) {
      this.text = a;
      this.tokens = this.lexer.lex(a);
      a = this.statements();
      0 !== this.tokens.length &&
        this.throwError("is an unexpected token", this.tokens[0]);
      a.literal = !!a.literal;
      a.constant = !!a.constant;
      return a;
    },
    primary: function () {
      var a;
      if (this.expect("(")) (a = this.filterChain()), this.consume(")");
      else if (this.expect("[")) a = this.arrayDeclaration();
      else if (this.expect("{")) a = this.object();
      else {
        var c = this.expect();
        (a = c.fn) || this.throwError("not a primary expression", c);
        a.literal = !!c.literal;
        a.constant = !!c.constant;
      }
      for (var d; (c = this.expect("(", "[", ".")); )
        "(" === c.text
          ? ((a = this.functionCall(a, d)), (d = null))
          : "[" === c.text
          ? ((d = a), (a = this.objectIndex(a)))
          : "." === c.text
          ? ((d = a), (a = this.fieldAccess(a)))
          : this.throwError("IMPOSSIBLE");
      return a;
    },
    throwError: function (a, c) {
      throw ia(
        "syntax",
        c.text,
        a,
        c.index + 1,
        this.text,
        this.text.substring(c.index)
      );
    },
    peekToken: function () {
      if (0 === this.tokens.length) throw ia("ueoe", this.text);
      return this.tokens[0];
    },
    peek: function (a, c, d, e) {
      if (0 < this.tokens.length) {
        var g = this.tokens[0],
          f = g.text;
        if (f === a || f === c || f === d || f === e || !(a || c || d || e))
          return g;
      }
      return !1;
    },
    expect: function (a, c, d, e) {
      return (a = this.peek(a, c, d, e)) ? (this.tokens.shift(), a) : !1;
    },
    consume: function (a) {
      this.expect(a) ||
        this.throwError("is unexpected, expecting [" + a + "]", this.peek());
    },
    unaryFn: function (a, c) {
      return E(
        function (d, e) {
          return a(d, e, c);
        },
        { constant: c.constant }
      );
    },
    ternaryFn: function (a, c, d) {
      return E(
        function (e, g) {
          return a(e, g) ? c(e, g) : d(e, g);
        },
        { constant: a.constant && c.constant && d.constant }
      );
    },
    binaryFn: function (a, c, d) {
      return E(
        function (e, g) {
          return c(e, g, a, d);
        },
        { constant: a.constant && d.constant }
      );
    },
    statements: function () {
      for (var a = []; ; )
        if (
          (0 < this.tokens.length &&
            !this.peek("}", ")", ";", "]") &&
            a.push(this.filterChain()),
          !this.expect(";"))
        )
          return 1 === a.length
            ? a[0]
            : function (c, d) {
                for (var e, g = 0; g < a.length; g++) {
                  var f = a[g];
                  f && (e = f(c, d));
                }
                return e;
              };
    },
    filterChain: function () {
      for (var a = this.expression(), c; ; )
        if ((c = this.expect("|"))) a = this.binaryFn(a, c.fn, this.filter());
        else return a;
    },
    filter: function () {
      for (var a = this.expect(), c = this.$filter(a.text), d = []; ; )
        if ((a = this.expect(":"))) d.push(this.expression());
        else {
          var e = function (a, e, k) {
            k = [k];
            for (var m = 0; m < d.length; m++) k.push(d[m](a, e));
            return c.apply(a, k);
          };
          return function () {
            return e;
          };
        }
    },
    expression: function () {
      return this.assignment();
    },
    assignment: function () {
      var a = this.ternary(),
        c,
        d;
      return (d = this.expect("="))
        ? (a.assign ||
            this.throwError(
              "implies assignment but [" +
                this.text.substring(0, d.index) +
                "] can not be assigned to",
              d
            ),
          (c = this.ternary()),
          function (d, g) {
            return a.assign(d, c(d, g), g);
          })
        : a;
    },
    ternary: function () {
      var a = this.logicalOR(),
        c,
        d;
      if (this.expect("?")) {
        c = this.ternary();
        if ((d = this.expect(":"))) return this.ternaryFn(a, c, this.ternary());
        this.throwError("expected :", d);
      } else return a;
    },
    logicalOR: function () {
      for (var a = this.logicalAND(), c; ; )
        if ((c = this.expect("||")))
          a = this.binaryFn(a, c.fn, this.logicalAND());
        else return a;
    },
    logicalAND: function () {
      var a = this.equality(),
        c;
      if ((c = this.expect("&&")))
        a = this.binaryFn(a, c.fn, this.logicalAND());
      return a;
    },
    equality: function () {
      var a = this.relational(),
        c;
      if ((c = this.expect("==", "!=", "===", "!==")))
        a = this.binaryFn(a, c.fn, this.equality());
      return a;
    },
    relational: function () {
      var a = this.additive(),
        c;
      if ((c = this.expect("<", ">", "<=", ">=")))
        a = this.binaryFn(a, c.fn, this.relational());
      return a;
    },
    additive: function () {
      for (var a = this.multiplicative(), c; (c = this.expect("+", "-")); )
        a = this.binaryFn(a, c.fn, this.multiplicative());
      return a;
    },
    multiplicative: function () {
      for (var a = this.unary(), c; (c = this.expect("*", "/", "%")); )
        a = this.binaryFn(a, c.fn, this.unary());
      return a;
    },
    unary: function () {
      var a;
      return this.expect("+")
        ? this.primary()
        : (a = this.expect("-"))
        ? this.binaryFn(bb.ZERO, a.fn, this.unary())
        : (a = this.expect("!"))
        ? this.unaryFn(a.fn, this.unary())
        : this.primary();
    },
    fieldAccess: function (a) {
      var c = this,
        d = this.expect().text,
        e = Ec(d, this.options, this.text);
      return E(
        function (c, d, k) {
          return e(k || a(c, d));
        },
        {
          assign: function (e, f, k) {
            return rb(a(e, k), d, f, c.text, c.options);
          },
        }
      );
    },
    objectIndex: function (a) {
      var c = this,
        d = this.expression();
      this.consume("]");
      return E(
        function (e, g) {
          var f = a(e, g),
            k = d(e, g),
            m;
          qa(k, c.text);
          if (!f) return s;
          (f = Ma(f[k], c.text)) &&
            f.then &&
            c.options.unwrapPromises &&
            ((m = f),
            "$$v" in f ||
              ((m.$$v = s),
              m.then(function (a) {
                m.$$v = a;
              })),
            (f = f.$$v));
          return f;
        },
        {
          assign: function (e, g, f) {
            var k = d(e, f);
            return (Ma(a(e, f), c.text)[k] = g);
          },
        }
      );
    },
    functionCall: function (a, c) {
      var d = [];
      if (")" !== this.peekToken().text) {
        do d.push(this.expression());
        while (this.expect(","));
      }
      this.consume(")");
      var e = this;
      return function (g, f) {
        for (var k = [], m = c ? c(g, f) : g, h = 0; h < d.length; h++)
          k.push(d[h](g, f));
        h = a(g, f, m) || A;
        Ma(m, e.text);
        var l = e.text;
        if (h) {
          if (h.constructor === h) throw ia("isecfn", l);
          if (h === Ne || h === Oe || (Qc && h === Qc)) throw ia("isecff", l);
        }
        k = h.apply ? h.apply(m, k) : h(k[0], k[1], k[2], k[3], k[4]);
        return Ma(k, e.text);
      };
    },
    arrayDeclaration: function () {
      var a = [],
        c = !0;
      if ("]" !== this.peekToken().text) {
        do {
          if (this.peek("]")) break;
          var d = this.expression();
          a.push(d);
          d.constant || (c = !1);
        } while (this.expect(","));
      }
      this.consume("]");
      return E(
        function (c, d) {
          for (var f = [], k = 0; k < a.length; k++) f.push(a[k](c, d));
          return f;
        },
        { literal: !0, constant: c }
      );
    },
    object: function () {
      var a = [],
        c = !0;
      if ("}" !== this.peekToken().text) {
        do {
          if (this.peek("}")) break;
          var d = this.expect(),
            d = d.string || d.text;
          this.consume(":");
          var e = this.expression();
          a.push({ key: d, value: e });
          e.constant || (c = !1);
        } while (this.expect(","));
      }
      this.consume("}");
      return E(
        function (c, d) {
          for (var e = {}, m = 0; m < a.length; m++) {
            var h = a[m];
            e[h.key] = h.value(c, d);
          }
          return e;
        },
        { literal: !0, constant: c }
      );
    },
  };
  var Rb = {},
    va = v("$sce"),
    fa = {
      HTML: "html",
      CSS: "css",
      URL: "url",
      RESOURCE_URL: "resourceUrl",
      JS: "js",
    },
    V = U.createElement("a"),
    Hc = ta(S.location.href, !0);
  jc.$inject = ["$provide"];
  Ic.$inject = ["$locale"];
  Kc.$inject = ["$locale"];
  var Nc = ".",
    He = {
      yyyy: Y("FullYear", 4),
      yy: Y("FullYear", 2, 0, !0),
      y: Y("FullYear", 1),
      MMMM: sb("Month"),
      MMM: sb("Month", !0),
      MM: Y("Month", 2, 1),
      M: Y("Month", 1, 1),
      dd: Y("Date", 2),
      d: Y("Date", 1),
      HH: Y("Hours", 2),
      H: Y("Hours", 1),
      hh: Y("Hours", 2, -12),
      h: Y("Hours", 1, -12),
      mm: Y("Minutes", 2),
      m: Y("Minutes", 1),
      ss: Y("Seconds", 2),
      s: Y("Seconds", 1),
      sss: Y("Milliseconds", 3),
      EEEE: sb("Day"),
      EEE: sb("Day", !0),
      a: function (a, c) {
        return 12 > a.getHours() ? c.AMPMS[0] : c.AMPMS[1];
      },
      Z: function (a) {
        a = -1 * a.getTimezoneOffset();
        return (a =
          (0 <= a ? "+" : "") +
          (Tb(Math[0 < a ? "floor" : "ceil"](a / 60), 2) +
            Tb(Math.abs(a % 60), 2)));
      },
    },
    Ge =
      /((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,
    Fe = /^\-?\d+$/;
  Jc.$inject = ["$locale"];
  var De = $(I),
    Ee = $(Ha);
  Lc.$inject = ["$parse"];
  var dd = $({
      restrict: "E",
      compile: function (a, c) {
        8 >= P &&
          (c.href || c.name || c.$set("href", ""),
          a.append(U.createComment("IE fix")));
        if (!c.href && !c.xlinkHref && !c.name)
          return function (a, c) {
            var g =
              "[object SVGAnimatedString]" === xa.call(c.prop("href"))
                ? "xlink:href"
                : "href";
            c.on("click", function (a) {
              c.attr(g) || a.preventDefault();
            });
          };
      },
    }),
    Db = {};
  q(mb, function (a, c) {
    if ("multiple" != a) {
      var d = ma("ng-" + c);
      Db[d] = function () {
        return {
          priority: 100,
          link: function (a, g, f) {
            a.$watch(f[d], function (a) {
              f.$set(c, !!a);
            });
          },
        };
      };
    }
  });
  q(["src", "srcset", "href"], function (a) {
    var c = ma("ng-" + a);
    Db[c] = function () {
      return {
        priority: 99,
        link: function (d, e, g) {
          var f = a,
            k = a;
          "href" === a &&
            "[object SVGAnimatedString]" === xa.call(e.prop("href")) &&
            ((k = "xlinkHref"), (g.$attr[k] = "xlink:href"), (f = null));
          g.$observe(c, function (a) {
            a && (g.$set(k, a), P && f && e.prop(f, g[k]));
          });
        },
      };
    };
  });
  var vb = {
    $addControl: A,
    $removeControl: A,
    $setValidity: A,
    $setDirty: A,
    $setPristine: A,
  };
  Oc.$inject = ["$element", "$attrs", "$scope", "$animate"];
  var Rc = function (a) {
      return [
        "$timeout",
        function (c) {
          return {
            name: "form",
            restrict: a ? "EAC" : "E",
            controller: Oc,
            compile: function () {
              return {
                pre: function (a, e, g, f) {
                  if (!g.action) {
                    var k = function (a) {
                      a.preventDefault
                        ? a.preventDefault()
                        : (a.returnValue = !1);
                    };
                    pb(e[0], "submit", k);
                    e.on("$destroy", function () {
                      c(
                        function () {
                          Xa(e[0], "submit", k);
                        },
                        0,
                        !1
                      );
                    });
                  }
                  var m = e.parent().controller("form"),
                    h = g.name || g.ngForm;
                  h && rb(a, h, f, h);
                  if (m)
                    e.on("$destroy", function () {
                      m.$removeControl(f);
                      h && rb(a, h, s, h);
                      E(f, vb);
                    });
                },
              };
            },
          };
        },
      ];
    },
    ed = Rc(),
    rd = Rc(!0),
    Qe =
      /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,
    Re =
      /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
    Se = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,
    Sc = {
      text: xb,
      number: function (a, c, d, e, g, f) {
        xb(a, c, d, e, g, f);
        e.$parsers.push(function (a) {
          var c = e.$isEmpty(a);
          if (c || Se.test(a))
            return (
              e.$setValidity("number", !0),
              "" === a ? null : c ? a : parseFloat(a)
            );
          e.$setValidity("number", !1);
          return s;
        });
        Ie(e, "number", Te, null, e.$$validityState);
        e.$formatters.push(function (a) {
          return e.$isEmpty(a) ? "" : "" + a;
        });
        d.min &&
          ((a = function (a) {
            var c = parseFloat(d.min);
            return ra(e, "min", e.$isEmpty(a) || a >= c, a);
          }),
          e.$parsers.push(a),
          e.$formatters.push(a));
        d.max &&
          ((a = function (a) {
            var c = parseFloat(d.max);
            return ra(e, "max", e.$isEmpty(a) || a <= c, a);
          }),
          e.$parsers.push(a),
          e.$formatters.push(a));
        e.$formatters.push(function (a) {
          return ra(e, "number", e.$isEmpty(a) || yb(a), a);
        });
      },
      url: function (a, c, d, e, g, f) {
        xb(a, c, d, e, g, f);
        a = function (a) {
          return ra(e, "url", e.$isEmpty(a) || Qe.test(a), a);
        };
        e.$formatters.push(a);
        e.$parsers.push(a);
      },
      email: function (a, c, d, e, g, f) {
        xb(a, c, d, e, g, f);
        a = function (a) {
          return ra(e, "email", e.$isEmpty(a) || Re.test(a), a);
        };
        e.$formatters.push(a);
        e.$parsers.push(a);
      },
      radio: function (a, c, d, e) {
        F(d.name) && c.attr("name", eb());
        c.on("click", function () {
          c[0].checked &&
            a.$apply(function () {
              e.$setViewValue(d.value);
            });
        });
        e.$render = function () {
          c[0].checked = d.value == e.$viewValue;
        };
        d.$observe("value", e.$render);
      },
      checkbox: function (a, c, d, e) {
        var g = d.ngTrueValue,
          f = d.ngFalseValue;
        y(g) || (g = !0);
        y(f) || (f = !1);
        c.on("click", function () {
          a.$apply(function () {
            e.$setViewValue(c[0].checked);
          });
        });
        e.$render = function () {
          c[0].checked = e.$viewValue;
        };
        e.$isEmpty = function (a) {
          return a !== g;
        };
        e.$formatters.push(function (a) {
          return a === g;
        });
        e.$parsers.push(function (a) {
          return a ? g : f;
        });
      },
      hidden: A,
      button: A,
      submit: A,
      reset: A,
      file: A,
    },
    Te = ["badInput"],
    gc = [
      "$browser",
      "$sniffer",
      function (a, c) {
        return {
          restrict: "E",
          require: "?ngModel",
          link: function (d, e, g, f) {
            f && (Sc[I(g.type)] || Sc.text)(d, e, g, f, c, a);
          },
        };
      },
    ],
    ub = "ng-valid",
    tb = "ng-invalid",
    Na = "ng-pristine",
    wb = "ng-dirty",
    Ue = [
      "$scope",
      "$exceptionHandler",
      "$attrs",
      "$element",
      "$parse",
      "$animate",
      function (a, c, d, e, g, f) {
        function k(a, c) {
          c = c ? "-" + ib(c, "-") : "";
          f.removeClass(e, (a ? tb : ub) + c);
          f.addClass(e, (a ? ub : tb) + c);
        }
        this.$modelValue = this.$viewValue = Number.NaN;
        this.$parsers = [];
        this.$formatters = [];
        this.$viewChangeListeners = [];
        this.$pristine = !0;
        this.$dirty = !1;
        this.$valid = !0;
        this.$invalid = !1;
        this.$name = d.name;
        var m = g(d.ngModel),
          h = m.assign;
        if (!h) throw v("ngModel")("nonassign", d.ngModel, ga(e));
        this.$render = A;
        this.$isEmpty = function (a) {
          return F(a) || "" === a || null === a || a !== a;
        };
        var l = e.inheritedData("$formController") || vb,
          p = 0,
          n = (this.$error = {});
        e.addClass(Na);
        k(!0);
        this.$setValidity = function (a, c) {
          n[a] !== !c &&
            (c
              ? (n[a] && p--,
                p || (k(!0), (this.$valid = !0), (this.$invalid = !1)))
              : (k(!1), (this.$invalid = !0), (this.$valid = !1), p++),
            (n[a] = !c),
            k(c, a),
            l.$setValidity(a, c, this));
        };
        this.$setPristine = function () {
          this.$dirty = !1;
          this.$pristine = !0;
          f.removeClass(e, wb);
          f.addClass(e, Na);
        };
        this.$setViewValue = function (d) {
          this.$viewValue = d;
          this.$pristine &&
            ((this.$dirty = !0),
            (this.$pristine = !1),
            f.removeClass(e, Na),
            f.addClass(e, wb),
            l.$setDirty());
          q(this.$parsers, function (a) {
            d = a(d);
          });
          this.$modelValue !== d &&
            ((this.$modelValue = d),
            h(a, d),
            q(this.$viewChangeListeners, function (a) {
              try {
                a();
              } catch (d) {
                c(d);
              }
            }));
        };
        var r = this;
        a.$watch(function () {
          var c = m(a);
          if (r.$modelValue !== c) {
            var d = r.$formatters,
              e = d.length;
            for (r.$modelValue = c; e--; ) c = d[e](c);
            r.$viewValue !== c && ((r.$viewValue = c), r.$render());
          }
          return c;
        });
      },
    ],
    Gd = function () {
      return {
        require: ["ngModel", "^?form"],
        controller: Ue,
        link: function (a, c, d, e) {
          var g = e[0],
            f = e[1] || vb;
          f.$addControl(g);
          a.$on("$destroy", function () {
            f.$removeControl(g);
          });
        },
      };
    },
    Id = $({
      require: "ngModel",
      link: function (a, c, d, e) {
        e.$viewChangeListeners.push(function () {
          a.$eval(d.ngChange);
        });
      },
    }),
    hc = function () {
      return {
        require: "?ngModel",
        link: function (a, c, d, e) {
          if (e) {
            d.required = !0;
            var g = function (a) {
              if (d.required && e.$isEmpty(a)) e.$setValidity("required", !1);
              else return e.$setValidity("required", !0), a;
            };
            e.$formatters.push(g);
            e.$parsers.unshift(g);
            d.$observe("required", function () {
              g(e.$viewValue);
            });
          }
        },
      };
    },
    Hd = function () {
      return {
        require: "ngModel",
        link: function (a, c, d, e) {
          var g =
            ((a = /\/(.*)\//.exec(d.ngList)) && RegExp(a[1])) ||
            d.ngList ||
            ",";
          e.$parsers.push(function (a) {
            if (!F(a)) {
              var c = [];
              a &&
                q(a.split(g), function (a) {
                  a && c.push(aa(a));
                });
              return c;
            }
          });
          e.$formatters.push(function (a) {
            return L(a) ? a.join(", ") : s;
          });
          e.$isEmpty = function (a) {
            return !a || !a.length;
          };
        },
      };
    },
    Ve = /^(true|false|\d+)$/,
    Jd = function () {
      return {
        priority: 100,
        compile: function (a, c) {
          return Ve.test(c.ngValue)
            ? function (a, c, g) {
                g.$set("value", a.$eval(g.ngValue));
              }
            : function (a, c, g) {
                a.$watch(g.ngValue, function (a) {
                  g.$set("value", a);
                });
              };
        },
      };
    },
    jd = wa({
      compile: function (a) {
        a.addClass("ng-binding");
        return function (a, d, e) {
          d.data("$binding", e.ngBind);
          a.$watch(e.ngBind, function (a) {
            d.text(a == s ? "" : a);
          });
        };
      },
    }),
    ld = [
      "$interpolate",
      function (a) {
        return function (c, d, e) {
          c = a(d.attr(e.$attr.ngBindTemplate));
          d.addClass("ng-binding").data("$binding", c);
          e.$observe("ngBindTemplate", function (a) {
            d.text(a);
          });
        };
      },
    ],
    kd = [
      "$sce",
      "$parse",
      function (a, c) {
        return function (d, e, g) {
          e.addClass("ng-binding").data("$binding", g.ngBindHtml);
          var f = c(g.ngBindHtml);
          d.$watch(
            function () {
              return (f(d) || "").toString();
            },
            function (c) {
              e.html(a.getTrustedHtml(f(d)) || "");
            }
          );
        };
      },
    ],
    md = Ub("", !0),
    od = Ub("Odd", 0),
    nd = Ub("Even", 1),
    pd = wa({
      compile: function (a, c) {
        c.$set("ngCloak", s);
        a.removeClass("ng-cloak");
      },
    }),
    qd = [
      function () {
        return { scope: !0, controller: "@", priority: 500 };
      },
    ],
    ic = {};
  q(
    "click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(
      " "
    ),
    function (a) {
      var c = ma("ng-" + a);
      ic[c] = [
        "$parse",
        function (d) {
          return {
            compile: function (e, g) {
              var f = d(g[c]);
              return function (c, d) {
                d.on(I(a), function (a) {
                  c.$apply(function () {
                    f(c, { $event: a });
                  });
                });
              };
            },
          };
        },
      ];
    }
  );
  var td = [
      "$animate",
      function (a) {
        return {
          transclude: "element",
          priority: 600,
          terminal: !0,
          restrict: "A",
          $$tlb: !0,
          link: function (c, d, e, g, f) {
            var k, m, h;
            c.$watch(e.ngIf, function (g) {
              Sa(g)
                ? m ||
                  ((m = c.$new()),
                  f(m, function (c) {
                    c[c.length++] = U.createComment(
                      " end ngIf: " + e.ngIf + " "
                    );
                    k = { clone: c };
                    a.enter(c, d.parent(), d);
                  }))
                : (h && (h.remove(), (h = null)),
                  m && (m.$destroy(), (m = null)),
                  k &&
                    ((h = Cb(k.clone)),
                    a.leave(h, function () {
                      h = null;
                    }),
                    (k = null)));
            });
          },
        };
      },
    ],
    ud = [
      "$http",
      "$templateCache",
      "$anchorScroll",
      "$animate",
      "$sce",
      function (a, c, d, e, g) {
        return {
          restrict: "ECA",
          priority: 400,
          terminal: !0,
          transclude: "element",
          controller: Ta.noop,
          compile: function (f, k) {
            var m = k.ngInclude || k.src,
              h = k.onload || "",
              l = k.autoscroll;
            return function (f, k, q, t, J) {
              var w = 0,
                u,
                x,
                s,
                z = function () {
                  x && (x.remove(), (x = null));
                  u && (u.$destroy(), (u = null));
                  s &&
                    (e.leave(s, function () {
                      x = null;
                    }),
                    (x = s),
                    (s = null));
                };
              f.$watch(g.parseAsResourceUrl(m), function (g) {
                var m = function () {
                    !B(l) || (l && !f.$eval(l)) || d();
                  },
                  q = ++w;
                g
                  ? (a
                      .get(g, { cache: c })
                      .success(function (a) {
                        if (q === w) {
                          var c = f.$new();
                          t.template = a;
                          a = J(c, function (a) {
                            z();
                            e.enter(a, null, k, m);
                          });
                          u = c;
                          s = a;
                          u.$emit("$includeContentLoaded");
                          f.$eval(h);
                        }
                      })
                      .error(function () {
                        q === w && z();
                      }),
                    f.$emit("$includeContentRequested"))
                  : (z(), (t.template = null));
              });
            };
          },
        };
      },
    ],
    Kd = [
      "$compile",
      function (a) {
        return {
          restrict: "ECA",
          priority: -400,
          require: "ngInclude",
          link: function (c, d, e, g) {
            d.html(g.template);
            a(d.contents())(c);
          },
        };
      },
    ],
    vd = wa({
      priority: 450,
      compile: function () {
        return {
          pre: function (a, c, d) {
            a.$eval(d.ngInit);
          },
        };
      },
    }),
    wd = wa({ terminal: !0, priority: 1e3 }),
    xd = [
      "$locale",
      "$interpolate",
      function (a, c) {
        var d = /{}/g;
        return {
          restrict: "EA",
          link: function (e, g, f) {
            var k = f.count,
              m = f.$attr.when && g.attr(f.$attr.when),
              h = f.offset || 0,
              l = e.$eval(m) || {},
              p = {},
              n = c.startSymbol(),
              r = c.endSymbol(),
              t = /^when(Minus)?(.+)$/;
            q(f, function (a, c) {
              t.test(c) &&
                (l[I(c.replace("when", "").replace("Minus", "-"))] = g.attr(
                  f.$attr[c]
                ));
            });
            q(l, function (a, e) {
              p[e] = c(a.replace(d, n + k + "-" + h + r));
            });
            e.$watch(
              function () {
                var c = parseFloat(e.$eval(k));
                if (isNaN(c)) return "";
                c in l || (c = a.pluralCat(c - h));
                return p[c](e, g, !0);
              },
              function (a) {
                g.text(a);
              }
            );
          },
        };
      },
    ],
    yd = [
      "$parse",
      "$animate",
      function (a, c) {
        var d = v("ngRepeat");
        return {
          transclude: "element",
          priority: 1e3,
          terminal: !0,
          $$tlb: !0,
          link: function (e, g, f, k, m) {
            var h = f.ngRepeat,
              l = h.match(
                /^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/
              ),
              p,
              n,
              r,
              t,
              s,
              w,
              u = { $id: Ja };
            if (!l) throw d("iexp", h);
            f = l[1];
            k = l[2];
            (l = l[3])
              ? ((p = a(l)),
                (n = function (a, c, d) {
                  w && (u[w] = a);
                  u[s] = c;
                  u.$index = d;
                  return p(e, u);
                }))
              : ((r = function (a, c) {
                  return Ja(c);
                }),
                (t = function (a) {
                  return a;
                }));
            l = f.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);
            if (!l) throw d("iidexp", f);
            s = l[3] || l[1];
            w = l[2];
            var B = {};
            e.$watchCollection(k, function (a) {
              var f,
                k,
                l = g[0],
                p,
                u = {},
                C,
                D,
                H,
                v,
                y,
                A,
                F = [];
              if (db(a)) (y = a), (p = n || r);
              else {
                p = n || t;
                y = [];
                for (H in a)
                  a.hasOwnProperty(H) && "$" != H.charAt(0) && y.push(H);
                y.sort();
              }
              C = y.length;
              k = F.length = y.length;
              for (f = 0; f < k; f++)
                if (
                  ((H = a === y ? f : y[f]),
                  (v = a[H]),
                  (v = p(H, v, f)),
                  Ba(v, "`track by` id"),
                  B.hasOwnProperty(v))
                )
                  (A = B[v]), delete B[v], (u[v] = A), (F[f] = A);
                else {
                  if (u.hasOwnProperty(v))
                    throw (
                      (q(F, function (a) {
                        a && a.scope && (B[a.id] = a);
                      }),
                      d("dupes", h, v))
                    );
                  F[f] = { id: v };
                  u[v] = !1;
                }
              for (H in B)
                B.hasOwnProperty(H) &&
                  ((A = B[H]),
                  (f = Cb(A.clone)),
                  c.leave(f),
                  q(f, function (a) {
                    a.$$NG_REMOVED = !0;
                  }),
                  A.scope.$destroy());
              f = 0;
              for (k = y.length; f < k; f++) {
                H = a === y ? f : y[f];
                v = a[H];
                A = F[f];
                F[f - 1] && (l = F[f - 1].clone[F[f - 1].clone.length - 1]);
                if (A.scope) {
                  D = A.scope;
                  p = l;
                  do p = p.nextSibling;
                  while (p && p.$$NG_REMOVED);
                  A.clone[0] != p && c.move(Cb(A.clone), null, x(l));
                  l = A.clone[A.clone.length - 1];
                } else D = e.$new();
                D[s] = v;
                w && (D[w] = H);
                D.$index = f;
                D.$first = 0 === f;
                D.$last = f === C - 1;
                D.$middle = !(D.$first || D.$last);
                D.$odd = !(D.$even = 0 === (f & 1));
                A.scope ||
                  m(D, function (a) {
                    a[a.length++] = U.createComment(
                      " end ngRepeat: " + h + " "
                    );
                    c.enter(a, null, x(l));
                    l = a;
                    A.scope = D;
                    A.clone = a;
                    u[A.id] = A;
                  });
              }
              B = u;
            });
          },
        };
      },
    ],
    zd = [
      "$animate",
      function (a) {
        return function (c, d, e) {
          c.$watch(e.ngShow, function (c) {
            a[Sa(c) ? "removeClass" : "addClass"](d, "ng-hide");
          });
        };
      },
    ],
    sd = [
      "$animate",
      function (a) {
        return function (c, d, e) {
          c.$watch(e.ngHide, function (c) {
            a[Sa(c) ? "addClass" : "removeClass"](d, "ng-hide");
          });
        };
      },
    ],
    Ad = wa(function (a, c, d) {
      a.$watch(
        d.ngStyle,
        function (a, d) {
          d &&
            a !== d &&
            q(d, function (a, d) {
              c.css(d, "");
            });
          a && c.css(a);
        },
        !0
      );
    }),
    Bd = [
      "$animate",
      function (a) {
        return {
          restrict: "EA",
          require: "ngSwitch",
          controller: [
            "$scope",
            function () {
              this.cases = {};
            },
          ],
          link: function (c, d, e, g) {
            var f = [],
              k = [],
              m = [],
              h = [];
            c.$watch(e.ngSwitch || e.on, function (d) {
              var p, n;
              p = 0;
              for (n = m.length; p < n; ++p) m[p].remove();
              p = m.length = 0;
              for (n = h.length; p < n; ++p) {
                var r = k[p];
                h[p].$destroy();
                m[p] = r;
                a.leave(r, function () {
                  m.splice(p, 1);
                });
              }
              k.length = 0;
              h.length = 0;
              if ((f = g.cases["!" + d] || g.cases["?"]))
                c.$eval(e.change),
                  q(f, function (d) {
                    var e = c.$new();
                    h.push(e);
                    d.transclude(e, function (c) {
                      var e = d.element;
                      k.push(c);
                      a.enter(c, e.parent(), e);
                    });
                  });
            });
          },
        };
      },
    ],
    Cd = wa({
      transclude: "element",
      priority: 800,
      require: "^ngSwitch",
      link: function (a, c, d, e, g) {
        e.cases["!" + d.ngSwitchWhen] = e.cases["!" + d.ngSwitchWhen] || [];
        e.cases["!" + d.ngSwitchWhen].push({ transclude: g, element: c });
      },
    }),
    Dd = wa({
      transclude: "element",
      priority: 800,
      require: "^ngSwitch",
      link: function (a, c, d, e, g) {
        e.cases["?"] = e.cases["?"] || [];
        e.cases["?"].push({ transclude: g, element: c });
      },
    }),
    Fd = wa({
      link: function (a, c, d, e, g) {
        if (!g) throw v("ngTransclude")("orphan", ga(c));
        g(function (a) {
          c.empty();
          c.append(a);
        });
      },
    }),
    fd = [
      "$templateCache",
      function (a) {
        return {
          restrict: "E",
          terminal: !0,
          compile: function (c, d) {
            "text/ng-template" == d.type && a.put(d.id, c[0].text);
          },
        };
      },
    ],
    We = v("ngOptions"),
    Ed = $({ terminal: !0 }),
    gd = [
      "$compile",
      "$parse",
      function (a, c) {
        var d =
            /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
          e = { $setViewValue: A };
        return {
          restrict: "E",
          require: ["select", "?ngModel"],
          controller: [
            "$element",
            "$scope",
            "$attrs",
            function (a, c, d) {
              var m = this,
                h = {},
                l = e,
                p;
              m.databound = d.ngModel;
              m.init = function (a, c, d) {
                l = a;
                p = d;
              };
              m.addOption = function (c) {
                Ba(c, '"option value"');
                h[c] = !0;
                l.$viewValue == c && (a.val(c), p.parent() && p.remove());
              };
              m.removeOption = function (a) {
                this.hasOption(a) &&
                  (delete h[a],
                  l.$viewValue == a && this.renderUnknownOption(a));
              };
              m.renderUnknownOption = function (c) {
                c = "? " + Ja(c) + " ?";
                p.val(c);
                a.prepend(p);
                a.val(c);
                p.prop("selected", !0);
              };
              m.hasOption = function (a) {
                return h.hasOwnProperty(a);
              };
              c.$on("$destroy", function () {
                m.renderUnknownOption = A;
              });
            },
          ],
          link: function (e, f, k, m) {
            function h(a, c, d, e) {
              d.$render = function () {
                var a = d.$viewValue;
                e.hasOption(a)
                  ? (y.parent() && y.remove(),
                    c.val(a),
                    "" === a && w.prop("selected", !0))
                  : F(a) && w
                  ? c.val("")
                  : e.renderUnknownOption(a);
              };
              c.on("change", function () {
                a.$apply(function () {
                  y.parent() && y.remove();
                  d.$setViewValue(c.val());
                });
              });
            }
            function l(a, c, d) {
              var e;
              d.$render = function () {
                var a = new Za(d.$viewValue);
                q(c.find("option"), function (c) {
                  c.selected = B(a.get(c.value));
                });
              };
              a.$watch(function () {
                ya(e, d.$viewValue) || ((e = ka(d.$viewValue)), d.$render());
              });
              c.on("change", function () {
                a.$apply(function () {
                  var a = [];
                  q(c.find("option"), function (c) {
                    c.selected && a.push(c.value);
                  });
                  d.$setViewValue(a);
                });
              });
            }
            function p(e, f, g) {
              function k() {
                var a = { "": [] },
                  c = [""],
                  d,
                  h,
                  s,
                  t,
                  z;
                t = g.$modelValue;
                z = x(e) || [];
                var D = n ? Vb(z) : z,
                  F,
                  Q,
                  C;
                Q = {};
                s = !1;
                var E, I;
                if (r)
                  if (w && L(t))
                    for (s = new Za([]), C = 0; C < t.length; C++)
                      (Q[m] = t[C]), s.put(w(e, Q), t[C]);
                  else s = new Za(t);
                for (C = 0; (F = D.length), C < F; C++) {
                  h = C;
                  if (n) {
                    h = D[C];
                    if ("$" === h.charAt(0)) continue;
                    Q[n] = h;
                  }
                  Q[m] = z[h];
                  d = p(e, Q) || "";
                  (h = a[d]) || ((h = a[d] = []), c.push(d));
                  r
                    ? (d = B(s.remove(w ? w(e, Q) : q(e, Q))))
                    : (w
                        ? ((d = {}), (d[m] = t), (d = w(e, d) === w(e, Q)))
                        : (d = t === q(e, Q)),
                      (s = s || d));
                  E = l(e, Q);
                  E = B(E) ? E : "";
                  h.push({
                    id: w ? w(e, Q) : n ? D[C] : C,
                    label: E,
                    selected: d,
                  });
                }
                r ||
                  (v || null === t
                    ? a[""].unshift({ id: "", label: "", selected: !s })
                    : s || a[""].unshift({ id: "?", label: "", selected: !0 }));
                Q = 0;
                for (D = c.length; Q < D; Q++) {
                  d = c[Q];
                  h = a[d];
                  y.length <= Q
                    ? ((t = {
                        element: A.clone().attr("label", d),
                        label: h.label,
                      }),
                      (z = [t]),
                      y.push(z),
                      f.append(t.element))
                    : ((z = y[Q]),
                      (t = z[0]),
                      t.label != d && t.element.attr("label", (t.label = d)));
                  E = null;
                  C = 0;
                  for (F = h.length; C < F; C++)
                    (s = h[C]),
                      (d = z[C + 1])
                        ? ((E = d.element),
                          d.label !== s.label && E.text((d.label = s.label)),
                          d.id !== s.id && E.val((d.id = s.id)),
                          d.selected !== s.selected &&
                            E.prop("selected", (d.selected = s.selected)))
                        : ("" === s.id && v
                            ? (I = v)
                            : (I = u.clone())
                                .val(s.id)
                                .prop("selected", s.selected)
                                .text(s.label),
                          z.push({
                            element: I,
                            label: s.label,
                            id: s.id,
                            selected: s.selected,
                          }),
                          E ? E.after(I) : t.element.append(I),
                          (E = I));
                  for (C++; z.length > C; ) z.pop().element.remove();
                }
                for (; y.length > Q; ) y.pop()[0].element.remove();
              }
              var h;
              if (!(h = t.match(d))) throw We("iexp", t, ga(f));
              var l = c(h[2] || h[1]),
                m = h[4] || h[6],
                n = h[5],
                p = c(h[3] || ""),
                q = c(h[2] ? h[1] : m),
                x = c(h[7]),
                w = h[8] ? c(h[8]) : null,
                y = [[{ element: f, label: "" }]];
              v && (a(v)(e), v.removeClass("ng-scope"), v.remove());
              f.empty();
              f.on("change", function () {
                e.$apply(function () {
                  var a,
                    c = x(e) || [],
                    d = {},
                    h,
                    k,
                    l,
                    p,
                    t,
                    u,
                    v;
                  if (r)
                    for (k = [], p = 0, u = y.length; p < u; p++)
                      for (a = y[p], l = 1, t = a.length; l < t; l++) {
                        if ((h = a[l].element)[0].selected) {
                          h = h.val();
                          n && (d[n] = h);
                          if (w)
                            for (
                              v = 0;
                              v < c.length && ((d[m] = c[v]), w(e, d) != h);
                              v++
                            );
                          else d[m] = c[h];
                          k.push(q(e, d));
                        }
                      }
                  else {
                    h = f.val();
                    if ("?" == h) k = s;
                    else if ("" === h) k = null;
                    else if (w)
                      for (v = 0; v < c.length; v++) {
                        if (((d[m] = c[v]), w(e, d) == h)) {
                          k = q(e, d);
                          break;
                        }
                      }
                    else (d[m] = c[h]), n && (d[n] = h), (k = q(e, d));
                    1 < y[0].length &&
                      y[0][1].id !== h &&
                      (y[0][1].selected = !1);
                  }
                  g.$setViewValue(k);
                });
              });
              g.$render = k;
              e.$watch(k);
            }
            if (m[1]) {
              var n = m[0];
              m = m[1];
              var r = k.multiple,
                t = k.ngOptions,
                v = !1,
                w,
                u = x(U.createElement("option")),
                A = x(U.createElement("optgroup")),
                y = u.clone();
              k = 0;
              for (var z = f.children(), E = z.length; k < E; k++)
                if ("" === z[k].value) {
                  w = v = z.eq(k);
                  break;
                }
              n.init(m, v, y);
              r &&
                (m.$isEmpty = function (a) {
                  return !a || 0 === a.length;
                });
              t ? p(e, f, m) : r ? l(e, f, m) : h(e, f, m, n);
            }
          },
        };
      },
    ],
    id = [
      "$interpolate",
      function (a) {
        var c = { addOption: A, removeOption: A };
        return {
          restrict: "E",
          priority: 100,
          compile: function (d, e) {
            if (F(e.value)) {
              var g = a(d.text(), !0);
              g || e.$set("value", d.text());
            }
            return function (a, d, e) {
              var h = d.parent(),
                l =
                  h.data("$selectController") ||
                  h.parent().data("$selectController");
              l && l.databound ? d.prop("selected", !1) : (l = c);
              g
                ? a.$watch(g, function (a, c) {
                    e.$set("value", a);
                    a !== c && l.removeOption(c);
                    l.addOption(a);
                  })
                : l.addOption(e.value);
              d.on("$destroy", function () {
                l.removeOption(e.value);
              });
            };
          },
        };
      },
    ],
    hd = $({ restrict: "E", terminal: !0 });
  S.angular.bootstrap
    ? console.log("WARNING: Tried to load angular more than once.")
    : ((Ca = S.jQuery) && Ca.fn.on
        ? ((x = Ca),
          E(Ca.fn, {
            scope: Ka.scope,
            isolateScope: Ka.isolateScope,
            controller: Ka.controller,
            injector: Ka.injector,
            inheritedData: Ka.inheritedData,
          }),
          Eb("remove", !0, !0, !1),
          Eb("empty", !1, !1, !1),
          Eb("html", !1, !1, !0))
        : (x = R),
      (Ta.element = x),
      $c(Ta),
      x(U).ready(function () {
        Xc(U, cc);
      }));
})(window, document);
!window.angular.$$csp() &&
  window.angular
    .element(document)
    .find("head")
    .prepend(
      '<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'
    );
//# sourceMappingURL=angular.min.js.map
/**
 * Restful Resources service for AngularJS apps
 * @version v1.4.0 - 2014-04-25 * @link https://github.com/mgonto/restangular
 * @author Martin Gontovnikas <martin@gon.to>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */ !(function () {
  var a = angular.module("restangular", []);
  a.provider("Restangular", function () {
    var a = {};
    a.init = function (a, b) {
      function c(a, b, c, d) {
        var e = {};
        return (
          _.each(_.keys(d), function (f) {
            var g = d[f];
            (g.params = _.extend(
              {},
              g.params,
              a.defaultRequestParams[g.method.toLowerCase()]
            )),
              _.isEmpty(g.params) && delete g.params,
              (e[f] = a.isSafe(g.method)
                ? function () {
                    return b(_.extend(g, { url: c }));
                  }
                : function (a) {
                    return b(_.extend(g, { url: c, data: a }));
                  });
          }),
          e
        );
      }
      a.configuration = b;
      var d = ["get", "head", "options", "trace", "getlist"];
      b.isSafe = function (a) {
        return _.contains(d, a.toLowerCase());
      };
      var e = /^https?:\/\//i;
      (b.isAbsoluteUrl = function (a) {
        return _.isUndefined(b.absoluteUrl) || _.isNull(b.absoluteUrl)
          ? a && e.test(a)
          : b.absoluteUrl;
      }),
        (b.absoluteUrl = _.isUndefined(b.absoluteUrl) ? !0 : b.absoluteUrl),
        (a.setSelfLinkAbsoluteUrl = function (a) {
          b.absoluteUrl = a;
        }),
        (b.baseUrl = _.isUndefined(b.baseUrl) ? "" : b.baseUrl),
        (a.setBaseUrl = function (a) {
          return (
            (b.baseUrl = /\/$/.test(a) ? a.substring(0, a.length - 1) : a), this
          );
        }),
        (b.extraFields = b.extraFields || []),
        (a.setExtraFields = function (a) {
          return (b.extraFields = a), this;
        }),
        (b.defaultHttpFields = b.defaultHttpFields || {}),
        (a.setDefaultHttpFields = function (a) {
          return (b.defaultHttpFields = a), this;
        }),
        (b.withHttpValues = function (a, c) {
          return _.defaults(c, a, b.defaultHttpFields);
        }),
        (b.encodeIds = _.isUndefined(b.encodeIds) ? !0 : b.encodeIds),
        (a.setEncodeIds = function (a) {
          b.encodeIds = a;
        }),
        (b.defaultRequestParams = b.defaultRequestParams || {
          get: {},
          post: {},
          put: {},
          remove: {},
          common: {},
        }),
        (a.setDefaultRequestParams = function (a, c) {
          var d = [],
            e = c || a;
          return (
            _.isUndefined(c)
              ? d.push("common")
              : _.isArray(a)
              ? (d = a)
              : d.push(a),
            _.each(d, function (a) {
              b.defaultRequestParams[a] = e;
            }),
            this
          );
        }),
        (a.requestParams = b.defaultRequestParams),
        (b.defaultHeaders = b.defaultHeaders || {}),
        (a.setDefaultHeaders = function (c) {
          return (
            (b.defaultHeaders = c), (a.defaultHeaders = b.defaultHeaders), this
          );
        }),
        (a.defaultHeaders = b.defaultHeaders),
        (b.methodOverriders = b.methodOverriders || []),
        (a.setMethodOverriders = function (a) {
          var c = _.extend([], a);
          return (
            b.isOverridenMethod("delete", c) && c.push("remove"),
            (b.methodOverriders = c),
            this
          );
        }),
        (b.jsonp = _.isUndefined(b.jsonp) ? !1 : b.jsonp),
        (a.setJsonp = function (a) {
          b.jsonp = a;
        }),
        (b.isOverridenMethod = function (a, c) {
          var d = c || b.methodOverriders;
          return !_.isUndefined(
            _.find(d, function (b) {
              return b.toLowerCase() === a.toLowerCase();
            })
          );
        }),
        (b.urlCreator = b.urlCreator || "path"),
        (a.setUrlCreator = function (a) {
          if (!_.has(b.urlCreatorFactory, a))
            throw new Error("URL Path selected isn't valid");
          return (b.urlCreator = a), this;
        }),
        (b.restangularFields = b.restangularFields || {
          id: "id",
          route: "route",
          parentResource: "parentResource",
          restangularCollection: "restangularCollection",
          cannonicalId: "__cannonicalId",
          etag: "restangularEtag",
          selfLink: "href",
          get: "get",
          getList: "getList",
          put: "put",
          post: "post",
          remove: "remove",
          head: "head",
          trace: "trace",
          options: "options",
          patch: "patch",
          getRestangularUrl: "getRestangularUrl",
          getRequestedUrl: "getRequestedUrl",
          putElement: "putElement",
          addRestangularMethod: "addRestangularMethod",
          getParentList: "getParentList",
          clone: "clone",
          ids: "ids",
          httpConfig: "_$httpConfig",
          reqParams: "reqParams",
          one: "one",
          all: "all",
          several: "several",
          oneUrl: "oneUrl",
          allUrl: "allUrl",
          customPUT: "customPUT",
          customPOST: "customPOST",
          customDELETE: "customDELETE",
          customGET: "customGET",
          customGETLIST: "customGETLIST",
          customOperation: "customOperation",
          doPUT: "doPUT",
          doPOST: "doPOST",
          doDELETE: "doDELETE",
          doGET: "doGET",
          doGETLIST: "doGETLIST",
          fromServer: "fromServer",
          withConfig: "withConfig",
          withHttpConfig: "withHttpConfig",
          singleOne: "singleOne",
          plain: "plain",
          save: "save",
        }),
        (a.setRestangularFields = function (a) {
          return (b.restangularFields = _.extend(b.restangularFields, a)), this;
        }),
        (b.isRestangularized = function (a) {
          return !!a[b.restangularFields.one] || !!a[b.restangularFields.all];
        }),
        (b.setFieldToElem = function (a, b, c) {
          var d = a.split("."),
            e = b;
          return (
            _.each(_.initial(d), function (a) {
              (e[a] = {}), (e = e[a]);
            }),
            (e[_.last(d)] = c),
            this
          );
        }),
        (b.getFieldFromElem = function (a, b) {
          var c = a.split("."),
            d = b;
          return (
            _.each(c, function (a) {
              d && (d = d[a]);
            }),
            angular.copy(d)
          );
        }),
        (b.setIdToElem = function (a, c) {
          return b.setFieldToElem(b.restangularFields.id, a, c), this;
        }),
        (b.getIdFromElem = function (a) {
          return b.getFieldFromElem(b.restangularFields.id, a);
        }),
        (b.isValidId = function (a) {
          return "" !== a && !_.isUndefined(a) && !_.isNull(a);
        }),
        (b.setUrlToElem = function (a, c) {
          return b.setFieldToElem(b.restangularFields.selfLink, a, c), this;
        }),
        (b.getUrlFromElem = function (a) {
          return b.getFieldFromElem(b.restangularFields.selfLink, a);
        }),
        (b.useCannonicalId = _.isUndefined(b.useCannonicalId)
          ? !1
          : b.useCannonicalId),
        (a.setUseCannonicalId = function (a) {
          return (b.useCannonicalId = a), this;
        }),
        (b.getCannonicalIdFromElem = function (a) {
          var c = a[b.restangularFields.cannonicalId],
            d = b.isValidId(c) ? c : b.getIdFromElem(a);
          return d;
        }),
        (b.responseInterceptors = b.responseInterceptors || []),
        (b.defaultResponseInterceptor = function (a) {
          return a;
        }),
        (b.responseExtractor = function (a, c, d, e, f, g) {
          var h = angular.copy(b.responseInterceptors);
          h.push(b.defaultResponseInterceptor);
          var i = a;
          return (
            _.each(h, function (a) {
              i = a(i, c, d, e, f, g);
            }),
            i
          );
        }),
        (a.addResponseInterceptor = function (a) {
          return b.responseInterceptors.push(a), this;
        }),
        (a.setResponseInterceptor = a.addResponseInterceptor),
        (a.setResponseExtractor = a.addResponseInterceptor),
        (b.requestInterceptors = b.requestInterceptors || []),
        (b.defaultInterceptor = function (a, b, c, d, e, f, g) {
          return { element: a, headers: e, params: f, httpConfig: g };
        }),
        (b.fullRequestInterceptor = function (a, c, d, e, f, g, h) {
          var i = angular.copy(b.requestInterceptors),
            j = b.defaultInterceptor(a, c, d, e, f, g, h);
          return _.reduce(
            i,
            function (a, b) {
              return _.extend(
                a,
                b(a.element, c, d, e, a.headers, a.params, a.httpConfig)
              );
            },
            j
          );
        }),
        (a.addRequestInterceptor = function (a) {
          return (
            b.requestInterceptors.push(function (b, c, d, e, f, g, h) {
              return {
                headers: f,
                params: g,
                element: a(b, c, d, e),
                httpConfig: h,
              };
            }),
            this
          );
        }),
        (a.setRequestInterceptor = a.addRequestInterceptor),
        (a.addFullRequestInterceptor = function (a) {
          return b.requestInterceptors.push(a), this;
        }),
        (a.setFullRequestInterceptor = a.addFullRequestInterceptor),
        (b.errorInterceptor = b.errorInterceptor || function () {}),
        (a.setErrorInterceptor = function (a) {
          return (b.errorInterceptor = a), this;
        }),
        (b.onBeforeElemRestangularized =
          b.onBeforeElemRestangularized ||
          function (a) {
            return a;
          }),
        (a.setOnBeforeElemRestangularized = function (a) {
          return (b.onBeforeElemRestangularized = a), this;
        }),
        (b.onElemRestangularized =
          b.onElemRestangularized ||
          function (a) {
            return a;
          }),
        (a.setOnElemRestangularized = function (a) {
          return (b.onElemRestangularized = a), this;
        }),
        (b.shouldSaveParent =
          b.shouldSaveParent ||
          function () {
            return !0;
          }),
        (a.setParentless = function (a) {
          return (
            _.isArray(a)
              ? (b.shouldSaveParent = function (b) {
                  return !_.contains(a, b);
                })
              : _.isBoolean(a) &&
                (b.shouldSaveParent = function () {
                  return !a;
                }),
            this
          );
        }),
        (b.suffix = _.isUndefined(b.suffix) ? null : b.suffix),
        (a.setRequestSuffix = function (a) {
          return (b.suffix = a), this;
        }),
        (b.transformers = b.transformers || {}),
        (a.addElementTransformer = function (c, d, e) {
          var f = null,
            g = null;
          2 === arguments.length ? (g = d) : ((g = e), (f = d));
          var h = b.transformers[c];
          return (
            h || (h = b.transformers[c] = []),
            h.push(function (a, b) {
              return _.isNull(f) || a == f ? g(b) : b;
            }),
            a
          );
        }),
        (a.extendCollection = function (b, c) {
          return a.addElementTransformer(b, !0, c);
        }),
        (a.extendModel = function (b, c) {
          return a.addElementTransformer(b, !1, c);
        }),
        (b.transformElem = function (a, c, d, e, f) {
          if (
            !f &&
            !b.transformLocalElements &&
            !a[b.restangularFields.fromServer]
          )
            return a;
          var g = b.transformers[d],
            h = a;
          return (
            g &&
              _.each(g, function (a) {
                h = a(c, h);
              }),
            b.onElemRestangularized(h, c, d, e)
          );
        }),
        (b.transformLocalElements = _.isUndefined(b.transformLocalElements)
          ? !1
          : b.transformLocalElements),
        (a.setTransformOnlyServerElements = function (a) {
          b.transformLocalElements = !a;
        }),
        (b.fullResponse = _.isUndefined(b.fullResponse) ? !1 : b.fullResponse),
        (a.setFullResponse = function (a) {
          return (b.fullResponse = a), this;
        }),
        (b.urlCreatorFactory = {});
      var f = function () {};
      (f.prototype.setConfig = function (a) {
        return (this.config = a), this;
      }),
        (f.prototype.parentsArray = function (a) {
          for (var b = []; a; )
            b.push(a), (a = a[this.config.restangularFields.parentResource]);
          return b.reverse();
        }),
        (f.prototype.resource = function (a, d, e, f, g, h, i, j) {
          var k = _.defaults(g || {}, this.config.defaultRequestParams.common),
            l = _.defaults(f || {}, this.config.defaultHeaders);
          i && (b.isSafe(j) ? (l["If-None-Match"] = i) : (l["If-Match"] = i));
          var m = this.base(a);
          if (h) {
            var n = "";
            /\/$/.test(m) || (n += "/"), (n += h), (m += n);
          }
          return (
            this.config.suffix &&
              -1 ===
                m.indexOf(
                  this.config.suffix,
                  m.length - this.config.suffix.length
                ) &&
              !this.config.getUrlFromElem(a) &&
              (m += this.config.suffix),
            (a[this.config.restangularFields.httpConfig] = void 0),
            c(this.config, d, m, {
              getList: this.config.withHttpValues(e, {
                method: "GET",
                params: k,
                headers: l,
              }),
              get: this.config.withHttpValues(e, {
                method: "GET",
                params: k,
                headers: l,
              }),
              jsonp: this.config.withHttpValues(e, {
                method: "jsonp",
                params: k,
                headers: l,
              }),
              put: this.config.withHttpValues(e, {
                method: "PUT",
                params: k,
                headers: l,
              }),
              post: this.config.withHttpValues(e, {
                method: "POST",
                params: k,
                headers: l,
              }),
              remove: this.config.withHttpValues(e, {
                method: "DELETE",
                params: k,
                headers: l,
              }),
              head: this.config.withHttpValues(e, {
                method: "HEAD",
                params: k,
                headers: l,
              }),
              trace: this.config.withHttpValues(e, {
                method: "TRACE",
                params: k,
                headers: l,
              }),
              options: this.config.withHttpValues(e, {
                method: "OPTIONS",
                params: k,
                headers: l,
              }),
              patch: this.config.withHttpValues(e, {
                method: "PATCH",
                params: k,
                headers: l,
              }),
            })
          );
        });
      var g = function () {};
      (g.prototype = new f()),
        (g.prototype.base = function (a) {
          var c = this;
          return _.reduce(
            this.parentsArray(a),
            function (a, d) {
              var e,
                f = c.config.getUrlFromElem(d);
              if (f) {
                if (c.config.isAbsoluteUrl(f)) return f;
                e = f;
              } else if (
                ((e = d[c.config.restangularFields.route]),
                d[c.config.restangularFields.restangularCollection])
              ) {
                var g = d[c.config.restangularFields.ids];
                g && (e += "/" + g.join(","));
              } else {
                var h;
                (h = c.config.useCannonicalId
                  ? c.config.getCannonicalIdFromElem(d)
                  : c.config.getIdFromElem(d)),
                  b.isValidId(h) &&
                    !d.singleOne &&
                    (e +=
                      "/" + (c.config.encodeIds ? encodeURIComponent(h) : h));
              }
              return a.replace(/\/$/, "") + "/" + e;
            },
            this.config.baseUrl
          );
        }),
        (g.prototype.fetchUrl = function (a, b) {
          var c = this.base(a);
          return b && (c += "/" + b), c;
        }),
        (g.prototype.fetchRequestedUrl = function (a, c) {
          function d(a) {
            var b = [];
            for (var c in a) a.hasOwnProperty(c) && b.push(c);
            return b.sort();
          }
          function e(a, b, c) {
            for (var e = d(a), f = 0; f < e.length; f++)
              b.call(c, a[e[f]], e[f]);
            return e;
          }
          function f(a, b) {
            return encodeURIComponent(a)
              .replace(/%40/gi, "@")
              .replace(/%3A/gi, ":")
              .replace(/%24/g, "$")
              .replace(/%2C/gi, ",")
              .replace(/%20/g, b ? "%20" : "+");
          }
          var g = this.fetchUrl(a, c),
            h = a[b.restangularFields.reqParams];
          if (!h) return g;
          var i = [];
          return (
            e(h, function (a, b) {
              null != a &&
                void 0 != a &&
                (angular.isArray(a) || (a = [a]),
                angular.forEach(a, function (a) {
                  angular.isObject(a) && (a = angular.toJson(a)),
                    i.push(f(b) + "=" + f(a));
                }));
            }),
            g +
              (this.config.suffix || "") +
              (-1 === g.indexOf("?") ? "?" : "&") +
              i.join("&")
          );
        }),
        (b.urlCreatorFactory.path = g);
    };
    var b = {};
    a.init(this, b),
      (this.$get = [
        "$http",
        "$q",
        function (c, d) {
          function e(b) {
            function f(a, c, d, e, f) {
              if (
                ((c[b.restangularFields.route] = d),
                (c[b.restangularFields.getRestangularUrl] = _.bind(
                  P.fetchUrl,
                  P,
                  c
                )),
                (c[b.restangularFields.getRequestedUrl] = _.bind(
                  P.fetchRequestedUrl,
                  P,
                  c
                )),
                (c[b.restangularFields.addRestangularMethod] = _.bind(L, c)),
                (c[b.restangularFields.clone] = _.bind(r, c, c)),
                (c[b.restangularFields.reqParams] = _.isEmpty(e) ? null : e),
                (c[b.restangularFields.withHttpConfig] = _.bind(z, c)),
                (c[b.restangularFields.plain] = _.bind(p, c, c)),
                (c[b.restangularFields.one] = _.bind(g, c, c)),
                (c[b.restangularFields.all] = _.bind(h, c, c)),
                (c[b.restangularFields.several] = _.bind(i, c, c)),
                (c[b.restangularFields.oneUrl] = _.bind(j, c, c)),
                (c[b.restangularFields.allUrl] = _.bind(k, c, c)),
                (c[b.restangularFields.fromServer] = !!f),
                a && b.shouldSaveParent(d))
              ) {
                var l = b.getIdFromElem(a),
                  m = b.getUrlFromElem(a),
                  n = _.union(
                    _.values(
                      _.pick(b.restangularFields, [
                        "route",
                        "singleOne",
                        "parentResource",
                      ])
                    ),
                    b.extraFields
                  ),
                  o = _.pick(a, n);
                b.isValidId(l) && b.setIdToElem(o, l),
                  b.isValidId(m) && b.setUrlToElem(o, m),
                  (c[b.restangularFields.parentResource] = o);
              } else c[b.restangularFields.parentResource] = null;
              return c;
            }
            function g(a, c, d, e) {
              if (_.isNumber(c) || _.isNumber(a)) {
                var f = "You're creating a Restangular entity with the number ";
                throw (
                  ((f +=
                    "instead of the route or the parent. You can't call .one(12)"),
                  new Error(f))
                );
              }
              var g = {};
              return (
                b.setIdToElem(g, d),
                b.setFieldToElem(b.restangularFields.singleOne, g, e),
                s(a, g, c, !1)
              );
            }
            function h(a, b) {
              return t(a, [], b, !1);
            }
            function i(a, c) {
              var d = [];
              return (
                (d[b.restangularFields.ids] = Array.prototype.splice.call(
                  arguments,
                  2
                )),
                t(a, d, c, !1)
              );
            }
            function j(a, c, d) {
              if (!c)
                throw new Error(
                  "Route is mandatory when creating new Restangular objects."
                );
              var e = {};
              return b.setUrlToElem(e, d, c), s(a, e, c, !1);
            }
            function k(a, c, d) {
              if (!c)
                throw new Error(
                  "Route is mandatory when creating new Restangular objects."
                );
              var e = {};
              return b.setUrlToElem(e, d, c), t(a, e, c, !1);
            }
            function l(a, c, d) {
              return (
                (a.call = _.bind(m, a)),
                (a.get = _.bind(n, a)),
                (a[b.restangularFields.restangularCollection] = c),
                c && (a.push = _.bind(m, a, "push")),
                (a.$object = d),
                a
              );
            }
            function m(a) {
              var c = d.defer(),
                e = arguments,
                f = {};
              return (
                this.then(function (b) {
                  var d = Array.prototype.slice.call(e, 1),
                    g = b[a];
                  g.apply(b, d), (f = b), c.resolve(b);
                }),
                l(c.promise, this[b.restangularFields.restangularCollection], f)
              );
            }
            function n(a) {
              var c = d.defer(),
                e = {};
              return (
                this.then(function (b) {
                  (e = b[a]), c.resolve(e);
                }),
                l(c.promise, this[b.restangularFields.restangularCollection], e)
              );
            }
            function o(a, c, d, e) {
              return (
                _.extend(e, d),
                b.fullResponse
                  ? a.resolve(_.extend(c, { data: d }))
                  : (a.resolve(d), void 0)
              );
            }
            function p(a) {
              if (_.isArray(a)) {
                var c = [];
                return (
                  _.each(a, function (a) {
                    c.push(p(a));
                  }),
                  c
                );
              }
              return _.omit(a, _.values(_.omit(b.restangularFields, "id")));
            }
            function q(a) {
              (a[b.restangularFields.customOperation] = _.bind(K, a)),
                _.each(["put", "post", "get", "delete"], function (b) {
                  _.each(["do", "custom"], function (c) {
                    var d,
                      e = "delete" === b ? "remove" : b,
                      f = c + b.toUpperCase();
                    (d =
                      "put" !== e && "post" !== e
                        ? K
                        : function (a, b, c, d, e) {
                            return _.bind(K, this)(a, c, d, e, b);
                          }),
                      (a[f] = _.bind(d, a, e));
                  });
                }),
                (a[b.restangularFields.customGETLIST] = _.bind(y, a)),
                (a[b.restangularFields.doGETLIST] =
                  a[b.restangularFields.customGETLIST]);
            }
            function r(a, c) {
              var d = angular.copy(a, c);
              return s(
                d[b.restangularFields.parentResource],
                d,
                d[b.restangularFields.route],
                !0
              );
            }
            function s(a, c, d, e, g, h) {
              var i = b.onBeforeElemRestangularized(c, !1, d),
                j = f(a, i, d, h, e);
              return (
                b.useCannonicalId &&
                  (j[b.restangularFields.cannonicalId] = b.getIdFromElem(j)),
                g &&
                  (j[b.restangularFields.getParentList] = function () {
                    return g;
                  }),
                (j[b.restangularFields.restangularCollection] = !1),
                (j[b.restangularFields.get] = _.bind(C, j)),
                (j[b.restangularFields.getList] = _.bind(y, j)),
                (j[b.restangularFields.put] = _.bind(E, j)),
                (j[b.restangularFields.post] = _.bind(F, j)),
                (j[b.restangularFields.remove] = _.bind(D, j)),
                (j[b.restangularFields.head] = _.bind(G, j)),
                (j[b.restangularFields.trace] = _.bind(H, j)),
                (j[b.restangularFields.options] = _.bind(I, j)),
                (j[b.restangularFields.patch] = _.bind(J, j)),
                (j[b.restangularFields.save] = _.bind(A, j)),
                q(j),
                b.transformElem(j, !1, d, O, !0)
              );
            }
            function t(a, c, d, e, g) {
              var h = b.onBeforeElemRestangularized(c, !0, d),
                i = f(a, h, d, g, e);
              return (
                (i[b.restangularFields.restangularCollection] = !0),
                (i[b.restangularFields.post] = _.bind(F, i, null)),
                (i[b.restangularFields.remove] = _.bind(D, i)),
                (i[b.restangularFields.head] = _.bind(G, i)),
                (i[b.restangularFields.trace] = _.bind(H, i)),
                (i[b.restangularFields.putElement] = _.bind(w, i)),
                (i[b.restangularFields.options] = _.bind(I, i)),
                (i[b.restangularFields.patch] = _.bind(J, i)),
                (i[b.restangularFields.get] = _.bind(v, i)),
                (i[b.restangularFields.getList] = _.bind(y, i, null)),
                q(i),
                b.transformElem(i, !0, d, O, !0)
              );
            }
            function u(a, b, c) {
              var d = t(a, b, c, !1);
              return (
                _.each(d, function (b) {
                  s(a, b, c, !1);
                }),
                d
              );
            }
            function v(a, b, c) {
              return this.customGET(a.toString(), b, c);
            }
            function w(a, c, e) {
              var f = this,
                g = this[a],
                h = d.defer(),
                i = [];
              return (
                (i = b.transformElem(i, !0, g[b.restangularFields.route], O)),
                g.put(c, e).then(
                  function (b) {
                    var c = r(f);
                    (c[a] = b), (i = c), h.resolve(c);
                  },
                  function (a) {
                    h.reject(a);
                  }
                ),
                l(h.promise, !0, i)
              );
            }
            function x(a, c, d, e, f, g) {
              var h = b.responseExtractor(a, c, d, e, f, g),
                i = f.headers("ETag");
              return h && i && (h[b.restangularFields.etag] = i), h;
            }
            function y(a, e, f) {
              var g = this,
                h = d.defer(),
                i = "getList",
                j = P.fetchUrl(this, a),
                k = a || g[b.restangularFields.route],
                m = b.fullRequestInterceptor(
                  null,
                  i,
                  k,
                  j,
                  f || {},
                  e || {},
                  this[b.restangularFields.httpConfig] || {}
                ),
                n = [];
              n = b.transformElem(n, !0, k, O);
              var p = "getList";
              return (
                b.jsonp && (p = "jsonp"),
                P.resource(
                  this,
                  c,
                  m.httpConfig,
                  m.headers,
                  m.params,
                  a,
                  this[b.restangularFields.etag],
                  i
                )
                  [p]()
                  .then(
                    function (c) {
                      var d = c.data,
                        e = c.config.params,
                        f = x(d, i, k, j, c, h);
                      if (
                        ((_.isUndefined(f) || "" === f) && (f = []),
                        !_.isArray(f))
                      )
                        throw new Error(
                          "Response for getList SHOULD be an array and not an object or something else"
                        );
                      var l = _.map(f, function (c) {
                        return g[b.restangularFields.restangularCollection]
                          ? s(
                              g[b.restangularFields.parentResource],
                              c,
                              g[b.restangularFields.route],
                              !0,
                              f
                            )
                          : s(g, c, a, !0, f);
                      });
                      (l = _.extend(f, l)),
                        g[b.restangularFields.restangularCollection]
                          ? o(
                              h,
                              c,
                              t(
                                g[b.restangularFields.parentResource],
                                l,
                                g[b.restangularFields.route],
                                !0,
                                e
                              ),
                              n
                            )
                          : o(h, c, t(g, l, a, !0, e), n);
                    },
                    function (a) {
                      304 === a.status &&
                      g[b.restangularFields.restangularCollection]
                        ? o(h, a, g, n)
                        : b.errorInterceptor(a, h) !== !1 && h.reject(a);
                    }
                  ),
                l(h.promise, !0, n)
              );
            }
            function z(a) {
              return (this[b.restangularFields.httpConfig] = a), this;
            }
            function A(a, c) {
              return this[b.restangularFields.fromServer]
                ? this[b.restangularFields.put](a, c)
                : _.bind(B, this)("post", void 0, a, void 0, c);
            }
            function B(a, e, f, g, h) {
              var i = this,
                j = d.defer(),
                k = f || {},
                m = e || this[b.restangularFields.route],
                n = P.fetchUrl(this, e),
                q = g || this,
                r =
                  q[b.restangularFields.etag] ||
                  ("post" != a ? this[b.restangularFields.etag] : null);
              _.isObject(q) && b.isRestangularized(q) && (q = p(q));
              var t = b.fullRequestInterceptor(
                  q,
                  a,
                  m,
                  n,
                  h || {},
                  k || {},
                  this[b.restangularFields.httpConfig] || {}
                ),
                u = {};
              u = b.transformElem(u, !1, m, O);
              var v = function (c) {
                  var d = c.data,
                    f = c.config.params,
                    g = x(d, a, m, n, c, j);
                  g
                    ? "post" !== a ||
                      i[b.restangularFields.restangularCollection]
                      ? ((data = s(
                          i[b.restangularFields.parentResource],
                          g,
                          i[b.restangularFields.route],
                          !0,
                          null,
                          f
                        )),
                        (data[b.restangularFields.singleOne] =
                          i[b.restangularFields.singleOne]),
                        o(j, c, data, u))
                      : o(j, c, s(i, g, e, !0, null, f), u)
                    : o(j, c, void 0, u);
                },
                w = function (c) {
                  304 === c.status && b.isSafe(a)
                    ? o(j, c, i, u)
                    : b.errorInterceptor(c, j) !== !1 && j.reject(c);
                },
                y = a,
                z = _.extend({}, t.headers),
                A = b.isOverridenMethod(a);
              return (
                A
                  ? ((y = "post"),
                    (z = _.extend(z, {
                      "X-HTTP-Method-Override": "remove" === a ? "DELETE" : a,
                    })))
                  : b.jsonp && "get" === y && (y = "jsonp"),
                b.isSafe(a)
                  ? A
                    ? P.resource(this, c, t.httpConfig, z, t.params, e, r, y)
                        [y]({})
                        .then(v, w)
                    : P.resource(this, c, t.httpConfig, z, t.params, e, r, y)
                        [y]()
                        .then(v, w)
                  : P.resource(this, c, t.httpConfig, z, t.params, e, r, y)
                      [y](t.element)
                      .then(v, w),
                l(j.promise, !1, u)
              );
            }
            function C(a, b) {
              return _.bind(B, this)("get", void 0, a, void 0, b);
            }
            function D(a, b) {
              return _.bind(B, this)("remove", void 0, a, void 0, b);
            }
            function E(a, b) {
              return _.bind(B, this)("put", void 0, a, void 0, b);
            }
            function F(a, b, c, d) {
              return _.bind(B, this)("post", a, c, b, d);
            }
            function G(a, b) {
              return _.bind(B, this)("head", void 0, a, void 0, b);
            }
            function H(a, b) {
              return _.bind(B, this)("trace", void 0, a, void 0, b);
            }
            function I(a, b) {
              return _.bind(B, this)("options", void 0, a, void 0, b);
            }
            function J(a, b, c) {
              return _.bind(B, this)("patch", void 0, b, a, c);
            }
            function K(a, b, c, d, e) {
              return _.bind(B, this)(a, b, c, e, d);
            }
            function L(a, c, d, e, f, g) {
              var h;
              h = "getList" === c ? _.bind(y, this, d) : _.bind(K, this, c, d);
              var i = function (a, b, c) {
                var d = _.defaults(
                  { params: a, headers: b, elem: c },
                  { params: e, headers: f, elem: g }
                );
                return h(d.params, d.headers, d.elem);
              };
              this[a] = b.isSafe(c)
                ? i
                : function (a, b, c) {
                    return i(b, c, a);
                  };
            }
            function M(c) {
              var d = angular.copy(_.omit(b, "configuration"));
              return a.init(d, d), c(d), e(d);
            }
            function N(a, b) {
              var c = {},
                d = (b || O).all(a);
              return (
                (c.one = _.bind(g, b || O, b, a)),
                (c.post = _.bind(d.post, d)),
                (c.getList = _.bind(d.getList, d)),
                c
              );
            }
            var O = {},
              P = new b.urlCreatorFactory[b.urlCreator]();
            return (
              P.setConfig(b),
              a.init(O, b),
              (O.copy = _.bind(r, O)),
              (O.service = _.bind(N, O)),
              (O.withConfig = _.bind(M, O)),
              (O.one = _.bind(g, O, null)),
              (O.all = _.bind(h, O, null)),
              (O.several = _.bind(i, O, null)),
              (O.oneUrl = _.bind(j, O, null)),
              (O.allUrl = _.bind(k, O, null)),
              (O.stripRestangular = _.bind(p, O)),
              (O.restangularizeElement = _.bind(s, O)),
              (O.restangularizeCollection = _.bind(u, O)),
              O
            );
          }
          return e(b);
        },
      ]);
  });
})(); /*
 AngularJS v1.2.16
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (n, e, A) {
  "use strict";
  function x(s, g, k) {
    return {
      restrict: "ECA",
      terminal: !0,
      priority: 400,
      transclude: "element",
      link: function (a, c, b, f, w) {
        function y() {
          p && (p.remove(), (p = null));
          h && (h.$destroy(), (h = null));
          l &&
            (k.leave(l, function () {
              p = null;
            }),
            (p = l),
            (l = null));
        }
        function v() {
          var b = s.current && s.current.locals;
          if (e.isDefined(b && b.$template)) {
            var b = a.$new(),
              d = s.current;
            l = w(b, function (d) {
              k.enter(d, null, l || c, function () {
                !e.isDefined(t) || (t && !a.$eval(t)) || g();
              });
              y();
            });
            h = d.scope = b;
            h.$emit("$viewContentLoaded");
            h.$eval(u);
          } else y();
        }
        var h,
          l,
          p,
          t = b.autoscroll,
          u = b.onload || "";
        a.$on("$routeChangeSuccess", v);
        v();
      },
    };
  }
  function z(e, g, k) {
    return {
      restrict: "ECA",
      priority: -400,
      link: function (a, c) {
        var b = k.current,
          f = b.locals;
        c.html(f.$template);
        var w = e(c.contents());
        b.controller &&
          ((f.$scope = a),
          (f = g(b.controller, f)),
          b.controllerAs && (a[b.controllerAs] = f),
          c.data("$ngControllerController", f),
          c.children().data("$ngControllerController", f));
        w(a);
      },
    };
  }
  n = e.module("ngRoute", ["ng"]).provider("$route", function () {
    function s(a, c) {
      return e.extend(new (e.extend(function () {}, { prototype: a }))(), c);
    }
    function g(a, e) {
      var b = e.caseInsensitiveMatch,
        f = { originalPath: a, regexp: a },
        k = (f.keys = []);
      a = a
        .replace(/([().])/g, "\\$1")
        .replace(/(\/)?:(\w+)([\?\*])?/g, function (a, e, b, c) {
          a = "?" === c ? c : null;
          c = "*" === c ? c : null;
          k.push({ name: b, optional: !!a });
          e = e || "";
          return (
            "" +
            (a ? "" : e) +
            "(?:" +
            (a ? e : "") +
            ((c && "(.+?)") || "([^/]+)") +
            (a || "") +
            ")" +
            (a || "")
          );
        })
        .replace(/([\/$\*])/g, "\\$1");
      f.regexp = RegExp("^" + a + "$", b ? "i" : "");
      return f;
    }
    var k = {};
    this.when = function (a, c) {
      k[a] = e.extend({ reloadOnSearch: !0 }, c, a && g(a, c));
      if (a) {
        var b = "/" == a[a.length - 1] ? a.substr(0, a.length - 1) : a + "/";
        k[b] = e.extend({ redirectTo: a }, g(b, c));
      }
      return this;
    };
    this.otherwise = function (a) {
      this.when(null, a);
      return this;
    };
    this.$get = [
      "$rootScope",
      "$location",
      "$routeParams",
      "$q",
      "$injector",
      "$http",
      "$templateCache",
      "$sce",
      function (a, c, b, f, g, n, v, h) {
        function l() {
          var d = p(),
            m = r.current;
          if (
            d &&
            m &&
            d.$$route === m.$$route &&
            e.equals(d.pathParams, m.pathParams) &&
            !d.reloadOnSearch &&
            !u
          )
            (m.params = d.params),
              e.copy(m.params, b),
              a.$broadcast("$routeUpdate", m);
          else if (d || m)
            (u = !1),
              a.$broadcast("$routeChangeStart", d, m),
              (r.current = d) &&
                d.redirectTo &&
                (e.isString(d.redirectTo)
                  ? c.path(t(d.redirectTo, d.params)).search(d.params).replace()
                  : c
                      .url(d.redirectTo(d.pathParams, c.path(), c.search()))
                      .replace()),
              f
                .when(d)
                .then(function () {
                  if (d) {
                    var a = e.extend({}, d.resolve),
                      c,
                      b;
                    e.forEach(a, function (d, c) {
                      a[c] = e.isString(d) ? g.get(d) : g.invoke(d);
                    });
                    e.isDefined((c = d.template))
                      ? e.isFunction(c) && (c = c(d.params))
                      : e.isDefined((b = d.templateUrl)) &&
                        (e.isFunction(b) && (b = b(d.params)),
                        (b = h.getTrustedResourceUrl(b)),
                        e.isDefined(b) &&
                          ((d.loadedTemplateUrl = b),
                          (c = n.get(b, { cache: v }).then(function (a) {
                            return a.data;
                          }))));
                    e.isDefined(c) && (a.$template = c);
                    return f.all(a);
                  }
                })
                .then(
                  function (c) {
                    d == r.current &&
                      (d && ((d.locals = c), e.copy(d.params, b)),
                      a.$broadcast("$routeChangeSuccess", d, m));
                  },
                  function (c) {
                    d == r.current &&
                      a.$broadcast("$routeChangeError", d, m, c);
                  }
                );
        }
        function p() {
          var a, b;
          e.forEach(k, function (f, k) {
            var q;
            if ((q = !b)) {
              var g = c.path();
              q = f.keys;
              var l = {};
              if (f.regexp)
                if ((g = f.regexp.exec(g))) {
                  for (var h = 1, p = g.length; h < p; ++h) {
                    var n = q[h - 1],
                      r =
                        "string" == typeof g[h]
                          ? decodeURIComponent(g[h])
                          : g[h];
                    n && r && (l[n.name] = r);
                  }
                  q = l;
                } else q = null;
              else q = null;
              q = a = q;
            }
            q &&
              ((b = s(f, {
                params: e.extend({}, c.search(), a),
                pathParams: a,
              })),
              (b.$$route = f));
          });
          return b || (k[null] && s(k[null], { params: {}, pathParams: {} }));
        }
        function t(a, c) {
          var b = [];
          e.forEach((a || "").split(":"), function (a, d) {
            if (0 === d) b.push(a);
            else {
              var e = a.match(/(\w+)(.*)/),
                f = e[1];
              b.push(c[f]);
              b.push(e[2] || "");
              delete c[f];
            }
          });
          return b.join("");
        }
        var u = !1,
          r = {
            routes: k,
            reload: function () {
              u = !0;
              a.$evalAsync(l);
            },
          };
        a.$on("$locationChangeSuccess", l);
        return r;
      },
    ];
  });
  n.provider("$routeParams", function () {
    this.$get = function () {
      return {};
    };
  });
  n.directive("ngView", x);
  n.directive("ngView", z);
  x.$inject = ["$route", "$anchorScroll", "$animate"];
  z.$inject = ["$compile", "$controller", "$route"];
})(window, window.angular); /*
 AngularJS v1.2.16
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
//# sourceMappingURL=angular-route.min.js.map
(function (H, a, A) {
  "use strict";
  function D(p, g) {
    g = g || {};
    a.forEach(g, function (a, c) {
      delete g[c];
    });
    for (var c in p)
      !p.hasOwnProperty(c) ||
        ("$" === c.charAt(0) && "$" === c.charAt(1)) ||
        (g[c] = p[c]);
    return g;
  }
  var v = a.$$minErr("$resource"),
    C = /^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;
  a.module("ngResource", ["ng"]).factory("$resource", [
    "$http",
    "$q",
    function (p, g) {
      function c(a, c) {
        this.template = a;
        this.defaults = c || {};
        this.urlParams = {};
      }
      function t(n, w, l) {
        function r(h, d) {
          var e = {};
          d = x({}, w, d);
          s(d, function (b, d) {
            u(b) && (b = b());
            var k;
            if (b && b.charAt && "@" == b.charAt(0)) {
              k = h;
              var a = b.substr(1);
              if (
                null == a ||
                "" === a ||
                "hasOwnProperty" === a ||
                !C.test("." + a)
              )
                throw v("badmember", a);
              for (
                var a = a.split("."), f = 0, c = a.length;
                f < c && k !== A;
                f++
              ) {
                var g = a[f];
                k = null !== k ? k[g] : A;
              }
            } else k = b;
            e[d] = k;
          });
          return e;
        }
        function e(a) {
          return a.resource;
        }
        function f(a) {
          D(a || {}, this);
        }
        var F = new c(n);
        l = x({}, B, l);
        s(l, function (h, d) {
          var c = /^(POST|PUT|PATCH)$/i.test(h.method);
          f[d] = function (b, d, k, w) {
            var q = {},
              n,
              l,
              y;
            switch (arguments.length) {
              case 4:
                (y = w), (l = k);
              case 3:
              case 2:
                if (u(d)) {
                  if (u(b)) {
                    l = b;
                    y = d;
                    break;
                  }
                  l = d;
                  y = k;
                } else {
                  q = b;
                  n = d;
                  l = k;
                  break;
                }
              case 1:
                u(b) ? (l = b) : c ? (n = b) : (q = b);
                break;
              case 0:
                break;
              default:
                throw v("badargs", arguments.length);
            }
            var t = this instanceof f,
              m = t ? n : h.isArray ? [] : new f(n),
              z = {},
              B = (h.interceptor && h.interceptor.response) || e,
              C = (h.interceptor && h.interceptor.responseError) || A;
            s(h, function (a, b) {
              "params" != b &&
                "isArray" != b &&
                "interceptor" != b &&
                (z[b] = G(a));
            });
            c && (z.data = n);
            F.setUrlParams(z, x({}, r(n, h.params || {}), q), h.url);
            q = p(z).then(
              function (b) {
                var d = b.data,
                  k = m.$promise;
                if (d) {
                  if (a.isArray(d) !== !!h.isArray)
                    throw v(
                      "badcfg",
                      h.isArray ? "array" : "object",
                      a.isArray(d) ? "array" : "object"
                    );
                  h.isArray
                    ? ((m.length = 0),
                      s(d, function (b) {
                        m.push(new f(b));
                      }))
                    : (D(d, m), (m.$promise = k));
                }
                m.$resolved = !0;
                b.resource = m;
                return b;
              },
              function (b) {
                m.$resolved = !0;
                (y || E)(b);
                return g.reject(b);
              }
            );
            q = q.then(function (b) {
              var a = B(b);
              (l || E)(a, b.headers);
              return a;
            }, C);
            return t ? q : ((m.$promise = q), (m.$resolved = !1), m);
          };
          f.prototype["$" + d] = function (b, a, k) {
            u(b) && ((k = a), (a = b), (b = {}));
            b = f[d].call(this, b, this, a, k);
            return b.$promise || b;
          };
        });
        f.bind = function (a) {
          return t(n, x({}, w, a), l);
        };
        return f;
      }
      var B = {
          get: { method: "GET" },
          save: { method: "POST" },
          query: { method: "GET", isArray: !0 },
          remove: { method: "DELETE" },
          delete: { method: "DELETE" },
        },
        E = a.noop,
        s = a.forEach,
        x = a.extend,
        G = a.copy,
        u = a.isFunction;
      c.prototype = {
        setUrlParams: function (c, g, l) {
          var r = this,
            e = l || r.template,
            f,
            p,
            h = (r.urlParams = {});
          s(e.split(/\W/), function (a) {
            if ("hasOwnProperty" === a) throw v("badname");
            !/^\d+$/.test(a) &&
              a &&
              RegExp("(^|[^\\\\]):" + a + "(\\W|$)").test(e) &&
              (h[a] = !0);
          });
          e = e.replace(/\\:/g, ":");
          g = g || {};
          s(r.urlParams, function (d, c) {
            f = g.hasOwnProperty(c) ? g[c] : r.defaults[c];
            a.isDefined(f) && null !== f
              ? ((p = encodeURIComponent(f)
                  .replace(/%40/gi, "@")
                  .replace(/%3A/gi, ":")
                  .replace(/%24/g, "$")
                  .replace(/%2C/gi, ",")
                  .replace(/%20/g, "%20")
                  .replace(/%26/gi, "&")
                  .replace(/%3D/gi, "=")
                  .replace(/%2B/gi, "+")),
                (e = e.replace(
                  RegExp(":" + c + "(\\W|$)", "g"),
                  function (a, c) {
                    return p + c;
                  }
                )))
              : (e = e.replace(
                  RegExp("(/?):" + c + "(\\W|$)", "g"),
                  function (a, c, d) {
                    return "/" == d.charAt(0) ? d : c + d;
                  }
                ));
          });
          e = e.replace(/\/+$/, "") || "/";
          e = e.replace(/\/\.(?=\w+($|\?))/, ".");
          c.url = e.replace(/\/\\\./, "/.");
          s(g, function (a, e) {
            r.urlParams[e] || ((c.params = c.params || {}), (c.params[e] = a));
          });
        },
      };
      return t;
    },
  ]);
})(window, window.angular); /*
 AngularJS v1.2.16
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
//# sourceMappingURL=angular-resource.min.js.map
(function (p, f, n) {
  "use strict";
  f.module("ngCookies", ["ng"])
    .factory("$cookies", [
      "$rootScope",
      "$browser",
      function (e, b) {
        var c = {},
          g = {},
          h,
          k = !1,
          l = f.copy,
          m = f.isUndefined;
        b.addPollFn(function () {
          var a = b.cookies();
          h != a && ((h = a), l(a, g), l(a, c), k && e.$apply());
        })();
        k = !0;
        e.$watch(function () {
          var a, d, e;
          for (a in g) m(c[a]) && b.cookies(a, n);
          for (a in c)
            (d = c[a]),
              f.isString(d) || ((d = "" + d), (c[a] = d)),
              d !== g[a] && (b.cookies(a, d), (e = !0));
          if (e)
            for (a in ((d = b.cookies()), c))
              c[a] !== d[a] && (m(d[a]) ? delete c[a] : (c[a] = d[a]));
        });
        return c;
      },
    ])
    .factory("$cookieStore", [
      "$cookies",
      function (e) {
        return {
          get: function (b) {
            return (b = e[b]) ? f.fromJson(b) : b;
          },
          put: function (b, c) {
            e[b] = f.toJson(c);
          },
          remove: function (b) {
            delete e[b];
          },
        };
      },
    ]);
})(window, window.angular);
/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
//# sourceMappingURL=angular-cookies.min.js.map
"undefined" != typeof module &&
  "undefined" != typeof exports &&
  module.exports === exports &&
  (module.exports = "ui.router"),
  (function (a, b, c) {
    "use strict";
    function d(a, b) {
      return M(new (M(function () {}, { prototype: a }))(), b);
    }
    function e(a) {
      return (
        L(arguments, function (b) {
          b !== a &&
            L(b, function (b, c) {
              a.hasOwnProperty(c) || (a[c] = b);
            });
        }),
        a
      );
    }
    function f(a, b) {
      var c = [];
      for (var d in a.path) {
        if (a.path[d] !== b.path[d]) break;
        c.push(a.path[d]);
      }
      return c;
    }
    function g(a) {
      if (Object.keys) return Object.keys(a);
      var c = [];
      return (
        b.forEach(a, function (a, b) {
          c.push(b);
        }),
        c
      );
    }
    function h(a, b) {
      if (Array.prototype.indexOf)
        return a.indexOf(b, Number(arguments[2]) || 0);
      var c = a.length >>> 0,
        d = Number(arguments[2]) || 0;
      for (
        d = 0 > d ? Math.ceil(d) : Math.floor(d), 0 > d && (d += c);
        c > d;
        d++
      )
        if (d in a && a[d] === b) return d;
      return -1;
    }
    function i(a, b, c, d) {
      var e,
        i = f(c, d),
        j = {},
        k = [];
      for (var l in i)
        if (i[l].params && ((e = g(i[l].params)), e.length))
          for (var m in e)
            h(k, e[m]) >= 0 || (k.push(e[m]), (j[e[m]] = a[e[m]]));
      return M({}, j, b);
    }
    function j(a, b, c) {
      if (!c) {
        c = [];
        for (var d in a) c.push(d);
      }
      for (var e = 0; e < c.length; e++) {
        var f = c[e];
        if (a[f] != b[f]) return !1;
      }
      return !0;
    }
    function k(a, b) {
      var c = {};
      return (
        L(a, function (a) {
          c[a] = b[a];
        }),
        c
      );
    }
    function l(a) {
      var b = {},
        c = Array.prototype.concat.apply(
          Array.prototype,
          Array.prototype.slice.call(arguments, 1)
        );
      for (var d in a) -1 == h(c, d) && (b[d] = a[d]);
      return b;
    }
    function m(a, b) {
      var c = K(a),
        d = c ? [] : {};
      return (
        L(a, function (a, e) {
          b(a, e) && (d[c ? d.length : e] = a);
        }),
        d
      );
    }
    function n(a, b) {
      var c = K(a) ? [] : {};
      return (
        L(a, function (a, d) {
          c[d] = b(a, d);
        }),
        c
      );
    }
    function o(a, b) {
      var d = 1,
        f = 2,
        i = {},
        j = [],
        k = i,
        m = M(a.when(i), { $$promises: i, $$values: i });
      (this.study = function (i) {
        function n(a, c) {
          if (s[c] !== f) {
            if ((r.push(c), s[c] === d))
              throw (
                (r.splice(0, h(r, c)),
                new Error("Cyclic dependency: " + r.join(" -> ")))
              );
            if (((s[c] = d), I(a)))
              q.push(
                c,
                [
                  function () {
                    return b.get(a);
                  },
                ],
                j
              );
            else {
              var e = b.annotate(a);
              L(e, function (a) {
                a !== c && i.hasOwnProperty(a) && n(i[a], a);
              }),
                q.push(c, a, e);
            }
            r.pop(), (s[c] = f);
          }
        }
        function o(a) {
          return J(a) && a.then && a.$$promises;
        }
        if (!J(i)) throw new Error("'invocables' must be an object");
        var p = g(i || {}),
          q = [],
          r = [],
          s = {};
        return (
          L(i, n),
          (i = r = s = null),
          function (d, f, g) {
            function h() {
              --u ||
                (v || e(t, f.$$values),
                (r.$$values = t),
                (r.$$promises = r.$$promises || !0),
                delete r.$$inheritedValues,
                n.resolve(t));
            }
            function i(a) {
              (r.$$failure = a), n.reject(a);
            }
            function j(c, e, f) {
              function j(a) {
                l.reject(a), i(a);
              }
              function k() {
                if (!G(r.$$failure))
                  try {
                    l.resolve(b.invoke(e, g, t)),
                      l.promise.then(function (a) {
                        (t[c] = a), h();
                      }, j);
                  } catch (a) {
                    j(a);
                  }
              }
              var l = a.defer(),
                m = 0;
              L(f, function (a) {
                s.hasOwnProperty(a) &&
                  !d.hasOwnProperty(a) &&
                  (m++,
                  s[a].then(function (b) {
                    (t[a] = b), --m || k();
                  }, j));
              }),
                m || k(),
                (s[c] = l.promise);
            }
            if ((o(d) && g === c && ((g = f), (f = d), (d = null)), d)) {
              if (!J(d)) throw new Error("'locals' must be an object");
            } else d = k;
            if (f) {
              if (!o(f))
                throw new Error(
                  "'parent' must be a promise returned by $resolve.resolve()"
                );
            } else f = m;
            var n = a.defer(),
              r = n.promise,
              s = (r.$$promises = {}),
              t = M({}, d),
              u = 1 + q.length / 3,
              v = !1;
            if (G(f.$$failure)) return i(f.$$failure), r;
            f.$$inheritedValues && e(t, l(f.$$inheritedValues, p)),
              M(s, f.$$promises),
              f.$$values
                ? ((v = e(t, l(f.$$values, p))),
                  (r.$$inheritedValues = l(f.$$values, p)),
                  h())
                : (f.$$inheritedValues &&
                    (r.$$inheritedValues = l(f.$$inheritedValues, p)),
                  f.then(h, i));
            for (var w = 0, x = q.length; x > w; w += 3)
              d.hasOwnProperty(q[w]) ? h() : j(q[w], q[w + 1], q[w + 2]);
            return r;
          }
        );
      }),
        (this.resolve = function (a, b, c, d) {
          return this.study(a)(b, c, d);
        });
    }
    function p(a, b, c) {
      (this.fromConfig = function (a, b, c) {
        return G(a.template)
          ? this.fromString(a.template, b)
          : G(a.templateUrl)
          ? this.fromUrl(a.templateUrl, b)
          : G(a.templateProvider)
          ? this.fromProvider(a.templateProvider, b, c)
          : null;
      }),
        (this.fromString = function (a, b) {
          return H(a) ? a(b) : a;
        }),
        (this.fromUrl = function (c, d) {
          return (
            H(c) && (c = c(d)),
            null == c
              ? null
              : a
                  .get(c, { cache: b, headers: { Accept: "text/html" } })
                  .then(function (a) {
                    return a.data;
                  })
          );
        }),
        (this.fromProvider = function (a, b, d) {
          return c.invoke(a, null, d || { params: b });
        });
    }
    function q(a, b, e) {
      function f(b, c, d, e) {
        if ((q.push(b), o[b])) return o[b];
        if (!/^\w+(-+\w+)*(?:\[\])?$/.test(b))
          throw new Error(
            "Invalid parameter name '" + b + "' in pattern '" + a + "'"
          );
        if (p[b])
          throw new Error(
            "Duplicate parameter name '" + b + "' in pattern '" + a + "'"
          );
        return (p[b] = new O.Param(b, c, d, e)), p[b];
      }
      function g(a, b, c) {
        var d = ["", ""],
          e = a.replace(/[\\\[\]\^$*+?.()|{}]/g, "\\$&");
        if (!b) return e;
        switch (c) {
          case !1:
            d = ["(", ")"];
            break;
          case !0:
            d = ["?(", ")?"];
            break;
          default:
            d = ["(" + c + "|", ")?"];
        }
        return e + d[0] + b + d[1];
      }
      function h(c, e) {
        var f, g, h, i, j;
        return (
          (f = c[2] || c[3]),
          (j = b.params[f]),
          (h = a.substring(m, c.index)),
          (g = e ? c[4] : c[4] || ("*" == c[1] ? ".*" : null)),
          (i =
            O.type(g || "string") ||
            d(O.type("string"), { pattern: new RegExp(g) })),
          { id: f, regexp: g, segment: h, type: i, cfg: j }
        );
      }
      b = M({ params: {} }, J(b) ? b : {});
      var i,
        j =
          /([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,
        k =
          /([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,
        l = "^",
        m = 0,
        n = (this.segments = []),
        o = e ? e.params : {},
        p = (this.params = e ? e.params.$$new() : new O.ParamSet()),
        q = [];
      this.source = a;
      for (
        var r, s, t;
        (i = j.exec(a)) && ((r = h(i, !1)), !(r.segment.indexOf("?") >= 0));

      )
        (s = f(r.id, r.type, r.cfg, "path")),
          (l += g(r.segment, s.type.pattern.source, s.squash)),
          n.push(r.segment),
          (m = j.lastIndex);
      t = a.substring(m);
      var u = t.indexOf("?");
      if (u >= 0) {
        var v = (this.sourceSearch = t.substring(u));
        if (
          ((t = t.substring(0, u)),
          (this.sourcePath = a.substring(0, m + u)),
          v.length > 0)
        )
          for (m = 0; (i = k.exec(v)); )
            (r = h(i, !0)),
              (s = f(r.id, r.type, r.cfg, "search")),
              (m = j.lastIndex);
      } else (this.sourcePath = a), (this.sourceSearch = "");
      (l += g(t) + (b.strict === !1 ? "/?" : "") + "$"),
        n.push(t),
        (this.regexp = new RegExp(l, b.caseInsensitive ? "i" : c)),
        (this.prefix = n[0]),
        (this.$$paramNames = q);
    }
    function r(a) {
      M(this, a);
    }
    function s() {
      function a(a) {
        return null != a ? a.toString().replace(/\//g, "%2F") : a;
      }
      function e(a) {
        return null != a ? a.toString().replace(/%2F/g, "/") : a;
      }
      function f(a) {
        return this.pattern.test(a);
      }
      function i() {
        return { strict: t, caseInsensitive: p };
      }
      function j(a) {
        return H(a) || (K(a) && H(a[a.length - 1]));
      }
      function k() {
        for (; x.length; ) {
          var a = x.shift();
          if (a.pattern)
            throw new Error(
              "You cannot override a type's .pattern at runtime."
            );
          b.extend(v[a.name], o.invoke(a.def));
        }
      }
      function l(a) {
        M(this, a || {});
      }
      O = this;
      var o,
        p = !1,
        t = !0,
        u = !1,
        v = {},
        w = !0,
        x = [],
        y = {
          string: { encode: a, decode: e, is: f, pattern: /[^/]*/ },
          int: {
            encode: a,
            decode: function (a) {
              return parseInt(a, 10);
            },
            is: function (a) {
              return G(a) && this.decode(a.toString()) === a;
            },
            pattern: /\d+/,
          },
          bool: {
            encode: function (a) {
              return a ? 1 : 0;
            },
            decode: function (a) {
              return 0 !== parseInt(a, 10);
            },
            is: function (a) {
              return a === !0 || a === !1;
            },
            pattern: /0|1/,
          },
          date: {
            encode: function (a) {
              return this.is(a)
                ? [
                    a.getFullYear(),
                    ("0" + (a.getMonth() + 1)).slice(-2),
                    ("0" + a.getDate()).slice(-2),
                  ].join("-")
                : c;
            },
            decode: function (a) {
              if (this.is(a)) return a;
              var b = this.capture.exec(a);
              return b ? new Date(b[1], b[2] - 1, b[3]) : c;
            },
            is: function (a) {
              return a instanceof Date && !isNaN(a.valueOf());
            },
            equals: function (a, b) {
              return (
                this.is(a) && this.is(b) && a.toISOString() === b.toISOString()
              );
            },
            pattern: /[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,
            capture: /([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/,
          },
          json: {
            encode: b.toJson,
            decode: b.fromJson,
            is: b.isObject,
            equals: b.equals,
            pattern: /[^/]*/,
          },
          any: {
            encode: b.identity,
            decode: b.identity,
            is: b.identity,
            equals: b.equals,
            pattern: /.*/,
          },
        };
      (s.$$getDefaultValue = function (a) {
        if (!j(a.value)) return a.value;
        if (!o)
          throw new Error(
            "Injectable functions cannot be called at configuration time"
          );
        return o.invoke(a.value);
      }),
        (this.caseInsensitive = function (a) {
          return G(a) && (p = a), p;
        }),
        (this.strictMode = function (a) {
          return G(a) && (t = a), t;
        }),
        (this.defaultSquashPolicy = function (a) {
          if (!G(a)) return u;
          if (a !== !0 && a !== !1 && !I(a))
            throw new Error(
              "Invalid squash policy: " +
                a +
                ". Valid policies: false, true, arbitrary-string"
            );
          return (u = a), a;
        }),
        (this.compile = function (a, b) {
          return new q(a, M(i(), b));
        }),
        (this.isMatcher = function (a) {
          if (!J(a)) return !1;
          var b = !0;
          return (
            L(q.prototype, function (c, d) {
              H(c) && (b = b && G(a[d]) && H(a[d]));
            }),
            b
          );
        }),
        (this.type = function (a, b, c) {
          if (!G(b)) return v[a];
          if (v.hasOwnProperty(a))
            throw new Error(
              "A type named '" + a + "' has already been defined."
            );
          return (
            (v[a] = new r(M({ name: a }, b))),
            c && (x.push({ name: a, def: c }), w || k()),
            this
          );
        }),
        L(y, function (a, b) {
          v[b] = new r(M({ name: b }, a));
        }),
        (v = d(v, {})),
        (this.$get = [
          "$injector",
          function (a) {
            return (
              (o = a),
              (w = !1),
              k(),
              L(y, function (a, b) {
                v[b] || (v[b] = new r(a));
              }),
              this
            );
          },
        ]),
        (this.Param = function (a, b, d, e) {
          function f(a) {
            var b = J(a) ? g(a) : [],
              c =
                -1 === h(b, "value") &&
                -1 === h(b, "type") &&
                -1 === h(b, "squash") &&
                -1 === h(b, "array");
            return (
              c && (a = { value: a }),
              (a.$$fn = j(a.value)
                ? a.value
                : function () {
                    return a.value;
                  }),
              a
            );
          }
          function i(b, c, d) {
            if (b.type && c)
              throw new Error("Param '" + a + "' has two type configurations.");
            return c
              ? c
              : b.type
              ? b.type instanceof r
                ? b.type
                : new r(b.type)
              : "config" === d
              ? v.any
              : v.string;
          }
          function k() {
            var b = { array: "search" === e ? "auto" : !1 },
              c = a.match(/\[\]$/) ? { array: !0 } : {};
            return M(b, c, d).array;
          }
          function l(a, b) {
            var c = a.squash;
            if (!b || c === !1) return !1;
            if (!G(c) || null == c) return u;
            if (c === !0 || I(c)) return c;
            throw new Error(
              "Invalid squash policy: '" +
                c +
                "'. Valid policies: false, true, or arbitrary string"
            );
          }
          function p(a, b, d, e) {
            var f,
              g,
              i = [
                { from: "", to: d || b ? c : "" },
                { from: null, to: d || b ? c : "" },
              ];
            return (
              (f = K(a.replace) ? a.replace : []),
              I(e) && f.push({ from: e, to: c }),
              (g = n(f, function (a) {
                return a.from;
              })),
              m(i, function (a) {
                return -1 === h(g, a.from);
              }).concat(f)
            );
          }
          function q() {
            if (!o)
              throw new Error(
                "Injectable functions cannot be called at configuration time"
              );
            return o.invoke(d.$$fn);
          }
          function s(a) {
            function b(a) {
              return function (b) {
                return b.from === a;
              };
            }
            function c(a) {
              var c = n(m(w.replace, b(a)), function (a) {
                return a.to;
              });
              return c.length ? c[0] : a;
            }
            return (a = c(a)), G(a) ? w.type.decode(a) : q();
          }
          function t() {
            return (
              "{Param:" +
              a +
              " " +
              b +
              " squash: '" +
              z +
              "' optional: " +
              y +
              "}"
            );
          }
          var w = this;
          (d = f(d)), (b = i(d, b, e));
          var x = k();
          (b = x ? b.$asArray(x, "search" === e) : b),
            "string" !== b.name ||
              x ||
              "path" !== e ||
              d.value !== c ||
              (d.value = "");
          var y = d.value !== c,
            z = l(d, y),
            A = p(d, x, y, z);
          M(this, {
            id: a,
            type: b,
            location: e,
            array: x,
            squash: z,
            replace: A,
            isOptional: y,
            value: s,
            dynamic: c,
            config: d,
            toString: t,
          });
        }),
        (l.prototype = {
          $$new: function () {
            return d(this, M(new l(), { $$parent: this }));
          },
          $$keys: function () {
            for (var a = [], b = [], c = this, d = g(l.prototype); c; )
              b.push(c), (c = c.$$parent);
            return (
              b.reverse(),
              L(b, function (b) {
                L(g(b), function (b) {
                  -1 === h(a, b) && -1 === h(d, b) && a.push(b);
                });
              }),
              a
            );
          },
          $$values: function (a) {
            var b = {},
              c = this;
            return (
              L(c.$$keys(), function (d) {
                b[d] = c[d].value(a && a[d]);
              }),
              b
            );
          },
          $$equals: function (a, b) {
            var c = !0,
              d = this;
            return (
              L(d.$$keys(), function (e) {
                var f = a && a[e],
                  g = b && b[e];
                d[e].type.equals(f, g) || (c = !1);
              }),
              c
            );
          },
          $$validates: function (a) {
            var b,
              c,
              d,
              e = !0,
              f = this;
            return (
              L(this.$$keys(), function (g) {
                (d = f[g]),
                  (c = a[g]),
                  (b = !c && d.isOptional),
                  (e = e && (b || !!d.type.is(c)));
              }),
              e
            );
          },
          $$parent: c,
        }),
        (this.ParamSet = l);
    }
    function t(a, d) {
      function e(a) {
        var b = /^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(
          a.source
        );
        return null != b ? b[1].replace(/\\(.)/g, "$1") : "";
      }
      function f(a, b) {
        return a.replace(/\$(\$|\d{1,2})/, function (a, c) {
          return b["$" === c ? 0 : Number(c)];
        });
      }
      function g(a, b, c) {
        if (!c) return !1;
        var d = a.invoke(b, b, { $match: c });
        return G(d) ? d : !0;
      }
      function h(d, e, f, g) {
        function h(a, b, c) {
          return "/" === p
            ? a
            : b
            ? p.slice(0, -1) + a
            : c
            ? p.slice(1) + a
            : a;
        }
        function m(a) {
          function b(a) {
            var b = a(f, d);
            return b ? (I(b) && d.replace().url(b), !0) : !1;
          }
          if (!a || !a.defaultPrevented) {
            var e = o && d.url() === o;
            if (((o = c), e)) return !0;
            var g,
              h = j.length;
            for (g = 0; h > g; g++) if (b(j[g])) return;
            k && b(k);
          }
        }
        function n() {
          return (i = i || e.$on("$locationChangeSuccess", m));
        }
        var o,
          p = g.baseHref(),
          q = d.url();
        return (
          l || n(),
          {
            sync: function () {
              m();
            },
            listen: function () {
              return n();
            },
            update: function (a) {
              return a
                ? void (q = d.url())
                : void (d.url() !== q && (d.url(q), d.replace()));
            },
            push: function (a, b, e) {
              d.url(a.format(b || {})),
                (o = e && e.$$avoidResync ? d.url() : c),
                e && e.replace && d.replace();
            },
            href: function (c, e, f) {
              if (!c.validates(e)) return null;
              var g = a.html5Mode();
              b.isObject(g) && (g = g.enabled);
              var i = c.format(e);
              if (
                ((f = f || {}),
                g || null === i || (i = "#" + a.hashPrefix() + i),
                (i = h(i, g, f.absolute)),
                !f.absolute || !i)
              )
                return i;
              var j = !g && i ? "/" : "",
                k = d.port();
              return (
                (k = 80 === k || 443 === k ? "" : ":" + k),
                [d.protocol(), "://", d.host(), k, j, i].join("")
              );
            },
          }
        );
      }
      var i,
        j = [],
        k = null,
        l = !1;
      (this.rule = function (a) {
        if (!H(a)) throw new Error("'rule' must be a function");
        return j.push(a), this;
      }),
        (this.otherwise = function (a) {
          if (I(a)) {
            var b = a;
            a = function () {
              return b;
            };
          } else if (!H(a)) throw new Error("'rule' must be a function");
          return (k = a), this;
        }),
        (this.when = function (a, b) {
          var c,
            h = I(b);
          if ((I(a) && (a = d.compile(a)), !h && !H(b) && !K(b)))
            throw new Error("invalid 'handler' in when()");
          var i = {
              matcher: function (a, b) {
                return (
                  h &&
                    ((c = d.compile(b)),
                    (b = [
                      "$match",
                      function (a) {
                        return c.format(a);
                      },
                    ])),
                  M(
                    function (c, d) {
                      return g(c, b, a.exec(d.path(), d.search()));
                    },
                    { prefix: I(a.prefix) ? a.prefix : "" }
                  )
                );
              },
              regex: function (a, b) {
                if (a.global || a.sticky)
                  throw new Error("when() RegExp must not be global or sticky");
                return (
                  h &&
                    ((c = b),
                    (b = [
                      "$match",
                      function (a) {
                        return f(c, a);
                      },
                    ])),
                  M(
                    function (c, d) {
                      return g(c, b, a.exec(d.path()));
                    },
                    { prefix: e(a) }
                  )
                );
              },
            },
            j = { matcher: d.isMatcher(a), regex: a instanceof RegExp };
          for (var k in j) if (j[k]) return this.rule(i[k](a, b));
          throw new Error("invalid 'what' in when()");
        }),
        (this.deferIntercept = function (a) {
          a === c && (a = !0), (l = a);
        }),
        (this.$get = h),
        (h.$inject = ["$location", "$rootScope", "$injector", "$browser"]);
    }
    function u(a, e) {
      function f(a) {
        return 0 === a.indexOf(".") || 0 === a.indexOf("^");
      }
      function l(a, b) {
        if (!a) return c;
        var d = I(a),
          e = d ? a : a.name,
          g = f(e);
        if (g) {
          if (!b)
            throw new Error("No reference point given for path '" + e + "'");
          b = l(b);
          for (var h = e.split("."), i = 0, j = h.length, k = b; j > i; i++)
            if ("" !== h[i] || 0 !== i) {
              if ("^" !== h[i]) break;
              if (!k.parent)
                throw new Error(
                  "Path '" + e + "' not valid for state '" + b.name + "'"
                );
              k = k.parent;
            } else k = b;
          (h = h.slice(i).join(".")),
            (e = k.name + (k.name && h ? "." : "") + h);
        }
        var m = y[e];
        return !m || (!d && (d || (m !== a && m.self !== a))) ? c : m;
      }
      function m(a, b) {
        z[a] || (z[a] = []), z[a].push(b);
      }
      function o(a) {
        for (var b = z[a] || []; b.length; ) p(b.shift());
      }
      function p(b) {
        b = d(b, {
          self: b,
          resolve: b.resolve || {},
          toString: function () {
            return this.name;
          },
        });
        var c = b.name;
        if (!I(c) || c.indexOf("@") >= 0)
          throw new Error("State must have a valid name");
        if (y.hasOwnProperty(c))
          throw new Error("State '" + c + "'' is already defined");
        var e =
          -1 !== c.indexOf(".")
            ? c.substring(0, c.lastIndexOf("."))
            : I(b.parent)
            ? b.parent
            : J(b.parent) && I(b.parent.name)
            ? b.parent.name
            : "";
        if (e && !y[e]) return m(e, b.self);
        for (var f in B) H(B[f]) && (b[f] = B[f](b, B.$delegates[f]));
        return (
          (y[c] = b),
          !b[A] &&
            b.url &&
            a.when(b.url, [
              "$match",
              "$stateParams",
              function (a, c) {
                (x.$current.navigable == b && j(a, c)) ||
                  x.transitionTo(b, a, { inherit: !0, location: !1 });
              },
            ]),
          o(c),
          b
        );
      }
      function q(a) {
        return a.indexOf("*") > -1;
      }
      function r(a) {
        var b = a.split("."),
          c = x.$current.name.split(".");
        if (
          ("**" === b[0] && ((c = c.slice(h(c, b[1]))), c.unshift("**")),
          "**" === b[b.length - 1] &&
            (c.splice(h(c, b[b.length - 2]) + 1, Number.MAX_VALUE),
            c.push("**")),
          b.length != c.length)
        )
          return !1;
        for (var d = 0, e = b.length; e > d; d++) "*" === b[d] && (c[d] = "*");
        return c.join("") === b.join("");
      }
      function s(a, b) {
        return I(a) && !G(b)
          ? B[a]
          : H(b) && I(a)
          ? (B[a] && !B.$delegates[a] && (B.$delegates[a] = B[a]),
            (B[a] = b),
            this)
          : this;
      }
      function t(a, b) {
        return J(a) ? (b = a) : (b.name = a), p(b), this;
      }
      function u(a, e, f, h, m, o, p) {
        function s(b, c, d, f) {
          var g = a.$broadcast("$stateNotFound", b, c, d);
          if (g.defaultPrevented) return p.update(), B;
          if (!g.retry) return null;
          if (f.$retry) return p.update(), C;
          var h = (x.transition = e.when(g.retry));
          return (
            h.then(
              function () {
                return h !== x.transition
                  ? u
                  : ((b.options.$retry = !0),
                    x.transitionTo(b.to, b.toParams, b.options));
              },
              function () {
                return B;
              }
            ),
            p.update(),
            h
          );
        }
        function t(a, c, d, g, i, j) {
          var l = d ? c : k(a.params.$$keys(), c),
            n = { $stateParams: l };
          i.resolve = m.resolve(a.resolve, n, i.resolve, a);
          var o = [
            i.resolve.then(function (a) {
              i.globals = a;
            }),
          ];
          return (
            g && o.push(g),
            L(a.views, function (c, d) {
              var e = c.resolve && c.resolve !== a.resolve ? c.resolve : {};
              (e.$template = [
                function () {
                  return (
                    f.load(d, {
                      view: c,
                      locals: n,
                      params: l,
                      notify: j.notify,
                    }) || ""
                  );
                },
              ]),
                o.push(
                  m.resolve(e, n, i.resolve, a).then(function (f) {
                    if (H(c.controllerProvider) || K(c.controllerProvider)) {
                      var g = b.extend({}, e, n);
                      f.$$controller = h.invoke(c.controllerProvider, null, g);
                    } else f.$$controller = c.controller;
                    (f.$$state = a),
                      (f.$$controllerAs = c.controllerAs),
                      (i[d] = f);
                  })
                );
            }),
            e.all(o).then(function () {
              return i;
            })
          );
        }
        var u = e.reject(new Error("transition superseded")),
          z = e.reject(new Error("transition prevented")),
          B = e.reject(new Error("transition aborted")),
          C = e.reject(new Error("transition failed"));
        return (
          (w.locals = { resolve: null, globals: { $stateParams: {} } }),
          (x = { params: {}, current: w.self, $current: w, transition: null }),
          (x.reload = function () {
            return x.transitionTo(x.current, o, {
              reload: !0,
              inherit: !1,
              notify: !0,
            });
          }),
          (x.go = function (a, b, c) {
            return x.transitionTo(
              a,
              b,
              M({ inherit: !0, relative: x.$current }, c)
            );
          }),
          (x.transitionTo = function (b, c, f) {
            (c = c || {}),
              (f = M(
                {
                  location: !0,
                  inherit: !1,
                  relative: null,
                  notify: !0,
                  reload: !1,
                  $retry: !1,
                },
                f || {}
              ));
            var g,
              j = x.$current,
              m = x.params,
              n = j.path,
              q = l(b, f.relative);
            if (!G(q)) {
              var r = { to: b, toParams: c, options: f },
                y = s(r, j.self, m, f);
              if (y) return y;
              if (
                ((b = r.to),
                (c = r.toParams),
                (f = r.options),
                (q = l(b, f.relative)),
                !G(q))
              ) {
                if (!f.relative) throw new Error("No such state '" + b + "'");
                throw new Error(
                  "Could not resolve '" +
                    b +
                    "' from state '" +
                    f.relative +
                    "'"
                );
              }
            }
            if (q[A])
              throw new Error(
                "Cannot transition to abstract state '" + b + "'"
              );
            if (
              (f.inherit && (c = i(o, c || {}, x.$current, q)),
              !q.params.$$validates(c))
            )
              return C;
            (c = q.params.$$values(c)), (b = q);
            var B = b.path,
              D = 0,
              E = B[D],
              F = w.locals,
              H = [];
            if (!f.reload)
              for (; E && E === n[D] && E.ownParams.$$equals(c, m); )
                (F = H[D] = E.locals), D++, (E = B[D]);
            if (v(b, j, F, f))
              return (
                b.self.reloadOnSearch !== !1 && p.update(),
                (x.transition = null),
                e.when(x.current)
              );
            if (
              ((c = k(b.params.$$keys(), c || {})),
              f.notify &&
                a.$broadcast("$stateChangeStart", b.self, c, j.self, m)
                  .defaultPrevented)
            )
              return p.update(), z;
            for (var I = e.when(F), J = D; J < B.length; J++, E = B[J])
              (F = H[J] = d(F)), (I = t(E, c, E === b, I, F, f));
            var K = (x.transition = I.then(
              function () {
                var d, e, g;
                if (x.transition !== K) return u;
                for (d = n.length - 1; d >= D; d--)
                  (g = n[d]),
                    g.self.onExit &&
                      h.invoke(g.self.onExit, g.self, g.locals.globals),
                    (g.locals = null);
                for (d = D; d < B.length; d++)
                  (e = B[d]),
                    (e.locals = H[d]),
                    e.self.onEnter &&
                      h.invoke(e.self.onEnter, e.self, e.locals.globals);
                return x.transition !== K
                  ? u
                  : ((x.$current = b),
                    (x.current = b.self),
                    (x.params = c),
                    N(x.params, o),
                    (x.transition = null),
                    f.location &&
                      b.navigable &&
                      p.push(
                        b.navigable.url,
                        b.navigable.locals.globals.$stateParams,
                        { $$avoidResync: !0, replace: "replace" === f.location }
                      ),
                    f.notify &&
                      a.$broadcast("$stateChangeSuccess", b.self, c, j.self, m),
                    p.update(!0),
                    x.current);
              },
              function (d) {
                return x.transition !== K
                  ? u
                  : ((x.transition = null),
                    (g = a.$broadcast(
                      "$stateChangeError",
                      b.self,
                      c,
                      j.self,
                      m,
                      d
                    )),
                    g.defaultPrevented || p.update(),
                    e.reject(d));
              }
            ));
            return K;
          }),
          (x.is = function (a, b, d) {
            d = M({ relative: x.$current }, d || {});
            var e = l(a, d.relative);
            return G(e)
              ? x.$current !== e
                ? !1
                : b
                ? j(e.params.$$values(b), o)
                : !0
              : c;
          }),
          (x.includes = function (a, b, d) {
            if (((d = M({ relative: x.$current }, d || {})), I(a) && q(a))) {
              if (!r(a)) return !1;
              a = x.$current.name;
            }
            var e = l(a, d.relative);
            return G(e)
              ? G(x.$current.includes[e.name])
                ? b
                  ? j(e.params.$$values(b), o, g(b))
                  : !0
                : !1
              : c;
          }),
          (x.href = function (a, b, d) {
            d = M(
              { lossy: !0, inherit: !0, absolute: !1, relative: x.$current },
              d || {}
            );
            var e = l(a, d.relative);
            if (!G(e)) return null;
            d.inherit && (b = i(o, b || {}, x.$current, e));
            var f = e && d.lossy ? e.navigable : e;
            return f && f.url !== c && null !== f.url
              ? p.href(f.url, k(e.params.$$keys(), b || {}), {
                  absolute: d.absolute,
                })
              : null;
          }),
          (x.get = function (a, b) {
            if (0 === arguments.length)
              return n(g(y), function (a) {
                return y[a].self;
              });
            var c = l(a, b || x.$current);
            return c && c.self ? c.self : null;
          }),
          x
        );
      }
      function v(a, b, c, d) {
        return a !== b ||
          ((c !== b.locals || d.reload) && a.self.reloadOnSearch !== !1)
          ? void 0
          : !0;
      }
      var w,
        x,
        y = {},
        z = {},
        A = "abstract",
        B = {
          parent: function (a) {
            if (G(a.parent) && a.parent) return l(a.parent);
            var b = /^(.+)\.[^.]+$/.exec(a.name);
            return b ? l(b[1]) : w;
          },
          data: function (a) {
            return (
              a.parent &&
                a.parent.data &&
                (a.data = a.self.data = M({}, a.parent.data, a.data)),
              a.data
            );
          },
          url: function (a) {
            var b = a.url,
              c = { params: a.params || {} };
            if (I(b))
              return "^" == b.charAt(0)
                ? e.compile(b.substring(1), c)
                : (a.parent.navigable || w).url.concat(b, c);
            if (!b || e.isMatcher(b)) return b;
            throw new Error("Invalid url '" + b + "' in state '" + a + "'");
          },
          navigable: function (a) {
            return a.url ? a : a.parent ? a.parent.navigable : null;
          },
          ownParams: function (a) {
            var b = (a.url && a.url.params) || new O.ParamSet();
            return (
              L(a.params || {}, function (a, c) {
                b[c] || (b[c] = new O.Param(c, null, a, "config"));
              }),
              b
            );
          },
          params: function (a) {
            return a.parent && a.parent.params
              ? M(a.parent.params.$$new(), a.ownParams)
              : new O.ParamSet();
          },
          views: function (a) {
            var b = {};
            return (
              L(G(a.views) ? a.views : { "": a }, function (c, d) {
                d.indexOf("@") < 0 && (d += "@" + a.parent.name), (b[d] = c);
              }),
              b
            );
          },
          path: function (a) {
            return a.parent ? a.parent.path.concat(a) : [];
          },
          includes: function (a) {
            var b = a.parent ? M({}, a.parent.includes) : {};
            return (b[a.name] = !0), b;
          },
          $delegates: {},
        };
      (w = p({ name: "", url: "^", views: null, abstract: !0 })),
        (w.navigable = null),
        (this.decorator = s),
        (this.state = t),
        (this.$get = u),
        (u.$inject = [
          "$rootScope",
          "$q",
          "$view",
          "$injector",
          "$resolve",
          "$stateParams",
          "$urlRouter",
          "$location",
          "$urlMatcherFactory",
        ]);
    }
    function v() {
      function a(a, b) {
        return {
          load: function (c, d) {
            var e,
              f = {
                template: null,
                controller: null,
                view: null,
                locals: null,
                notify: !0,
                async: !0,
                params: {},
              };
            return (
              (d = M(f, d)),
              d.view && (e = b.fromConfig(d.view, d.params, d.locals)),
              e && d.notify && a.$broadcast("$viewContentLoading", d),
              e
            );
          },
        };
      }
      (this.$get = a), (a.$inject = ["$rootScope", "$templateFactory"]);
    }
    function w() {
      var a = !1;
      (this.useAnchorScroll = function () {
        a = !0;
      }),
        (this.$get = [
          "$anchorScroll",
          "$timeout",
          function (b, c) {
            return a
              ? b
              : function (a) {
                  c(
                    function () {
                      a[0].scrollIntoView();
                    },
                    0,
                    !1
                  );
                };
          },
        ]);
    }
    function x(a, c, d, e) {
      function f() {
        return c.has
          ? function (a) {
              return c.has(a) ? c.get(a) : null;
            }
          : function (a) {
              try {
                return c.get(a);
              } catch (b) {
                return null;
              }
            };
      }
      function g(a, b) {
        var c = function () {
          return {
            enter: function (a, b, c) {
              b.after(a), c();
            },
            leave: function (a, b) {
              a.remove(), b();
            },
          };
        };
        if (j)
          return {
            enter: function (a, b, c) {
              var d = j.enter(a, null, b, c);
              d && d.then && d.then(c);
            },
            leave: function (a, b) {
              var c = j.leave(a, b);
              c && c.then && c.then(b);
            },
          };
        if (i) {
          var d = i && i(b, a);
          return {
            enter: function (a, b, c) {
              d.enter(a, null, b), c();
            },
            leave: function (a, b) {
              d.leave(a), b();
            },
          };
        }
        return c();
      }
      var h = f(),
        i = h("$animator"),
        j = h("$animate"),
        k = {
          restrict: "ECA",
          terminal: !0,
          priority: 400,
          transclude: "element",
          compile: function (c, f, h) {
            return function (c, f, i) {
              function j() {
                l && (l.remove(), (l = null)),
                  n && (n.$destroy(), (n = null)),
                  m &&
                    (r.leave(m, function () {
                      l = null;
                    }),
                    (l = m),
                    (m = null));
              }
              function k(g) {
                var k,
                  l = z(c, i, f, e),
                  s = l && a.$current && a.$current.locals[l];
                if (g || s !== o) {
                  (k = c.$new()), (o = a.$current.locals[l]);
                  var t = h(k, function (a) {
                    r.enter(a, f, function () {
                      n && n.$emit("$viewContentAnimationEnded"),
                        ((b.isDefined(q) && !q) || c.$eval(q)) && d(a);
                    }),
                      j();
                  });
                  (m = t), (n = k), n.$emit("$viewContentLoaded"), n.$eval(p);
                }
              }
              var l,
                m,
                n,
                o,
                p = i.onload || "",
                q = i.autoscroll,
                r = g(i, c);
              c.$on("$stateChangeSuccess", function () {
                k(!1);
              }),
                c.$on("$viewContentLoading", function () {
                  k(!1);
                }),
                k(!0);
            };
          },
        };
      return k;
    }
    function y(a, b, c, d) {
      return {
        restrict: "ECA",
        priority: -400,
        compile: function (e) {
          var f = e.html();
          return function (e, g, h) {
            var i = c.$current,
              j = z(e, h, g, d),
              k = i && i.locals[j];
            if (k) {
              g.data("$uiView", { name: j, state: k.$$state }),
                g.html(k.$template ? k.$template : f);
              var l = a(g.contents());
              if (k.$$controller) {
                k.$scope = e;
                var m = b(k.$$controller, k);
                k.$$controllerAs && (e[k.$$controllerAs] = m),
                  g.data("$ngControllerController", m),
                  g.children().data("$ngControllerController", m);
              }
              l(e);
            }
          };
        },
      };
    }
    function z(a, b, c, d) {
      var e = d(b.uiView || b.name || "")(a),
        f = c.inheritedData("$uiView");
      return e.indexOf("@") >= 0 ? e : e + "@" + (f ? f.state.name : "");
    }
    function A(a, b) {
      var c,
        d = a.match(/^\s*({[^}]*})\s*$/);
      if (
        (d && (a = b + "(" + d[1] + ")"),
        (c = a.replace(/\n/g, " ").match(/^([^(]+?)\s*(\((.*)\))?$/)),
        !c || 4 !== c.length)
      )
        throw new Error("Invalid state ref '" + a + "'");
      return { state: c[1], paramExpr: c[3] || null };
    }
    function B(a) {
      var b = a.parent().inheritedData("$uiView");
      return b && b.state && b.state.name ? b.state : void 0;
    }
    function C(a, c) {
      var d = ["location", "inherit", "reload"];
      return {
        restrict: "A",
        require: ["?^uiSrefActive", "?^uiSrefActiveEq"],
        link: function (e, f, g, h) {
          var i = A(g.uiSref, a.current.name),
            j = null,
            k = B(f) || a.$current,
            l = null,
            m = "A" === f.prop("tagName"),
            n = "FORM" === f[0].nodeName,
            o = n ? "action" : "href",
            p = !0,
            q = { relative: k, inherit: !0 },
            r = e.$eval(g.uiSrefOpts) || {};
          b.forEach(d, function (a) {
            a in r && (q[a] = r[a]);
          });
          var s = function (c) {
            if ((c && (j = b.copy(c)), p)) {
              l = a.href(i.state, j, q);
              var d = h[1] || h[0];
              return (
                d && d.$$setStateInfo(i.state, j),
                null === l ? ((p = !1), !1) : void g.$set(o, l)
              );
            }
          };
          i.paramExpr &&
            (e.$watch(
              i.paramExpr,
              function (a) {
                a !== j && s(a);
              },
              !0
            ),
            (j = b.copy(e.$eval(i.paramExpr)))),
            s(),
            n ||
              f.bind("click", function (b) {
                var d = b.which || b.button;
                if (
                  !(
                    d > 1 ||
                    b.ctrlKey ||
                    b.metaKey ||
                    b.shiftKey ||
                    f.attr("target")
                  )
                ) {
                  var e = c(function () {
                    a.go(i.state, j, q);
                  });
                  b.preventDefault();
                  var g = m && !l ? 1 : 0;
                  b.preventDefault = function () {
                    g-- <= 0 && c.cancel(e);
                  };
                }
              });
        },
      };
    }
    function D(a, b, c) {
      return {
        restrict: "A",
        controller: [
          "$scope",
          "$element",
          "$attrs",
          function (b, d, e) {
            function f() {
              g() ? d.addClass(j) : d.removeClass(j);
            }
            function g() {
              return "undefined" != typeof e.uiSrefActiveEq
                ? h && a.is(h.name, i)
                : h && a.includes(h.name, i);
            }
            var h, i, j;
            (j = c(e.uiSrefActiveEq || e.uiSrefActive || "", !1)(b)),
              (this.$$setStateInfo = function (b, c) {
                (h = a.get(b, B(d))), (i = c), f();
              }),
              b.$on("$stateChangeSuccess", f);
          },
        ],
      };
    }
    function E(a) {
      var b = function (b) {
        return a.is(b);
      };
      return (b.$stateful = !0), b;
    }
    function F(a) {
      var b = function (b) {
        return a.includes(b);
      };
      return (b.$stateful = !0), b;
    }
    var G = b.isDefined,
      H = b.isFunction,
      I = b.isString,
      J = b.isObject,
      K = b.isArray,
      L = b.forEach,
      M = b.extend,
      N = b.copy;
    b.module("ui.router.util", ["ng"]),
      b.module("ui.router.router", ["ui.router.util"]),
      b.module("ui.router.state", ["ui.router.router", "ui.router.util"]),
      b.module("ui.router", ["ui.router.state"]),
      b.module("ui.router.compat", ["ui.router"]),
      (o.$inject = ["$q", "$injector"]),
      b.module("ui.router.util").service("$resolve", o),
      (p.$inject = ["$http", "$templateCache", "$injector"]),
      b.module("ui.router.util").service("$templateFactory", p);
    var O;
    (q.prototype.concat = function (a, b) {
      var c = {
        caseInsensitive: O.caseInsensitive(),
        strict: O.strictMode(),
        squash: O.defaultSquashPolicy(),
      };
      return new q(this.sourcePath + a + this.sourceSearch, M(c, b), this);
    }),
      (q.prototype.toString = function () {
        return this.source;
      }),
      (q.prototype.exec = function (a, b) {
        function c(a) {
          function b(a) {
            return a.split("").reverse().join("");
          }
          function c(a) {
            return a.replace(/\\-/, "-");
          }
          var d = b(a).split(/-(?!\\)/),
            e = n(d, b);
          return n(e, c).reverse();
        }
        var d = this.regexp.exec(a);
        if (!d) return null;
        b = b || {};
        var e,
          f,
          g,
          h = this.parameters(),
          i = h.length,
          j = this.segments.length - 1,
          k = {};
        if (j !== d.length - 1)
          throw new Error(
            "Unbalanced capture group in route '" + this.source + "'"
          );
        for (e = 0; j > e; e++) {
          g = h[e];
          var l = this.params[g],
            m = d[e + 1];
          for (f = 0; f < l.replace; f++)
            l.replace[f].from === m && (m = l.replace[f].to);
          m && l.array === !0 && (m = c(m)), (k[g] = l.value(m));
        }
        for (; i > e; e++) (g = h[e]), (k[g] = this.params[g].value(b[g]));
        return k;
      }),
      (q.prototype.parameters = function (a) {
        return G(a) ? this.params[a] || null : this.$$paramNames;
      }),
      (q.prototype.validates = function (a) {
        return this.params.$$validates(a);
      }),
      (q.prototype.format = function (a) {
        function b(a) {
          return encodeURIComponent(a).replace(/-/g, function (a) {
            return "%5C%" + a.charCodeAt(0).toString(16).toUpperCase();
          });
        }
        a = a || {};
        var c = this.segments,
          d = this.parameters(),
          e = this.params;
        if (!this.validates(a)) return null;
        var f,
          g = !1,
          h = c.length - 1,
          i = d.length,
          j = c[0];
        for (f = 0; i > f; f++) {
          var k = h > f,
            l = d[f],
            m = e[l],
            o = m.value(a[l]),
            p = m.isOptional && m.type.equals(m.value(), o),
            q = p ? m.squash : !1,
            r = m.type.encode(o);
          if (k) {
            var s = c[f + 1];
            if (q === !1)
              null != r &&
                (j += K(r) ? n(r, b).join("-") : encodeURIComponent(r)),
                (j += s);
            else if (q === !0) {
              var t = j.match(/\/$/) ? /\/?(.*)/ : /(.*)/;
              j += s.match(t)[1];
            } else I(q) && (j += q + s);
          } else {
            if (null == r || (p && q !== !1)) continue;
            K(r) || (r = [r]),
              (r = n(r, encodeURIComponent).join("&" + l + "=")),
              (j += (g ? "&" : "?") + (l + "=" + r)),
              (g = !0);
          }
        }
        return j;
      }),
      (r.prototype.is = function () {
        return !0;
      }),
      (r.prototype.encode = function (a) {
        return a;
      }),
      (r.prototype.decode = function (a) {
        return a;
      }),
      (r.prototype.equals = function (a, b) {
        return a == b;
      }),
      (r.prototype.$subPattern = function () {
        var a = this.pattern.toString();
        return a.substr(1, a.length - 2);
      }),
      (r.prototype.pattern = /.*/),
      (r.prototype.toString = function () {
        return "{Type:" + this.name + "}";
      }),
      (r.prototype.$asArray = function (a, b) {
        function d(a, b) {
          function d(a, b) {
            return function () {
              return a[b].apply(a, arguments);
            };
          }
          function e(a) {
            return K(a) ? a : G(a) ? [a] : [];
          }
          function f(a) {
            switch (a.length) {
              case 0:
                return c;
              case 1:
                return "auto" === b ? a[0] : a;
              default:
                return a;
            }
          }
          function g(a) {
            return !a;
          }
          function h(a, b) {
            return function (c) {
              c = e(c);
              var d = n(c, a);
              return b === !0 ? 0 === m(d, g).length : f(d);
            };
          }
          function i(a) {
            return function (b, c) {
              var d = e(b),
                f = e(c);
              if (d.length !== f.length) return !1;
              for (var g = 0; g < d.length; g++) if (!a(d[g], f[g])) return !1;
              return !0;
            };
          }
          (this.encode = h(d(a, "encode"))),
            (this.decode = h(d(a, "decode"))),
            (this.is = h(d(a, "is"), !0)),
            (this.equals = i(d(a, "equals"))),
            (this.pattern = a.pattern),
            (this.$arrayMode = b);
        }
        if (!a) return this;
        if ("auto" === a && !b)
          throw new Error("'auto' array mode is for query parameters only");
        return new d(this, a);
      }),
      b.module("ui.router.util").provider("$urlMatcherFactory", s),
      b.module("ui.router.util").run(["$urlMatcherFactory", function () {}]),
      (t.$inject = ["$locationProvider", "$urlMatcherFactoryProvider"]),
      b.module("ui.router.router").provider("$urlRouter", t),
      (u.$inject = ["$urlRouterProvider", "$urlMatcherFactoryProvider"]),
      b
        .module("ui.router.state")
        .value("$stateParams", {})
        .provider("$state", u),
      (v.$inject = []),
      b.module("ui.router.state").provider("$view", v),
      b.module("ui.router.state").provider("$uiViewScroll", w),
      (x.$inject = ["$state", "$injector", "$uiViewScroll", "$interpolate"]),
      (y.$inject = ["$compile", "$controller", "$state", "$interpolate"]),
      b.module("ui.router.state").directive("uiView", x),
      b.module("ui.router.state").directive("uiView", y),
      (C.$inject = ["$state", "$timeout"]),
      (D.$inject = ["$state", "$stateParams", "$interpolate"]),
      b
        .module("ui.router.state")
        .directive("uiSref", C)
        .directive("uiSrefActive", D)
        .directive("uiSrefActiveEq", D),
      (E.$inject = ["$state"]),
      (F.$inject = ["$state"]),
      b
        .module("ui.router.state")
        .filter("isState", E)
        .filter("includedByState", F);
  })(window, window.angular); /*
 AngularJS v1.3.10
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (n, h, p) {
  "use strict";
  function E(a) {
    var d = [];
    s(d, h.noop).chars(a);
    return d.join("");
  }
  function g(a) {
    var d = {};
    a = a.split(",");
    var c;
    for (c = 0; c < a.length; c++) d[a[c]] = !0;
    return d;
  }
  function F(a, d) {
    function c(a, b, c, l) {
      b = h.lowercase(b);
      if (t[b]) for (; f.last() && u[f.last()]; ) e("", f.last());
      v[b] && f.last() == b && e("", b);
      (l = w[b] || !!l) || f.push(b);
      var m = {};
      c.replace(G, function (a, b, d, c, e) {
        m[b] = r(d || c || e || "");
      });
      d.start && d.start(b, m, l);
    }
    function e(a, b) {
      var c = 0,
        e;
      if ((b = h.lowercase(b)))
        for (c = f.length - 1; 0 <= c && f[c] != b; c--);
      if (0 <= c) {
        for (e = f.length - 1; e >= c; e--) d.end && d.end(f[e]);
        f.length = c;
      }
    }
    "string" !== typeof a &&
      (a = null === a || "undefined" === typeof a ? "" : "" + a);
    var b,
      k,
      f = [],
      m = a,
      l;
    for (
      f.last = function () {
        return f[f.length - 1];
      };
      a;

    ) {
      l = "";
      k = !0;
      if (f.last() && x[f.last()])
        (a = a.replace(
          new RegExp("(.*)<\\s*\\/\\s*" + f.last() + "[^>]*>", "i"),
          function (a, b) {
            b = b.replace(H, "$1").replace(I, "$1");
            d.chars && d.chars(r(b));
            return "";
          }
        )),
          e("", f.last());
      else {
        if (0 === a.indexOf("\x3c!--"))
          (b = a.indexOf("--", 4)),
            0 <= b &&
              a.lastIndexOf("--\x3e", b) === b &&
              (d.comment && d.comment(a.substring(4, b)),
              (a = a.substring(b + 3)),
              (k = !1));
        else if (y.test(a)) {
          if ((b = a.match(y))) (a = a.replace(b[0], "")), (k = !1);
        } else if (J.test(a)) {
          if ((b = a.match(z)))
            (a = a.substring(b[0].length)), b[0].replace(z, e), (k = !1);
        } else
          K.test(a) &&
            ((b = a.match(A))
              ? (b[4] && ((a = a.substring(b[0].length)), b[0].replace(A, c)),
                (k = !1))
              : ((l += "<"), (a = a.substring(1))));
        k &&
          ((b = a.indexOf("<")),
          (l += 0 > b ? a : a.substring(0, b)),
          (a = 0 > b ? "" : a.substring(b)),
          d.chars && d.chars(r(l)));
      }
      if (a == m) throw L("badparse", a);
      m = a;
    }
    e();
  }
  function r(a) {
    if (!a) return "";
    var d = M.exec(a);
    a = d[1];
    var c = d[3];
    if ((d = d[2]))
      (q.innerHTML = d.replace(/</g, "&lt;")),
        (d = "textContent" in q ? q.textContent : q.innerText);
    return a + d + c;
  }
  function B(a) {
    return a
      .replace(/&/g, "&amp;")
      .replace(N, function (a) {
        var c = a.charCodeAt(0);
        a = a.charCodeAt(1);
        return "&#" + (1024 * (c - 55296) + (a - 56320) + 65536) + ";";
      })
      .replace(O, function (a) {
        return "&#" + a.charCodeAt(0) + ";";
      })
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;");
  }
  function s(a, d) {
    var c = !1,
      e = h.bind(a, a.push);
    return {
      start: function (a, k, f) {
        a = h.lowercase(a);
        !c && x[a] && (c = a);
        c ||
          !0 !== C[a] ||
          (e("<"),
          e(a),
          h.forEach(k, function (c, f) {
            var k = h.lowercase(f),
              g = ("img" === a && "src" === k) || "background" === k;
            !0 !== P[k] ||
              (!0 === D[k] && !d(c, g)) ||
              (e(" "), e(f), e('="'), e(B(c)), e('"'));
          }),
          e(f ? "/>" : ">"));
      },
      end: function (a) {
        a = h.lowercase(a);
        c || !0 !== C[a] || (e("</"), e(a), e(">"));
        a == c && (c = !1);
      },
      chars: function (a) {
        c || e(B(a));
      },
    };
  }
  var L = h.$$minErr("$sanitize"),
    A =
      /^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,
    z = /^<\/\s*([\w:-]+)[^>]*>/,
    G =
      /([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,
    K = /^</,
    J = /^<\//,
    H = /\x3c!--(.*?)--\x3e/g,
    y = /<!DOCTYPE([^>]*?)>/i,
    I = /<!\[CDATA\[(.*?)]]\x3e/g,
    N = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
    O = /([^\#-~| |!])/g,
    w = g("area,br,col,hr,img,wbr");
  n = g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");
  p = g("rp,rt");
  var v = h.extend({}, p, n),
    t = h.extend(
      {},
      n,
      g(
        "address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"
      )
    ),
    u = h.extend(
      {},
      p,
      g(
        "a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"
      )
    );
  n = g(
    "animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"
  );
  var x = g("script,style"),
    C = h.extend({}, w, t, u, v, n),
    D = g("background,cite,href,longdesc,src,usemap,xlink:href");
  n = g(
    "abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"
  );
  p = g(
    "accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"
  );
  var P = h.extend({}, D, p, n),
    q = document.createElement("pre"),
    M = /^(\s*)([\s\S]*?)(\s*)$/;
  h.module("ngSanitize", []).provider("$sanitize", function () {
    this.$get = [
      "$$sanitizeUri",
      function (a) {
        return function (d) {
          var c = [];
          F(
            d,
            s(c, function (c, b) {
              return !/^unsafe/.test(a(c, b));
            })
          );
          return c.join("");
        };
      },
    ];
  });
  h.module("ngSanitize").filter("linky", [
    "$sanitize",
    function (a) {
      var d =
          /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,
        c = /^mailto:/;
      return function (e, b) {
        function k(a) {
          a && g.push(E(a));
        }
        function f(a, c) {
          g.push("<a ");
          h.isDefined(b) && g.push('target="', b, '" ');
          g.push('href="', a.replace(/"/g, "&quot;"), '">');
          k(c);
          g.push("</a>");
        }
        if (!e) return e;
        for (var m, l = e, g = [], n, p; (m = l.match(d)); )
          (n = m[0]),
            m[2] || m[4] || (n = (m[3] ? "http://" : "mailto:") + n),
            (p = m.index),
            k(l.substr(0, p)),
            f(n, m[0].replace(c, "")),
            (l = l.substring(p + m[0].length));
        k(l);
        return a(g.join(""));
      };
    },
  ]);
})(window, window.angular);
/*!
 * angular-hotkeys v1.4.5
 * https://chieffancypants.github.io/angular-hotkeys
 * Copyright (c) 2014 Wes Cruver
 * License: MIT
 */
//# sourceMappingURL=angular-sanitize.min.js.map
!(function () {
  "use strict";
  angular
    .module("cfp.hotkeys", [])
    .provider("hotkeys", function () {
      (this.includeCheatSheet = !0),
        (this.templateTitle = "Keyboard Shortcuts:"),
        (this.template =
          '<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title">{{ title }}</h4><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()"></div></div></div>'),
        (this.cheatSheetHotkey = "?"),
        (this.cheatSheetDescription = "Show / hide this help menu"),
        (this.$get = [
          "$rootElement",
          "$rootScope",
          "$compile",
          "$window",
          "$document",
          function (a, b, c, d, e) {
            function f(a) {
              var b = {
                command: "",
                shift: "",
                left: "",
                right: "",
                up: "",
                down: "",
                return: "",
                backspace: "",
              };
              a = a.split("+");
              for (var c = 0; c < a.length; c++)
                "mod" === a[c] &&
                  (a[c] =
                    d.navigator && d.navigator.platform.indexOf("Mac") >= 0
                      ? "command"
                      : "ctrl"),
                  (a[c] = b[a[c]] || a[c]);
              return a.join(" + ");
            }
            function g(a, b, c, d, e, f) {
              (this.combo = a instanceof Array ? a : [a]),
                (this.description = b),
                (this.callback = c),
                (this.action = d),
                (this.allowIn = e),
                (this.persistent = f);
            }
            function h() {
              for (var a = o.hotkeys.length; a--; ) {
                var b = o.hotkeys[a];
                b && !b.persistent && k(b);
              }
            }
            function i() {
              (o.helpVisible = !o.helpVisible),
                o.helpVisible
                  ? ((t = l("esc")), k("esc"), j("esc", t.description, i))
                  : (k("esc"), t !== !1 && j(t));
            }
            function j(a, b, c, d, e, f) {
              var h,
                i = ["INPUT", "SELECT", "TEXTAREA"],
                j = Object.prototype.toString.call(a);
              if (
                ("[object Object]" === j &&
                  ((b = a.description),
                  (c = a.callback),
                  (d = a.action),
                  (f = a.persistent),
                  (e = a.allowIn),
                  (a = a.combo)),
                b instanceof Function
                  ? ((d = c), (c = b), (b = "$$undefined$$"))
                  : angular.isUndefined(b) && (b = "$$undefined$$"),
                void 0 === f && (f = !0),
                "function" == typeof c)
              ) {
                (h = c), e instanceof Array || (e = []);
                for (var k, l = 0; l < e.length; l++)
                  (e[l] = e[l].toUpperCase()),
                    (k = i.indexOf(e[l])),
                    -1 !== k && i.splice(k, 1);
                c = function (a) {
                  var b = !0,
                    c = a.target || a.srcElement,
                    d = c.nodeName.toUpperCase();
                  if ((" " + c.className + " ").indexOf(" mousetrap ") > -1)
                    b = !0;
                  else
                    for (var e = 0; e < i.length; e++)
                      if (i[e] === d) {
                        b = !1;
                        break;
                      }
                  b && n(h.apply(this, arguments));
                };
              }
              "string" == typeof d
                ? Mousetrap.bind(a, n(c), d)
                : Mousetrap.bind(a, n(c));
              var m = new g(a, b, c, d, e, f);
              return o.hotkeys.push(m), m;
            }
            function k(a) {
              var b = a instanceof g ? a.combo : a;
              if ((Mousetrap.unbind(b), angular.isArray(b))) {
                for (var c = !0, d = b.length; d--; ) c = k(b[d]) && c;
                return c;
              }
              var e = o.hotkeys.indexOf(l(b));
              return e > -1
                ? (o.hotkeys[e].combo.length > 1
                    ? o.hotkeys[e].combo.splice(
                        o.hotkeys[e].combo.indexOf(b),
                        1
                      )
                    : o.hotkeys.splice(e, 1),
                  !0)
                : !1;
            }
            function l(a) {
              for (var b, c = 0; c < o.hotkeys.length; c++)
                if (((b = o.hotkeys[c]), b.combo.indexOf(a) > -1)) return b;
              return !1;
            }
            function m(a) {
              return (
                a.$id in p ||
                  ((p[a.$id] = []),
                  a.$on("$destroy", function () {
                    for (var b = p[a.$id].length; b--; )
                      k(p[a.$id][b]), delete p[a.$id][b];
                  })),
                {
                  add: function (b) {
                    var c;
                    return (
                      (c =
                        arguments.length > 1 ? j.apply(this, arguments) : j(b)),
                      p[a.$id].push(c),
                      this
                    );
                  },
                }
              );
            }
            function n(a) {
              return function (c, d) {
                if (a instanceof Array) {
                  var e = a[0],
                    f = a[1];
                  a = function () {
                    f.scope.$eval(e);
                  };
                }
                b.$apply(function () {
                  a(c, l(d));
                });
              };
            }
            (Mousetrap.stopCallback = function (a, b) {
              return (" " + b.className + " ").indexOf(" mousetrap ") > -1
                ? !1
                : b.contentEditable && "true" == b.contentEditable;
            }),
              (g.prototype.format = function () {
                for (
                  var a = this.combo[0], b = a.split(/[\s]/), c = 0;
                  c < b.length;
                  c++
                )
                  b[c] = f(b[c]);
                return b;
              });
            var o = b.$new();
            (o.hotkeys = []),
              (o.helpVisible = !1),
              (o.title = this.templateTitle),
              (o.toggleCheatSheet = i);
            var p = [];
            if (
              (b.$on("$routeChangeSuccess", function (a, b) {
                h(),
                  b &&
                    b.hotkeys &&
                    angular.forEach(b.hotkeys, function (a) {
                      var c = a[2];
                      ("string" == typeof c || c instanceof String) &&
                        (a[2] = [c, b]),
                        (a[5] = !1),
                        j.apply(this, a);
                    });
              }),
              this.includeCheatSheet)
            ) {
              var q = e[0],
                r = a[0],
                s = angular.element(this.template);
              j(this.cheatSheetHotkey, this.cheatSheetDescription, i),
                (r === q || r === q.documentElement) && (r = q.body),
                angular.element(r).append(c(s)(o));
            }
            var t = !1,
              u = {
                add: j,
                del: k,
                get: l,
                bindTo: m,
                template: this.template,
                toggleCheatSheet: i,
                includeCheatSheet: this.includeCheatSheet,
                cheatSheetHotkey: this.cheatSheetHotkey,
                cheatSheetDescription: this.cheatSheetDescription,
                purgeHotkeys: h,
                templateTitle: this.templateTitle,
              };
            return u;
          },
        ]);
    })
    .directive("hotkey", [
      "hotkeys",
      function (a) {
        return {
          restrict: "A",
          link: function (b, c, d) {
            var e, f;
            angular.forEach(b.$eval(d.hotkey), function (b, c) {
              (f =
                "string" == typeof d.hotkeyAllowIn
                  ? d.hotkeyAllowIn.split(/[\s,]+/)
                  : []),
                (e = c),
                a.add({
                  combo: c,
                  description: d.hotkeyDescription,
                  callback: b,
                  action: d.hotkeyAction,
                  allowIn: f,
                });
            }),
              c.bind("$destroy", function () {
                a.del(e);
              });
          },
        };
      },
    ])
    .run(["hotkeys", function () {}]);
})(),
  (function (a, b) {
    function c(a, b, c) {
      return a.addEventListener
        ? void a.addEventListener(b, c, !1)
        : void a.attachEvent("on" + b, c);
    }
    function d(a) {
      if ("keypress" == a.type) {
        var b = String.fromCharCode(a.which);
        return a.shiftKey || (b = b.toLowerCase()), b;
      }
      return y[a.which]
        ? y[a.which]
        : z[a.which]
        ? z[a.which]
        : String.fromCharCode(a.which).toLowerCase();
    }
    function e(a, b) {
      return a.sort().join(",") === b.sort().join(",");
    }
    function f(a) {
      a = a || {};
      var b,
        c = !1;
      for (b in E) a[b] ? (c = !0) : (E[b] = 0);
      c || (H = !1);
    }
    function g(a, b, c, d, f, g) {
      var h,
        i,
        j = [],
        k = c.type;
      if (!C[a]) return [];
      for ("keyup" == k && n(a) && (b = [a]), h = 0; h < C[a].length; ++h)
        if (
          ((i = C[a][h]),
          (d || !i.seq || E[i.seq] == i.level) &&
            k == i.action &&
            (("keypress" == k && !c.metaKey && !c.ctrlKey) ||
              e(b, i.modifiers)))
        ) {
          var l = !d && i.combo == f,
            m = d && i.seq == d && i.level == g;
          (l || m) && C[a].splice(h, 1), j.push(i);
        }
      return j;
    }
    function h(a) {
      var b = [];
      return (
        a.shiftKey && b.push("shift"),
        a.altKey && b.push("alt"),
        a.ctrlKey && b.push("ctrl"),
        a.metaKey && b.push("meta"),
        b
      );
    }
    function i(a) {
      return a.preventDefault
        ? void a.preventDefault()
        : void (a.returnValue = !1);
    }
    function j(a) {
      return a.stopPropagation
        ? void a.stopPropagation()
        : void (a.cancelBubble = !0);
    }
    function k(a, b, c, d) {
      J.stopCallback(b, b.target || b.srcElement, c, d) ||
        (a(b, c) === !1 && (i(b), j(b)));
    }
    function l(a, b, c) {
      var d,
        e = g(a, b, c),
        h = {},
        i = 0,
        j = !1;
      for (d = 0; d < e.length; ++d) e[d].seq && (i = Math.max(i, e[d].level));
      for (d = 0; d < e.length; ++d)
        if (e[d].seq) {
          if (e[d].level != i) continue;
          (j = !0),
            (h[e[d].seq] = 1),
            k(e[d].callback, c, e[d].combo, e[d].seq);
        } else j || k(e[d].callback, c, e[d].combo);
      var l = "keypress" == c.type && G;
      c.type != H || n(a) || l || f(h), (G = j && "keydown" == c.type);
    }
    function m(a) {
      "number" != typeof a.which && (a.which = a.keyCode);
      var b = d(a);
      if (b)
        return "keyup" == a.type && F === b
          ? void (F = !1)
          : void J.handleKey(b, h(a), a);
    }
    function n(a) {
      return "shift" == a || "ctrl" == a || "alt" == a || "meta" == a;
    }
    function o() {
      clearTimeout(x), (x = setTimeout(f, 1e3));
    }
    function p() {
      if (!w) {
        w = {};
        for (var a in y)
          (a > 95 && 112 > a) || (y.hasOwnProperty(a) && (w[y[a]] = a));
      }
      return w;
    }
    function q(a, b, c) {
      return (
        c || (c = p()[a] ? "keydown" : "keypress"),
        "keypress" == c && b.length && (c = "keydown"),
        c
      );
    }
    function r(a, b, c, e) {
      function g(b) {
        return function () {
          (H = b), ++E[a], o();
        };
      }
      function h(b) {
        k(c, b, a), "keyup" !== e && (F = d(b)), setTimeout(f, 10);
      }
      E[a] = 0;
      for (var i = 0; i < b.length; ++i) {
        var j = i + 1 === b.length,
          l = j ? h : g(e || t(b[i + 1]).action);
        u(b[i], l, e, a, i);
      }
    }
    function s(a) {
      return "+" === a ? ["+"] : a.split("+");
    }
    function t(a, b) {
      var c,
        d,
        e,
        f = [];
      for (c = s(a), e = 0; e < c.length; ++e)
        (d = c[e]),
          B[d] && (d = B[d]),
          b && "keypress" != b && A[d] && ((d = A[d]), f.push("shift")),
          n(d) && f.push(d);
      return (b = q(d, f, b)), { key: d, modifiers: f, action: b };
    }
    function u(a, b, c, d, e) {
      (D[a + ":" + c] = b), (a = a.replace(/\s+/g, " "));
      var f,
        h = a.split(" ");
      return h.length > 1
        ? void r(a, h, b, c)
        : ((f = t(a, c)),
          (C[f.key] = C[f.key] || []),
          g(f.key, f.modifiers, { type: f.action }, d, a, e),
          void C[f.key][d ? "unshift" : "push"]({
            callback: b,
            modifiers: f.modifiers,
            action: f.action,
            seq: d,
            level: e,
            combo: a,
          }));
    }
    function v(a, b, c) {
      for (var d = 0; d < a.length; ++d) u(a[d], b, c);
    }
    for (
      var w,
        x,
        y = {
          8: "backspace",
          9: "tab",
          13: "enter",
          16: "shift",
          17: "ctrl",
          18: "alt",
          20: "capslock",
          27: "esc",
          32: "space",
          33: "pageup",
          34: "pagedown",
          35: "end",
          36: "home",
          37: "left",
          38: "up",
          39: "right",
          40: "down",
          45: "ins",
          46: "del",
          91: "meta",
          93: "meta",
          224: "meta",
        },
        z = {
          106: "*",
          107: "+",
          109: "-",
          110: ".",
          111: "/",
          186: ";",
          187: "=",
          188: ",",
          189: "-",
          190: ".",
          191: "/",
          192: "`",
          219: "[",
          220: "\\",
          221: "]",
          222: "'",
        },
        A = {
          "~": "`",
          "!": "1",
          "@": "2",
          "#": "3",
          $: "4",
          "%": "5",
          "^": "6",
          "&": "7",
          "*": "8",
          "(": "9",
          ")": "0",
          _: "-",
          "+": "=",
          ":": ";",
          '"': "'",
          "<": ",",
          ">": ".",
          "?": "/",
          "|": "\\",
        },
        B = {
          option: "alt",
          command: "meta",
          return: "enter",
          escape: "esc",
          mod: /Mac|iPod|iPhone|iPad/.test(navigator.platform)
            ? "meta"
            : "ctrl",
        },
        C = {},
        D = {},
        E = {},
        F = !1,
        G = !1,
        H = !1,
        I = 1;
      20 > I;
      ++I
    )
      y[111 + I] = "f" + I;
    for (I = 0; 9 >= I; ++I) y[I + 96] = I;
    c(b, "keypress", m), c(b, "keydown", m), c(b, "keyup", m);
    var J = {
      bind: function (a, b, c) {
        return (a = a instanceof Array ? a : [a]), v(a, b, c), this;
      },
      unbind: function (a, b) {
        return J.bind(a, function () {}, b);
      },
      trigger: function (a, b) {
        return D[a + ":" + b] && D[a + ":" + b]({}, a), this;
      },
      reset: function () {
        return (C = {}), (D = {}), this;
      },
      stopCallback: function (a, b) {
        return (" " + b.className + " ").indexOf(" mousetrap ") > -1
          ? !1
          : "INPUT" == b.tagName ||
              "SELECT" == b.tagName ||
              "TEXTAREA" == b.tagName ||
              b.isContentEditable;
      },
      handleKey: l,
    };
    (a.Mousetrap = J), "function" == typeof define && define.amd && define(J);
  })(window, document); /*
 AngularJS v1.2.20
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (F, e, O) {
  "use strict";
  e.module("ngAnimate", ["ng"])
    .directive("ngAnimateChildren", function () {
      return function (G, s, g) {
        g = g.ngAnimateChildren;
        e.isString(g) && 0 === g.length
          ? s.data("$$ngAnimateChildren", !0)
          : G.$watch(g, function (e) {
              s.data("$$ngAnimateChildren", !!e);
            });
      };
    })
    .factory("$$animateReflow", [
      "$$rAF",
      "$document",
      function (e, s) {
        return function (g) {
          return e(function () {
            g();
          });
        };
      },
    ])
    .config([
      "$provide",
      "$animateProvider",
      function (G, s) {
        function g(e) {
          for (var g = 0; g < e.length; g++) {
            var l = e[g];
            if (l.nodeType == aa) return l;
          }
        }
        function B(l) {
          return e.element(g(l));
        }
        var m = e.noop,
          u = e.forEach,
          P = s.$$selectors,
          aa = 1,
          l = "$$ngAnimateState",
          V = "$$ngAnimateChildren",
          J = "ng-animate",
          n = { running: !0 };
        G.decorator("$animate", [
          "$delegate",
          "$injector",
          "$sniffer",
          "$rootElement",
          "$$asyncCallback",
          "$rootScope",
          "$document",
          function (z, F, $, R, E, H, O) {
            function K(a) {
              var b = a.data(l) || {};
              b.running = !0;
              a.data(l, b);
            }
            function L(a) {
              if (a) {
                var b = [],
                  c = {};
                a = a.substr(1).split(".");
                ($.transitions || $.animations) && b.push(F.get(P[""]));
                for (var d = 0; d < a.length; d++) {
                  var f = a[d],
                    e = P[f];
                  e && !c[f] && (b.push(F.get(e)), (c[f] = !0));
                }
                return b;
              }
            }
            function G(a, b, c) {
              function d(a, b) {
                var c = a[b],
                  d = a["before" + b.charAt(0).toUpperCase() + b.substr(1)];
                if (c || d)
                  return (
                    "leave" == b && ((d = c), (c = null)),
                    n.push({ event: b, fn: c }),
                    h.push({ event: b, fn: d }),
                    !0
                  );
              }
              function f(b, d, e) {
                var f = [];
                u(b, function (a) {
                  a.fn && f.push(a);
                });
                var g = 0;
                u(f, function (b, l) {
                  var C = function () {
                    a: {
                      if (d) {
                        (d[l] || m)();
                        if (++g < f.length) break a;
                        d = null;
                      }
                      e();
                    }
                  };
                  switch (b.event) {
                    case "setClass":
                      d.push(b.fn(a, A, k, C));
                      break;
                    case "addClass":
                      d.push(b.fn(a, A || c, C));
                      break;
                    case "removeClass":
                      d.push(b.fn(a, k || c, C));
                      break;
                    default:
                      d.push(b.fn(a, C));
                  }
                });
                d && 0 === d.length && e();
              }
              var g = a[0];
              if (g) {
                var l = "setClass" == b,
                  p = l || "addClass" == b || "removeClass" == b,
                  A,
                  k;
                e.isArray(c) && ((A = c[0]), (k = c[1]), (c = A + " " + k));
                var x = a.attr("class") + " " + c;
                if (M(x)) {
                  var t = m,
                    w = [],
                    h = [],
                    q = m,
                    y = [],
                    n = [],
                    x = (" " + x).replace(/\s+/g, ".");
                  u(L(x), function (a) {
                    !d(a, b) && l && (d(a, "addClass"), d(a, "removeClass"));
                  });
                  return {
                    node: g,
                    event: b,
                    className: c,
                    isClassBased: p,
                    isSetClassOperation: l,
                    before: function (a) {
                      t = a;
                      f(h, w, function () {
                        t = m;
                        a();
                      });
                    },
                    after: function (a) {
                      q = a;
                      f(n, y, function () {
                        q = m;
                        a();
                      });
                    },
                    cancel: function () {
                      w &&
                        (u(w, function (a) {
                          (a || m)(!0);
                        }),
                        t(!0));
                      y &&
                        (u(y, function (a) {
                          (a || m)(!0);
                        }),
                        q(!0));
                    },
                  };
                }
              }
            }
            function r(a, b, c, d, f, g, n) {
              function p(d) {
                var e = "$animate:" + d;
                q &&
                  q[e] &&
                  0 < q[e].length &&
                  E(function () {
                    c.triggerHandler(e, { event: a, className: b });
                  });
              }
              function A() {
                p("before");
              }
              function m() {
                p("after");
              }
              function x() {
                p("close");
                n &&
                  E(function () {
                    n();
                  });
              }
              function t() {
                t.hasBeenRun || ((t.hasBeenRun = !0), g());
              }
              function w() {
                if (!w.hasBeenRun) {
                  w.hasBeenRun = !0;
                  var d = c.data(l);
                  d &&
                    (h && h.isClassBased
                      ? k(c, b)
                      : (E(function () {
                          var d = c.data(l) || {};
                          r == d.index && k(c, b, a);
                        }),
                        c.data(l, d)));
                  x();
                }
              }
              var h = G(c, a, b);
              if (h) {
                b = h.className;
                var q = e.element._data(h.node),
                  q = q && q.events;
                d || (d = f ? f.parent() : c.parent());
                var y = c.data(l) || {};
                f = y.active || {};
                var z = y.totalActive || 0,
                  C = y.last,
                  D;
                h.isClassBased &&
                  (D = y.running || y.disabled || (C && !C.isClassBased));
                if (D || N(c, d)) t(), A(), m(), w();
                else {
                  d = !1;
                  if (0 < z) {
                    D = [];
                    if (h.isClassBased)
                      "setClass" == C.event
                        ? (D.push(C), k(c, b))
                        : f[b] &&
                          ((v = f[b]),
                          v.event == a ? (d = !0) : (D.push(v), k(c, b)));
                    else if ("leave" == a && f["ng-leave"]) d = !0;
                    else {
                      for (var v in f) D.push(f[v]), k(c, v);
                      f = {};
                      z = 0;
                    }
                    0 < D.length &&
                      u(D, function (a) {
                        a.cancel();
                      });
                  }
                  !h.isClassBased ||
                    h.isSetClassOperation ||
                    d ||
                    (d = ("addClass" == a) == c.hasClass(b));
                  if (d) t(), A(), m(), x();
                  else {
                    if ("leave" == a)
                      c.one("$destroy", function (a) {
                        a = e.element(this);
                        var b = a.data(l);
                        b &&
                          (b = b.active["ng-leave"]) &&
                          (b.cancel(), k(a, "ng-leave"));
                      });
                    c.addClass(J);
                    var r = Y++;
                    z++;
                    f[b] = h;
                    c.data(l, { last: h, active: f, index: r, totalActive: z });
                    A();
                    h.before(function (d) {
                      var e = c.data(l);
                      d =
                        d ||
                        !e ||
                        !e.active[b] ||
                        (h.isClassBased && e.active[b].event != a);
                      t();
                      !0 === d ? w() : (m(), h.after(w));
                    });
                  }
                }
              } else t(), A(), m(), w();
            }
            function T(a) {
              if ((a = g(a)))
                (a = e.isFunction(a.getElementsByClassName)
                  ? a.getElementsByClassName(J)
                  : a.querySelectorAll("." + J)),
                  u(a, function (a) {
                    a = e.element(a);
                    (a = a.data(l)) &&
                      a.active &&
                      u(a.active, function (a) {
                        a.cancel();
                      });
                  });
            }
            function k(a, b) {
              if (g(a) == g(R))
                n.disabled || ((n.running = !1), (n.structural = !1));
              else if (b) {
                var c = a.data(l) || {},
                  d = !0 === b;
                !d &&
                  c.active &&
                  c.active[b] &&
                  (c.totalActive--, delete c.active[b]);
                if (d || !c.totalActive) a.removeClass(J), a.removeData(l);
              }
            }
            function N(a, b) {
              if (n.disabled) return !0;
              if (g(a) == g(R)) return n.running;
              var c, d, f;
              do {
                if (0 === b.length) break;
                var m = g(b) == g(R),
                  k = m ? n : b.data(l) || {};
                if (k.disabled) return !0;
                m && (f = !0);
                !1 !== c && ((m = b.data(V)), e.isDefined(m) && (c = m));
                d = d || k.running || (k.last && !k.last.isClassBased);
              } while ((b = b.parent()));
              return !f || (!c && d);
            }
            var Y = 0;
            R.data(l, n);
            H.$$postDigest(function () {
              H.$$postDigest(function () {
                n.running = !1;
              });
            });
            var Q = s.classNameFilter(),
              M = Q
                ? function (a) {
                    return Q.test(a);
                  }
                : function () {
                    return !0;
                  };
            return {
              enter: function (a, b, c, d) {
                a = e.element(a);
                b = b && e.element(b);
                c = c && e.element(c);
                K(a);
                z.enter(a, b, c);
                H.$$postDigest(function () {
                  a = B(a);
                  r("enter", "ng-enter", a, b, c, m, d);
                });
              },
              leave: function (a, b) {
                a = e.element(a);
                T(a);
                K(a);
                H.$$postDigest(function () {
                  r(
                    "leave",
                    "ng-leave",
                    B(a),
                    null,
                    null,
                    function () {
                      z.leave(a);
                    },
                    b
                  );
                });
              },
              move: function (a, b, c, d) {
                a = e.element(a);
                b = b && e.element(b);
                c = c && e.element(c);
                T(a);
                K(a);
                z.move(a, b, c);
                H.$$postDigest(function () {
                  a = B(a);
                  r("move", "ng-move", a, b, c, m, d);
                });
              },
              addClass: function (a, b, c) {
                a = e.element(a);
                a = B(a);
                r(
                  "addClass",
                  b,
                  a,
                  null,
                  null,
                  function () {
                    z.addClass(a, b);
                  },
                  c
                );
              },
              removeClass: function (a, b, c) {
                a = e.element(a);
                a = B(a);
                r(
                  "removeClass",
                  b,
                  a,
                  null,
                  null,
                  function () {
                    z.removeClass(a, b);
                  },
                  c
                );
              },
              setClass: function (a, b, c, d) {
                a = e.element(a);
                a = B(a);
                r(
                  "setClass",
                  [b, c],
                  a,
                  null,
                  null,
                  function () {
                    z.setClass(a, b, c);
                  },
                  d
                );
              },
              enabled: function (a, b) {
                switch (arguments.length) {
                  case 2:
                    if (a) k(b);
                    else {
                      var c = b.data(l) || {};
                      c.disabled = !0;
                      b.data(l, c);
                    }
                    break;
                  case 1:
                    n.disabled = !a;
                    break;
                  default:
                    a = !n.disabled;
                }
                return !!a;
              },
            };
          },
        ]);
        s.register("", [
          "$window",
          "$sniffer",
          "$timeout",
          "$$animateReflow",
          function (l, n, s, B) {
            function E(a, U) {
              S && S();
              W.push(U);
              S = B(function () {
                u(W, function (a) {
                  a();
                });
                W = [];
                S = null;
                v = {};
              });
            }
            function H(a, U) {
              var b = g(a);
              a = e.element(b);
              Z.push(a);
              b = Date.now() + U;
              b <= da ||
                (s.cancel(ca),
                (da = b),
                (ca = s(
                  function () {
                    G(Z);
                    Z = [];
                  },
                  U,
                  !1
                )));
            }
            function G(a) {
              u(a, function (a) {
                (a = a.data(q)) && (a.closeAnimationFn || m)();
              });
            }
            function K(a, b) {
              var c = b ? v[b] : null;
              if (!c) {
                var d = 0,
                  e = 0,
                  f = 0,
                  g = 0,
                  m,
                  k,
                  h,
                  q;
                u(a, function (a) {
                  if (a.nodeType == aa) {
                    a = l.getComputedStyle(a) || {};
                    h = a[I + P];
                    d = Math.max(L(h), d);
                    q = a[I + x];
                    m = a[I + t];
                    e = Math.max(L(m), e);
                    k = a[p + t];
                    g = Math.max(L(k), g);
                    var b = L(a[p + P]);
                    0 < b && (b *= parseInt(a[p + w], 10) || 1);
                    f = Math.max(b, f);
                  }
                });
                c = {
                  total: 0,
                  transitionPropertyStyle: q,
                  transitionDurationStyle: h,
                  transitionDelayStyle: m,
                  transitionDelay: e,
                  transitionDuration: d,
                  animationDelayStyle: k,
                  animationDelay: g,
                  animationDuration: f,
                };
                b && (v[b] = c);
              }
              return c;
            }
            function L(a) {
              var b = 0;
              a = e.isString(a) ? a.split(/\s*,\s*/) : [];
              u(a, function (a) {
                b = Math.max(parseFloat(a) || 0, b);
              });
              return b;
            }
            function J(a) {
              var b = a.parent(),
                c = b.data(h);
              c || (b.data(h, ++ba), (c = ba));
              return c + "-" + g(a).getAttribute("class");
            }
            function r(a, b, c, d) {
              var e = J(b),
                f = e + " " + c,
                l = v[f] ? ++v[f].total : 0,
                k = {};
              if (0 < l) {
                var h = c + "-stagger",
                  k = e + " " + h;
                (e = !v[k]) && b.addClass(h);
                k = K(b, k);
                e && b.removeClass(h);
              }
              d =
                d ||
                function (a) {
                  return a();
                };
              b.addClass(c);
              var h = b.data(q) || {},
                n = d(function () {
                  return K(b, f);
                });
              d = n.transitionDuration;
              e = n.animationDuration;
              if (0 === d && 0 === e) return b.removeClass(c), !1;
              b.data(q, {
                running: h.running || 0,
                itemIndex: l,
                stagger: k,
                timings: n,
                closeAnimationFn: m,
              });
              a = 0 < h.running || "setClass" == a;
              0 < d && T(b, c, a);
              0 < e &&
                0 < k.animationDelay &&
                0 === k.animationDuration &&
                (g(b).style[p] = "none 0s");
              return !0;
            }
            function T(a, b, c) {
              "ng-enter" != b && "ng-move" != b && "ng-leave" != b && c
                ? a.addClass(y)
                : (g(a).style[I + x] = "none");
            }
            function k(a, b) {
              var c = I + x,
                d = g(a);
              d.style[c] && 0 < d.style[c].length && (d.style[c] = "");
              a.removeClass(y);
            }
            function N(a) {
              var b = p;
              a = g(a);
              a.style[b] && 0 < a.style[b].length && (a.style[b] = "");
            }
            function Y(a, b, d, e) {
              function k(a) {
                b.off(x, l);
                b.removeClass(m);
                c(b, d);
                a = g(b);
                for (var e in s) a.style.removeProperty(s[e]);
              }
              function l(a) {
                a.stopPropagation();
                var b = a.originalEvent || a;
                a = b.$manualTimeStamp || b.timeStamp || Date.now();
                b = parseFloat(b.elapsedTime.toFixed(V));
                Math.max(a - z, 0) >= y && b >= v && e();
              }
              var h = g(b);
              a = b.data(q);
              if (-1 != h.getAttribute("class").indexOf(d) && a) {
                var m = "";
                u(d.split(" "), function (a, b) {
                  m += (0 < b ? " " : "") + a + "-active";
                });
                var n = a.stagger,
                  p = a.timings,
                  t = a.itemIndex,
                  v = Math.max(p.transitionDuration, p.animationDuration),
                  w = Math.max(p.transitionDelay, p.animationDelay),
                  y = w * D,
                  z = Date.now(),
                  x = A + " " + X,
                  r = "",
                  s = [];
                if (0 < p.transitionDuration) {
                  var B = p.transitionPropertyStyle;
                  -1 == B.indexOf("all") &&
                    ((r += f + "transition-property: " + B + ";"),
                    (r +=
                      f +
                      "transition-duration: " +
                      p.transitionDurationStyle +
                      ";"),
                    s.push(f + "transition-property"),
                    s.push(f + "transition-duration"));
                }
                0 < t &&
                  (0 < n.transitionDelay &&
                    0 === n.transitionDuration &&
                    ((r +=
                      f +
                      "transition-delay: " +
                      Q(p.transitionDelayStyle, n.transitionDelay, t) +
                      "; "),
                    s.push(f + "transition-delay")),
                  0 < n.animationDelay &&
                    0 === n.animationDuration &&
                    ((r +=
                      f +
                      "animation-delay: " +
                      Q(p.animationDelayStyle, n.animationDelay, t) +
                      "; "),
                    s.push(f + "animation-delay")));
                0 < s.length &&
                  ((p = h.getAttribute("style") || ""),
                  h.setAttribute("style", p + "; " + r));
                b.on(x, l);
                b.addClass(m);
                a.closeAnimationFn = function () {
                  k();
                  e();
                };
                h =
                  (t * (Math.max(n.animationDelay, n.transitionDelay) || 0) +
                    (w + v) * C) *
                  D;
                a.running++;
                H(b, h);
                return k;
              }
              e();
            }
            function Q(a, b, c) {
              var d = "";
              u(a.split(","), function (a, e) {
                d += (0 < e ? "," : "") + (c * b + parseInt(a, 10)) + "s";
              });
              return d;
            }
            function M(a, b, d, e) {
              if (r(a, b, d, e))
                return function (a) {
                  a && c(b, d);
                };
            }
            function a(a, b, d, e) {
              if (b.data(q)) return Y(a, b, d, e);
              c(b, d);
              e();
            }
            function b(b, c, d, e) {
              var f = M(b, c, d);
              if (f) {
                var g = f;
                E(c, function () {
                  k(c, d);
                  N(c);
                  g = a(b, c, d, e);
                });
                return function (a) {
                  (g || m)(a);
                };
              }
              e();
            }
            function c(a, b) {
              a.removeClass(b);
              var c = a.data(q);
              c &&
                (c.running && c.running--,
                (c.running && 0 !== c.running) || a.removeData(q));
            }
            function d(a, b) {
              var c = "";
              a = e.isArray(a) ? a : a.split(/\s+/);
              u(a, function (a, d) {
                a && 0 < a.length && (c += (0 < d ? " " : "") + a + b);
              });
              return c;
            }
            var f = "",
              I,
              X,
              p,
              A;
            F.ontransitionend === O && F.onwebkittransitionend !== O
              ? ((f = "-webkit-"),
                (I = "WebkitTransition"),
                (X = "webkitTransitionEnd transitionend"))
              : ((I = "transition"), (X = "transitionend"));
            F.onanimationend === O && F.onwebkitanimationend !== O
              ? ((f = "-webkit-"),
                (p = "WebkitAnimation"),
                (A = "webkitAnimationEnd animationend"))
              : ((p = "animation"), (A = "animationend"));
            var P = "Duration",
              x = "Property",
              t = "Delay",
              w = "IterationCount",
              h = "$$ngAnimateKey",
              q = "$$ngAnimateCSS3Data",
              y = "ng-animate-block-transitions",
              V = 3,
              C = 1.5,
              D = 1e3,
              v = {},
              ba = 0,
              W = [],
              S,
              ca = null,
              da = 0,
              Z = [];
            return {
              enter: function (a, c) {
                return b("enter", a, "ng-enter", c);
              },
              leave: function (a, c) {
                return b("leave", a, "ng-leave", c);
              },
              move: function (a, c) {
                return b("move", a, "ng-move", c);
              },
              beforeSetClass: function (a, b, c, e) {
                var f = d(c, "-remove") + " " + d(b, "-add"),
                  g = M("setClass", a, f, function (d) {
                    var e = a.attr("class");
                    a.removeClass(c);
                    a.addClass(b);
                    d = d();
                    a.attr("class", e);
                    return d;
                  });
                if (g)
                  return (
                    E(a, function () {
                      k(a, f);
                      N(a);
                      e();
                    }),
                    g
                  );
                e();
              },
              beforeAddClass: function (a, b, c) {
                var e = M("addClass", a, d(b, "-add"), function (c) {
                  a.addClass(b);
                  c = c();
                  a.removeClass(b);
                  return c;
                });
                if (e)
                  return (
                    E(a, function () {
                      k(a, b);
                      N(a);
                      c();
                    }),
                    e
                  );
                c();
              },
              setClass: function (b, c, e, f) {
                e = d(e, "-remove");
                c = d(c, "-add");
                return a("setClass", b, e + " " + c, f);
              },
              addClass: function (b, c, e) {
                return a("addClass", b, d(c, "-add"), e);
              },
              beforeRemoveClass: function (a, b, c) {
                var e = M("removeClass", a, d(b, "-remove"), function (c) {
                  var d = a.attr("class");
                  a.removeClass(b);
                  c = c();
                  a.attr("class", d);
                  return c;
                });
                if (e)
                  return (
                    E(a, function () {
                      k(a, b);
                      N(a);
                      c();
                    }),
                    e
                  );
                c();
              },
              removeClass: function (b, c, e) {
                return a("removeClass", b, d(c, "-remove"), e);
              },
            };
          },
        ]);
      },
    ]);
})(window, window.angular);
/**
 * angular-growl - v0.4.0 - 2013-11-19
 * https://github.com/marcorinck/angular-growl
 * Copyright (c) 2013 Marco Rinck; Licensed MIT
 */
//# sourceMappingURL=angular-animate.min.js.map
angular.module("angular-growl", []),
  angular.module("angular-growl").directive("growl", [
    "$rootScope",
    function (a) {
      "use strict";
      return {
        restrict: "A",
        template:
          '<div class="growl">	<div class="growl-item alert" ng-repeat="message in messages" ng-class="computeClasses(message)">		<button type="button" class="close" ng-click="deleteMessage(message)">&times;</button>       <div ng-switch="message.enableHtml">           <div ng-switch-when="true" ng-bind-html="message.text"></div>           <div ng-switch-default ng-bind="message.text"></div>       </div>	</div></div>',
        replace: !1,
        scope: !0,
        controller: [
          "$scope",
          "$timeout",
          "growl",
          function (b, c, d) {
            function e(a) {
              b.messages.push(a),
                a.ttl &&
                  -1 !== a.ttl &&
                  c(function () {
                    b.deleteMessage(a);
                  }, a.ttl);
            }
            var f = d.onlyUnique();
            (b.messages = []),
              a.$on("growlMessage", function (a, c) {
                var d;
                f
                  ? (angular.forEach(b.messages, function (a) {
                      c.text === a.text &&
                        c.severity === a.severity &&
                        (d = !0);
                    }),
                    d || e(c))
                  : e(c);
              }),
              (b.deleteMessage = function (a) {
                var c = b.messages.indexOf(a);
                c > -1 && b.messages.splice(c, 1);
              }),
              (b.computeClasses = function (a) {
                return {
                  "alert-success": "success" === a.severity,
                  "alert-error": "error" === a.severity,
                  "alert-danger": "error" === a.severity,
                  "alert-info": "info" === a.severity,
                  "alert-warning": "warn" === a.severity,
                };
              });
          },
        ],
      };
    },
  ]),
  angular.module("angular-growl").provider("growl", function () {
    "use strict";
    var a = null,
      b = !1,
      c = "messages",
      d = "text",
      e = "severity",
      f = !0;
    (this.globalTimeToLive = function (b) {
      a = b;
    }),
      (this.globalEnableHtml = function (a) {
        b = a;
      }),
      (this.messagesKey = function (a) {
        c = a;
      }),
      (this.messageTextKey = function (a) {
        d = a;
      }),
      (this.messageSeverityKey = function (a) {
        e = a;
      }),
      (this.onlyUniqueMessages = function (a) {
        f = a;
      }),
      (this.serverMessagesInterceptor = [
        "$q",
        "growl",
        function (a, b) {
          function d(a) {
            a.data[c] && a.data[c].length > 0 && b.addServerMessages(a.data[c]);
          }
          function e(a) {
            return d(a), a;
          }
          function f(b) {
            return d(b), a.reject(b);
          }
          return function (a) {
            return a.then(e, f);
          };
        },
      ]),
      (this.$get = [
        "$rootScope",
        "$filter",
        function (c, g) {
          function h(a) {
            p && (a.text = p(a.text)), c.$broadcast("growlMessage", a);
          }
          function i(c, d, e) {
            var f,
              g = d || {};
            (f = {
              text: c,
              severity: e,
              ttl: g.ttl || a,
              enableHtml: g.enableHtml || b,
            }),
              h(f);
          }
          function j(a, b) {
            i(a, b, "warn");
          }
          function k(a, b) {
            i(a, b, "error");
          }
          function l(a, b) {
            i(a, b, "info");
          }
          function m(a, b) {
            i(a, b, "success");
          }
          function n(a) {
            var b, c, f, g;
            for (g = a.length, b = 0; g > b; b++)
              if (((c = a[b]), c[d] && c[e])) {
                switch (c[e]) {
                  case "warn":
                    f = "warn";
                    break;
                  case "success":
                    f = "success";
                    break;
                  case "info":
                    f = "info";
                    break;
                  case "error":
                    f = "error";
                }
                i(c[d], void 0, f);
              }
          }
          function o() {
            return f;
          }
          var p;
          try {
            p = g("translate");
          } catch (q) {}
          return {
            addWarnMessage: j,
            addErrorMessage: k,
            addInfoMessage: l,
            addSuccessMessage: m,
            addServerMessages: n,
            onlyUnique: o,
          };
        },
      ]);
  }); /*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.1 - 2015-02-20
 * License: MIT
 */
angular.module("ui.bootstrap", [
  "ui.bootstrap.transition",
  "ui.bootstrap.collapse",
  "ui.bootstrap.accordion",
  "ui.bootstrap.alert",
  "ui.bootstrap.bindHtml",
  "ui.bootstrap.buttons",
  "ui.bootstrap.carousel",
  "ui.bootstrap.dateparser",
  "ui.bootstrap.position",
  "ui.bootstrap.datepicker",
  "ui.bootstrap.dropdown",
  "ui.bootstrap.modal",
  "ui.bootstrap.pagination",
  "ui.bootstrap.tooltip",
  "ui.bootstrap.popover",
  "ui.bootstrap.progressbar",
  "ui.bootstrap.rating",
  "ui.bootstrap.tabs",
  "ui.bootstrap.timepicker",
  "ui.bootstrap.typeahead",
]),
  angular.module("ui.bootstrap.transition", []).factory("$transition", [
    "$q",
    "$timeout",
    "$rootScope",
    function (a, b, c) {
      function d(a) {
        for (var b in a) if (void 0 !== f.style[b]) return a[b];
      }
      var e = function (d, f, g) {
          g = g || {};
          var h = a.defer(),
            i =
              e[
                g.animation ? "animationEndEventName" : "transitionEndEventName"
              ],
            j = function () {
              c.$apply(function () {
                d.unbind(i, j), h.resolve(d);
              });
            };
          return (
            i && d.bind(i, j),
            b(function () {
              angular.isString(f)
                ? d.addClass(f)
                : angular.isFunction(f)
                ? f(d)
                : angular.isObject(f) && d.css(f),
                i || h.resolve(d);
            }),
            (h.promise.cancel = function () {
              i && d.unbind(i, j), h.reject("Transition cancelled");
            }),
            h.promise
          );
        },
        f = document.createElement("trans"),
        g = {
          WebkitTransition: "webkitTransitionEnd",
          MozTransition: "transitionend",
          OTransition: "oTransitionEnd",
          transition: "transitionend",
        },
        h = {
          WebkitTransition: "webkitAnimationEnd",
          MozTransition: "animationend",
          OTransition: "oAnimationEnd",
          transition: "animationend",
        };
      return (
        (e.transitionEndEventName = d(g)), (e.animationEndEventName = d(h)), e
      );
    },
  ]),
  angular
    .module("ui.bootstrap.collapse", ["ui.bootstrap.transition"])
    .directive("collapse", [
      "$transition",
      function (a) {
        return {
          link: function (b, c, d) {
            function e(b) {
              function d() {
                j === e && (j = void 0);
              }
              var e = a(c, b);
              return j && j.cancel(), (j = e), e.then(d, d), e;
            }
            function f() {
              k
                ? ((k = !1), g())
                : (c.removeClass("collapse").addClass("collapsing"),
                  e({ height: c[0].scrollHeight + "px" }).then(g));
            }
            function g() {
              c.removeClass("collapsing"),
                c.addClass("collapse in"),
                c.css({ height: "auto" });
            }
            function h() {
              if (k) (k = !1), i(), c.css({ height: 0 });
              else {
                c.css({ height: c[0].scrollHeight + "px" });
                {
                  c[0].offsetWidth;
                }
                c.removeClass("collapse in").addClass("collapsing"),
                  e({ height: 0 }).then(i);
              }
            }
            function i() {
              c.removeClass("collapsing"), c.addClass("collapse");
            }
            var j,
              k = !0;
            b.$watch(d.collapse, function (a) {
              a ? h() : f();
            });
          },
        };
      },
    ]),
  angular
    .module("ui.bootstrap.accordion", ["ui.bootstrap.collapse"])
    .constant("accordionConfig", { closeOthers: !0 })
    .controller("AccordionController", [
      "$scope",
      "$attrs",
      "accordionConfig",
      function (a, b, c) {
        (this.groups = []),
          (this.closeOthers = function (d) {
            var e = angular.isDefined(b.closeOthers)
              ? a.$eval(b.closeOthers)
              : c.closeOthers;
            e &&
              angular.forEach(this.groups, function (a) {
                a !== d && (a.isOpen = !1);
              });
          }),
          (this.addGroup = function (a) {
            var b = this;
            this.groups.push(a),
              a.$on("$destroy", function () {
                b.removeGroup(a);
              });
          }),
          (this.removeGroup = function (a) {
            var b = this.groups.indexOf(a);
            -1 !== b && this.groups.splice(b, 1);
          });
      },
    ])
    .directive("accordion", function () {
      return {
        restrict: "EA",
        controller: "AccordionController",
        transclude: !0,
        replace: !1,
        templateUrl: "template/accordion/accordion.html",
      };
    })
    .directive("accordionGroup", function () {
      return {
        require: "^accordion",
        restrict: "EA",
        transclude: !0,
        replace: !0,
        templateUrl: "template/accordion/accordion-group.html",
        scope: { heading: "@", isOpen: "=?", isDisabled: "=?" },
        controller: function () {
          this.setHeading = function (a) {
            this.heading = a;
          };
        },
        link: function (a, b, c, d) {
          d.addGroup(a),
            a.$watch("isOpen", function (b) {
              b && d.closeOthers(a);
            }),
            (a.toggleOpen = function () {
              a.isDisabled || (a.isOpen = !a.isOpen);
            });
        },
      };
    })
    .directive("accordionHeading", function () {
      return {
        restrict: "EA",
        transclude: !0,
        template: "",
        replace: !0,
        require: "^accordionGroup",
        link: function (a, b, c, d, e) {
          d.setHeading(e(a, function () {}));
        },
      };
    })
    .directive("accordionTransclude", function () {
      return {
        require: "^accordionGroup",
        link: function (a, b, c, d) {
          a.$watch(
            function () {
              return d[c.accordionTransclude];
            },
            function (a) {
              a && (b.html(""), b.append(a));
            }
          );
        },
      };
    }),
  angular
    .module("ui.bootstrap.alert", [])
    .controller("AlertController", [
      "$scope",
      "$attrs",
      function (a, b) {
        (a.closeable = "close" in b), (this.close = a.close);
      },
    ])
    .directive("alert", function () {
      return {
        restrict: "EA",
        controller: "AlertController",
        templateUrl: "template/alert/alert.html",
        transclude: !0,
        replace: !0,
        scope: { type: "@", close: "&" },
      };
    })
    .directive("dismissOnTimeout", [
      "$timeout",
      function (a) {
        return {
          require: "alert",
          link: function (b, c, d, e) {
            a(function () {
              e.close();
            }, parseInt(d.dismissOnTimeout, 10));
          },
        };
      },
    ]),
  angular
    .module("ui.bootstrap.bindHtml", [])
    .directive("bindHtmlUnsafe", function () {
      return function (a, b, c) {
        b.addClass("ng-binding").data("$binding", c.bindHtmlUnsafe),
          a.$watch(c.bindHtmlUnsafe, function (a) {
            b.html(a || "");
          });
      };
    }),
  angular
    .module("ui.bootstrap.buttons", [])
    .constant("buttonConfig", { activeClass: "active", toggleEvent: "click" })
    .controller("ButtonsController", [
      "buttonConfig",
      function (a) {
        (this.activeClass = a.activeClass || "active"),
          (this.toggleEvent = a.toggleEvent || "click");
      },
    ])
    .directive("btnRadio", function () {
      return {
        require: ["btnRadio", "ngModel"],
        controller: "ButtonsController",
        link: function (a, b, c, d) {
          var e = d[0],
            f = d[1];
          (f.$render = function () {
            b.toggleClass(
              e.activeClass,
              angular.equals(f.$modelValue, a.$eval(c.btnRadio))
            );
          }),
            b.bind(e.toggleEvent, function () {
              var d = b.hasClass(e.activeClass);
              (!d || angular.isDefined(c.uncheckable)) &&
                a.$apply(function () {
                  f.$setViewValue(d ? null : a.$eval(c.btnRadio)), f.$render();
                });
            });
        },
      };
    })
    .directive("btnCheckbox", function () {
      return {
        require: ["btnCheckbox", "ngModel"],
        controller: "ButtonsController",
        link: function (a, b, c, d) {
          function e() {
            return g(c.btnCheckboxTrue, !0);
          }
          function f() {
            return g(c.btnCheckboxFalse, !1);
          }
          function g(b, c) {
            var d = a.$eval(b);
            return angular.isDefined(d) ? d : c;
          }
          var h = d[0],
            i = d[1];
          (i.$render = function () {
            b.toggleClass(h.activeClass, angular.equals(i.$modelValue, e()));
          }),
            b.bind(h.toggleEvent, function () {
              a.$apply(function () {
                i.$setViewValue(b.hasClass(h.activeClass) ? f() : e()),
                  i.$render();
              });
            });
        },
      };
    }),
  angular
    .module("ui.bootstrap.carousel", ["ui.bootstrap.transition"])
    .controller("CarouselController", [
      "$scope",
      "$timeout",
      "$interval",
      "$transition",
      function (a, b, c, d) {
        function e() {
          f();
          var b = +a.interval;
          !isNaN(b) && b > 0 && (h = c(g, b));
        }
        function f() {
          h && (c.cancel(h), (h = null));
        }
        function g() {
          var b = +a.interval;
          i && !isNaN(b) && b > 0 ? a.next() : a.pause();
        }
        var h,
          i,
          j = this,
          k = (j.slides = a.slides = []),
          l = -1;
        j.currentSlide = null;
        var m = !1;
        (j.select = a.select =
          function (c, f) {
            function g() {
              if (!m) {
                if (
                  j.currentSlide &&
                  angular.isString(f) &&
                  !a.noTransition &&
                  c.$element
                ) {
                  c.$element.addClass(f);
                  {
                    c.$element[0].offsetWidth;
                  }
                  angular.forEach(k, function (a) {
                    angular.extend(a, {
                      direction: "",
                      entering: !1,
                      leaving: !1,
                      active: !1,
                    });
                  }),
                    angular.extend(c, {
                      direction: f,
                      active: !0,
                      entering: !0,
                    }),
                    angular.extend(j.currentSlide || {}, {
                      direction: f,
                      leaving: !0,
                    }),
                    (a.$currentTransition = d(c.$element, {})),
                    (function (b, c) {
                      a.$currentTransition.then(
                        function () {
                          h(b, c);
                        },
                        function () {
                          h(b, c);
                        }
                      );
                    })(c, j.currentSlide);
                } else h(c, j.currentSlide);
                (j.currentSlide = c), (l = i), e();
              }
            }
            function h(b, c) {
              angular.extend(b, {
                direction: "",
                active: !0,
                leaving: !1,
                entering: !1,
              }),
                angular.extend(c || {}, {
                  direction: "",
                  active: !1,
                  leaving: !1,
                  entering: !1,
                }),
                (a.$currentTransition = null);
            }
            var i = k.indexOf(c);
            void 0 === f && (f = i > l ? "next" : "prev"),
              c &&
                c !== j.currentSlide &&
                (a.$currentTransition
                  ? (a.$currentTransition.cancel(), b(g))
                  : g());
          }),
          a.$on("$destroy", function () {
            m = !0;
          }),
          (j.indexOfSlide = function (a) {
            return k.indexOf(a);
          }),
          (a.next = function () {
            var b = (l + 1) % k.length;
            return a.$currentTransition ? void 0 : j.select(k[b], "next");
          }),
          (a.prev = function () {
            var b = 0 > l - 1 ? k.length - 1 : l - 1;
            return a.$currentTransition ? void 0 : j.select(k[b], "prev");
          }),
          (a.isActive = function (a) {
            return j.currentSlide === a;
          }),
          a.$watch("interval", e),
          a.$on("$destroy", f),
          (a.play = function () {
            i || ((i = !0), e());
          }),
          (a.pause = function () {
            a.noPause || ((i = !1), f());
          }),
          (j.addSlide = function (b, c) {
            (b.$element = c),
              k.push(b),
              1 === k.length || b.active
                ? (j.select(k[k.length - 1]), 1 == k.length && a.play())
                : (b.active = !1);
          }),
          (j.removeSlide = function (a) {
            var b = k.indexOf(a);
            k.splice(b, 1),
              k.length > 0 && a.active
                ? j.select(b >= k.length ? k[b - 1] : k[b])
                : l > b && l--;
          });
      },
    ])
    .directive("carousel", [
      function () {
        return {
          restrict: "EA",
          transclude: !0,
          replace: !0,
          controller: "CarouselController",
          require: "carousel",
          templateUrl: "template/carousel/carousel.html",
          scope: { interval: "=", noTransition: "=", noPause: "=" },
        };
      },
    ])
    .directive("slide", function () {
      return {
        require: "^carousel",
        restrict: "EA",
        transclude: !0,
        replace: !0,
        templateUrl: "template/carousel/slide.html",
        scope: { active: "=?" },
        link: function (a, b, c, d) {
          d.addSlide(a, b),
            a.$on("$destroy", function () {
              d.removeSlide(a);
            }),
            a.$watch("active", function (b) {
              b && d.select(a);
            });
        },
      };
    }),
  angular.module("ui.bootstrap.dateparser", []).service("dateParser", [
    "$locale",
    "orderByFilter",
    function (a, b) {
      function c(a) {
        var c = [],
          d = a.split("");
        return (
          angular.forEach(e, function (b, e) {
            var f = a.indexOf(e);
            if (f > -1) {
              (a = a.split("")), (d[f] = "(" + b.regex + ")"), (a[f] = "$");
              for (var g = f + 1, h = f + e.length; h > g; g++)
                (d[g] = ""), (a[g] = "$");
              (a = a.join("")), c.push({ index: f, apply: b.apply });
            }
          }),
          { regex: new RegExp("^" + d.join("") + "$"), map: b(c, "index") }
        );
      }
      function d(a, b, c) {
        return 1 === b && c > 28
          ? 29 === c && ((a % 4 === 0 && a % 100 !== 0) || a % 400 === 0)
          : 3 === b || 5 === b || 8 === b || 10 === b
          ? 31 > c
          : !0;
      }
      this.parsers = {};
      var e = {
        yyyy: {
          regex: "\\d{4}",
          apply: function (a) {
            this.year = +a;
          },
        },
        yy: {
          regex: "\\d{2}",
          apply: function (a) {
            this.year = +a + 2e3;
          },
        },
        y: {
          regex: "\\d{1,4}",
          apply: function (a) {
            this.year = +a;
          },
        },
        MMMM: {
          regex: a.DATETIME_FORMATS.MONTH.join("|"),
          apply: function (b) {
            this.month = a.DATETIME_FORMATS.MONTH.indexOf(b);
          },
        },
        MMM: {
          regex: a.DATETIME_FORMATS.SHORTMONTH.join("|"),
          apply: function (b) {
            this.month = a.DATETIME_FORMATS.SHORTMONTH.indexOf(b);
          },
        },
        MM: {
          regex: "0[1-9]|1[0-2]",
          apply: function (a) {
            this.month = a - 1;
          },
        },
        M: {
          regex: "[1-9]|1[0-2]",
          apply: function (a) {
            this.month = a - 1;
          },
        },
        dd: {
          regex: "[0-2][0-9]{1}|3[0-1]{1}",
          apply: function (a) {
            this.date = +a;
          },
        },
        d: {
          regex: "[1-2]?[0-9]{1}|3[0-1]{1}",
          apply: function (a) {
            this.date = +a;
          },
        },
        EEEE: { regex: a.DATETIME_FORMATS.DAY.join("|") },
        EEE: { regex: a.DATETIME_FORMATS.SHORTDAY.join("|") },
      };
      this.parse = function (b, e) {
        if (!angular.isString(b) || !e) return b;
        (e = a.DATETIME_FORMATS[e] || e),
          this.parsers[e] || (this.parsers[e] = c(e));
        var f = this.parsers[e],
          g = f.regex,
          h = f.map,
          i = b.match(g);
        if (i && i.length) {
          for (
            var j,
              k = { year: 1900, month: 0, date: 1, hours: 0 },
              l = 1,
              m = i.length;
            m > l;
            l++
          ) {
            var n = h[l - 1];
            n.apply && n.apply.call(k, i[l]);
          }
          return (
            d(k.year, k.month, k.date) &&
              (j = new Date(k.year, k.month, k.date, k.hours)),
            j
          );
        }
      };
    },
  ]),
  angular.module("ui.bootstrap.position", []).factory("$position", [
    "$document",
    "$window",
    function (a, b) {
      function c(a, c) {
        return a.currentStyle
          ? a.currentStyle[c]
          : b.getComputedStyle
          ? b.getComputedStyle(a)[c]
          : a.style[c];
      }
      function d(a) {
        return "static" === (c(a, "position") || "static");
      }
      var e = function (b) {
        for (var c = a[0], e = b.offsetParent || c; e && e !== c && d(e); )
          e = e.offsetParent;
        return e || c;
      };
      return {
        position: function (b) {
          var c = this.offset(b),
            d = { top: 0, left: 0 },
            f = e(b[0]);
          f != a[0] &&
            ((d = this.offset(angular.element(f))),
            (d.top += f.clientTop - f.scrollTop),
            (d.left += f.clientLeft - f.scrollLeft));
          var g = b[0].getBoundingClientRect();
          return {
            width: g.width || b.prop("offsetWidth"),
            height: g.height || b.prop("offsetHeight"),
            top: c.top - d.top,
            left: c.left - d.left,
          };
        },
        offset: function (c) {
          var d = c[0].getBoundingClientRect();
          return {
            width: d.width || c.prop("offsetWidth"),
            height: d.height || c.prop("offsetHeight"),
            top: d.top + (b.pageYOffset || a[0].documentElement.scrollTop),
            left: d.left + (b.pageXOffset || a[0].documentElement.scrollLeft),
          };
        },
        positionElements: function (a, b, c, d) {
          var e,
            f,
            g,
            h,
            i = c.split("-"),
            j = i[0],
            k = i[1] || "center";
          (e = d ? this.offset(a) : this.position(a)),
            (f = b.prop("offsetWidth")),
            (g = b.prop("offsetHeight"));
          var l = {
              center: function () {
                return e.left + e.width / 2 - f / 2;
              },
              left: function () {
                return e.left;
              },
              right: function () {
                return e.left + e.width;
              },
            },
            m = {
              center: function () {
                return e.top + e.height / 2 - g / 2;
              },
              top: function () {
                return e.top;
              },
              bottom: function () {
                return e.top + e.height;
              },
            };
          switch (j) {
            case "right":
              h = { top: m[k](), left: l[j]() };
              break;
            case "left":
              h = { top: m[k](), left: e.left - f };
              break;
            case "bottom":
              h = { top: m[j](), left: l[k]() };
              break;
            default:
              h = { top: e.top - g, left: l[k]() };
          }
          return h;
        },
      };
    },
  ]),
  angular
    .module("ui.bootstrap.datepicker", [
      "ui.bootstrap.dateparser",
      "ui.bootstrap.position",
    ])
    .constant("datepickerConfig", {
      formatDay: "dd",
      formatMonth: "MMMM",
      formatYear: "yyyy",
      formatDayHeader: "EEE",
      formatDayTitle: "MMMM yyyy",
      formatMonthTitle: "yyyy",
      datepickerMode: "day",
      minMode: "day",
      maxMode: "year",
      showWeeks: !0,
      startingDay: 0,
      yearRange: 20,
      minDate: null,
      maxDate: null,
    })
    .controller("DatepickerController", [
      "$scope",
      "$attrs",
      "$parse",
      "$interpolate",
      "$timeout",
      "$log",
      "dateFilter",
      "datepickerConfig",
      function (a, b, c, d, e, f, g, h) {
        var i = this,
          j = { $setViewValue: angular.noop };
        (this.modes = ["day", "month", "year"]),
          angular.forEach(
            [
              "formatDay",
              "formatMonth",
              "formatYear",
              "formatDayHeader",
              "formatDayTitle",
              "formatMonthTitle",
              "minMode",
              "maxMode",
              "showWeeks",
              "startingDay",
              "yearRange",
            ],
            function (c, e) {
              i[c] = angular.isDefined(b[c])
                ? 8 > e
                  ? d(b[c])(a.$parent)
                  : a.$parent.$eval(b[c])
                : h[c];
            }
          ),
          angular.forEach(["minDate", "maxDate"], function (d) {
            b[d]
              ? a.$parent.$watch(c(b[d]), function (a) {
                  (i[d] = a ? new Date(a) : null), i.refreshView();
                })
              : (i[d] = h[d] ? new Date(h[d]) : null);
          }),
          (a.datepickerMode = a.datepickerMode || h.datepickerMode),
          (a.uniqueId =
            "datepicker-" + a.$id + "-" + Math.floor(1e4 * Math.random())),
          (this.activeDate = angular.isDefined(b.initDate)
            ? a.$parent.$eval(b.initDate)
            : new Date()),
          (a.isActive = function (b) {
            return 0 === i.compare(b.date, i.activeDate)
              ? ((a.activeDateId = b.uid), !0)
              : !1;
          }),
          (this.init = function (a) {
            (j = a),
              (j.$render = function () {
                i.render();
              });
          }),
          (this.render = function () {
            if (j.$modelValue) {
              var a = new Date(j.$modelValue),
                b = !isNaN(a);
              b
                ? (this.activeDate = a)
                : f.error(
                    'Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'
                  ),
                j.$setValidity("date", b);
            }
            this.refreshView();
          }),
          (this.refreshView = function () {
            if (this.element) {
              this._refreshView();
              var a = j.$modelValue ? new Date(j.$modelValue) : null;
              j.$setValidity(
                "date-disabled",
                !a || (this.element && !this.isDisabled(a))
              );
            }
          }),
          (this.createDateObject = function (a, b) {
            var c = j.$modelValue ? new Date(j.$modelValue) : null;
            return {
              date: a,
              label: g(a, b),
              selected: c && 0 === this.compare(a, c),
              disabled: this.isDisabled(a),
              current: 0 === this.compare(a, new Date()),
            };
          }),
          (this.isDisabled = function (c) {
            return (
              (this.minDate && this.compare(c, this.minDate) < 0) ||
              (this.maxDate && this.compare(c, this.maxDate) > 0) ||
              (b.dateDisabled &&
                a.dateDisabled({ date: c, mode: a.datepickerMode }))
            );
          }),
          (this.split = function (a, b) {
            for (var c = []; a.length > 0; ) c.push(a.splice(0, b));
            return c;
          }),
          (a.select = function (b) {
            if (a.datepickerMode === i.minMode) {
              var c = j.$modelValue
                ? new Date(j.$modelValue)
                : new Date(0, 0, 0, 0, 0, 0, 0);
              c.setFullYear(b.getFullYear(), b.getMonth(), b.getDate()),
                j.$setViewValue(c),
                j.$render();
            } else
              (i.activeDate = b),
                (a.datepickerMode =
                  i.modes[i.modes.indexOf(a.datepickerMode) - 1]);
          }),
          (a.move = function (a) {
            var b = i.activeDate.getFullYear() + a * (i.step.years || 0),
              c = i.activeDate.getMonth() + a * (i.step.months || 0);
            i.activeDate.setFullYear(b, c, 1), i.refreshView();
          }),
          (a.toggleMode = function (b) {
            (b = b || 1),
              (a.datepickerMode === i.maxMode && 1 === b) ||
                (a.datepickerMode === i.minMode && -1 === b) ||
                (a.datepickerMode =
                  i.modes[i.modes.indexOf(a.datepickerMode) + b]);
          }),
          (a.keys = {
            13: "enter",
            32: "space",
            33: "pageup",
            34: "pagedown",
            35: "end",
            36: "home",
            37: "left",
            38: "up",
            39: "right",
            40: "down",
          });
        var k = function () {
          e(
            function () {
              i.element[0].focus();
            },
            0,
            !1
          );
        };
        a.$on("datepicker.focus", k),
          (a.keydown = function (b) {
            var c = a.keys[b.which];
            if (c && !b.shiftKey && !b.altKey)
              if (
                (b.preventDefault(),
                b.stopPropagation(),
                "enter" === c || "space" === c)
              ) {
                if (i.isDisabled(i.activeDate)) return;
                a.select(i.activeDate), k();
              } else
                !b.ctrlKey || ("up" !== c && "down" !== c)
                  ? (i.handleKeyDown(c, b), i.refreshView())
                  : (a.toggleMode("up" === c ? 1 : -1), k());
          });
      },
    ])
    .directive("datepicker", function () {
      return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/datepicker.html",
        scope: { datepickerMode: "=?", dateDisabled: "&" },
        require: ["datepicker", "?^ngModel"],
        controller: "DatepickerController",
        link: function (a, b, c, d) {
          var e = d[0],
            f = d[1];
          f && e.init(f);
        },
      };
    })
    .directive("daypicker", [
      "dateFilter",
      function (a) {
        return {
          restrict: "EA",
          replace: !0,
          templateUrl: "template/datepicker/day.html",
          require: "^datepicker",
          link: function (b, c, d, e) {
            function f(a, b) {
              return 1 !== b || a % 4 !== 0 || (a % 100 === 0 && a % 400 !== 0)
                ? i[b]
                : 29;
            }
            function g(a, b) {
              var c = new Array(b),
                d = new Date(a),
                e = 0;
              for (d.setHours(12); b > e; )
                (c[e++] = new Date(d)), d.setDate(d.getDate() + 1);
              return c;
            }
            function h(a) {
              var b = new Date(a);
              b.setDate(b.getDate() + 4 - (b.getDay() || 7));
              var c = b.getTime();
              return (
                b.setMonth(0),
                b.setDate(1),
                Math.floor(Math.round((c - b) / 864e5) / 7) + 1
              );
            }
            (b.showWeeks = e.showWeeks),
              (e.step = { months: 1 }),
              (e.element = c);
            var i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            (e._refreshView = function () {
              var c = e.activeDate.getFullYear(),
                d = e.activeDate.getMonth(),
                f = new Date(c, d, 1),
                i = e.startingDay - f.getDay(),
                j = i > 0 ? 7 - i : -i,
                k = new Date(f);
              j > 0 && k.setDate(-j + 1);
              for (var l = g(k, 42), m = 0; 42 > m; m++)
                l[m] = angular.extend(e.createDateObject(l[m], e.formatDay), {
                  secondary: l[m].getMonth() !== d,
                  uid: b.uniqueId + "-" + m,
                });
              b.labels = new Array(7);
              for (var n = 0; 7 > n; n++)
                b.labels[n] = {
                  abbr: a(l[n].date, e.formatDayHeader),
                  full: a(l[n].date, "EEEE"),
                };
              if (
                ((b.title = a(e.activeDate, e.formatDayTitle)),
                (b.rows = e.split(l, 7)),
                b.showWeeks)
              ) {
                b.weekNumbers = [];
                for (
                  var o = h(b.rows[0][0].date), p = b.rows.length;
                  b.weekNumbers.push(o++) < p;

                );
              }
            }),
              (e.compare = function (a, b) {
                return (
                  new Date(a.getFullYear(), a.getMonth(), a.getDate()) -
                  new Date(b.getFullYear(), b.getMonth(), b.getDate())
                );
              }),
              (e.handleKeyDown = function (a) {
                var b = e.activeDate.getDate();
                if ("left" === a) b -= 1;
                else if ("up" === a) b -= 7;
                else if ("right" === a) b += 1;
                else if ("down" === a) b += 7;
                else if ("pageup" === a || "pagedown" === a) {
                  var c = e.activeDate.getMonth() + ("pageup" === a ? -1 : 1);
                  e.activeDate.setMonth(c, 1),
                    (b = Math.min(
                      f(e.activeDate.getFullYear(), e.activeDate.getMonth()),
                      b
                    ));
                } else
                  "home" === a
                    ? (b = 1)
                    : "end" === a &&
                      (b = f(
                        e.activeDate.getFullYear(),
                        e.activeDate.getMonth()
                      ));
                e.activeDate.setDate(b);
              }),
              e.refreshView();
          },
        };
      },
    ])
    .directive("monthpicker", [
      "dateFilter",
      function (a) {
        return {
          restrict: "EA",
          replace: !0,
          templateUrl: "template/datepicker/month.html",
          require: "^datepicker",
          link: function (b, c, d, e) {
            (e.step = { years: 1 }),
              (e.element = c),
              (e._refreshView = function () {
                for (
                  var c = new Array(12), d = e.activeDate.getFullYear(), f = 0;
                  12 > f;
                  f++
                )
                  c[f] = angular.extend(
                    e.createDateObject(new Date(d, f, 1), e.formatMonth),
                    { uid: b.uniqueId + "-" + f }
                  );
                (b.title = a(e.activeDate, e.formatMonthTitle)),
                  (b.rows = e.split(c, 3));
              }),
              (e.compare = function (a, b) {
                return (
                  new Date(a.getFullYear(), a.getMonth()) -
                  new Date(b.getFullYear(), b.getMonth())
                );
              }),
              (e.handleKeyDown = function (a) {
                var b = e.activeDate.getMonth();
                if ("left" === a) b -= 1;
                else if ("up" === a) b -= 3;
                else if ("right" === a) b += 1;
                else if ("down" === a) b += 3;
                else if ("pageup" === a || "pagedown" === a) {
                  var c =
                    e.activeDate.getFullYear() + ("pageup" === a ? -1 : 1);
                  e.activeDate.setFullYear(c);
                } else "home" === a ? (b = 0) : "end" === a && (b = 11);
                e.activeDate.setMonth(b);
              }),
              e.refreshView();
          },
        };
      },
    ])
    .directive("yearpicker", [
      "dateFilter",
      function () {
        return {
          restrict: "EA",
          replace: !0,
          templateUrl: "template/datepicker/year.html",
          require: "^datepicker",
          link: function (a, b, c, d) {
            function e(a) {
              return parseInt((a - 1) / f, 10) * f + 1;
            }
            var f = d.yearRange;
            (d.step = { years: f }),
              (d.element = b),
              (d._refreshView = function () {
                for (
                  var b = new Array(f),
                    c = 0,
                    g = e(d.activeDate.getFullYear());
                  f > c;
                  c++
                )
                  b[c] = angular.extend(
                    d.createDateObject(new Date(g + c, 0, 1), d.formatYear),
                    { uid: a.uniqueId + "-" + c }
                  );
                (a.title = [b[0].label, b[f - 1].label].join(" - ")),
                  (a.rows = d.split(b, 5));
              }),
              (d.compare = function (a, b) {
                return a.getFullYear() - b.getFullYear();
              }),
              (d.handleKeyDown = function (a) {
                var b = d.activeDate.getFullYear();
                "left" === a
                  ? (b -= 1)
                  : "up" === a
                  ? (b -= 5)
                  : "right" === a
                  ? (b += 1)
                  : "down" === a
                  ? (b += 5)
                  : "pageup" === a || "pagedown" === a
                  ? (b += ("pageup" === a ? -1 : 1) * d.step.years)
                  : "home" === a
                  ? (b = e(d.activeDate.getFullYear()))
                  : "end" === a && (b = e(d.activeDate.getFullYear()) + f - 1),
                  d.activeDate.setFullYear(b);
              }),
              d.refreshView();
          },
        };
      },
    ])
    .constant("datepickerPopupConfig", {
      datepickerPopup: "yyyy-MM-dd",
      currentText: "Today",
      clearText: "Clear",
      closeText: "Done",
      closeOnDateSelection: !0,
      appendToBody: !1,
      showButtonBar: !0,
    })
    .directive("datepickerPopup", [
      "$compile",
      "$parse",
      "$document",
      "$position",
      "dateFilter",
      "dateParser",
      "datepickerPopupConfig",
      function (a, b, c, d, e, f, g) {
        return {
          restrict: "EA",
          require: "ngModel",
          scope: {
            isOpen: "=?",
            currentText: "@",
            clearText: "@",
            closeText: "@",
            dateDisabled: "&",
          },
          link: function (h, i, j, k) {
            function l(a) {
              return a.replace(/([A-Z])/g, function (a) {
                return "-" + a.toLowerCase();
              });
            }
            function m(a) {
              if (a) {
                if (angular.isDate(a) && !isNaN(a))
                  return k.$setValidity("date", !0), a;
                if (angular.isString(a)) {
                  var b = f.parse(a, n) || new Date(a);
                  return isNaN(b)
                    ? void k.$setValidity("date", !1)
                    : (k.$setValidity("date", !0), b);
                }
                return void k.$setValidity("date", !1);
              }
              return k.$setValidity("date", !0), null;
            }
            var n,
              o = angular.isDefined(j.closeOnDateSelection)
                ? h.$parent.$eval(j.closeOnDateSelection)
                : g.closeOnDateSelection,
              p = angular.isDefined(j.datepickerAppendToBody)
                ? h.$parent.$eval(j.datepickerAppendToBody)
                : g.appendToBody;
            (h.showButtonBar = angular.isDefined(j.showButtonBar)
              ? h.$parent.$eval(j.showButtonBar)
              : g.showButtonBar),
              (h.getText = function (a) {
                return h[a + "Text"] || g[a + "Text"];
              }),
              j.$observe("datepickerPopup", function (a) {
                (n = a || g.datepickerPopup), k.$render();
              });
            var q = angular.element(
              "<div datepicker-popup-wrap><div datepicker></div></div>"
            );
            q.attr({ "ng-model": "date", "ng-change": "dateSelection()" });
            var r = angular.element(q.children()[0]);
            j.datepickerOptions &&
              angular.forEach(
                h.$parent.$eval(j.datepickerOptions),
                function (a, b) {
                  r.attr(l(b), a);
                }
              ),
              (h.watchData = {}),
              angular.forEach(
                ["minDate", "maxDate", "datepickerMode"],
                function (a) {
                  if (j[a]) {
                    var c = b(j[a]);
                    if (
                      (h.$parent.$watch(c, function (b) {
                        h.watchData[a] = b;
                      }),
                      r.attr(l(a), "watchData." + a),
                      "datepickerMode" === a)
                    ) {
                      var d = c.assign;
                      h.$watch("watchData." + a, function (a, b) {
                        a !== b && d(h.$parent, a);
                      });
                    }
                  }
                }
              ),
              j.dateDisabled &&
                r.attr(
                  "date-disabled",
                  "dateDisabled({ date: date, mode: mode })"
                ),
              k.$parsers.unshift(m),
              (h.dateSelection = function (a) {
                angular.isDefined(a) && (h.date = a),
                  k.$setViewValue(h.date),
                  k.$render(),
                  o && ((h.isOpen = !1), i[0].focus());
              }),
              i.bind("input change keyup", function () {
                h.$apply(function () {
                  h.date = k.$modelValue;
                });
              }),
              (k.$render = function () {
                var a = k.$viewValue ? e(k.$viewValue, n) : "";
                i.val(a), (h.date = m(k.$modelValue));
              });
            var s = function (a) {
                h.isOpen &&
                  a.target !== i[0] &&
                  h.$apply(function () {
                    h.isOpen = !1;
                  });
              },
              t = function (a) {
                h.keydown(a);
              };
            i.bind("keydown", t),
              (h.keydown = function (a) {
                27 === a.which
                  ? (a.preventDefault(), a.stopPropagation(), h.close())
                  : 40 !== a.which || h.isOpen || (h.isOpen = !0);
              }),
              h.$watch("isOpen", function (a) {
                a
                  ? (h.$broadcast("datepicker.focus"),
                    (h.position = p ? d.offset(i) : d.position(i)),
                    (h.position.top = h.position.top + i.prop("offsetHeight")),
                    c.bind("click", s))
                  : c.unbind("click", s);
              }),
              (h.select = function (a) {
                if ("today" === a) {
                  var b = new Date();
                  angular.isDate(k.$modelValue)
                    ? ((a = new Date(k.$modelValue)),
                      a.setFullYear(b.getFullYear(), b.getMonth(), b.getDate()))
                    : (a = new Date(b.setHours(0, 0, 0, 0)));
                }
                h.dateSelection(a);
              }),
              (h.close = function () {
                (h.isOpen = !1), i[0].focus();
              });
            var u = a(q)(h);
            q.remove(),
              p ? c.find("body").append(u) : i.after(u),
              h.$on("$destroy", function () {
                u.remove(), i.unbind("keydown", t), c.unbind("click", s);
              });
          },
        };
      },
    ])
    .directive("datepickerPopupWrap", function () {
      return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        templateUrl: "template/datepicker/popup.html",
        link: function (a, b) {
          b.bind("click", function (a) {
            a.preventDefault(), a.stopPropagation();
          });
        },
      };
    }),
  angular
    .module("ui.bootstrap.dropdown", [])
    .constant("dropdownConfig", { openClass: "open" })
    .service("dropdownService", [
      "$document",
      function (a) {
        var b = null;
        (this.open = function (e) {
          b || (a.bind("click", c), a.bind("keydown", d)),
            b && b !== e && (b.isOpen = !1),
            (b = e);
        }),
          (this.close = function (e) {
            b === e &&
              ((b = null), a.unbind("click", c), a.unbind("keydown", d));
          });
        var c = function (a) {
            if (b) {
              var c = b.getToggleElement();
              (a && c && c[0].contains(a.target)) ||
                b.$apply(function () {
                  b.isOpen = !1;
                });
            }
          },
          d = function (a) {
            27 === a.which && (b.focusToggleElement(), c());
          };
      },
    ])
    .controller("DropdownController", [
      "$scope",
      "$attrs",
      "$parse",
      "dropdownConfig",
      "dropdownService",
      "$animate",
      function (a, b, c, d, e, f) {
        var g,
          h = this,
          i = a.$new(),
          j = d.openClass,
          k = angular.noop,
          l = b.onToggle ? c(b.onToggle) : angular.noop;
        (this.init = function (d) {
          (h.$element = d),
            b.isOpen &&
              ((g = c(b.isOpen)),
              (k = g.assign),
              a.$watch(g, function (a) {
                i.isOpen = !!a;
              }));
        }),
          (this.toggle = function (a) {
            return (i.isOpen = arguments.length ? !!a : !i.isOpen);
          }),
          (this.isOpen = function () {
            return i.isOpen;
          }),
          (i.getToggleElement = function () {
            return h.toggleElement;
          }),
          (i.focusToggleElement = function () {
            h.toggleElement && h.toggleElement[0].focus();
          }),
          i.$watch("isOpen", function (b, c) {
            f[b ? "addClass" : "removeClass"](h.$element, j),
              b ? (i.focusToggleElement(), e.open(i)) : e.close(i),
              k(a, b),
              angular.isDefined(b) && b !== c && l(a, { open: !!b });
          }),
          a.$on("$locationChangeSuccess", function () {
            i.isOpen = !1;
          }),
          a.$on("$destroy", function () {
            i.$destroy();
          });
      },
    ])
    .directive("dropdown", function () {
      return {
        controller: "DropdownController",
        link: function (a, b, c, d) {
          d.init(b);
        },
      };
    })
    .directive("dropdownToggle", function () {
      return {
        require: "?^dropdown",
        link: function (a, b, c, d) {
          if (d) {
            d.toggleElement = b;
            var e = function (e) {
              e.preventDefault(),
                b.hasClass("disabled") ||
                  c.disabled ||
                  a.$apply(function () {
                    d.toggle();
                  });
            };
            b.bind("click", e),
              b.attr({ "aria-haspopup": !0, "aria-expanded": !1 }),
              a.$watch(d.isOpen, function (a) {
                b.attr("aria-expanded", !!a);
              }),
              a.$on("$destroy", function () {
                b.unbind("click", e);
              });
          }
        },
      };
    }),
  angular
    .module("ui.bootstrap.modal", ["ui.bootstrap.transition"])
    .factory("$$stackedMap", function () {
      return {
        createNew: function () {
          var a = [];
          return {
            add: function (b, c) {
              a.push({ key: b, value: c });
            },
            get: function (b) {
              for (var c = 0; c < a.length; c++) if (b == a[c].key) return a[c];
            },
            keys: function () {
              for (var b = [], c = 0; c < a.length; c++) b.push(a[c].key);
              return b;
            },
            top: function () {
              return a[a.length - 1];
            },
            remove: function (b) {
              for (var c = -1, d = 0; d < a.length; d++)
                if (b == a[d].key) {
                  c = d;
                  break;
                }
              return a.splice(c, 1)[0];
            },
            removeTop: function () {
              return a.splice(a.length - 1, 1)[0];
            },
            length: function () {
              return a.length;
            },
          };
        },
      };
    })
    .directive("modalBackdrop", [
      "$timeout",
      function (a) {
        return {
          restrict: "EA",
          replace: !0,
          templateUrl: "template/modal/backdrop.html",
          link: function (b, c, d) {
            (b.backdropClass = d.backdropClass || ""),
              (b.animate = !1),
              a(function () {
                b.animate = !0;
              });
          },
        };
      },
    ])
    .directive("modalWindow", [
      "$modalStack",
      "$timeout",
      function (a, b) {
        return {
          restrict: "EA",
          scope: { index: "@", animate: "=" },
          replace: !0,
          transclude: !0,
          templateUrl: function (a, b) {
            return b.templateUrl || "template/modal/window.html";
          },
          link: function (c, d, e) {
            d.addClass(e.windowClass || ""),
              (c.size = e.size),
              b(function () {
                (c.animate = !0),
                  d[0].querySelectorAll("[autofocus]").length || d[0].focus();
              }),
              (c.close = function (b) {
                var c = a.getTop();
                c &&
                  c.value.backdrop &&
                  "static" != c.value.backdrop &&
                  b.target === b.currentTarget &&
                  (b.preventDefault(),
                  b.stopPropagation(),
                  a.dismiss(c.key, "backdrop click"));
              });
          },
        };
      },
    ])
    .directive("modalTransclude", function () {
      return {
        link: function (a, b, c, d, e) {
          e(a.$parent, function (a) {
            b.empty(), b.append(a);
          });
        },
      };
    })
    .factory("$modalStack", [
      "$transition",
      "$timeout",
      "$document",
      "$compile",
      "$rootScope",
      "$$stackedMap",
      function (a, b, c, d, e, f) {
        function g() {
          for (var a = -1, b = n.keys(), c = 0; c < b.length; c++)
            n.get(b[c]).value.backdrop && (a = c);
          return a;
        }
        function h(a) {
          var b = c.find("body").eq(0),
            d = n.get(a).value;
          n.remove(a),
            j(d.modalDomEl, d.modalScope, 300, function () {
              d.modalScope.$destroy(), b.toggleClass(m, n.length() > 0), i();
            });
        }
        function i() {
          if (k && -1 == g()) {
            var a = l;
            j(k, l, 150, function () {
              a.$destroy(), (a = null);
            }),
              (k = void 0),
              (l = void 0);
          }
        }
        function j(c, d, e, f) {
          function g() {
            g.done || ((g.done = !0), c.remove(), f && f());
          }
          d.animate = !1;
          var h = a.transitionEndEventName;
          if (h) {
            var i = b(g, e);
            c.bind(h, function () {
              b.cancel(i), g(), d.$apply();
            });
          } else b(g);
        }
        var k,
          l,
          m = "modal-open",
          n = f.createNew(),
          o = {};
        return (
          e.$watch(g, function (a) {
            l && (l.index = a);
          }),
          c.bind("keydown", function (a) {
            var b;
            27 === a.which &&
              ((b = n.top()),
              b &&
                b.value.keyboard &&
                (a.preventDefault(),
                e.$apply(function () {
                  o.dismiss(b.key, "escape key press");
                })));
          }),
          (o.open = function (a, b) {
            n.add(a, {
              deferred: b.deferred,
              modalScope: b.scope,
              backdrop: b.backdrop,
              keyboard: b.keyboard,
            });
            var f = c.find("body").eq(0),
              h = g();
            if (h >= 0 && !k) {
              (l = e.$new(!0)), (l.index = h);
              var i = angular.element("<div modal-backdrop></div>");
              i.attr("backdrop-class", b.backdropClass),
                (k = d(i)(l)),
                f.append(k);
            }
            var j = angular.element("<div modal-window></div>");
            j.attr({
              "template-url": b.windowTemplateUrl,
              "window-class": b.windowClass,
              size: b.size,
              index: n.length() - 1,
              animate: "animate",
            }).html(b.content);
            var o = d(j)(b.scope);
            (n.top().value.modalDomEl = o), f.append(o), f.addClass(m);
          }),
          (o.close = function (a, b) {
            var c = n.get(a);
            c && (c.value.deferred.resolve(b), h(a));
          }),
          (o.dismiss = function (a, b) {
            var c = n.get(a);
            c && (c.value.deferred.reject(b), h(a));
          }),
          (o.dismissAll = function (a) {
            for (var b = this.getTop(); b; )
              this.dismiss(b.key, a), (b = this.getTop());
          }),
          (o.getTop = function () {
            return n.top();
          }),
          o
        );
      },
    ])
    .provider("$modal", function () {
      var a = {
        options: { backdrop: !0, keyboard: !0 },
        $get: [
          "$injector",
          "$rootScope",
          "$q",
          "$http",
          "$templateCache",
          "$controller",
          "$modalStack",
          function (b, c, d, e, f, g, h) {
            function i(a) {
              return a.template
                ? d.when(a.template)
                : e
                    .get(
                      angular.isFunction(a.templateUrl)
                        ? a.templateUrl()
                        : a.templateUrl,
                      { cache: f }
                    )
                    .then(function (a) {
                      return a.data;
                    });
            }
            function j(a) {
              var c = [];
              return (
                angular.forEach(a, function (a) {
                  (angular.isFunction(a) || angular.isArray(a)) &&
                    c.push(d.when(b.invoke(a)));
                }),
                c
              );
            }
            var k = {};
            return (
              (k.open = function (b) {
                var e = d.defer(),
                  f = d.defer(),
                  k = {
                    result: e.promise,
                    opened: f.promise,
                    close: function (a) {
                      h.close(k, a);
                    },
                    dismiss: function (a) {
                      h.dismiss(k, a);
                    },
                  };
                if (
                  ((b = angular.extend({}, a.options, b)),
                  (b.resolve = b.resolve || {}),
                  !b.template && !b.templateUrl)
                )
                  throw new Error(
                    "One of template or templateUrl options is required."
                  );
                var l = d.all([i(b)].concat(j(b.resolve)));
                return (
                  l.then(
                    function (a) {
                      var d = (b.scope || c).$new();
                      (d.$close = k.close), (d.$dismiss = k.dismiss);
                      var f,
                        i = {},
                        j = 1;
                      b.controller &&
                        ((i.$scope = d),
                        (i.$modalInstance = k),
                        angular.forEach(b.resolve, function (b, c) {
                          i[c] = a[j++];
                        }),
                        (f = g(b.controller, i)),
                        b.controllerAs && (d[b.controllerAs] = f)),
                        h.open(k, {
                          scope: d,
                          deferred: e,
                          content: a[0],
                          backdrop: b.backdrop,
                          keyboard: b.keyboard,
                          backdropClass: b.backdropClass,
                          windowClass: b.windowClass,
                          windowTemplateUrl: b.windowTemplateUrl,
                          size: b.size,
                        });
                    },
                    function (a) {
                      e.reject(a);
                    }
                  ),
                  l.then(
                    function () {
                      f.resolve(!0);
                    },
                    function () {
                      f.reject(!1);
                    }
                  ),
                  k
                );
              }),
              k
            );
          },
        ],
      };
      return a;
    }),
  angular
    .module("ui.bootstrap.pagination", [])
    .controller("PaginationController", [
      "$scope",
      "$attrs",
      "$parse",
      function (a, b, c) {
        var d = this,
          e = { $setViewValue: angular.noop },
          f = b.numPages ? c(b.numPages).assign : angular.noop;
        (this.init = function (f, g) {
          (e = f),
            (this.config = g),
            (e.$render = function () {
              d.render();
            }),
            b.itemsPerPage
              ? a.$parent.$watch(c(b.itemsPerPage), function (b) {
                  (d.itemsPerPage = parseInt(b, 10)),
                    (a.totalPages = d.calculateTotalPages());
                })
              : (this.itemsPerPage = g.itemsPerPage);
        }),
          (this.calculateTotalPages = function () {
            var b =
              this.itemsPerPage < 1
                ? 1
                : Math.ceil(a.totalItems / this.itemsPerPage);
            return Math.max(b || 0, 1);
          }),
          (this.render = function () {
            a.page = parseInt(e.$viewValue, 10) || 1;
          }),
          (a.selectPage = function (b) {
            a.page !== b &&
              b > 0 &&
              b <= a.totalPages &&
              (e.$setViewValue(b), e.$render());
          }),
          (a.getText = function (b) {
            return a[b + "Text"] || d.config[b + "Text"];
          }),
          (a.noPrevious = function () {
            return 1 === a.page;
          }),
          (a.noNext = function () {
            return a.page === a.totalPages;
          }),
          a.$watch("totalItems", function () {
            a.totalPages = d.calculateTotalPages();
          }),
          a.$watch("totalPages", function (b) {
            f(a.$parent, b), a.page > b ? a.selectPage(b) : e.$render();
          });
      },
    ])
    .constant("paginationConfig", {
      itemsPerPage: 10,
      boundaryLinks: !1,
      directionLinks: !0,
      firstText: "First",
      previousText: "Previous",
      nextText: "Next",
      lastText: "Last",
      rotate: !0,
    })
    .directive("pagination", [
      "$parse",
      "paginationConfig",
      function (a, b) {
        return {
          restrict: "EA",
          scope: {
            totalItems: "=",
            firstText: "@",
            previousText: "@",
            nextText: "@",
            lastText: "@",
          },
          require: ["pagination", "?ngModel"],
          controller: "PaginationController",
          templateUrl: "template/pagination/pagination.html",
          replace: !0,
          link: function (c, d, e, f) {
            function g(a, b, c) {
              return { number: a, text: b, active: c };
            }
            function h(a, b) {
              var c = [],
                d = 1,
                e = b,
                f = angular.isDefined(k) && b > k;
              f &&
                (l
                  ? ((d = Math.max(a - Math.floor(k / 2), 1)),
                    (e = d + k - 1),
                    e > b && ((e = b), (d = e - k + 1)))
                  : ((d = (Math.ceil(a / k) - 1) * k + 1),
                    (e = Math.min(d + k - 1, b))));
              for (var h = d; e >= h; h++) {
                var i = g(h, h, h === a);
                c.push(i);
              }
              if (f && !l) {
                if (d > 1) {
                  var j = g(d - 1, "...", !1);
                  c.unshift(j);
                }
                if (b > e) {
                  var m = g(e + 1, "...", !1);
                  c.push(m);
                }
              }
              return c;
            }
            var i = f[0],
              j = f[1];
            if (j) {
              var k = angular.isDefined(e.maxSize)
                  ? c.$parent.$eval(e.maxSize)
                  : b.maxSize,
                l = angular.isDefined(e.rotate)
                  ? c.$parent.$eval(e.rotate)
                  : b.rotate;
              (c.boundaryLinks = angular.isDefined(e.boundaryLinks)
                ? c.$parent.$eval(e.boundaryLinks)
                : b.boundaryLinks),
                (c.directionLinks = angular.isDefined(e.directionLinks)
                  ? c.$parent.$eval(e.directionLinks)
                  : b.directionLinks),
                i.init(j, b),
                e.maxSize &&
                  c.$parent.$watch(a(e.maxSize), function (a) {
                    (k = parseInt(a, 10)), i.render();
                  });
              var m = i.render;
              i.render = function () {
                m(),
                  c.page > 0 &&
                    c.page <= c.totalPages &&
                    (c.pages = h(c.page, c.totalPages));
              };
            }
          },
        };
      },
    ])
    .constant("pagerConfig", {
      itemsPerPage: 10,
      previousText: " Previous",
      nextText: "Next ",
      align: !0,
    })
    .directive("pager", [
      "pagerConfig",
      function (a) {
        return {
          restrict: "EA",
          scope: { totalItems: "=", previousText: "@", nextText: "@" },
          require: ["pager", "?ngModel"],
          controller: "PaginationController",
          templateUrl: "template/pagination/pager.html",
          replace: !0,
          link: function (b, c, d, e) {
            var f = e[0],
              g = e[1];
            g &&
              ((b.align = angular.isDefined(d.align)
                ? b.$parent.$eval(d.align)
                : a.align),
              f.init(g, a));
          },
        };
      },
    ]),
  angular
    .module("ui.bootstrap.tooltip", [
      "ui.bootstrap.position",
      "ui.bootstrap.bindHtml",
    ])
    .provider("$tooltip", function () {
      function a(a) {
        var b = /[A-Z]/g,
          c = "-";
        return a.replace(b, function (a, b) {
          return (b ? c : "") + a.toLowerCase();
        });
      }
      var b = { placement: "top", animation: !0, popupDelay: 0 },
        c = { mouseenter: "mouseleave", click: "click", focus: "blur" },
        d = {};
      (this.options = function (a) {
        angular.extend(d, a);
      }),
        (this.setTriggers = function (a) {
          angular.extend(c, a);
        }),
        (this.$get = [
          "$window",
          "$compile",
          "$timeout",
          "$document",
          "$position",
          "$interpolate",
          function (e, f, g, h, i, j) {
            return function (e, k, l) {
              function m(a) {
                var b = a || n.trigger || l,
                  d = c[b] || b;
                return { show: b, hide: d };
              }
              var n = angular.extend({}, b, d),
                o = a(e),
                p = j.startSymbol(),
                q = j.endSymbol(),
                r =
                  "<div " +
                  o +
                  '-popup title="' +
                  p +
                  "title" +
                  q +
                  '" content="' +
                  p +
                  "content" +
                  q +
                  '" placement="' +
                  p +
                  "placement" +
                  q +
                  '" animation="animation" is-open="isOpen"></div>';
              return {
                restrict: "EA",
                compile: function () {
                  var a = f(r);
                  return function (b, c, d) {
                    function f() {
                      D.isOpen ? l() : j();
                    }
                    function j() {
                      (!C || b.$eval(d[k + "Enable"])) &&
                        (s(),
                        D.popupDelay
                          ? z ||
                            ((z = g(o, D.popupDelay, !1)),
                            z.then(function (a) {
                              a();
                            }))
                          : o()());
                    }
                    function l() {
                      b.$apply(function () {
                        p();
                      });
                    }
                    function o() {
                      return (
                        (z = null),
                        y && (g.cancel(y), (y = null)),
                        D.content
                          ? (q(),
                            w.css({ top: 0, left: 0, display: "block" }),
                            D.$digest(),
                            E(),
                            (D.isOpen = !0),
                            D.$digest(),
                            E)
                          : angular.noop
                      );
                    }
                    function p() {
                      (D.isOpen = !1),
                        g.cancel(z),
                        (z = null),
                        D.animation ? y || (y = g(r, 500)) : r();
                    }
                    function q() {
                      w && r(),
                        (x = D.$new()),
                        (w = a(x, function (a) {
                          A ? h.find("body").append(a) : c.after(a);
                        }));
                    }
                    function r() {
                      (y = null),
                        w && (w.remove(), (w = null)),
                        x && (x.$destroy(), (x = null));
                    }
                    function s() {
                      t(), u();
                    }
                    function t() {
                      var a = d[k + "Placement"];
                      D.placement = angular.isDefined(a) ? a : n.placement;
                    }
                    function u() {
                      var a = d[k + "PopupDelay"],
                        b = parseInt(a, 10);
                      D.popupDelay = isNaN(b) ? n.popupDelay : b;
                    }
                    function v() {
                      var a = d[k + "Trigger"];
                      F(),
                        (B = m(a)),
                        B.show === B.hide
                          ? c.bind(B.show, f)
                          : (c.bind(B.show, j), c.bind(B.hide, l));
                    }
                    var w,
                      x,
                      y,
                      z,
                      A = angular.isDefined(n.appendToBody)
                        ? n.appendToBody
                        : !1,
                      B = m(void 0),
                      C = angular.isDefined(d[k + "Enable"]),
                      D = b.$new(!0),
                      E = function () {
                        var a = i.positionElements(c, w, D.placement, A);
                        (a.top += "px"), (a.left += "px"), w.css(a);
                      };
                    (D.isOpen = !1),
                      d.$observe(e, function (a) {
                        (D.content = a), !a && D.isOpen && p();
                      }),
                      d.$observe(k + "Title", function (a) {
                        D.title = a;
                      });
                    var F = function () {
                      c.unbind(B.show, j), c.unbind(B.hide, l);
                    };
                    v();
                    var G = b.$eval(d[k + "Animation"]);
                    D.animation = angular.isDefined(G) ? !!G : n.animation;
                    var H = b.$eval(d[k + "AppendToBody"]);
                    (A = angular.isDefined(H) ? H : A),
                      A &&
                        b.$on("$locationChangeSuccess", function () {
                          D.isOpen && p();
                        }),
                      b.$on("$destroy", function () {
                        g.cancel(y), g.cancel(z), F(), r(), (D = null);
                      });
                  };
                },
              };
            };
          },
        ]);
    })
    .directive("tooltipPopup", function () {
      return {
        restrict: "EA",
        replace: !0,
        scope: { content: "@", placement: "@", animation: "&", isOpen: "&" },
        templateUrl: "template/tooltip/tooltip-popup.html",
      };
    })
    .directive("tooltip", [
      "$tooltip",
      function (a) {
        return a("tooltip", "tooltip", "mouseenter");
      },
    ])
    .directive("tooltipHtmlUnsafePopup", function () {
      return {
        restrict: "EA",
        replace: !0,
        scope: { content: "@", placement: "@", animation: "&", isOpen: "&" },
        templateUrl: "template/tooltip/tooltip-html-unsafe-popup.html",
      };
    })
    .directive("tooltipHtmlUnsafe", [
      "$tooltip",
      function (a) {
        return a("tooltipHtmlUnsafe", "tooltip", "mouseenter");
      },
    ]),
  angular
    .module("ui.bootstrap.popover", ["ui.bootstrap.tooltip"])
    .directive("popoverPopup", function () {
      return {
        restrict: "EA",
        replace: !0,
        scope: {
          title: "@",
          content: "@",
          placement: "@",
          animation: "&",
          isOpen: "&",
        },
        templateUrl: "template/popover/popover.html",
      };
    })
    .directive("popover", [
      "$tooltip",
      function (a) {
        return a("popover", "popover", "click");
      },
    ]),
  angular
    .module("ui.bootstrap.progressbar", [])
    .constant("progressConfig", { animate: !0, max: 100 })
    .controller("ProgressController", [
      "$scope",
      "$attrs",
      "progressConfig",
      function (a, b, c) {
        var d = this,
          e = angular.isDefined(b.animate)
            ? a.$parent.$eval(b.animate)
            : c.animate;
        (this.bars = []),
          (a.max = angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max),
          (this.addBar = function (b, c) {
            e || c.css({ transition: "none" }),
              this.bars.push(b),
              b.$watch("value", function (c) {
                b.percent = +((100 * c) / a.max).toFixed(2);
              }),
              b.$on("$destroy", function () {
                (c = null), d.removeBar(b);
              });
          }),
          (this.removeBar = function (a) {
            this.bars.splice(this.bars.indexOf(a), 1);
          });
      },
    ])
    .directive("progress", function () {
      return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        controller: "ProgressController",
        require: "progress",
        scope: {},
        templateUrl: "template/progressbar/progress.html",
      };
    })
    .directive("bar", function () {
      return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        require: "^progress",
        scope: { value: "=", type: "@" },
        templateUrl: "template/progressbar/bar.html",
        link: function (a, b, c, d) {
          d.addBar(a, b);
        },
      };
    })
    .directive("progressbar", function () {
      return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        controller: "ProgressController",
        scope: { value: "=", type: "@" },
        templateUrl: "template/progressbar/progressbar.html",
        link: function (a, b, c, d) {
          d.addBar(a, angular.element(b.children()[0]));
        },
      };
    }),
  angular
    .module("ui.bootstrap.rating", [])
    .constant("ratingConfig", { max: 5, stateOn: null, stateOff: null })
    .controller("RatingController", [
      "$scope",
      "$attrs",
      "ratingConfig",
      function (a, b, c) {
        var d = { $setViewValue: angular.noop };
        (this.init = function (e) {
          (d = e),
            (d.$render = this.render),
            (this.stateOn = angular.isDefined(b.stateOn)
              ? a.$parent.$eval(b.stateOn)
              : c.stateOn),
            (this.stateOff = angular.isDefined(b.stateOff)
              ? a.$parent.$eval(b.stateOff)
              : c.stateOff);
          var f = angular.isDefined(b.ratingStates)
            ? a.$parent.$eval(b.ratingStates)
            : new Array(
                angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max
              );
          a.range = this.buildTemplateObjects(f);
        }),
          (this.buildTemplateObjects = function (a) {
            for (var b = 0, c = a.length; c > b; b++)
              a[b] = angular.extend(
                { index: b },
                { stateOn: this.stateOn, stateOff: this.stateOff },
                a[b]
              );
            return a;
          }),
          (a.rate = function (b) {
            !a.readonly &&
              b >= 0 &&
              b <= a.range.length &&
              (d.$setViewValue(b), d.$render());
          }),
          (a.enter = function (b) {
            a.readonly || (a.value = b), a.onHover({ value: b });
          }),
          (a.reset = function () {
            (a.value = d.$viewValue), a.onLeave();
          }),
          (a.onKeydown = function (b) {
            /(37|38|39|40)/.test(b.which) &&
              (b.preventDefault(),
              b.stopPropagation(),
              a.rate(a.value + (38 === b.which || 39 === b.which ? 1 : -1)));
          }),
          (this.render = function () {
            a.value = d.$viewValue;
          });
      },
    ])
    .directive("rating", function () {
      return {
        restrict: "EA",
        require: ["rating", "ngModel"],
        scope: { readonly: "=?", onHover: "&", onLeave: "&" },
        controller: "RatingController",
        templateUrl: "template/rating/rating.html",
        replace: !0,
        link: function (a, b, c, d) {
          var e = d[0],
            f = d[1];
          f && e.init(f);
        },
      };
    }),
  angular
    .module("ui.bootstrap.tabs", [])
    .controller("TabsetController", [
      "$scope",
      function (a) {
        var b = this,
          c = (b.tabs = a.tabs = []);
        (b.select = function (a) {
          angular.forEach(c, function (b) {
            b.active && b !== a && ((b.active = !1), b.onDeselect());
          }),
            (a.active = !0),
            a.onSelect();
        }),
          (b.addTab = function (a) {
            c.push(a),
              1 === c.length ? (a.active = !0) : a.active && b.select(a);
          }),
          (b.removeTab = function (a) {
            var e = c.indexOf(a);
            if (a.active && c.length > 1 && !d) {
              var f = e == c.length - 1 ? e - 1 : e + 1;
              b.select(c[f]);
            }
            c.splice(e, 1);
          });
        var d;
        a.$on("$destroy", function () {
          d = !0;
        });
      },
    ])
    .directive("tabset", function () {
      return {
        restrict: "EA",
        transclude: !0,
        replace: !0,
        scope: { type: "@" },
        controller: "TabsetController",
        templateUrl: "template/tabs/tabset.html",
        link: function (a, b, c) {
          (a.vertical = angular.isDefined(c.vertical)
            ? a.$parent.$eval(c.vertical)
            : !1),
            (a.justified = angular.isDefined(c.justified)
              ? a.$parent.$eval(c.justified)
              : !1);
        },
      };
    })
    .directive("tab", [
      "$parse",
      function (a) {
        return {
          require: "^tabset",
          restrict: "EA",
          replace: !0,
          templateUrl: "template/tabs/tab.html",
          transclude: !0,
          scope: {
            active: "=?",
            heading: "@",
            onSelect: "&select",
            onDeselect: "&deselect",
          },
          controller: function () {},
          compile: function (b, c, d) {
            return function (b, c, e, f) {
              b.$watch("active", function (a) {
                a && f.select(b);
              }),
                (b.disabled = !1),
                e.disabled &&
                  b.$parent.$watch(a(e.disabled), function (a) {
                    b.disabled = !!a;
                  }),
                (b.select = function () {
                  b.disabled || (b.active = !0);
                }),
                f.addTab(b),
                b.$on("$destroy", function () {
                  f.removeTab(b);
                }),
                (b.$transcludeFn = d);
            };
          },
        };
      },
    ])
    .directive("tabHeadingTransclude", [
      function () {
        return {
          restrict: "A",
          require: "^tab",
          link: function (a, b) {
            a.$watch("headingElement", function (a) {
              a && (b.html(""), b.append(a));
            });
          },
        };
      },
    ])
    .directive("tabContentTransclude", function () {
      function a(a) {
        return (
          a.tagName &&
          (a.hasAttribute("tab-heading") ||
            a.hasAttribute("data-tab-heading") ||
            "tab-heading" === a.tagName.toLowerCase() ||
            "data-tab-heading" === a.tagName.toLowerCase())
        );
      }
      return {
        restrict: "A",
        require: "^tabset",
        link: function (b, c, d) {
          var e = b.$eval(d.tabContentTransclude);
          e.$transcludeFn(e.$parent, function (b) {
            angular.forEach(b, function (b) {
              a(b) ? (e.headingElement = b) : c.append(b);
            });
          });
        },
      };
    }),
  angular
    .module("ui.bootstrap.timepicker", [])
    .constant("timepickerConfig", {
      hourStep: 1,
      minuteStep: 1,
      showMeridian: !0,
      meridians: null,
      readonlyInput: !1,
      mousewheel: !0,
    })
    .controller("TimepickerController", [
      "$scope",
      "$attrs",
      "$parse",
      "$log",
      "$locale",
      "timepickerConfig",
      function (a, b, c, d, e, f) {
        function g() {
          var b = parseInt(a.hours, 10),
            c = a.showMeridian ? b > 0 && 13 > b : b >= 0 && 24 > b;
          return c
            ? (a.showMeridian &&
                (12 === b && (b = 0), a.meridian === p[1] && (b += 12)),
              b)
            : void 0;
        }
        function h() {
          var b = parseInt(a.minutes, 10);
          return b >= 0 && 60 > b ? b : void 0;
        }
        function i(a) {
          return angular.isDefined(a) && a.toString().length < 2 ? "0" + a : a;
        }
        function j(a) {
          k(), o.$setViewValue(new Date(n)), l(a);
        }
        function k() {
          o.$setValidity("time", !0),
            (a.invalidHours = !1),
            (a.invalidMinutes = !1);
        }
        function l(b) {
          var c = n.getHours(),
            d = n.getMinutes();
          a.showMeridian && (c = 0 === c || 12 === c ? 12 : c % 12),
            (a.hours = "h" === b ? c : i(c)),
            (a.minutes = "m" === b ? d : i(d)),
            (a.meridian = n.getHours() < 12 ? p[0] : p[1]);
        }
        function m(a) {
          var b = new Date(n.getTime() + 6e4 * a);
          n.setHours(b.getHours(), b.getMinutes()), j();
        }
        var n = new Date(),
          o = { $setViewValue: angular.noop },
          p = angular.isDefined(b.meridians)
            ? a.$parent.$eval(b.meridians)
            : f.meridians || e.DATETIME_FORMATS.AMPMS;
        this.init = function (c, d) {
          (o = c), (o.$render = this.render);
          var e = d.eq(0),
            g = d.eq(1),
            h = angular.isDefined(b.mousewheel)
              ? a.$parent.$eval(b.mousewheel)
              : f.mousewheel;
          h && this.setupMousewheelEvents(e, g),
            (a.readonlyInput = angular.isDefined(b.readonlyInput)
              ? a.$parent.$eval(b.readonlyInput)
              : f.readonlyInput),
            this.setupInputEvents(e, g);
        };
        var q = f.hourStep;
        b.hourStep &&
          a.$parent.$watch(c(b.hourStep), function (a) {
            q = parseInt(a, 10);
          });
        var r = f.minuteStep;
        b.minuteStep &&
          a.$parent.$watch(c(b.minuteStep), function (a) {
            r = parseInt(a, 10);
          }),
          (a.showMeridian = f.showMeridian),
          b.showMeridian &&
            a.$parent.$watch(c(b.showMeridian), function (b) {
              if (((a.showMeridian = !!b), o.$error.time)) {
                var c = g(),
                  d = h();
                angular.isDefined(c) &&
                  angular.isDefined(d) &&
                  (n.setHours(c), j());
              } else l();
            }),
          (this.setupMousewheelEvents = function (b, c) {
            var d = function (a) {
              a.originalEvent && (a = a.originalEvent);
              var b = a.wheelDelta ? a.wheelDelta : -a.deltaY;
              return a.detail || b > 0;
            };
            b.bind("mousewheel wheel", function (b) {
              a.$apply(d(b) ? a.incrementHours() : a.decrementHours()),
                b.preventDefault();
            }),
              c.bind("mousewheel wheel", function (b) {
                a.$apply(d(b) ? a.incrementMinutes() : a.decrementMinutes()),
                  b.preventDefault();
              });
          }),
          (this.setupInputEvents = function (b, c) {
            if (a.readonlyInput)
              return (
                (a.updateHours = angular.noop),
                void (a.updateMinutes = angular.noop)
              );
            var d = function (b, c) {
              o.$setViewValue(null),
                o.$setValidity("time", !1),
                angular.isDefined(b) && (a.invalidHours = b),
                angular.isDefined(c) && (a.invalidMinutes = c);
            };
            (a.updateHours = function () {
              var a = g();
              angular.isDefined(a) ? (n.setHours(a), j("h")) : d(!0);
            }),
              b.bind("blur", function () {
                !a.invalidHours &&
                  a.hours < 10 &&
                  a.$apply(function () {
                    a.hours = i(a.hours);
                  });
              }),
              (a.updateMinutes = function () {
                var a = h();
                angular.isDefined(a)
                  ? (n.setMinutes(a), j("m"))
                  : d(void 0, !0);
              }),
              c.bind("blur", function () {
                !a.invalidMinutes &&
                  a.minutes < 10 &&
                  a.$apply(function () {
                    a.minutes = i(a.minutes);
                  });
              });
          }),
          (this.render = function () {
            var a = o.$modelValue ? new Date(o.$modelValue) : null;
            isNaN(a)
              ? (o.$setValidity("time", !1),
                d.error(
                  'Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'
                ))
              : (a && (n = a), k(), l());
          }),
          (a.incrementHours = function () {
            m(60 * q);
          }),
          (a.decrementHours = function () {
            m(60 * -q);
          }),
          (a.incrementMinutes = function () {
            m(r);
          }),
          (a.decrementMinutes = function () {
            m(-r);
          }),
          (a.toggleMeridian = function () {
            m(720 * (n.getHours() < 12 ? 1 : -1));
          });
      },
    ])
    .directive("timepicker", function () {
      return {
        restrict: "EA",
        require: ["timepicker", "?^ngModel"],
        controller: "TimepickerController",
        replace: !0,
        scope: {},
        templateUrl: "template/timepicker/timepicker.html",
        link: function (a, b, c, d) {
          var e = d[0],
            f = d[1];
          f && e.init(f, b.find("input"));
        },
      };
    }),
  angular
    .module("ui.bootstrap.typeahead", [
      "ui.bootstrap.position",
      "ui.bootstrap.bindHtml",
    ])
    .factory("typeaheadParser", [
      "$parse",
      function (a) {
        var b =
          /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
        return {
          parse: function (c) {
            var d = c.match(b);
            if (!d)
              throw new Error(
                'Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "' +
                  c +
                  '".'
              );
            return {
              itemName: d[3],
              source: a(d[4]),
              viewMapper: a(d[2] || d[1]),
              modelMapper: a(d[1]),
            };
          },
        };
      },
    ])
    .directive("typeahead", [
      "$compile",
      "$parse",
      "$q",
      "$timeout",
      "$document",
      "$position",
      "typeaheadParser",
      function (a, b, c, d, e, f, g) {
        var h = [9, 13, 27, 38, 40];
        return {
          require: "ngModel",
          link: function (i, j, k, l) {
            var m,
              n = i.$eval(k.typeaheadMinLength) || 1,
              o = i.$eval(k.typeaheadWaitMs) || 0,
              p = i.$eval(k.typeaheadEditable) !== !1,
              q = b(k.typeaheadLoading).assign || angular.noop,
              r = b(k.typeaheadOnSelect),
              s = k.typeaheadInputFormatter
                ? b(k.typeaheadInputFormatter)
                : void 0,
              t = k.typeaheadAppendToBody
                ? i.$eval(k.typeaheadAppendToBody)
                : !1,
              u = i.$eval(k.typeaheadFocusFirst) !== !1,
              v = b(k.ngModel).assign,
              w = g.parse(k.typeahead),
              x = i.$new();
            i.$on("$destroy", function () {
              x.$destroy();
            });
            var y =
              "typeahead-" + x.$id + "-" + Math.floor(1e4 * Math.random());
            j.attr({
              "aria-autocomplete": "list",
              "aria-expanded": !1,
              "aria-owns": y,
            });
            var z = angular.element("<div typeahead-popup></div>");
            z.attr({
              id: y,
              matches: "matches",
              active: "activeIdx",
              select: "select(activeIdx)",
              query: "query",
              position: "position",
            }),
              angular.isDefined(k.typeaheadTemplateUrl) &&
                z.attr("template-url", k.typeaheadTemplateUrl);
            var A = function () {
                (x.matches = []),
                  (x.activeIdx = -1),
                  j.attr("aria-expanded", !1);
              },
              B = function (a) {
                return y + "-option-" + a;
              };
            x.$watch("activeIdx", function (a) {
              0 > a
                ? j.removeAttr("aria-activedescendant")
                : j.attr("aria-activedescendant", B(a));
            });
            var C = function (a) {
              var b = { $viewValue: a };
              q(i, !0),
                c.when(w.source(i, b)).then(
                  function (c) {
                    var d = a === l.$viewValue;
                    if (d && m)
                      if (c.length > 0) {
                        (x.activeIdx = u ? 0 : -1), (x.matches.length = 0);
                        for (var e = 0; e < c.length; e++)
                          (b[w.itemName] = c[e]),
                            x.matches.push({
                              id: B(e),
                              label: w.viewMapper(x, b),
                              model: c[e],
                            });
                        (x.query = a),
                          (x.position = t ? f.offset(j) : f.position(j)),
                          (x.position.top =
                            x.position.top + j.prop("offsetHeight")),
                          j.attr("aria-expanded", !0);
                      } else A();
                    d && q(i, !1);
                  },
                  function () {
                    A(), q(i, !1);
                  }
                );
            };
            A(), (x.query = void 0);
            var D,
              E = function (a) {
                D = d(function () {
                  C(a);
                }, o);
              },
              F = function () {
                D && d.cancel(D);
              };
            l.$parsers.unshift(function (a) {
              return (
                (m = !0),
                a && a.length >= n
                  ? o > 0
                    ? (F(), E(a))
                    : C(a)
                  : (q(i, !1), F(), A()),
                p
                  ? a
                  : a
                  ? void l.$setValidity("editable", !1)
                  : (l.$setValidity("editable", !0), a)
              );
            }),
              l.$formatters.push(function (a) {
                var b,
                  c,
                  d = {};
                return s
                  ? ((d.$model = a), s(i, d))
                  : ((d[w.itemName] = a),
                    (b = w.viewMapper(i, d)),
                    (d[w.itemName] = void 0),
                    (c = w.viewMapper(i, d)),
                    b !== c ? b : a);
              }),
              (x.select = function (a) {
                var b,
                  c,
                  e = {};
                (e[w.itemName] = c = x.matches[a].model),
                  (b = w.modelMapper(i, e)),
                  v(i, b),
                  l.$setValidity("editable", !0),
                  r(i, { $item: c, $model: b, $label: w.viewMapper(i, e) }),
                  A(),
                  d(
                    function () {
                      j[0].focus();
                    },
                    0,
                    !1
                  );
              }),
              j.bind("keydown", function (a) {
                0 !== x.matches.length &&
                  -1 !== h.indexOf(a.which) &&
                  (-1 != x.activeIdx || (13 !== a.which && 9 !== a.which)) &&
                  (a.preventDefault(),
                  40 === a.which
                    ? ((x.activeIdx = (x.activeIdx + 1) % x.matches.length),
                      x.$digest())
                    : 38 === a.which
                    ? ((x.activeIdx =
                        (x.activeIdx > 0 ? x.activeIdx : x.matches.length) - 1),
                      x.$digest())
                    : 13 === a.which || 9 === a.which
                    ? x.$apply(function () {
                        x.select(x.activeIdx);
                      })
                    : 27 === a.which &&
                      (a.stopPropagation(), A(), x.$digest()));
              }),
              j.bind("blur", function () {
                m = !1;
              });
            var G = function (a) {
              j[0] !== a.target && (A(), x.$digest());
            };
            e.bind("click", G),
              i.$on("$destroy", function () {
                e.unbind("click", G), t && H.remove();
              });
            var H = a(z)(x);
            t ? e.find("body").append(H) : j.after(H);
          },
        };
      },
    ])
    .directive("typeaheadPopup", function () {
      return {
        restrict: "EA",
        scope: {
          matches: "=",
          query: "=",
          active: "=",
          position: "=",
          select: "&",
        },
        replace: !0,
        templateUrl: "template/typeahead/typeahead-popup.html",
        link: function (a, b, c) {
          (a.templateUrl = c.templateUrl),
            (a.isOpen = function () {
              return a.matches.length > 0;
            }),
            (a.isActive = function (b) {
              return a.active == b;
            }),
            (a.selectActive = function (b) {
              a.active = b;
            }),
            (a.selectMatch = function (b) {
              a.select({ activeIdx: b });
            });
        },
      };
    })
    .directive("typeaheadMatch", [
      "$http",
      "$templateCache",
      "$compile",
      "$parse",
      function (a, b, c, d) {
        return {
          restrict: "EA",
          scope: { index: "=", match: "=", query: "=" },
          link: function (e, f, g) {
            var h =
              d(g.templateUrl)(e.$parent) ||
              "template/typeahead/typeahead-match.html";
            a.get(h, { cache: b }).success(function (a) {
              f.replaceWith(c(a.trim())(e));
            });
          },
        };
      },
    ])
    .filter("typeaheadHighlight", function () {
      function a(a) {
        return a.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
      }
      return function (b, c) {
        return c
          ? ("" + b).replace(new RegExp(a(c), "gi"), "<strong>$&</strong>")
          : b;
      };
    });
/**
 * angular-ui-utils - Swiss-Army-Knife of AngularJS tools (with no external dependencies!)
 * @version v0.1.1 - 2014-02-05
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
("use strict");
angular.module("ui.alias", []).config([
  "$compileProvider",
  "uiAliasConfig",
  function (a, b) {
    (b = b || {}),
      angular.forEach(b, function (b, c) {
        angular.isString(b) && (b = { replace: !0, template: b }),
          a.directive(c, function () {
            return b;
          });
      });
  },
]),
  angular.module("ui.event", []).directive("uiEvent", [
    "$parse",
    function (a) {
      return function (b, c, d) {
        var e = b.$eval(d.uiEvent);
        angular.forEach(e, function (d, e) {
          var f = a(d);
          c.bind(e, function (a) {
            var c = Array.prototype.slice.call(arguments);
            (c = c.splice(1)),
              f(b, { $event: a, $params: c }),
              b.$$phase || b.$apply();
          });
        });
      };
    },
  ]),
  angular.module("ui.format", []).filter("format", function () {
    return function (a, b) {
      var c = a;
      if (angular.isString(c) && void 0 !== b)
        if (
          (angular.isArray(b) || angular.isObject(b) || (b = [b]),
          angular.isArray(b))
        ) {
          var d = b.length,
            e = function (a, c) {
              return (c = parseInt(c, 10)), c >= 0 && d > c ? b[c] : a;
            };
          c = c.replace(/\$([0-9]+)/g, e);
        } else
          angular.forEach(b, function (a, b) {
            c = c.split(":" + b).join(a);
          });
      return c;
    };
  }),
  angular.module("ui.highlight", []).filter("highlight", function () {
    return function (a, b, c) {
      return b || angular.isNumber(b)
        ? ((a = a.toString()),
          (b = b.toString()),
          c
            ? a.split(b).join('<span class="ui-match">' + b + "</span>")
            : a.replace(
                new RegExp(b, "gi"),
                '<span class="ui-match">$&</span>'
              ))
        : a;
    };
  }),
  angular.module("ui.include", []).directive("uiInclude", [
    "$http",
    "$templateCache",
    "$anchorScroll",
    "$compile",
    function (a, b, c, d) {
      return {
        restrict: "ECA",
        terminal: !0,
        compile: function (e, f) {
          var g = f.uiInclude || f.src,
            h = f.fragment || "",
            i = f.onload || "",
            j = f.autoscroll;
          return function (e, f) {
            function k() {
              var k = ++m,
                o = e.$eval(g),
                p = e.$eval(h);
              o
                ? a
                    .get(o, { cache: b })
                    .success(function (a) {
                      if (k === m) {
                        l && l.$destroy(), (l = e.$new());
                        var b;
                        (b = p
                          ? angular.element("<div/>").html(a).find(p)
                          : angular.element("<div/>").html(a).contents()),
                          f.html(b),
                          d(b)(l),
                          !angular.isDefined(j) || (j && !e.$eval(j)) || c(),
                          l.$emit("$includeContentLoaded"),
                          e.$eval(i);
                      }
                    })
                    .error(function () {
                      k === m && n();
                    })
                : n();
            }
            var l,
              m = 0,
              n = function () {
                l && (l.$destroy(), (l = null)), f.html("");
              };
            e.$watch(h, k), e.$watch(g, k);
          };
        },
      };
    },
  ]),
  angular.module("ui.indeterminate", []).directive("uiIndeterminate", [
    function () {
      return {
        compile: function (a, b) {
          return b.type && "checkbox" === b.type.toLowerCase()
            ? function (a, b, c) {
                a.$watch(c.uiIndeterminate, function (a) {
                  b[0].indeterminate = !!a;
                });
              }
            : angular.noop;
        },
      };
    },
  ]),
  angular.module("ui.inflector", []).filter("inflector", function () {
    function a(a) {
      return a.replace(/^([a-z])|\s+([a-z])/g, function (a) {
        return a.toUpperCase();
      });
    }
    function b(a, b) {
      return a.replace(/[A-Z]/g, function (a) {
        return b + a;
      });
    }
    var c = {
      humanize: function (c) {
        return a(b(c, " ").split("_").join(" "));
      },
      underscore: function (a) {
        return (
          a.substr(0, 1).toLowerCase() +
          b(a.substr(1), "_").toLowerCase().split(" ").join("_")
        );
      },
      variable: function (b) {
        return (b =
          b.substr(0, 1).toLowerCase() +
          a(b.split("_").join(" ")).substr(1).split(" ").join(""));
      },
    };
    return function (a, b) {
      return b !== !1 && angular.isString(a)
        ? ((b = b || "humanize"), c[b](a))
        : a;
    };
  }),
  angular
    .module("ui.jq", [])
    .value("uiJqConfig", {})
    .directive("uiJq", [
      "uiJqConfig",
      "$timeout",
      function (a, b) {
        return {
          restrict: "A",
          compile: function (c, d) {
            if (!angular.isFunction(c[d.uiJq]))
              throw new Error(
                'ui-jq: The "' + d.uiJq + '" function does not exist'
              );
            var e = a && a[d.uiJq];
            return function (a, c, d) {
              function f() {
                b(
                  function () {
                    c[d.uiJq].apply(c, g);
                  },
                  0,
                  !1
                );
              }
              var g = [];
              d.uiOptions
                ? ((g = a.$eval("[" + d.uiOptions + "]")),
                  angular.isObject(e) &&
                    angular.isObject(g[0]) &&
                    (g[0] = angular.extend({}, e, g[0])))
                : e && (g = [e]),
                d.ngModel &&
                  c.is("select,input,textarea") &&
                  c.bind("change", function () {
                    c.trigger("input");
                  }),
                d.uiRefresh &&
                  a.$watch(d.uiRefresh, function () {
                    f();
                  }),
                f();
            };
          },
        };
      },
    ]),
  angular.module("ui.keypress", []).factory("keypressHelper", [
    "$parse",
    function (a) {
      var b = {
          8: "backspace",
          9: "tab",
          13: "enter",
          27: "esc",
          32: "space",
          33: "pageup",
          34: "pagedown",
          35: "end",
          36: "home",
          37: "left",
          38: "up",
          39: "right",
          40: "down",
          45: "insert",
          46: "delete",
        },
        c = function (a) {
          return a.charAt(0).toUpperCase() + a.slice(1);
        };
      return function (d, e, f, g) {
        var h,
          i = [];
        (h = e.$eval(g["ui" + c(d)])),
          angular.forEach(h, function (b, c) {
            var d, e;
            (e = a(b)),
              angular.forEach(c.split(" "), function (a) {
                (d = { expression: e, keys: {} }),
                  angular.forEach(a.split("-"), function (a) {
                    d.keys[a] = !0;
                  }),
                  i.push(d);
              });
          }),
          f.bind(d, function (a) {
            var c = !(!a.metaKey || a.ctrlKey),
              f = !!a.altKey,
              g = !!a.ctrlKey,
              h = !!a.shiftKey,
              j = a.keyCode;
            "keypress" === d && !h && j >= 97 && 122 >= j && (j -= 32),
              angular.forEach(i, function (d) {
                var i = d.keys[b[j]] || d.keys[j.toString()],
                  k = !!d.keys.meta,
                  l = !!d.keys.alt,
                  m = !!d.keys.ctrl,
                  n = !!d.keys.shift;
                i &&
                  k === c &&
                  l === f &&
                  m === g &&
                  n === h &&
                  e.$apply(function () {
                    d.expression(e, { $event: a });
                  });
              });
          });
      };
    },
  ]),
  angular.module("ui.keypress").directive("uiKeydown", [
    "keypressHelper",
    function (a) {
      return {
        link: function (b, c, d) {
          a("keydown", b, c, d);
        },
      };
    },
  ]),
  angular.module("ui.keypress").directive("uiKeypress", [
    "keypressHelper",
    function (a) {
      return {
        link: function (b, c, d) {
          a("keypress", b, c, d);
        },
      };
    },
  ]),
  angular.module("ui.keypress").directive("uiKeyup", [
    "keypressHelper",
    function (a) {
      return {
        link: function (b, c, d) {
          a("keyup", b, c, d);
        },
      };
    },
  ]),
  angular
    .module("ui.mask", [])
    .value("uiMaskConfig", {
      maskDefinitions: { 9: /\d/, A: /[a-zA-Z]/, "*": /[a-zA-Z0-9]/ },
    })
    .directive("uiMask", [
      "uiMaskConfig",
      function (a) {
        return {
          priority: 100,
          require: "ngModel",
          restrict: "A",
          compile: function () {
            var b = a;
            return function (a, c, d, e) {
              function f(a) {
                return angular.isDefined(a)
                  ? (s(a), N ? (k(), l(), !0) : j())
                  : j();
              }
              function g(a) {
                angular.isDefined(a) && ((D = a), N && w());
              }
              function h(a) {
                return N
                  ? ((G = o(a || "")),
                    (I = n(G)),
                    e.$setValidity("mask", I),
                    I && G.length ? p(G) : void 0)
                  : a;
              }
              function i(a) {
                return N
                  ? ((G = o(a || "")),
                    (I = n(G)),
                    (e.$viewValue = G.length ? p(G) : ""),
                    e.$setValidity("mask", I),
                    "" === G &&
                      void 0 !== e.$error.required &&
                      e.$setValidity("required", !1),
                    I ? G : void 0)
                  : a;
              }
              function j() {
                return (
                  (N = !1),
                  m(),
                  angular.isDefined(P)
                    ? c.attr("placeholder", P)
                    : c.removeAttr("placeholder"),
                  angular.isDefined(Q)
                    ? c.attr("maxlength", Q)
                    : c.removeAttr("maxlength"),
                  c.val(e.$modelValue),
                  (e.$viewValue = e.$modelValue),
                  !1
                );
              }
              function k() {
                (G = K = o(e.$modelValue || "")), (H = J = p(G)), (I = n(G));
                var a = I && G.length ? H : "";
                d.maxlength && c.attr("maxlength", 2 * B[B.length - 1]),
                  c.attr("placeholder", D),
                  c.val(a),
                  (e.$viewValue = a);
              }
              function l() {
                O ||
                  (c.bind("blur", t),
                  c.bind("mousedown mouseup", u),
                  c.bind("input keyup click focus", w),
                  (O = !0));
              }
              function m() {
                O &&
                  (c.unbind("blur", t),
                  c.unbind("mousedown", u),
                  c.unbind("mouseup", u),
                  c.unbind("input", w),
                  c.unbind("keyup", w),
                  c.unbind("click", w),
                  c.unbind("focus", w),
                  (O = !1));
              }
              function n(a) {
                return a.length ? a.length >= F : !0;
              }
              function o(a) {
                var b = "",
                  c = C.slice();
                return (
                  (a = a.toString()),
                  angular.forEach(E, function (b) {
                    a = a.replace(b, "");
                  }),
                  angular.forEach(a.split(""), function (a) {
                    c.length && c[0].test(a) && ((b += a), c.shift());
                  }),
                  b
                );
              }
              function p(a) {
                var b = "",
                  c = B.slice();
                return (
                  angular.forEach(D.split(""), function (d, e) {
                    a.length && e === c[0]
                      ? ((b += a.charAt(0) || "_"),
                        (a = a.substr(1)),
                        c.shift())
                      : (b += d);
                  }),
                  b
                );
              }
              function q(a) {
                var b = d.placeholder;
                return "undefined" != typeof b && b[a] ? b[a] : "_";
              }
              function r() {
                return D.replace(/[_]+/g, "_")
                  .replace(/([^_]+)([a-zA-Z0-9])([^_])/g, "$1$2_$3")
                  .split("_");
              }
              function s(a) {
                var b = 0;
                if (((B = []), (C = []), (D = ""), "string" == typeof a)) {
                  F = 0;
                  var c = !1,
                    d = a.split("");
                  angular.forEach(d, function (a, d) {
                    R.maskDefinitions[a]
                      ? (B.push(b),
                        (D += q(d)),
                        C.push(R.maskDefinitions[a]),
                        b++,
                        c || F++)
                      : "?" === a
                      ? (c = !0)
                      : ((D += a), b++);
                  });
                }
                B.push(B.slice().pop() + 1),
                  (E = r()),
                  (N = B.length > 1 ? !0 : !1);
              }
              function t() {
                (L = 0),
                  (M = 0),
                  (I && 0 !== G.length) ||
                    ((H = ""),
                    c.val(""),
                    a.$apply(function () {
                      e.$setViewValue("");
                    }));
              }
              function u(a) {
                "mousedown" === a.type
                  ? c.bind("mouseout", v)
                  : c.unbind("mouseout", v);
              }
              function v() {
                (M = A(this)), c.unbind("mouseout", v);
              }
              function w(b) {
                b = b || {};
                var d = b.which,
                  f = b.type;
                if (16 !== d && 91 !== d) {
                  var g,
                    h = c.val(),
                    i = J,
                    j = o(h),
                    k = K,
                    l = !1,
                    m = y(this) || 0,
                    n = L || 0,
                    q = m - n,
                    r = B[0],
                    s = B[j.length] || B.slice().shift(),
                    t = M || 0,
                    u = A(this) > 0,
                    v = t > 0,
                    w = h.length > i.length || (t && h.length > i.length - t),
                    C = h.length < i.length || (t && h.length === i.length - t),
                    D = d >= 37 && 40 >= d && b.shiftKey,
                    E = 37 === d,
                    F = 8 === d || ("keyup" !== f && C && -1 === q),
                    G = 46 === d || ("keyup" !== f && C && 0 === q && !v),
                    H = (E || F || "click" === f) && m > r;
                  if (
                    ((M = A(this)),
                    !D && (!u || ("click" !== f && "keyup" !== f)))
                  ) {
                    if ("input" === f && C && !v && j === k) {
                      for (; F && m > r && !x(m); ) m--;
                      for (; G && s > m && -1 === B.indexOf(m); ) m++;
                      var I = B.indexOf(m);
                      (j = j.substring(0, I) + j.substring(I + 1)), (l = !0);
                    }
                    for (
                      g = p(j),
                        J = g,
                        K = j,
                        c.val(g),
                        l &&
                          a.$apply(function () {
                            e.$setViewValue(j);
                          }),
                        w && r >= m && (m = r + 1),
                        H && m--,
                        m = m > s ? s : r > m ? r : m;
                      !x(m) && m > r && s > m;

                    )
                      m += H ? -1 : 1;
                    ((H && s > m) || (w && !x(n))) && m++, (L = m), z(this, m);
                  }
                }
              }
              function x(a) {
                return B.indexOf(a) > -1;
              }
              function y(a) {
                if (!a) return 0;
                if (void 0 !== a.selectionStart) return a.selectionStart;
                if (document.selection) {
                  a.focus();
                  var b = document.selection.createRange();
                  return (
                    b.moveStart("character", -a.value.length), b.text.length
                  );
                }
                return 0;
              }
              function z(a, b) {
                if (!a) return 0;
                if (0 !== a.offsetWidth && 0 !== a.offsetHeight)
                  if (a.setSelectionRange) a.focus(), a.setSelectionRange(b, b);
                  else if (a.createTextRange) {
                    var c = a.createTextRange();
                    c.collapse(!0),
                      c.moveEnd("character", b),
                      c.moveStart("character", b),
                      c.select();
                  }
              }
              function A(a) {
                return a
                  ? void 0 !== a.selectionStart
                    ? a.selectionEnd - a.selectionStart
                    : document.selection
                    ? document.selection.createRange().text.length
                    : 0
                  : 0;
              }
              var B,
                C,
                D,
                E,
                F,
                G,
                H,
                I,
                J,
                K,
                L,
                M,
                N = !1,
                O = !1,
                P = d.placeholder,
                Q = d.maxlength,
                R = {};
              d.uiOptions
                ? ((R = a.$eval("[" + d.uiOptions + "]")),
                  angular.isObject(R[0]) &&
                    (R = (function (a, b) {
                      for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) &&
                          (b[c]
                            ? angular.extend(b[c], a[c])
                            : (b[c] = angular.copy(a[c])));
                      return b;
                    })(b, R[0])))
                : (R = b),
                d.$observe("uiMask", f),
                d.$observe("placeholder", g),
                e.$formatters.push(h),
                e.$parsers.push(i),
                c.bind("mousedown mouseup", u),
                Array.prototype.indexOf ||
                  (Array.prototype.indexOf = function (a) {
                    if (null === this) throw new TypeError();
                    var b = Object(this),
                      c = b.length >>> 0;
                    if (0 === c) return -1;
                    var d = 0;
                    if (
                      (arguments.length > 1 &&
                        ((d = Number(arguments[1])),
                        d !== d
                          ? (d = 0)
                          : 0 !== d &&
                            1 / 0 !== d &&
                            d !== -1 / 0 &&
                            (d = (d > 0 || -1) * Math.floor(Math.abs(d)))),
                      d >= c)
                    )
                      return -1;
                    for (
                      var e = d >= 0 ? d : Math.max(c - Math.abs(d), 0);
                      c > e;
                      e++
                    )
                      if (e in b && b[e] === a) return e;
                    return -1;
                  });
            };
          },
        };
      },
    ]),
  angular
    .module("ui.reset", [])
    .value("uiResetConfig", null)
    .directive("uiReset", [
      "uiResetConfig",
      function (a) {
        var b = null;
        return (
          void 0 !== a && (b = a),
          {
            require: "ngModel",
            link: function (a, c, d, e) {
              var f;
              (f = angular.element('<a class="ui-reset" />')),
                c.wrap('<span class="ui-resetwrap" />').after(f),
                f.bind("click", function (c) {
                  c.preventDefault(),
                    a.$apply(function () {
                      e.$setViewValue(d.uiReset ? a.$eval(d.uiReset) : b),
                        e.$render();
                    });
                });
            },
          }
        );
      },
    ]),
  angular.module("ui.route", []).directive("uiRoute", [
    "$location",
    "$parse",
    function (a, b) {
      return {
        restrict: "AC",
        scope: !0,
        compile: function (c, d) {
          var e;
          if (d.uiRoute) e = "uiRoute";
          else if (d.ngHref) e = "ngHref";
          else {
            if (!d.href)
              throw new Error(
                "uiRoute missing a route or href property on " + c[0]
              );
            e = "href";
          }
          return function (c, d, f) {
            function g(b) {
              var d = b.indexOf("#");
              d > -1 && (b = b.substr(d + 1)),
                (j = function () {
                  i(c, a.path().indexOf(b) > -1);
                })();
            }
            function h(b) {
              var d = b.indexOf("#");
              d > -1 && (b = b.substr(d + 1)),
                (j = function () {
                  var d = new RegExp("^" + b + "$", ["i"]);
                  i(c, d.test(a.path()));
                })();
            }
            var i = b(f.ngModel || f.routeModel || "$uiRoute").assign,
              j = angular.noop;
            switch (e) {
              case "uiRoute":
                f.uiRoute ? h(f.uiRoute) : f.$observe("uiRoute", h);
                break;
              case "ngHref":
                f.ngHref ? g(f.ngHref) : f.$observe("ngHref", g);
                break;
              case "href":
                g(f.href);
            }
            c.$on("$routeChangeSuccess", function () {
              j();
            }),
              c.$on("$stateChangeSuccess", function () {
                j();
              });
          };
        },
      };
    },
  ]),
  angular
    .module("ui.scroll.jqlite", ["ui.scroll"])
    .service("jqLiteExtras", [
      "$log",
      "$window",
      function (a, b) {
        return {
          registerFor: function (a) {
            var c, d, e, f, g, h, i;
            return (
              (d = angular.element.prototype.css),
              (a.prototype.css = function (a, b) {
                var c, e;
                return (
                  (e = this),
                  (c = e[0]),
                  c && 3 !== c.nodeType && 8 !== c.nodeType && c.style
                    ? d.call(e, a, b)
                    : void 0
                );
              }),
              (h = function (a) {
                return (
                  a && a.document && a.location && a.alert && a.setInterval
                );
              }),
              (i = function (a, b, c) {
                var d, e, f, g, i;
                return (
                  (d = a[0]),
                  (i = {
                    top: ["scrollTop", "pageYOffset", "scrollLeft"],
                    left: ["scrollLeft", "pageXOffset", "scrollTop"],
                  }[b]),
                  (e = i[0]),
                  (g = i[1]),
                  (f = i[2]),
                  h(d)
                    ? angular.isDefined(c)
                      ? d.scrollTo(a[f].call(a), c)
                      : g in d
                      ? d[g]
                      : d.document.documentElement[e]
                    : angular.isDefined(c)
                    ? (d[e] = c)
                    : d[e]
                );
              }),
              b.getComputedStyle
                ? ((f = function (a) {
                    return b.getComputedStyle(a, null);
                  }),
                  (c = function (a, b) {
                    return parseFloat(b);
                  }))
                : ((f = function (a) {
                    return a.currentStyle;
                  }),
                  (c = function (a, b) {
                    var c, d, e, f, g, h, i;
                    return (
                      (c = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source),
                      (f = new RegExp("^(" + c + ")(?!px)[a-z%]+$", "i")),
                      f.test(b)
                        ? ((i = a.style),
                          (d = i.left),
                          (g = a.runtimeStyle),
                          (h = g && g.left),
                          g && (g.left = i.left),
                          (i.left = b),
                          (e = i.pixelLeft),
                          (i.left = d),
                          h && (g.left = h),
                          e)
                        : parseFloat(b)
                    );
                  })),
              (e = function (a, b) {
                var d, e, g, i, j, k, l, m, n, o, p, q, r;
                return h(a)
                  ? ((d =
                      document.documentElement[
                        { height: "clientHeight", width: "clientWidth" }[b]
                      ]),
                    { base: d, padding: 0, border: 0, margin: 0 })
                  : ((r = {
                      width: [a.offsetWidth, "Left", "Right"],
                      height: [a.offsetHeight, "Top", "Bottom"],
                    }[b]),
                    (d = r[0]),
                    (l = r[1]),
                    (m = r[2]),
                    (k = f(a)),
                    (p = c(a, k["padding" + l]) || 0),
                    (q = c(a, k["padding" + m]) || 0),
                    (e = c(a, k["border" + l + "Width"]) || 0),
                    (g = c(a, k["border" + m + "Width"]) || 0),
                    (i = k["margin" + l]),
                    (j = k["margin" + m]),
                    (n = c(a, i) || 0),
                    (o = c(a, j) || 0),
                    { base: d, padding: p + q, border: e + g, margin: n + o });
              }),
              (g = function (a, b, c) {
                var d, g, h;
                return (
                  (g = e(a, b)),
                  g.base > 0
                    ? {
                        base: g.base - g.padding - g.border,
                        outer: g.base,
                        outerfull: g.base + g.margin,
                      }[c]
                    : ((d = f(a)),
                      (h = d[b]),
                      (0 > h || null === h) && (h = a.style[b] || 0),
                      (h = parseFloat(h) || 0),
                      {
                        base: h - g.padding - g.border,
                        outer: h,
                        outerfull: h + g.padding + g.border + g.margin,
                      }[c])
                );
              }),
              angular.forEach(
                {
                  before: function (a) {
                    var b, c, d, e, f, g, h;
                    if (
                      ((f = this),
                      (c = f[0]),
                      (e = f.parent()),
                      (b = e.contents()),
                      b[0] === c)
                    )
                      return e.prepend(a);
                    for (
                      d = g = 1, h = b.length - 1;
                      h >= 1 ? h >= g : g >= h;
                      d = h >= 1 ? ++g : --g
                    )
                      if (b[d] === c)
                        return void angular.element(b[d - 1]).after(a);
                    throw new Error("invalid DOM structure " + c.outerHTML);
                  },
                  height: function (a) {
                    var b;
                    return (
                      (b = this),
                      angular.isDefined(a)
                        ? (angular.isNumber(a) && (a += "px"),
                          d.call(b, "height", a))
                        : g(this[0], "height", "base")
                    );
                  },
                  outerHeight: function (a) {
                    return g(this[0], "height", a ? "outerfull" : "outer");
                  },
                  offset: function (a) {
                    var b, c, d, e, f, g;
                    return (
                      (f = this),
                      arguments.length
                        ? void 0 === a
                          ? f
                          : a
                        : ((b = { top: 0, left: 0 }),
                          (e = f[0]),
                          (c = e && e.ownerDocument)
                            ? ((d = c.documentElement),
                              e.getBoundingClientRect &&
                                (b = e.getBoundingClientRect()),
                              (g = c.defaultView || c.parentWindow),
                              {
                                top:
                                  b.top +
                                  (g.pageYOffset || d.scrollTop) -
                                  (d.clientTop || 0),
                                left:
                                  b.left +
                                  (g.pageXOffset || d.scrollLeft) -
                                  (d.clientLeft || 0),
                              })
                            : void 0)
                    );
                  },
                  scrollTop: function (a) {
                    return i(this, "top", a);
                  },
                  scrollLeft: function (a) {
                    return i(this, "left", a);
                  },
                },
                function (b, c) {
                  return a.prototype[c] ? void 0 : (a.prototype[c] = b);
                }
              )
            );
          },
        };
      },
    ])
    .run([
      "$log",
      "$window",
      "jqLiteExtras",
      function (a, b, c) {
        return b.jQuery ? void 0 : c.registerFor(angular.element);
      },
    ]),
  angular
    .module("ui.scroll", [])
    .directive("ngScrollViewport", [
      "$log",
      function () {
        return {
          controller: [
            "$scope",
            "$element",
            function (a, b) {
              return b;
            },
          ],
        };
      },
    ])
    .directive("ngScroll", [
      "$log",
      "$injector",
      "$rootScope",
      "$timeout",
      function (a, b, c, d) {
        return {
          require: ["?^ngScrollViewport"],
          transclude: "element",
          priority: 1e3,
          terminal: !0,
          compile: function (e, f, g) {
            return function (f, h, i, j) {
              var k,
                l,
                m,
                n,
                o,
                p,
                q,
                r,
                s,
                t,
                u,
                v,
                w,
                x,
                y,
                z,
                A,
                B,
                C,
                D,
                E,
                F,
                G,
                H,
                I,
                J,
                K,
                L,
                M,
                N,
                O,
                P,
                Q,
                R,
                S,
                T;
              if (((H = i.ngScroll.match(/^\s*(\w+)\s+in\s+(\w+)\s*$/)), !H))
                throw new Error(
                  'Expected ngScroll in form of "item_ in _datasource_" but got "' +
                    i.ngScroll +
                    '"'
                );
              if (
                ((F = H[1]),
                (v = H[2]),
                (D = function (a) {
                  return (
                    angular.isObject(a) && a.get && angular.isFunction(a.get)
                  );
                }),
                (u = f[v]),
                !D(u) && ((u = b.get(v)), !D(u)))
              )
                throw new Error(v + " is not a valid datasource");
              return (
                (r = Math.max(3, +i.bufferSize || 10)),
                (q = function () {
                  return T.height() * Math.max(0.1, +i.padding || 0.1);
                }),
                (O = function (a) {
                  return (
                    a[0].scrollHeight ||
                    a[0].document.documentElement.scrollHeight
                  );
                }),
                (k = null),
                g((R = f.$new()), function (a) {
                  var b, c, d, f, g, h;
                  if (((f = a[0].localName), "dl" === f))
                    throw new Error(
                      "ng-scroll directive does not support <" +
                        a[0].localName +
                        "> as a repeating tag: " +
                        a[0].outerHTML
                    );
                  return (
                    "li" !== f && "tr" !== f && (f = "div"),
                    (h = j[0] || angular.element(window)),
                    h.css({ "overflow-y": "auto", display: "block" }),
                    (d = function (a) {
                      var b, c, d;
                      switch (a) {
                        case "tr":
                          return (
                            (d = angular.element(
                              "<table><tr><td><div></div></td></tr></table>"
                            )),
                            (b = d.find("div")),
                            (c = d.find("tr")),
                            (c.paddingHeight = function () {
                              return b.height.apply(b, arguments);
                            }),
                            c
                          );
                        default:
                          return (
                            (c = angular.element("<" + a + "></" + a + ">")),
                            (c.paddingHeight = c.height),
                            c
                          );
                      }
                    }),
                    (c = function (a, b, c) {
                      return (
                        b[{ top: "before", bottom: "after" }[c]](a),
                        {
                          paddingHeight: function () {
                            return a.paddingHeight.apply(a, arguments);
                          },
                          insert: function (b) {
                            return a[{ top: "after", bottom: "before" }[c]](b);
                          },
                        }
                      );
                    }),
                    (g = c(d(f), e, "top")),
                    (b = c(d(f), e, "bottom")),
                    R.$destroy(),
                    (k = {
                      viewport: h,
                      topPadding: g.paddingHeight,
                      bottomPadding: b.paddingHeight,
                      append: b.insert,
                      prepend: g.insert,
                      bottomDataPos: function () {
                        return O(h) - b.paddingHeight();
                      },
                      topDataPos: function () {
                        return g.paddingHeight();
                      },
                    })
                  );
                }),
                (T = k.viewport),
                (B = 1),
                (I = 1),
                (p = []),
                (J = []),
                (x = !1),
                (n = !1),
                (G = u.loading || function () {}),
                (E = !1),
                (L = function (a, b) {
                  var c, d;
                  for (
                    c = d = a;
                    b >= a ? b > d : d > b;
                    c = b >= a ? ++d : --d
                  )
                    p[c].scope.$destroy(), p[c].element.remove();
                  return p.splice(a, b - a);
                }),
                (K = function () {
                  return (
                    (B = 1),
                    (I = 1),
                    L(0, p.length),
                    k.topPadding(0),
                    k.bottomPadding(0),
                    (J = []),
                    (x = !1),
                    (n = !1),
                    l(!1)
                  );
                }),
                (o = function () {
                  return T.scrollTop() + T.height();
                }),
                (S = function () {
                  return T.scrollTop();
                }),
                (P = function () {
                  return !x && k.bottomDataPos() < o() + q();
                }),
                (s = function () {
                  var b, c, d, e, f, g;
                  for (
                    b = 0, e = 0, c = f = g = p.length - 1;
                    (0 >= g ? 0 >= f : f >= 0) &&
                    ((d = p[c].element.outerHeight(!0)),
                    k.bottomDataPos() - b - d > o() + q());
                    c = 0 >= g ? ++f : --f
                  )
                    (b += d), e++, (x = !1);
                  return e > 0
                    ? (k.bottomPadding(k.bottomPadding() + b),
                      L(p.length - e, p.length),
                      (I -= e),
                      a.log(
                        "clipped off bottom " +
                          e +
                          " bottom padding " +
                          k.bottomPadding()
                      ))
                    : void 0;
                }),
                (Q = function () {
                  return !n && k.topDataPos() > S() - q();
                }),
                (t = function () {
                  var b, c, d, e, f, g;
                  for (
                    e = 0, d = 0, f = 0, g = p.length;
                    g > f &&
                    ((b = p[f]),
                    (c = b.element.outerHeight(!0)),
                    k.topDataPos() + e + c < S() - q());
                    f++
                  )
                    (e += c), d++, (n = !1);
                  return d > 0
                    ? (k.topPadding(k.topPadding() + e),
                      L(0, d),
                      (B += d),
                      a.log(
                        "clipped off top " +
                          d +
                          " top padding " +
                          k.topPadding()
                      ))
                    : void 0;
                }),
                (w = function (a, b) {
                  return (
                    E || ((E = !0), G(!0)), 1 === J.push(a) ? z(b) : void 0
                  );
                }),
                (C = function (a, b) {
                  var c, d, e;
                  return (
                    (c = f.$new()),
                    (c[F] = b),
                    (d = a > B),
                    (c.$index = a),
                    d && c.$index--,
                    (e = { scope: c }),
                    g(c, function (b) {
                      return (
                        (e.element = b),
                        d
                          ? a === I
                            ? (k.append(b), p.push(e))
                            : (p[a - B].element.after(b),
                              p.splice(a - B + 1, 0, e))
                          : (k.prepend(b), p.unshift(e))
                      );
                    }),
                    { appended: d, wrapper: e }
                  );
                }),
                (m = function (a, b) {
                  var c;
                  return a
                    ? k.bottomPadding(
                        Math.max(
                          0,
                          k.bottomPadding() - b.element.outerHeight(!0)
                        )
                      )
                    : ((c = k.topPadding() - b.element.outerHeight(!0)),
                      c >= 0
                        ? k.topPadding(c)
                        : T.scrollTop(
                            T.scrollTop() + b.element.outerHeight(!0)
                          ));
                }),
                (l = function (b, c, e) {
                  var f;
                  return (
                    (f = function () {
                      return (
                        a.log(
                          "top {actual=" +
                            k.topDataPos() +
                            " visible from=" +
                            S() +
                            " bottom {visible through=" +
                            o() +
                            " actual=" +
                            k.bottomDataPos() +
                            "}"
                        ),
                        P() ? w(!0, b) : Q() && w(!1, b),
                        e ? e() : void 0
                      );
                    }),
                    c
                      ? d(function () {
                          var a, b, d;
                          for (b = 0, d = c.length; d > b; b++)
                            (a = c[b]), m(a.appended, a.wrapper);
                          return f();
                        })
                      : f()
                  );
                }),
                (A = function (a, b) {
                  return l(a, b, function () {
                    return J.shift(), 0 === J.length ? ((E = !1), G(!1)) : z(a);
                  });
                }),
                (z = function (b) {
                  var c;
                  return (
                    (c = J[0]),
                    c
                      ? p.length && !P()
                        ? A(b)
                        : u.get(I, r, function (c) {
                            var d, e, f, g;
                            if (((e = []), 0 === c.length))
                              (x = !0),
                                k.bottomPadding(0),
                                a.log(
                                  "appended: requested " +
                                    r +
                                    " records starting from " +
                                    I +
                                    " recieved: eof"
                                );
                            else {
                              for (t(), f = 0, g = c.length; g > f; f++)
                                (d = c[f]), e.push(C(++I, d));
                              a.log(
                                "appended: requested " +
                                  r +
                                  " received " +
                                  c.length +
                                  " buffer size " +
                                  p.length +
                                  " first " +
                                  B +
                                  " next " +
                                  I
                              );
                            }
                            return A(b, e);
                          })
                      : p.length && !Q()
                      ? A(b)
                      : u.get(B - r, r, function (c) {
                          var d, e, f, g;
                          if (((e = []), 0 === c.length))
                            (n = !0),
                              k.topPadding(0),
                              a.log(
                                "prepended: requested " +
                                  r +
                                  " records starting from " +
                                  (B - r) +
                                  " recieved: bof"
                              );
                          else {
                            for (
                              s(), d = f = g = c.length - 1;
                              0 >= g ? 0 >= f : f >= 0;
                              d = 0 >= g ? ++f : --f
                            )
                              e.unshift(C(--B, c[d]));
                            a.log(
                              "prepended: requested " +
                                r +
                                " received " +
                                c.length +
                                " buffer size " +
                                p.length +
                                " first " +
                                B +
                                " next " +
                                I
                            );
                          }
                          return A(b, e);
                        })
                  );
                }),
                (M = function () {
                  return c.$$phase || E ? void 0 : (l(!1), f.$apply());
                }),
                T.bind("resize", M),
                (N = function () {
                  return c.$$phase || E ? void 0 : (l(!0), f.$apply());
                }),
                T.bind("scroll", N),
                f.$watch(u.revision, function () {
                  return K();
                }),
                (y = u.scope ? u.scope.$new() : f.$new()),
                f.$on("$destroy", function () {
                  return (
                    y.$destroy(), T.unbind("resize", M), T.unbind("scroll", N)
                  );
                }),
                y.$on("update.items", function (a, b, c) {
                  var d, e, f, g, h;
                  if (angular.isFunction(b))
                    for (
                      e = function (a) {
                        return b(a.scope);
                      },
                        f = 0,
                        g = p.length;
                      g > f;
                      f++
                    )
                      (d = p[f]), e(d);
                  else
                    0 <= (h = b - B - 1) &&
                      h < p.length &&
                      (p[b - B - 1].scope[F] = c);
                  return null;
                }),
                y.$on("delete.items", function (a, b) {
                  var c, d, e, f, g, h, i, j, k, m, n, o;
                  if (angular.isFunction(b)) {
                    for (e = [], h = 0, k = p.length; k > h; h++)
                      (d = p[h]), e.unshift(d);
                    for (
                      g = function (a) {
                        return b(a.scope)
                          ? (L(e.length - 1 - c, e.length - c), I--)
                          : void 0;
                      },
                        c = i = 0,
                        m = e.length;
                      m > i;
                      c = ++i
                    )
                      (f = e[c]), g(f);
                  } else 0 <= (o = b - B - 1) && o < p.length && (L(b - B - 1, b - B), I--);
                  for (c = j = 0, n = p.length; n > j; c = ++j)
                    (d = p[c]), (d.scope.$index = B + c);
                  return l(!1);
                }),
                y.$on("insert.item", function (a, b, c) {
                  var d, e, f, g, h, i, j, k, m, n, o, q;
                  if (((e = []), angular.isFunction(b))) {
                    for (f = [], i = 0, m = p.length; m > i; i++)
                      (c = p[i]), f.unshift(c);
                    for (
                      h = function (a) {
                        var f, g, h, i, j;
                        if ((g = b(a.scope))) {
                          if (
                            ((C = function (a, b) {
                              return C(a, b), I++;
                            }),
                            angular.isArray(g))
                          ) {
                            for (
                              j = [], f = h = 0, i = g.length;
                              i > h;
                              f = ++h
                            )
                              (c = g[f]), j.push(e.push(C(d + f, c)));
                            return j;
                          }
                          return e.push(C(d, g));
                        }
                      },
                        d = j = 0,
                        n = f.length;
                      n > j;
                      d = ++j
                    )
                      (g = f[d]), h(g);
                  } else 0 <= (q = b - B - 1) && q < p.length && (e.push(C(b, c)), I++);
                  for (d = k = 0, o = p.length; o > k; d = ++k)
                    (c = p[d]), (c.scope.$index = B + d);
                  return l(!1, e);
                })
              );
            };
          },
        };
      },
    ]),
  angular
    .module("ui.scrollfix", [])
    .directive("uiScrollfix", [
      "$window",
      function (a) {
        return {
          require: "^?uiScrollfixTarget",
          link: function (b, c, d, e) {
            function f() {
              var b;
              if (angular.isDefined(a.pageYOffset)) b = a.pageYOffset;
              else {
                var e =
                  document.compatMode && "BackCompat" !== document.compatMode
                    ? document.documentElement
                    : document.body;
                b = e.scrollTop;
              }
              !c.hasClass("ui-scrollfix") && b > d.uiScrollfix
                ? c.addClass("ui-scrollfix")
                : c.hasClass("ui-scrollfix") &&
                  b < d.uiScrollfix &&
                  c.removeClass("ui-scrollfix");
            }
            var g = c[0].offsetTop,
              h = (e && e.$element) || angular.element(a);
            d.uiScrollfix
              ? "string" == typeof d.uiScrollfix &&
                ("-" === d.uiScrollfix.charAt(0)
                  ? (d.uiScrollfix = g - parseFloat(d.uiScrollfix.substr(1)))
                  : "+" === d.uiScrollfix.charAt(0) &&
                    (d.uiScrollfix = g + parseFloat(d.uiScrollfix.substr(1))))
              : (d.uiScrollfix = g),
              h.on("scroll", f),
              b.$on("$destroy", function () {
                h.off("scroll", f);
              });
          },
        };
      },
    ])
    .directive("uiScrollfixTarget", [
      function () {
        return {
          controller: [
            "$element",
            function (a) {
              this.$element = a;
            },
          ],
        };
      },
    ]),
  angular
    .module("ui.showhide", [])
    .directive("uiShow", [
      function () {
        return function (a, b, c) {
          a.$watch(c.uiShow, function (a) {
            a ? b.addClass("ui-show") : b.removeClass("ui-show");
          });
        };
      },
    ])
    .directive("uiHide", [
      function () {
        return function (a, b, c) {
          a.$watch(c.uiHide, function (a) {
            a ? b.addClass("ui-hide") : b.removeClass("ui-hide");
          });
        };
      },
    ])
    .directive("uiToggle", [
      function () {
        return function (a, b, c) {
          a.$watch(c.uiToggle, function (a) {
            a
              ? b.removeClass("ui-hide").addClass("ui-show")
              : b.removeClass("ui-show").addClass("ui-hide");
          });
        };
      },
    ]),
  angular.module("ui.unique", []).filter("unique", [
    "$parse",
    function (a) {
      return function (b, c) {
        if (c === !1) return b;
        if ((c || angular.isUndefined(c)) && angular.isArray(b)) {
          var d = [],
            e = angular.isString(c)
              ? a(c)
              : function (a) {
                  return a;
                },
            f = function (a) {
              return angular.isObject(a) ? e(a) : a;
            };
          angular.forEach(b, function (a) {
            for (var b = !1, c = 0; c < d.length; c++)
              if (angular.equals(f(d[c]), f(a))) {
                b = !0;
                break;
              }
            b || d.push(a);
          }),
            (b = d);
        }
        return b;
      };
    },
  ]),
  angular.module("ui.validate", []).directive("uiValidate", function () {
    return {
      restrict: "A",
      require: "ngModel",
      link: function (a, b, c, d) {
        function e(b) {
          return angular.isString(b)
            ? void a.$watch(b, function () {
                angular.forEach(g, function (a) {
                  a(d.$modelValue);
                });
              })
            : angular.isArray(b)
            ? void angular.forEach(b, function (b) {
                a.$watch(b, function () {
                  angular.forEach(g, function (a) {
                    a(d.$modelValue);
                  });
                });
              })
            : void (
                angular.isObject(b) &&
                angular.forEach(b, function (b, c) {
                  angular.isString(b) &&
                    a.$watch(b, function () {
                      g[c](d.$modelValue);
                    }),
                    angular.isArray(b) &&
                      angular.forEach(b, function (b) {
                        a.$watch(b, function () {
                          g[c](d.$modelValue);
                        });
                      });
                })
              );
        }
        var f,
          g = {},
          h = a.$eval(c.uiValidate);
        h &&
          (angular.isString(h) && (h = { validator: h }),
          angular.forEach(h, function (b, c) {
            (f = function (e) {
              var f = a.$eval(b, { $value: e });
              return angular.isObject(f) && angular.isFunction(f.then)
                ? (f.then(
                    function () {
                      d.$setValidity(c, !0);
                    },
                    function () {
                      d.$setValidity(c, !1);
                    }
                  ),
                  e)
                : f
                ? (d.$setValidity(c, !0), e)
                : (d.$setValidity(c, !1), e);
            }),
              (g[c] = f),
              d.$formatters.push(f),
              d.$parsers.push(f);
          }),
          c.uiValidateWatch && e(a.$eval(c.uiValidateWatch)));
      },
    };
  }),
  angular.module("ui.utils", [
    "ui.event",
    "ui.format",
    "ui.highlight",
    "ui.include",
    "ui.indeterminate",
    "ui.inflector",
    "ui.jq",
    "ui.keypress",
    "ui.mask",
    "ui.reset",
    "ui.route",
    "ui.scrollfix",
    "ui.scroll",
    "ui.scroll.jqlite",
    "ui.showhide",
    "ui.unique",
    "ui.validate",
  ]);
angular
  .module("mediaPlayer", ["mediaPlayer.helpers"])
  .constant("playerDefaults", {
    currentTrack: 0,
    ended: void 0,
    network: void 0,
    playing: !1,
    seeking: !1,
    tracks: 0,
    volume: 1,
    formatDuration: "00:00",
    formatTime: "00:00",
    loadPercent: 0,
  })
  .directive("mediaPlayer", [
    "$rootScope",
    "$interpolate",
    "$timeout",
    "throttle",
    "playerDefaults",
    function (a, b, c, d, e) {
      function f(a) {
        return function (b, d) {
          var e,
            f = null;
          if ((a.$attachPlaylist(b), void 0 === b && void 0 !== d))
            return a.pause();
          if (a.currentTrack) {
            e = d ? d[a.currentTrack - 1] : -1;
            for (var g = 0; g < b.length; g++)
              if (angular.equals(b[g], e)) {
                f = g;
                break;
              }
            null !== f
              ? ((a.currentTrack = f + 1), (a.tracks = b.length))
              : (a.pause(),
                b.length
                  ? c(function () {
                      a.$clearSourceList(),
                        a.$addSourceList(b[0]),
                        a.load(),
                        (a.tracks = b.length);
                    })
                  : a.reset());
          } else
            b.length
              ? (a.$clearSourceList(),
                a.$addSourceList(b[0]),
                a.load(),
                (a.tracks = b.length))
              : a.reset();
        };
      }
      var g = {
          load: function (a, b) {
            "boolean" == typeof a
              ? ((b = a), (a = null))
              : "object" == typeof a &&
                (this.$clearSourceList(), this.$addSourceList(a)),
              this.$domEl.load(),
              (this.ended = void 0),
              b && this.$element.one("canplay", this.play.bind(this));
          },
          reset: function (a) {
            angular.extend(this, e),
              this.$clearSourceList(),
              this.load(this.$playlist, a);
          },
          play: function (a, b) {
            return (
              "boolean" == typeof a && ((b = a), (a = void 0)),
              b && (this.$selective = !0),
              this.$playlist.length > a
                ? ((this.currentTrack = a + 1),
                  this.load(this.$playlist[a], !0))
                : (!this.currentTrack &&
                    this.$domEl.readyState &&
                    this.currentTrack++,
                  void (this.ended ? this.load(!0) : this.$domEl.play()))
            );
          },
          playPause: function (a, b) {
            "boolean" == typeof a && ((b = a), (a = void 0)),
              b && (this.$autoplay = !0),
              "number" == typeof a && a + 1 !== this.currentTrack
                ? this.play(a)
                : this.playing
                ? this.pause()
                : this.play();
          },
          pause: function () {
            this.$domEl.pause();
          },
          stop: function () {
            this.reset();
          },
          toggleMute: function () {
            this.muted = this.$domEl.muted = !this.$domEl.muted;
          },
          next: function (a) {
            var b = this;
            if (b.currentTrack && b.currentTrack < b.tracks) {
              var d = a || b.playing;
              b.pause(),
                c(function () {
                  b.$clearSourceList(),
                    b.$addSourceList(b.$playlist[b.currentTrack]),
                    b.load(d),
                    b.currentTrack++;
                });
            }
          },
          prev: function (a) {
            var b = this;
            if (b.currentTrack && b.currentTrack - 1) {
              var d = a || b.playing;
              b.pause(),
                c(function () {
                  b.$clearSourceList(),
                    b.$addSourceList(b.$playlist[b.currentTrack - 2]),
                    b.load(d),
                    b.currentTrack--;
                });
            }
          },
          setPlaybackRate: function (a) {
            this.$domEl.playbackRate = a;
          },
          setVolume: function (a) {
            this.$domEl.volume = a;
          },
          seek: function (a) {
            var b,
              c = 0;
            return "string" != typeof a
              ? (this.$domEl.currentTime = a)
              : ((b = a.split(":")),
                (c += parseInt(b.pop(), 10)),
                b.length && (c += 60 * parseInt(b.pop(), 10)),
                b.length && (c += 3600 * parseInt(b.pop(), 10)),
                isNaN(c) ? void 0 : (this.$domEl.currentTime = c));
          },
          on: function (a, b) {
            return this.$element.on(a, b);
          },
          off: function (a, b) {
            return this.$element.off(a, b);
          },
          one: function (a, b) {
            return this.$element.one(a, b);
          },
          $addSourceList: function (a) {
            var b = this;
            if (angular.isArray(a))
              angular.forEach(a, function (a) {
                var c = document.createElement("SOURCE");
                ["src", "type", "media"].forEach(function (b) {
                  void 0 !== a[b] && c.setAttribute(b, a[b]);
                }),
                  b.$element.append(c);
              });
            else if (angular.isObject(a)) {
              var c = document.createElement("SOURCE");
              ["src", "type", "media"].forEach(function (b) {
                void 0 !== a[b] && c.setAttribute(b, a[b]);
              }),
                b.$element.append(c);
            }
          },
          $clearSourceList: function () {
            this.$element.contents().remove();
          },
          $formatTime: function (a) {
            if (1 / 0 === a) return "";
            var b,
              c = parseInt(a / 3600, 10) % 24,
              d = parseInt(a / 60, 10) % 60,
              e = parseInt(a % 60, 10),
              f = (10 > d ? "0" + d : d) + ":" + (10 > e ? "0" + e : e);
            return (b = c > 0 ? (10 > c ? "0" + c : c) + ":" + f : f);
          },
          $attachPlaylist: function (a) {
            void 0 === a || null === a
              ? (this.playlist = [])
              : (this.$playlist = a);
          },
        },
        h = function (a, b, c) {
          var e = {
            playing: function () {
              a.$apply(function (a) {
                (a.playing = !0), (a.ended = !1);
              });
            },
            pause: function () {
              a.$apply(function (a) {
                a.playing = !1;
              });
            },
            ended: function () {
              !a.$selective && a.currentTrack < a.tracks
                ? a.next(!0)
                : a.$apply(function (a) {
                    (a.ended = !0), (a.playing = !1);
                  });
            },
            timeupdate: d(1e3, !1, function () {
              a.$apply(function (a) {
                (a.currentTime = b.currentTime),
                  (a.formatTime = a.$formatTime(a.currentTime));
              });
            }),
            loadedmetadata: function () {
              a.$apply(function (a) {
                a.currentTrack || a.currentTrack++,
                  (a.duration = b.duration),
                  (a.formatDuration = a.$formatTime(a.duration)),
                  b.buffered.length &&
                    (a.loadPercent = Math.round(
                      (b.buffered.end(b.buffered.length - 1) / a.duration) * 100
                    ));
              });
            },
            progress: function () {
              a.$domEl.buffered.length &&
                a.$apply(function (a) {
                  (a.loadPercent = Math.round(
                    (b.buffered.end(b.buffered.length - 1) / a.duration) * 100
                  )),
                    (a.network = "progress");
                });
            },
            volumechange: function () {
              a.$apply(function (a) {
                (a.volume = b.volume), (a.muted = b.muted);
              });
            },
            seeked: function () {
              a.$apply(function (a) {
                a.seeking = !1;
              });
            },
            seeking: function () {
              a.$apply(function (a) {
                a.seeking = !0;
              });
            },
            ratechange: function () {
              a.$apply(function (a) {
                a.playbackRate = b.playbackRate;
              });
            },
            stalled: function () {
              a.$apply(function (a) {
                a.network = "stalled";
              });
            },
            suspend: function () {
              a.$apply(function (a) {
                a.network = "suspend";
              });
            },
          };
          angular.forEach(e, function (a, b) {
            c.on(b, a);
          });
        },
        i = function (b) {
          var c = angular.extend(
            a.$new(!0),
            {
              $element: b,
              $domEl: b[0],
              $playlist: void 0,
              buffered: b[0].buffered,
              played: b[0].played,
              seekable: b[0].seekable,
            },
            e,
            g
          );
          return h(c, b[0], b), c;
        };
      return {
        scope: !1,
        link: function (a, b, c) {
          var d = c.playlist,
            e = c.mediaPlayer || c.playerControl,
            g = new i(b),
            h = a[d];
          if (
            ((h = void 0 === d ? [] : void 0 === a[d] ? (a[d] = []) : a[d]),
            void 0 !== e && (a[e] = g),
            "AUDIO" !== b[0].tagName && "VIDEO" !== b[0].tagName)
          )
            return new Error(
              "player directive works only when attached to an <audio>/<video> type tag"
            );
          var j = [],
            k = b.find("source");
          1 === k.length
            ? h.unshift({ src: k[0].src, type: k[0].type, media: k[0].media })
            : k.length > 1 &&
              (angular.forEach(k, function (a) {
                j.push({ src: a.src, type: a.type, media: a.media });
              }),
              h.unshift(j)),
            void 0 === d
              ? g.$attachPlaylist(h)
              : h.length
              ? (f(g)(h, void 0, a), a.$watch(d, f(g), !0))
              : a.$watch(d, f(g), !0),
            a.$on("$destroy", g.$destroy);
        },
      };
    },
  ]),
  angular.module("mediaPlayer.helpers", []).factory("throttle", [
    "$timeout",
    function (a) {
      return function (b, c, d, e) {
        var f,
          g = 0;
        "boolean" != typeof c && ((e = d), (d = c), (c = void 0));
        var h = function () {
          var h = this,
            i = +new Date() - g,
            j = arguments,
            k = function () {
              (g = +new Date()), d.apply(h, j);
            },
            l = function () {
              f = void 0;
            };
          e && !f && k(),
            f && a.cancel(f),
            void 0 === e && i > b
              ? k()
              : c !== !0 && (f = a(e ? l : k, void 0 === e ? b - i : b));
        };
        return h;
      };
    },
  ]); /*! 2.0.4 */
!(function () {
  function a(a, b) {
    window.XMLHttpRequest.prototype[a] = b(window.XMLHttpRequest.prototype[a]);
  }
  function b(a, b, c, d, e, f) {
    function g(a, b, c, d, e) {
      f(function () {
        for (var b = [], g = 0; g < a.length; g++) b.push(a.item(g));
        c &&
          ((d.fileModel = b),
          c && c.$setViewValue(null != b && 0 == b.length ? "" : b)),
          f(function () {
            d.change({ $files: b, $event: e });
          });
      });
    }
    a.multiple() && (b.attr("multiple", "true"), (c.multiple = "true"));
    var h = a.accept();
    if (
      (h && (b.attr("accept", h), (c.accept = h)),
      "input" !== b[0].tagName.toLowerCase() ||
        "file" !== (b.attr("type") && b.attr("type").toLowerCase()))
    ) {
      var i = angular.element('<input type="file">');
      c.multiple && i.attr("multiple", c.multiple),
        c.accept && i.attr("accept", c.accept),
        i
          .css("width", "1px")
          .css("height", "1px")
          .css("opacity", 0)
          .css("position", "absolute")
          .css("filter", "alpha(opacity=0)")
          .css("padding", 0)
          .css("margin", 0)
          .css("overflow", "hidden")
          .attr("tabindex", "-1")
          .attr("ng-file-generated-elem", !0),
        b.append(i),
        (b.__afu_fileClickDelegate__ = function () {
          i[0].click();
        }),
        b.bind("click", b.__afu_fileClickDelegate__),
        b.css("overflow", "hidden"),
        (b = i);
    }
    0 != a.resetOnClick() &&
      b.bind("click", function (e) {
        b[0].value && g([], c, d, a, e), (b[0].value = null);
      }),
      d &&
        a.$parent.$watch(c.ngModel, function (a) {
          null == a && (b[0].value = null);
        }),
      "" != c.ngFileSelect && (a.change = a.select),
      b.bind("change", function (b) {
        var e;
        (e = b.__files_ || b.target.files), g(e, c, d, a, b);
      });
  }
  function c(a, b, c, g, h, i, j) {
    function k(a, b, c) {
      var d = !0;
      if (r) {
        var e = c.dataTransfer.items;
        if (null != e)
          for (var f = 0; f < e.length && d; f++)
            d =
              d &&
              ("file" == e[f].kind || "" == e[f].kind) &&
              (null != e[f].type.match(r) ||
                (null != e[f].name && null != e[f].name.match(r)));
      }
      var g = a.dragOverClass({ $event: c });
      return (
        g &&
          (g.delay && (p = g.delay), g.accept && (g = d ? g.accept : g.reject)),
        g || b.dragOverClass || "dragover"
      );
    }
    function l(a, b, c, d) {
      function f(a) {
        !r || a.type.match(r) || (null != a.name && a.name.match(r))
          ? h.push(a)
          : k.push(a);
      }
      function g(a, b, c) {
        if (null != b)
          if (b.isDirectory) {
            f({ name: b.name, type: "directory", path: (c ? c : "") + b.name });
            var d = b.createReader();
            s++,
              d.readEntries(function (d) {
                try {
                  for (var e = 0; e < d.length; e++)
                    g(a, d[e], (c ? c : "") + b.name + "/");
                } finally {
                  s--;
                }
              });
          } else
            s++,
              b.file(function (a) {
                s--, (a.path = (c ? c : "") + a.name), f(a);
              });
      }
      var h = [],
        k = [],
        l = a.dataTransfer.items;
      if (l && l.length > 0 && "file" != j.protocol())
        for (var m = 0; m < l.length; m++) {
          if (
            l[m].webkitGetAsEntry &&
            l[m].webkitGetAsEntry() &&
            l[m].webkitGetAsEntry().isDirectory
          ) {
            var n = l[m].webkitGetAsEntry();
            if (n.isDirectory && !c) continue;
            null != n &&
              (e(n.name)
                ? g(h, n)
                : l[m].webkitGetAsEntry().isDirectory || f(l[m].getAsFile()));
          } else {
            var o = l[m].getAsFile();
            null != o && f(o);
          }
          if (!d && h.length > 0) break;
        }
      else {
        var p = a.dataTransfer.files;
        if (null != p)
          for (
            var m = 0;
            m < p.length && (f(p.item(m)), d || !(h.length > 0));
            m++
          );
      }
      var q = 0;
      !(function t(a) {
        i(function () {
          if (s) 10 * q++ < 2e4 && t(10);
          else {
            if (!d && h.length > 1) {
              for (var a = 0; "directory" == h[a].type; ) a++;
              h = [h[a]];
            }
            b(h, k);
          }
        }, a || 0);
      })();
      var s = 0;
    }
    var m = d();
    if (
      (c.dropAvailable &&
        i(function () {
          a.dropAvailable = m;
        }),
      !m)
    )
      return (
        0 != a.hideOnDropNotAvailable() && b.css("display", "none"), void 0
      );
    var n = null,
      o = a.stopPropagation(),
      p = 1,
      q = a.accept() || c.accept || c.ngAccept,
      r = q ? new RegExp(f(q)) : null;
    b[0].addEventListener(
      "dragover",
      function (d) {
        d.preventDefault(),
          o && d.stopPropagation(),
          i.cancel(n),
          a.actualDragOverClass || (a.actualDragOverClass = k(a, c, d)),
          b.addClass(a.actualDragOverClass);
      },
      !1
    ),
      b[0].addEventListener(
        "dragenter",
        function (a) {
          a.preventDefault(), o && a.stopPropagation();
        },
        !1
      ),
      b[0].addEventListener(
        "dragleave",
        function () {
          n = i(function () {
            b.removeClass(a.actualDragOverClass),
              (a.actualDragOverClass = null);
          }, p || 1);
        },
        !1
      ),
      "" != c.ngFileDrop && (a.change = a.drop),
      b[0].addEventListener(
        "drop",
        function (d) {
          d.preventDefault(),
            o && d.stopPropagation(),
            b.removeClass(a.actualDragOverClass),
            (a.actualDragOverClass = null),
            l(
              d,
              function (b, e) {
                g &&
                  ((a.fileModel = b),
                  g && g.$setViewValue(null != b && 0 == b.length ? "" : b)),
                  c.ngFileRejectedModel && (a.fileRejectedModel = e),
                  i(function () {
                    a.change({ $files: b, $rejectedFiles: e, $event: d });
                  });
              },
              0 != a.allowDir(),
              c.multiple || a.multiple() || "true" == c.ngMultiple
            );
        },
        !1
      );
  }
  function d() {
    var a = document.createElement("div");
    return "draggable" in a && "ondrop" in a;
  }
  function e(a) {
    return /^[\000-\177]*$/.test(a);
  }
  function f(a) {
    if (a.length > 2 && "/" === a[0] && "/" === a[a.length - 1])
      return a.substring(1, a.length - 1);
    var b = a.split(","),
      c = "";
    if (b.length > 1)
      for (var d = 0; d < b.length; d++)
        (c += "(" + f(b[d]) + ")"), d < b.length - 1 && (c += "|");
    else
      (c =
        "^" +
        a.replace(
          new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]", "g"),
          "\\$&"
        ) +
        "$"),
        (c = c.replace(/\\\*/g, ".*").replace(/\\\?/g, "."));
    return c;
  }
  window.XMLHttpRequest &&
    !window.XMLHttpRequest.__isFileAPIShim &&
    a("setRequestHeader", function (a) {
      return function (b, c) {
        if ("__setXHR_" === b) {
          var d = c(this);
          d instanceof Function && d(this);
        } else a.apply(this, arguments);
      };
    });
  var g = angular.module("angularFileUpload", []);
  (g.version = "2.0.4"),
    g.service("$upload", [
      "$http",
      "$q",
      "$timeout",
      function (a, b, c) {
        function d(d) {
          (d.method = d.method || "POST"),
            (d.headers = d.headers || {}),
            (d.transformRequest =
              d.transformRequest ||
              function (b, c) {
                return window.ArrayBuffer && b instanceof window.ArrayBuffer
                  ? b
                  : a.defaults.transformRequest[0](b, c);
              });
          var e = b.defer(),
            f = e.promise;
          return (
            (d.headers.__setXHR_ = function () {
              return function (a) {
                a &&
                  ((d.__XHR = a),
                  d.xhrFn && d.xhrFn(a),
                  a.upload.addEventListener(
                    "progress",
                    function (a) {
                      (a.config = d),
                        e.notify
                          ? e.notify(a)
                          : f.progress_fn &&
                            c(function () {
                              f.progress_fn(a);
                            });
                    },
                    !1
                  ),
                  a.upload.addEventListener(
                    "load",
                    function (a) {
                      a.lengthComputable &&
                        ((a.config = d),
                        e.notify
                          ? e.notify(a)
                          : f.progress_fn &&
                            c(function () {
                              f.progress_fn(a);
                            }));
                    },
                    !1
                  ));
              };
            }),
            a(d).then(
              function (a) {
                e.resolve(a);
              },
              function (a) {
                e.reject(a);
              },
              function (a) {
                e.notify(a);
              }
            ),
            (f.success = function (a) {
              return (
                f.then(function (b) {
                  a(b.data, b.status, b.headers, d);
                }),
                f
              );
            }),
            (f.error = function (a) {
              return (
                f.then(null, function (b) {
                  a(b.data, b.status, b.headers, d);
                }),
                f
              );
            }),
            (f.progress = function (a) {
              return (
                (f.progress_fn = a),
                f.then(null, null, function (b) {
                  a(b);
                }),
                f
              );
            }),
            (f.abort = function () {
              return (
                d.__XHR &&
                  c(function () {
                    d.__XHR.abort();
                  }),
                f
              );
            }),
            (f.xhr = function (a) {
              return (
                (d.xhrFn = (function (b) {
                  return function () {
                    b && b.apply(f, arguments), a.apply(f, arguments);
                  };
                })(d.xhrFn)),
                f
              );
            }),
            f
          );
        }
        (this.upload = function (b) {
          (b.headers = b.headers || {}),
            (b.headers["Content-Type"] = void 0),
            (b.transformRequest =
              b.transformRequest || a.defaults.transformRequest);
          var c = new FormData(),
            e = b.transformRequest,
            f = b.data;
          return (
            (b.transformRequest = function (a, c) {
              if (f)
                if (b.formDataAppender)
                  for (var d in f) {
                    var g = f[d];
                    b.formDataAppender(a, d, g);
                  }
                else
                  for (var d in f) {
                    var g = f[d];
                    if ("function" == typeof e) g = e(g, c);
                    else
                      for (var h = 0; h < e.length; h++) {
                        var i = e[h];
                        "function" == typeof i && (g = i(g, c));
                      }
                    void 0 != g && a.append(d, g);
                  }
              if (null != b.file) {
                var j = b.fileFormDataName || "file";
                if ("[object Array]" === Object.prototype.toString.call(b.file))
                  for (
                    var k =
                        "[object String]" === Object.prototype.toString.call(j),
                      h = 0;
                    h < b.file.length;
                    h++
                  )
                    a.append(
                      k ? j : j[h],
                      b.file[h],
                      (b.fileName && b.fileName[h]) || b.file[h].name
                    );
                else a.append(j, b.file, b.fileName || b.file.name);
              }
              return a;
            }),
            (b.data = c),
            d(b)
          );
        }),
          (this.http = function (a) {
            return d(a);
          });
      },
    ]),
    g.directive("ngFileSelect", [
      "$parse",
      "$timeout",
      function (a, c) {
        return {
          restrict: "AEC",
          require: "?ngModel",
          scope: {
            fileModel: "=ngModel",
            change: "&ngFileChange",
            select: "&ngFileSelect",
            resetOnClick: "&resetOnClick",
            multiple: "&ngMultiple",
            accept: "&ngAccept",
          },
          link: function (d, e, f, g) {
            b(d, e, f, g, a, c);
          },
        };
      },
    ]),
    g.directive("ngFileDrop", [
      "$parse",
      "$timeout",
      "$location",
      function (a, b, d) {
        return {
          restrict: "AEC",
          require: "?ngModel",
          scope: {
            fileModel: "=ngModel",
            fileRejectedModel: "=ngFileRejectedModel",
            change: "&ngFileChange",
            drop: "&ngFileDrop",
            allowDir: "&allowDir",
            dragOverClass: "&dragOverClass",
            dropAvailable: "=dropAvailable",
            stopPropagation: "&stopPropagation",
            hideOnDropNotAvailable: "&hideOnDropNotAvailable",
            multiple: "&ngMultiple",
            accept: "&ngAccept",
          },
          link: function (e, f, g, h) {
            c(e, f, g, h, a, b, d);
          },
        };
      },
    ]),
    g.directive("ngNoFileDrop", function () {
      return function (a, b) {
        d() && b.css("display", "none");
      };
    }),
    g.directive("ngFileDropAvailable", [
      "$parse",
      "$timeout",
      function (a, b) {
        return function (c, e, f) {
          if (d()) {
            var g = a(f.ngFileDropAvailable);
            b(function () {
              g(c);
            });
          }
        };
      },
    ]);
})();
(function (ng, _) {
  "use strict";

  var lodashModule = ng.module("angular-lodash", []),
    utilsModule = ng.module("angular-lodash/utils", []),
    filtersModule = ng.module("angular-lodash/filters", []);

  // begin custom _

  function propGetterFactory(prop) {
    return function (obj) {
      return obj[prop];
    };
  }

  _._ = _;

  // Shiv "min", "max" ,"sortedIndex" to accept property predicate.
  _.each(["min", "max", "sortedIndex"], function (fnName) {
    _[fnName] = _.wrap(_[fnName], function (fn) {
      var args = _.toArray(arguments).slice(1);

      if (_.isString(args[2])) {
        // for "sortedIndex", transmuting str to property getter
        args[2] = propGetterFactory(args[2]);
      } else if (_.isString(args[1])) {
        // for "min" or "max", transmuting str to property getter
        args[1] = propGetterFactory(args[1]);
      }

      return fn.apply(_, args);
    });
  });

  // Shiv "filter", "reject" to angular's built-in,
  // and reserve lodash's feature(works on obj).
  ng.injector(["ng"]).invoke([
    "$filter",
    function ($filter) {
      _.filter = _.select = _.wrap(
        $filter("filter"),
        function (filter, obj, exp) {
          if (!_.isArray(obj)) {
            obj = _.toArray(obj);
          }

          return filter(obj, exp);
        }
      );

      _.reject = function (obj, exp) {
        // use angular built-in negated predicate
        if (_.isString(exp)) {
          return _.filter(obj, "!" + exp);
        }

        var diff = _.bind(_.difference, _, obj);

        return diff(_.filter(obj, exp));
      };
    },
  ]);

  // end custom _

  // begin register angular-lodash/utils

  _.each(_.methods(_), function (methodName) {
    function register($rootScope) {
      $rootScope[methodName] = _.bind(_[methodName], _);
    }

    _.each(
      [
        lodashModule,
        utilsModule,
        ng.module("angular-lodash/utils/" + methodName, []),
      ],
      function (module) {
        module.run(["$rootScope", register]);
      }
    );
  });

  // end register angular-lodash/utils

  // begin register angular-lodash/filters

  var adapList = [
    ["map", "collect"],
    ["reduce", "inject", "foldl"],
    ["reduceRight", "foldr"],
    ["find", "detect"],
    ["filter", "select"],
    "where",
    "findWhere",
    "reject",
    "invoke",
    "pluck",
    "max",
    "min",
    "sortBy",
    "groupBy",
    "countBy",
    "shuffle",
    "toArray",
    "size",
    ["first", "head", "take"],
    "initial",
    "last",
    ["rest", "tail", "drop"],
    "compact",
    "flatten",
    "without",
    "union",
    "intersection",
    "difference",
    ["uniq", "unique"],
    "zip",
    "object",
    "indexOf",
    "lastIndexOf",
    "sortedIndex",
    "keys",
    "values",
    "pairs",
    "invert",
    ["functions", "methods"],
    "pick",
    "omit",
    "tap",
    "identity",
    "uniqueId",
    "escape",
    "result",
    "template",
  ];

  _.each(adapList, function (filterNames) {
    if (!_.isArray(filterNames)) {
      filterNames = [filterNames];
    }

    var filter = _.bind(_[filterNames[0]], _),
      filterFactory = function () {
        return filter;
      };

    _.each(filterNames, function (filterName) {
      _.each(
        [
          lodashModule,
          filtersModule,
          ng.module("angular-lodash/filters/" + filterName, []),
        ],
        function (module) {
          module.filter(filterName, filterFactory);
        }
      );
    });
  });

  // end register angular-lodash/filters
})(angular, _);
angular.module("ui.bootstrap-slider", []).directive("slider", [
  "$parse",
  "$timeout",
  function ($parse, $timeout) {
    return {
      restrict: "AE",
      replace: true,
      template: '<input type="text" />',
      require: "ngModel",
      link: function ($scope, element, attrs, ngModelCtrl) {
        $.fn.slider.Constructor.prototype.disable = function () {
          this.picker.off();
        };

        $.fn.slider.Constructor.prototype.enable = function () {
          this.picker.on();
        };

        if (attrs.ngChange) {
          ngModelCtrl.$viewChangeListeners.push(function () {
            $scope.$apply(attrs.ngChange);
          });
        }

        var options = {};
        if (attrs.sliderid) options.id = attrs.sliderid;
        if (attrs.min) options.min = parseFloat(attrs.min);
        if (attrs.max) options.max = parseFloat(attrs.max);
        if (attrs.step) options.step = parseFloat(attrs.step);
        if (attrs.precision) options.precision = parseFloat(attrs.precision);
        if (attrs.orientation) options.orientation = attrs.orientation;
        if (attrs.value) {
          if (angular.isNumber(attrs.value) || angular.isArray(attrs.value)) {
            options.value = attrs.value;
          } else if (angular.isString(attrs.value)) {
            if (attrs.value.indexOf("[") === 0) {
              options.value = angular.fromJson(attrs.value);
            } else {
              options.value = parseFloat(attrs.value);
            }
          }
        }
        if (attrs.range) options.range = attrs.range === "true";
        if (attrs.selection) options.selection = attrs.selection;
        if (attrs.tooltip) options.tooltip = attrs.tooltip;
        if (attrs.tooltipseparator)
          options.tooltip_separator = attrs.tooltipseparator;
        if (attrs.tooltipsplit)
          options.tooltip_split = attrs.tooltipsplit === "true";
        if (attrs.handle) options.handle = attrs.handle;
        if (attrs.reversed) options.reversed = attrs.reversed === "true";
        if (attrs.enabled) options.enabled = attrs.enabled === "true";
        if (attrs.naturalarrowkeys)
          options.natural_arrow_keys = attrs.naturalarrowkeys === "true";
        if (attrs.formater) options.formater = $scope.$eval(attrs.formater);

        if (options.range && !options.value) {
          options.value = [0, 0]; // This is needed, because of value defined at $.fn.slider.defaults - default value 5 prevents creating range slider
        }

        var slider = $(element[0]).slider(options);
        var updateEvent = attrs.updateevent || "slide";

        slider.on(updateEvent, function (ev) {
          ngModelCtrl.$setViewValue(ev.value);
          $timeout(function () {
            $scope.$apply();
          });
        });

        $scope.$watch(attrs.ngModel, function (value) {
          if (value || value === 0) {
            slider.slider("setValue", value, false);
          }
        });

        if (angular.isDefined(attrs.ngDisabled)) {
          $scope.$watch(attrs.ngDisabled, function (value) {
            if (value) {
              slider.slider("disable");
            } else {
              slider.slider("enable");
            }
          });
        }
      },
    };
  },
]);
!(function (a) {
  function b(b, d) {
    if (g[b]) {
      var e = c(this),
        f = g[b].apply(e, d);
      return "undefined" == typeof f ? a(this) : f;
    }
    throw new Error("method '" + b + "()' does not exist for slider.");
  }
  function c(b) {
    var c = a(b).data("slider");
    if (c && c instanceof f) return c;
    throw new Error(e.callingContextNotSliderInstance);
  }
  function d(b) {
    var c = a(this);
    return (
      c.each(function () {
        var c = a(this),
          d = c.data("slider"),
          e = "object" == typeof b && b;
        d &&
          !e &&
          ((e = {}),
          a.each(a.fn.slider.defaults, function (a) {
            e[a] = d[a];
          })),
          c.data("slider", new f(this, a.extend({}, a.fn.slider.defaults, e)));
      }),
      c
    );
  }
  var e = {
      formatInvalidInputErrorMsg: function (a) {
        return "Invalid input value '" + a + "' passed in";
      },
      callingContextNotSliderInstance:
        "Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method",
    },
    f = function (b, c) {
      var d = (this.element = a(b).hide()),
        e = a(b)[0].style.width,
        f = !1,
        g = this.element.parent();
      g.hasClass("slider") === !0
        ? ((f = !0), (this.picker = g))
        : (this.picker = a(
            '<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div id="tooltip" class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div><div id="tooltip_min" class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div><div id="tooltip_max" class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>'
          )
            .insertBefore(this.element)
            .append(this.element)),
        (this.id = this.element.data("slider-id") || c.id),
        this.id && (this.picker[0].id = this.id),
        ("ontouchstart" in window ||
          (window.DocumentTouch && document instanceof window.DocumentTouch)) &&
          (this.touchCapable = !0);
      var h = this.element.data("slider-tooltip") || c.tooltip;
      switch (
        ((this.tooltip = this.picker.find("#tooltip")),
        (this.tooltipInner = this.tooltip.find("div.tooltip-inner")),
        (this.tooltip_min = this.picker.find("#tooltip_min")),
        (this.tooltipInner_min = this.tooltip_min.find("div.tooltip-inner")),
        (this.tooltip_max = this.picker.find("#tooltip_max")),
        (this.tooltipInner_max = this.tooltip_max.find("div.tooltip-inner")),
        f === !0 &&
          (this.picker.removeClass("slider-horizontal"),
          this.picker.removeClass("slider-vertical"),
          this.tooltip.removeClass("hide"),
          this.tooltip_min.removeClass("hide"),
          this.tooltip_max.removeClass("hide")),
        (this.orientation =
          this.element.data("slider-orientation") || c.orientation),
        this.orientation)
      ) {
        case "vertical":
          this.picker.addClass("slider-vertical"),
            (this.stylePos = "top"),
            (this.mousePos = "pageY"),
            (this.sizePos = "offsetHeight"),
            (this.tooltip.addClass("right")[0].style.left = "100%"),
            (this.tooltip_min.addClass("right")[0].style.left = "100%"),
            (this.tooltip_max.addClass("right")[0].style.left = "100%");
          break;
        default:
          this.picker.addClass("slider-horizontal").css("width", e),
            (this.orientation = "horizontal"),
            (this.stylePos = "left"),
            (this.mousePos = "pageX"),
            (this.sizePos = "offsetWidth"),
            (this.tooltip.addClass("top")[0].style.top =
              -this.tooltip.outerHeight() - 14 + "px"),
            (this.tooltip_min.addClass("top")[0].style.top =
              -this.tooltip_min.outerHeight() - 14 + "px"),
            (this.tooltip_max.addClass("top")[0].style.top =
              -this.tooltip_max.outerHeight() - 14 + "px");
      }
      var i = this;
      a.each(["min", "max", "step", "value"], function (a, b) {
        i[b] =
          "undefined" != typeof d.data("slider-" + b)
            ? d.data("slider-" + b)
            : "undefined" != typeof c[b]
            ? c[b]
            : "undefined" != typeof d.prop(b)
            ? d.prop(b)
            : 0;
      }),
        this.value instanceof Array
          ? f && !this.range
            ? (this.value = this.value[0])
            : (this.range = !0)
          : this.range && (this.value = [this.value, this.max]),
        (this.selection = this.element.data("slider-selection") || c.selection),
        (this.selectionEl = this.picker.find(".slider-selection")),
        "none" === this.selection && this.selectionEl.addClass("hide"),
        (this.selectionElStyle = this.selectionEl[0].style),
        (this.handle1 = this.picker.find(".slider-handle:first")),
        (this.handle1Stype = this.handle1[0].style),
        (this.handle2 = this.picker.find(".slider-handle:last")),
        (this.handle2Stype = this.handle2[0].style),
        f === !0 &&
          (this.handle1.removeClass("round triangle"),
          this.handle2.removeClass("round triangle hide"));
      var j = this.element.data("slider-handle") || c.handle;
      switch (j) {
        case "round":
          this.handle1.addClass("round"), this.handle2.addClass("round");
          break;
        case "triangle":
          this.handle1.addClass("triangle"), this.handle2.addClass("triangle");
      }
      this.range
        ? ((this.value[0] = Math.max(
            this.min,
            Math.min(this.max, this.value[0])
          )),
          (this.value[1] = Math.max(
            this.min,
            Math.min(this.max, this.value[1])
          )))
        : ((this.value = [Math.max(this.min, Math.min(this.max, this.value))]),
          this.handle2.addClass("hide"),
          (this.value[1] = "after" === this.selection ? this.max : this.min)),
        (this.diff = this.max - this.min),
        (this.percentage =
          this.diff > 0
            ? [
                (100 * (this.value[0] - this.min)) / this.diff,
                (100 * (this.value[1] - this.min)) / this.diff,
                (100 * this.step) / this.diff,
              ]
            : [0, 0, 100]),
        (this.offset = this.picker.offset()),
        (this.size = this.picker[0][this.sizePos]),
        (this.formater = c.formater),
        (this.tooltip_separator = c.tooltip_separator),
        (this.tooltip_split = c.tooltip_split),
        (this.reversed = this.element.data("slider-reversed") || c.reversed),
        this.layout(),
        this.layout(),
        this.handle1.on({ keydown: a.proxy(this.keydown, this, 0) }),
        this.handle2.on({ keydown: a.proxy(this.keydown, this, 1) }),
        this.touchCapable &&
          this.picker.on({ touchstart: a.proxy(this.mousedown, this) }),
        this.picker.on({ mousedown: a.proxy(this.mousedown, this) }),
        "hide" === h
          ? (this.tooltip.addClass("hide"),
            this.tooltip_min.addClass("hide"),
            this.tooltip_max.addClass("hide"))
          : "always" === h
          ? (this.showTooltip(), (this.alwaysShowTooltip = !0))
          : (this.picker.on({
              mouseenter: a.proxy(this.showTooltip, this),
              mouseleave: a.proxy(this.hideTooltip, this),
            }),
            this.handle1.on({
              focus: a.proxy(this.showTooltip, this),
              blur: a.proxy(this.hideTooltip, this),
            }),
            this.handle2.on({
              focus: a.proxy(this.showTooltip, this),
              blur: a.proxy(this.hideTooltip, this),
            })),
        (this.enabled =
          c.enabled &&
          (void 0 === this.element.data("slider-enabled") ||
            this.element.data("slider-enabled") === !0)),
        this.enabled ? this.enable() : this.disable();
    };
  f.prototype = {
    constructor: f,
    over: !1,
    inDrag: !1,
    showTooltip: function () {
      this.tooltip_split === !1
        ? this.tooltip.addClass("in")
        : (this.tooltip_min.addClass("in"), this.tooltip_max.addClass("in")),
        (this.over = !0);
    },
    hideTooltip: function () {
      this.inDrag === !1 &&
        this.alwaysShowTooltip !== !0 &&
        (this.tooltip.removeClass("in"),
        this.tooltip_min.removeClass("in"),
        this.tooltip_max.removeClass("in")),
        (this.over = !1);
    },
    layout: function () {
      var a;
      if (
        ((a = this.reversed
          ? [100 - this.percentage[0], this.percentage[1]]
          : [this.percentage[0], this.percentage[1]]),
        (this.handle1Stype[this.stylePos] = a[0] + "%"),
        (this.handle2Stype[this.stylePos] = a[1] + "%"),
        "vertical" === this.orientation)
      )
        (this.selectionElStyle.top = Math.min(a[0], a[1]) + "%"),
          (this.selectionElStyle.height = Math.abs(a[0] - a[1]) + "%");
      else {
        (this.selectionElStyle.left = Math.min(a[0], a[1]) + "%"),
          (this.selectionElStyle.width = Math.abs(a[0] - a[1]) + "%");
        var b = this.tooltip_min[0].getBoundingClientRect(),
          c = this.tooltip_max[0].getBoundingClientRect();
        b.right > c.left
          ? (this.tooltip_max.removeClass("top"),
            (this.tooltip_max.addClass("bottom")[0].style.top = "18px"))
          : (this.tooltip_max.removeClass("bottom"),
            (this.tooltip_max.addClass("top")[0].style.top = "-30px"));
      }
      this.range
        ? (this.tooltipInner.text(
            this.formater(this.value[0]) +
              this.tooltip_separator +
              this.formater(this.value[1])
          ),
          (this.tooltip[0].style[this.stylePos] =
            (this.size * (a[0] + (a[1] - a[0]) / 2)) / 100 -
            ("vertical" === this.orientation
              ? this.tooltip.outerHeight() / 2
              : this.tooltip.outerWidth() / 2) +
            "px"),
          this.tooltipInner_min.text(this.formater(this.value[0])),
          this.tooltipInner_max.text(this.formater(this.value[1])),
          (this.tooltip_min[0].style[this.stylePos] =
            this.size * (a[0] / 100) -
            ("vertical" === this.orientation
              ? this.tooltip_min.outerHeight() / 2
              : this.tooltip_min.outerWidth() / 2) +
            "px"),
          (this.tooltip_max[0].style[this.stylePos] =
            this.size * (a[1] / 100) -
            ("vertical" === this.orientation
              ? this.tooltip_max.outerHeight() / 2
              : this.tooltip_max.outerWidth() / 2) +
            "px"))
        : (this.tooltipInner.text(this.formater(this.value[0])),
          (this.tooltip[0].style[this.stylePos] =
            (this.size * a[0]) / 100 -
            ("vertical" === this.orientation
              ? this.tooltip.outerHeight() / 2
              : this.tooltip.outerWidth() / 2) +
            "px"));
    },
    mousedown: function (b) {
      if (!this.isEnabled()) return !1;
      this.touchCapable && "touchstart" === b.type && (b = b.originalEvent),
        this.triggerFocusOnHandle(),
        (this.offset = this.picker.offset()),
        (this.size = this.picker[0][this.sizePos]);
      var c = this.getPercentage(b);
      if (this.range) {
        var d = Math.abs(this.percentage[0] - c),
          e = Math.abs(this.percentage[1] - c);
        this.dragged = e > d ? 0 : 1;
      } else this.dragged = 0;
      (this.percentage[this.dragged] = this.reversed ? 100 - c : c),
        this.layout(),
        this.touchCapable &&
          a(document).on({
            touchmove: a.proxy(this.mousemove, this),
            touchend: a.proxy(this.mouseup, this),
          }),
        a(document).on({
          mousemove: a.proxy(this.mousemove, this),
          mouseup: a.proxy(this.mouseup, this),
        }),
        (this.inDrag = !0);
      var f = this.calculateValue();
      return (
        this.setValue(f),
        this.element
          .trigger({ type: "slideStart", value: f })
          .data("value", f)
          .prop("value", f),
        !0
      );
    },
    triggerFocusOnHandle: function (a) {
      0 === a && this.handle1.focus(), 1 === a && this.handle2.focus();
    },
    keydown: function (a, b) {
      if (!this.isEnabled()) return !1;
      var c;
      switch (b.which) {
        case 37:
        case 40:
          c = -1;
          break;
        case 39:
        case 38:
          c = 1;
      }
      if (c) {
        var d = c * this.percentage[2],
          e = this.percentage[a] + d;
        e > 100 ? (e = 100) : 0 > e && (e = 0),
          (this.dragged = a),
          this.adjustPercentageForRangeSliders(e),
          (this.percentage[this.dragged] = e),
          this.layout();
        var f = this.calculateValue();
        return (
          this.setValue(f),
          this.element
            .trigger({ type: "slideStop", value: f })
            .data("value", f)
            .prop("value", f),
          !1
        );
      }
    },
    mousemove: function (a) {
      if (!this.isEnabled()) return !1;
      this.touchCapable && "touchmove" === a.type && (a = a.originalEvent);
      var b = this.getPercentage(a);
      this.adjustPercentageForRangeSliders(b),
        (this.percentage[this.dragged] = this.reversed ? 100 - b : b),
        this.layout();
      var c = this.calculateValue();
      return this.setValue(c), !1;
    },
    adjustPercentageForRangeSliders: function (a) {
      this.range &&
        (0 === this.dragged && this.percentage[1] < a
          ? ((this.percentage[0] = this.percentage[1]), (this.dragged = 1))
          : 1 === this.dragged &&
            this.percentage[0] > a &&
            ((this.percentage[1] = this.percentage[0]), (this.dragged = 0)));
    },
    mouseup: function () {
      if (!this.isEnabled()) return !1;
      this.touchCapable &&
        a(document).off({ touchmove: this.mousemove, touchend: this.mouseup }),
        a(document).off({ mousemove: this.mousemove, mouseup: this.mouseup }),
        (this.inDrag = !1),
        this.over === !1 && this.hideTooltip();
      var b = this.calculateValue();
      return (
        this.layout(),
        this.element
          .data("value", b)
          .prop("value", b)
          .trigger({ type: "slideStop", value: b }),
        !1
      );
    },
    calculateValue: function () {
      var a;
      return (
        this.range
          ? ((a = [this.min, this.max]),
            0 !== this.percentage[0] &&
              (a[0] = Math.max(
                this.min,
                this.min +
                  Math.round(
                    (this.diff * this.percentage[0]) / 100 / this.step
                  ) *
                    this.step
              )),
            100 !== this.percentage[1] &&
              (a[1] = Math.min(
                this.max,
                this.min +
                  Math.round(
                    (this.diff * this.percentage[1]) / 100 / this.step
                  ) *
                    this.step
              )),
            (this.value = a))
          : ((a =
              this.min +
              Math.round((this.diff * this.percentage[0]) / 100 / this.step) *
                this.step),
            a < this.min ? (a = this.min) : a > this.max && (a = this.max),
            (a = parseFloat(a)),
            (this.value = [a, this.value[1]])),
        a
      );
    },
    getPercentage: function (a) {
      !this.touchCapable ||
        ("touchstart" !== a.type && "touchmove" !== a.type) ||
        (a = a.touches[0]);
      var b =
        (100 * (a[this.mousePos] - this.offset[this.stylePos])) / this.size;
      return (
        (b = Math.round(b / this.percentage[2]) * this.percentage[2]),
        Math.max(0, Math.min(100, b))
      );
    },
    getValue: function () {
      return this.range ? this.value : this.value[0];
    },
    setValue: function (a) {
      a || (a = 0),
        (this.value = this.validateInputValue(a)),
        this.range
          ? ((this.value[0] = Math.max(
              this.min,
              Math.min(this.max, this.value[0])
            )),
            (this.value[1] = Math.max(
              this.min,
              Math.min(this.max, this.value[1])
            )))
          : ((this.value = [
              Math.max(this.min, Math.min(this.max, this.value)),
            ]),
            this.handle2.addClass("hide"),
            (this.value[1] = "after" === this.selection ? this.max : this.min)),
        (this.diff = this.max - this.min),
        (this.percentage =
          this.diff > 0
            ? [
                (100 * (this.value[0] - this.min)) / this.diff,
                (100 * (this.value[1] - this.min)) / this.diff,
                (100 * this.step) / this.diff,
              ]
            : [0, 0, 100]),
        this.layout();
      var b = this.range ? this.value : this.value[0];
      this.element
        .trigger({ type: "slide", value: b })
        .data("value", this.value)
        .prop("value", this.value);
    },
    validateInputValue: function (b) {
      if ("number" == typeof b) return b;
      if (b instanceof Array)
        return (
          a.each(b, function (a, b) {
            if ("number" != typeof b)
              throw new Error(e.formatInvalidInputErrorMsg(b));
          }),
          b
        );
      throw new Error(e.formatInvalidInputErrorMsg(b));
    },
    destroy: function () {
      this.handle1.off(),
        this.handle2.off(),
        this.element.off().show().insertBefore(this.picker),
        this.picker.off().remove(),
        a(this.element).removeData("slider");
    },
    disable: function () {
      (this.enabled = !1),
        this.handle1.removeAttr("tabindex"),
        this.handle2.removeAttr("tabindex"),
        this.picker.addClass("slider-disabled"),
        this.element.trigger("slideDisabled");
    },
    enable: function () {
      (this.enabled = !0),
        this.handle1.attr("tabindex", 0),
        this.handle2.attr("tabindex", 0),
        this.picker.removeClass("slider-disabled"),
        this.element.trigger("slideEnabled");
    },
    toggle: function () {
      this.enabled ? this.disable() : this.enable();
    },
    isEnabled: function () {
      return this.enabled;
    },
    setAttribute: function (a, b) {
      this[a] = b;
    },
    getAttribute: function (a) {
      return this[a];
    },
  };
  var g = {
    getValue: f.prototype.getValue,
    setValue: f.prototype.setValue,
    setAttribute: f.prototype.setAttribute,
    getAttribute: f.prototype.getAttribute,
    destroy: f.prototype.destroy,
    disable: f.prototype.disable,
    enable: f.prototype.enable,
    toggle: f.prototype.toggle,
    isEnabled: f.prototype.isEnabled,
  };
  (a.fn.slider = function (a) {
    if ("string" == typeof a && "refresh" !== a) {
      var c = Array.prototype.slice.call(arguments, 1);
      return b.call(this, a, c);
    }
    return d.call(this, a);
  }),
    (a.fn.slider.defaults = {
      min: 0,
      max: 10,
      step: 1,
      orientation: "horizontal",
      value: 5,
      range: !1,
      selection: "before",
      tooltip: "show",
      tooltip_separator: ":",
      tooltip_split: !1,
      handle: "round",
      reversed: !1,
      enabled: !0,
      formater: function (a) {
        return a;
      },
    }),
    (a.fn.slider.Constructor = f);
})(window.jQuery); /*! angular-spectrum-colorpicker v1.2.1 */
!(function (a) {
  "use strict";
  var b = a.module("angularSpectrumColorpicker", []);
  !(function (c) {
    b.directive("spectrumColorpicker", function () {
      return {
        restrict: "E",
        require: "ngModel",
        scope: !1,
        replace: !0,
        template: '<span><input class="input-small" /></span>',
        link: function (b, d, e, f) {
          function g(b) {
            var c = i;
            b ? (c = b.toString(j)) : a.isUndefined(i) && (c = b),
              f.$setViewValue(c);
          }
          var h = d.find("input"),
            i = b.$eval(e.fallbackValue),
            j = b.$eval(e.format) || c,
            k = function (a) {
              b.$apply(function () {
                g(a);
              });
            },
            l = function () {
              return h.spectrum("toggle"), !1;
            },
            m = a.extend(
              { color: f.$viewValue, change: k, move: k, hide: k },
              b.$eval(e.options)
            );
          e.triggerId &&
            a.element(document.body).on("click", "#" + e.triggerId, l),
            (f.$render = function () {
              h.spectrum("set", f.$viewValue || "");
            }),
            m.color && (h.spectrum("set", m.color || ""), g(m.color)),
            h.spectrum(m),
            b.$on("$destroy", function () {
              h.spectrum("destroy");
            });
        },
      };
    });
  })();
})(window.angular);
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.7.0 - 2014-09-09T01:02:43.608Z
 * License: MIT
 */
!(function () {
  "use strict";
  var e = {
    TAB: 9,
    ENTER: 13,
    ESC: 27,
    SPACE: 32,
    LEFT: 37,
    UP: 38,
    RIGHT: 39,
    DOWN: 40,
    SHIFT: 16,
    CTRL: 17,
    ALT: 18,
    PAGE_UP: 33,
    PAGE_DOWN: 34,
    HOME: 36,
    END: 35,
    BACKSPACE: 8,
    DELETE: 46,
    isControl: function (t) {
      var c = t.which;
      switch (c) {
        case e.SHIFT:
        case e.CTRL:
        case e.ALT:
          return !0;
      }
      return t.metaKey ? !0 : !1;
    },
    isFunctionKey: function (e) {
      return (e = e.which ? e.which : e), e >= 112 && 123 >= e;
    },
    isVerticalMovement: function (t) {
      return ~[e.UP, e.DOWN].indexOf(t);
    },
    isHorizontalMovement: function (t) {
      return ~[e.LEFT, e.RIGHT, e.BACKSPACE, e.DELETE].indexOf(t);
    },
  };
  void 0 === angular.element.prototype.querySelectorAll &&
    (angular.element.prototype.querySelectorAll = function (e) {
      return angular.element(this[0].querySelectorAll(e));
    }),
    angular
      .module("ui.select", [])
      .constant("uiSelectConfig", {
        theme: "bootstrap",
        searchEnabled: !0,
        placeholder: "",
        refreshDelay: 1e3,
      })
      .service("uiSelectMinErr", function () {
        var e = angular.$$minErr("ui.select");
        return function () {
          var t = e.apply(this, arguments),
            c = t.message.replace(
              new RegExp("\nhttp://errors.angularjs.org/.*"),
              ""
            );
          return new Error(c);
        };
      })
      .service("RepeatParser", [
        "uiSelectMinErr",
        "$parse",
        function (e, t) {
          var c = this;
          (c.parse = function (c) {
            var s = c.match(
              /^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/
            );
            if (!s)
              throw e(
                "iexp",
                "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",
                c
              );
            return {
              itemName: s[2],
              source: t(s[3]),
              trackByExp: s[4],
              modelMapper: t(s[1] || s[2]),
            };
          }),
            (c.getGroupNgRepeatExpression = function () {
              return "$group in $select.groups";
            }),
            (c.getNgRepeatExpression = function (e, t, c, s) {
              var l = e + " in " + (s ? "$group.items" : t);
              return c && (l += " track by " + c), l;
            });
        },
      ])
      .controller("uiSelectCtrl", [
        "$scope",
        "$element",
        "$timeout",
        "RepeatParser",
        "uiSelectMinErr",
        function (t, c, s, l, i) {
          function n() {
            p.resetSearchInput &&
              ((p.search = d),
              p.selected &&
                p.items.length &&
                !p.multiple &&
                (p.activeIndex = p.items.indexOf(p.selected)));
          }
          function a(t) {
            var c = !0;
            switch (t) {
              case e.DOWN:
                !p.open && p.multiple
                  ? p.activate(!1, !0)
                  : p.activeIndex < p.items.length - 1 && p.activeIndex++;
                break;
              case e.UP:
                !p.open && p.multiple
                  ? p.activate(!1, !0)
                  : p.activeIndex > 0 && p.activeIndex--;
                break;
              case e.TAB:
                p.multiple || p.select(p.items[p.activeIndex]);
                break;
              case e.ENTER:
                p.open ? p.select(p.items[p.activeIndex]) : p.activate(!1, !0);
                break;
              case e.ESC:
                p.close();
                break;
              default:
                c = !1;
            }
            return c;
          }
          function r(t) {
            function c() {
              switch (t) {
                case e.LEFT:
                  return ~p.activeMatchIndex ? u : n;
                case e.RIGHT:
                  return ~p.activeMatchIndex && a !== n
                    ? r
                    : (p.activate(), !1);
                case e.BACKSPACE:
                  return ~p.activeMatchIndex ? (p.removeChoice(a), u) : n;
                case e.DELETE:
                  return ~p.activeMatchIndex
                    ? (p.removeChoice(p.activeMatchIndex), a)
                    : !1;
              }
            }
            var s = o(h[0]),
              l = p.selected.length,
              i = 0,
              n = l - 1,
              a = p.activeMatchIndex,
              r = p.activeMatchIndex + 1,
              u = p.activeMatchIndex - 1,
              d = a;
            return s > 0 || (p.search.length && t == e.RIGHT)
              ? !1
              : (p.close(),
                (d = c()),
                (p.activeMatchIndex =
                  p.selected.length && d !== !1
                    ? Math.min(n, Math.max(i, d))
                    : -1),
                !0);
          }
          function o(e) {
            return angular.isNumber(e.selectionStart)
              ? e.selectionStart
              : e.value.length;
          }
          function u() {
            var e = c.querySelectorAll(".ui-select-choices-content"),
              t = e.querySelectorAll(".ui-select-choices-row");
            if (t.length < 1)
              throw i(
                "choices",
                "Expected multiple .ui-select-choices-row but got '{0}'.",
                t.length
              );
            var s = t[p.activeIndex],
              l = s.offsetTop + s.clientHeight - e[0].scrollTop,
              n = e[0].offsetHeight;
            l > n
              ? (e[0].scrollTop += l - n)
              : l < s.clientHeight &&
                (p.isGrouped && 0 === p.activeIndex
                  ? (e[0].scrollTop = 0)
                  : (e[0].scrollTop -= s.clientHeight - l));
          }
          var p = this,
            d = "";
          (p.placeholder = void 0),
            (p.search = d),
            (p.activeIndex = 0),
            (p.activeMatchIndex = -1),
            (p.items = []),
            (p.selected = void 0),
            (p.open = !1),
            (p.focus = !1),
            (p.focusser = void 0),
            (p.disabled = void 0),
            (p.searchEnabled = void 0),
            (p.resetSearchInput = void 0),
            (p.refreshDelay = void 0),
            (p.multiple = !1),
            (p.isEmpty = function () {
              return (
                angular.isUndefined(p.selected) ||
                null === p.selected ||
                "" === p.selected
              );
            });
          var h = c.querySelectorAll("input.ui-select-search");
          if (1 !== h.length)
            throw i(
              "searchInput",
              "Expected 1 input.ui-select-search but got '{0}'.",
              h.length
            );
          (p.activate = function (e, t) {
            p.disabled ||
              p.open ||
              (t || n(),
              (p.open = !0),
              (p.activeMatchIndex = -1),
              (p.activeIndex =
                p.activeIndex >= p.items.length ? 0 : p.activeIndex),
              s(function () {
                (p.search = e || p.search), h[0].focus();
              }));
          }),
            (p.findGroupByName = function (e) {
              return (
                p.groups &&
                p.groups.filter(function (t) {
                  return t.name === e;
                })[0]
              );
            }),
            (p.parseRepeatAttr = function (e, c) {
              function s(e) {
                (p.groups = []),
                  angular.forEach(e, function (e) {
                    var s = t.$eval(c),
                      l = angular.isFunction(s) ? s(e) : e[s],
                      i = p.findGroupByName(l);
                    i
                      ? i.items.push(e)
                      : p.groups.push({ name: l, items: [e] });
                  }),
                  (p.items = []),
                  p.groups.forEach(function (e) {
                    p.items = p.items.concat(e.items);
                  });
              }
              function n(e) {
                p.items = e;
              }
              var a = c ? s : n;
              (p.parserResult = l.parse(e)),
                (p.isGrouped = !!c),
                (p.itemProperty = p.parserResult.itemName),
                t.$watchCollection(p.parserResult.source, function (e) {
                  if (void 0 === e || null === e) p.items = [];
                  else {
                    if (!angular.isArray(e))
                      throw i("items", "Expected an array but got '{0}'.", e);
                    if (p.multiple) {
                      var t = e.filter(function (e) {
                        return p.selected.indexOf(e) < 0;
                      });
                      a(t);
                    } else a(e);
                    p.ngModel.$modelValue = null;
                  }
                }),
                p.multiple &&
                  t.$watchCollection("$select.selected", function (e) {
                    if (e) {
                      var c = p.parserResult.source(t),
                        s = c.filter(function (t) {
                          return e.indexOf(t) < 0;
                        });
                      a(s);
                    }
                  });
            });
          var v;
          (p.refresh = function (e) {
            void 0 !== e &&
              (v && s.cancel(v),
              (v = s(function () {
                t.$eval(e);
              }, p.refreshDelay)));
          }),
            (p.setActiveItem = function (e) {
              p.activeIndex = p.items.indexOf(e);
            }),
            (p.isActive = function (e) {
              return p.items.indexOf(e[p.itemProperty]) === p.activeIndex;
            }),
            (p.select = function (e) {
              var c = {};
              (c[p.parserResult.itemName] = e),
                p.onSelectCallback(t, {
                  $item: e,
                  $model: p.parserResult.modelMapper(t, c),
                }),
                p.multiple
                  ? (p.selected.push(e), p.sizeSearchInput())
                  : (p.selected = e),
                p.close();
            }),
            (p.close = function () {
              p.open &&
                (n(),
                (p.open = !1),
                s(
                  function () {
                    p.focusser[0].focus();
                  },
                  0,
                  !1
                ));
            }),
            (p.removeChoice = function (e) {
              p.selected.splice(e, 1),
                (p.activeMatchIndex = -1),
                p.sizeSearchInput();
            }),
            (p.getPlaceholder = function () {
              return p.multiple && p.selected.length ? void 0 : p.placeholder;
            }),
            (p.sizeSearchInput = function () {
              var e = h[0],
                t = h.parent().parent()[0];
              h.css("width", "10px"),
                s(
                  function () {
                    var c = t.clientWidth - e.offsetLeft - 10;
                    50 > c && (c = t.clientWidth), h.css("width", c + "px");
                  },
                  0,
                  !1
                );
            }),
            h.on("keydown", function (c) {
              var s = c.which;
              t.$apply(function () {
                var t = !1;
                p.multiple && e.isHorizontalMovement(s) && (t = r(s)),
                  !t && p.items.length > 0 && (t = a(s)),
                  t && s != e.TAB && (c.preventDefault(), c.stopPropagation());
              }),
                e.isVerticalMovement(s) && p.items.length > 0 && u();
            }),
            h.on("blur", function () {
              s(function () {
                (p.activeMatchIndex = -1), (p.activeIndex = 0);
              });
            }),
            t.$on("$destroy", function () {
              h.off("keydown blur");
            });
        },
      ])
      .directive("uiSelect", [
        "$document",
        "uiSelectConfig",
        "uiSelectMinErr",
        "$compile",
        "$parse",
        function (t, c, s, l, i) {
          return {
            restrict: "EA",
            templateUrl: function (e, t) {
              var s = t.theme || c.theme;
              return (
                s +
                (angular.isDefined(t.multiple)
                  ? "/select-multiple.tpl.html"
                  : "/select.tpl.html")
              );
            },
            replace: !0,
            transclude: !0,
            require: ["uiSelect", "ngModel"],
            scope: !0,
            controller: "uiSelectCtrl",
            controllerAs: "$select",
            link: function (c, n, a, r, o) {
              function u(e) {
                var t = !1;
                (t = window.jQuery
                  ? window.jQuery.contains(n[0], e.target)
                  : n[0].contains(e.target)),
                  t || (p.close(), c.$digest());
              }
              var p = r[0],
                d = r[1];
              (p.multiple = angular.isDefined(a.multiple)),
                (p.onSelectCallback = i(a.onSelect)),
                d.$parsers.unshift(function (e) {
                  var t,
                    s = {};
                  if (p.multiple) {
                    for (var l = [], i = e.length - 1; i >= 0; i--)
                      (s = {}),
                        (s[p.parserResult.itemName] = e[i]),
                        (t = p.parserResult.modelMapper(c, s)),
                        l.unshift(t);
                    return l;
                  }
                  return (
                    (s = {}),
                    (s[p.parserResult.itemName] = e),
                    (t = p.parserResult.modelMapper(c, s))
                  );
                }),
                d.$formatters.unshift(function (e) {
                  var t,
                    s = p.parserResult.source(c, { $select: { search: "" } }),
                    l = {};
                  if (s) {
                    if (p.multiple) {
                      var i = [],
                        n = function (e, s) {
                          if (e && e.length) {
                            for (var n = e.length - 1; n >= 0; n--)
                              if (
                                ((l[p.parserResult.itemName] = e[n]),
                                (t = p.parserResult.modelMapper(c, l)),
                                t == s)
                              )
                                return i.unshift(e[n]), !0;
                            return !1;
                          }
                        };
                      if (!e) return i;
                      for (var a = e.length - 1; a >= 0; a--)
                        n(p.selected, e[a]) || n(s, e[a]);
                      return i;
                    }
                    var r = function (s) {
                      return (
                        (l[p.parserResult.itemName] = s),
                        (t = p.parserResult.modelMapper(c, l)),
                        t == e
                      );
                    };
                    if (p.selected && r(p.selected)) return p.selected;
                    for (var o = s.length - 1; o >= 0; o--)
                      if (r(s[o])) return s[o];
                  }
                  return e;
                }),
                (p.ngModel = d);
              var h = angular.element(
                "<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' aria-haspopup='true' role='button' />"
              );
              l(h)(c),
                (p.focusser = h),
                p.multiple ||
                  (n.append(h),
                  h.bind("focus", function () {
                    c.$evalAsync(function () {
                      p.focus = !0;
                    });
                  }),
                  h.bind("blur", function () {
                    c.$evalAsync(function () {
                      p.focus = !1;
                    });
                  }),
                  h.bind("keydown", function (t) {
                    return t.which === e.BACKSPACE
                      ? (t.preventDefault(),
                        t.stopPropagation(),
                        p.select(void 0),
                        void c.$digest())
                      : void (
                          t.which === e.TAB ||
                          e.isControl(t) ||
                          e.isFunctionKey(t) ||
                          t.which === e.ESC ||
                          ((t.which == e.DOWN ||
                            t.which == e.UP ||
                            t.which == e.ENTER ||
                            t.which == e.SPACE) &&
                            (t.preventDefault(),
                            t.stopPropagation(),
                            p.activate()),
                          c.$digest())
                        );
                  }),
                  h.bind("keyup input", function (t) {
                    t.which === e.TAB ||
                      e.isControl(t) ||
                      e.isFunctionKey(t) ||
                      t.which === e.ESC ||
                      t.which == e.ENTER ||
                      t.which === e.BACKSPACE ||
                      (p.activate(h.val()), h.val(""), c.$digest());
                  })),
                c.$watch("searchEnabled", function () {
                  var e = c.$eval(a.searchEnabled);
                  p.searchEnabled = void 0 !== e ? e : !0;
                }),
                a.$observe("disabled", function () {
                  p.disabled = void 0 !== a.disabled ? a.disabled : !1;
                }),
                a.$observe("resetSearchInput", function () {
                  var e = c.$eval(a.resetSearchInput);
                  p.resetSearchInput = void 0 !== e ? e : !0;
                }),
                p.multiple
                  ? (c.$watchCollection("$select.selected", function (e) {
                      d.$setViewValue(e, null, !0);
                    }),
                    h.prop("disabled", !0))
                  : c.$watch("$select.selected", function (e) {
                      d.$viewValue !== e && d.$setViewValue(e);
                    }),
                (d.$render = function () {
                  if (p.multiple && !angular.isArray(d.$viewValue)) {
                    if (
                      !angular.isUndefined(d.$viewValue) &&
                      null !== d.$viewValue
                    )
                      throw s(
                        "multiarr",
                        "Expected model value to be array but got '{0}'",
                        d.$viewValue
                      );
                    p.selected = [];
                  }
                  p.selected = d.$viewValue;
                }),
                t.on("click", u),
                c.$on("$destroy", function () {
                  t.off("click", u);
                }),
                o(c, function (e) {
                  var t = angular.element("<div>").append(e),
                    c = t.querySelectorAll(".ui-select-match");
                  if ((c.removeAttr("ui-select-match"), 1 !== c.length))
                    throw s(
                      "transcluded",
                      "Expected 1 .ui-select-match but got '{0}'.",
                      c.length
                    );
                  n.querySelectorAll(".ui-select-match").replaceWith(c);
                  var l = t.querySelectorAll(".ui-select-choices");
                  if ((l.removeAttr("ui-select-choices"), 1 !== l.length))
                    throw s(
                      "transcluded",
                      "Expected 1 .ui-select-choices but got '{0}'.",
                      l.length
                    );
                  n.querySelectorAll(".ui-select-choices").replaceWith(l);
                });
            },
          };
        },
      ])
      .directive("uiSelectChoices", [
        "uiSelectConfig",
        "RepeatParser",
        "uiSelectMinErr",
        "$compile",
        function (e, t, c, s) {
          return {
            restrict: "EA",
            require: "^uiSelect",
            replace: !0,
            transclude: !0,
            templateUrl: function (t) {
              var c = t.parent().attr("theme") || e.theme;
              return c + "/choices.tpl.html";
            },
            compile: function (l, i) {
              if (!i.repeat) throw c("repeat", "Expected 'repeat' expression.");
              return function (l, i, n, a, r) {
                var o = n.groupBy;
                if ((a.parseRepeatAttr(n.repeat, o), o)) {
                  var u = i.querySelectorAll(".ui-select-choices-group");
                  if (1 !== u.length)
                    throw c(
                      "rows",
                      "Expected 1 .ui-select-choices-group but got '{0}'.",
                      u.length
                    );
                  u.attr("ng-repeat", t.getGroupNgRepeatExpression());
                }
                var p = i.querySelectorAll(".ui-select-choices-row");
                if (1 !== p.length)
                  throw c(
                    "rows",
                    "Expected 1 .ui-select-choices-row but got '{0}'.",
                    p.length
                  );
                p.attr(
                  "ng-repeat",
                  t.getNgRepeatExpression(
                    a.parserResult.itemName,
                    "$select.items",
                    a.parserResult.trackByExp,
                    o
                  )
                )
                  .attr(
                    "ng-mouseenter",
                    "$select.setActiveItem(" + a.parserResult.itemName + ")"
                  )
                  .attr(
                    "ng-click",
                    "$select.select(" + a.parserResult.itemName + ")"
                  );
                var d = i.querySelectorAll(".ui-select-choices-row-inner");
                if (1 !== d.length)
                  throw c(
                    "rows",
                    "Expected 1 .ui-select-choices-row-inner but got '{0}'.",
                    d.length
                  );
                d.attr("uis-transclude-append", ""),
                  s(i, r)(l),
                  l.$watch("$select.search", function (e) {
                    e && !a.open && a.multiple && a.activate(!1, !0),
                      (a.activeIndex = 0),
                      a.refresh(n.refresh);
                  }),
                  n.$observe("refreshDelay", function () {
                    var t = l.$eval(n.refreshDelay);
                    a.refreshDelay = void 0 !== t ? t : e.refreshDelay;
                  });
              };
            },
          };
        },
      ])
      .directive("uisTranscludeAppend", function () {
        return {
          link: function (e, t, c, s, l) {
            l(e, function (e) {
              t.append(e);
            });
          },
        };
      })
      .directive("uiSelectMatch", [
        "uiSelectConfig",
        function (e) {
          return {
            restrict: "EA",
            require: "^uiSelect",
            replace: !0,
            transclude: !0,
            templateUrl: function (t) {
              var c = t.parent().attr("theme") || e.theme,
                s = t.parent().attr("multiple");
              return c + (s ? "/match-multiple.tpl.html" : "/match.tpl.html");
            },
            link: function (t, c, s, l) {
              s.$observe("placeholder", function (t) {
                l.placeholder = void 0 !== t ? t : e.placeholder;
              }),
                l.multiple && l.sizeSearchInput();
            },
          };
        },
      ])
      .filter("highlight", function () {
        function e(e) {
          return e.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
        }
        return function (t, c) {
          return c && t
            ? t.replace(
                new RegExp(e(c), "gi"),
                '<span class="ui-select-highlight">$&</span>'
              )
            : t;
        };
      });
})(),
  angular.module("ui.select").run([
    "$templateCache",
    function (e) {
      e.put(
        "bootstrap/choices.tpl.html",
        '<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="menu" aria-labelledby="dLabel" ng-show="$select.items.length > 0"><li class="ui-select-choices-group"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header">{{$group.name}}</div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this)}"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'
      ),
        e.put(
          "bootstrap/match-multiple.tpl.html",
          '<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><button style="margin-right: 3px;" class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" ng-disabled="$select.disabled" ng-click="$select.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$select.activeMatchIndex === $index}"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$select.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></button></span></span>'
        ),
        e.put(
          "bootstrap/match.tpl.html",
          '<button type="button" class="btn btn-default form-control ui-select-match" tabindex="-1" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}" ;="" ng-click="$select.activate()"><span ng-show="$select.searchEnabled && $select.isEmpty()" class="text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" ng-transclude=""></span> <span class="caret"></span></button>'
        ),
        e.put(
          "bootstrap/select-multiple.tpl.html",
          '<div class="ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search"></div><div class="ui-select-choices"></div></div>'
        ),
        e.put(
          "bootstrap/select.tpl.html",
          '<div class="ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'
        ),
        e.put(
          "select2/choices.tpl.html",
          '<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.isGrouped}"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label select2-result-label">{{$group.name}}</div><ul ng-class="{\'select2-result-sub\': $select.isGrouped, \'select2-result-single\': !$select.isGrouped}"><li class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'
        ),
        e.put(
          "select2/match-multiple.tpl.html",
          '<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$select.activeMatchIndex === $index}"><span uis-transclude-append=""></span> <a href="#" class="ui-select-match-close select2-search-choice-close" ng-click="$select.removeChoice($index)" tabindex="-1"></a></li></span>'
        ),
        e.put(
          "select2/match.tpl.html",
          '<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.activate()"><span ng-show="$select.searchEnabled && $select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <span class="select2-arrow"><b></b></span></a>'
        ),
        e.put(
          "select2/select-multiple.tpl.html",
          '<div class="ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open\': $select.open,\n                \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input ui-select-search" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'
        ),
        e.put(
          "select2/select.tpl.html",
          '<div class="select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open\': $select.open,\n                \'select2-container-disabled\': $select.disabled,\n                \'select2-container-active\': $select.focus }"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'
        ),
        e.put(
          "selectize/choices.tpl.html",
          '<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header">{{$group.name}}</div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'
        ),
        e.put(
          "selectize/match.tpl.html",
          '<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'
        ),
        e.put(
          "selectize/select.tpl.html",
          '<div class="selectize-control single"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled"></div><div class="ui-select-choices"></div></div>'
        );
    },
  ]); // Spectrum Colorpicker v1.5.0
// https://github.com/bgrins/spectrum
// Author: Brian Grinstead
// License: MIT

(function (window, $, undefined) {
  "use strict";

  var defaultOpts = {
      // Callbacks
      beforeShow: noop,
      move: noop,
      change: noop,
      show: noop,
      hide: noop,

      // Options
      color: false,
      flat: false,
      showInput: false,
      allowEmpty: false,
      showButtons: true,
      clickoutFiresChange: false,
      showInitial: false,
      showPalette: false,
      showPaletteOnly: false,
      hideAfterPaletteSelect: false,
      togglePaletteOnly: false,
      showSelectionPalette: true,
      localStorageKey: false,
      appendTo: "body",
      maxSelectionSize: 7,
      cancelText: "cancel",
      chooseText: "choose",
      togglePaletteMoreText: "more",
      togglePaletteLessText: "less",
      clearText: "Clear Color Selection",
      noColorSelectedText: "No Color Selected",
      preferredFormat: false,
      className: "", // Deprecated - use containerClassName and replacerClassName instead.
      containerClassName: "",
      replacerClassName: "",
      showAlpha: false,
      theme: "sp-light",
      palette: [
        [
          "#ffffff",
          "#000000",
          "#ff0000",
          "#ff8000",
          "#ffff00",
          "#008000",
          "#0000ff",
          "#4b0082",
          "#9400d3",
        ],
      ],
      selectionPalette: [],
      disabled: false,
    },
    spectrums = [],
    IE = !!/msie/i.exec(window.navigator.userAgent),
    rgbaSupport = (function () {
      function contains(str, substr) {
        return !!~("" + str).indexOf(substr);
      }

      var elem = document.createElement("div");
      var style = elem.style;
      style.cssText = "background-color:rgba(0,0,0,.5)";
      return (
        contains(style.backgroundColor, "rgba") ||
        contains(style.backgroundColor, "hsla")
      );
    })(),
    inputTypeColorSupport = (function () {
      var colorInput = $("<input type='color' value='!' />")[0];
      return colorInput.type === "color" && colorInput.value !== "!";
    })(),
    replaceInput = [
      "<div class='sp-replacer'>",
      "<div class='sp-preview'><div class='sp-preview-inner'></div></div>",
      "<div class='sp-dd'>&#9660;</div>",
      "</div>",
    ].join(""),
    markup = (function () {
      // IE does not support gradients with multiple stops, so we need to simulate
      //  that for the rainbow slider with 8 divs that each have a single gradient
      var gradientFix = "";
      if (IE) {
        for (var i = 1; i <= 6; i++) {
          gradientFix += "<div class='sp-" + i + "'></div>";
        }
      }

      return [
        "<div class='sp-container sp-hidden'>",
        "<div class='sp-palette-container'>",
        "<div class='sp-palette sp-thumb sp-cf'></div>",
        "<div class='sp-palette-button-container sp-cf'>",
        "<button type='button' class='sp-palette-toggle'></button>",
        "</div>",
        "</div>",
        "<div class='sp-picker-container'>",
        "<div class='sp-top sp-cf'>",
        "<div class='sp-fill'></div>",
        "<div class='sp-top-inner'>",
        "<div class='sp-color'>",
        "<div class='sp-sat'>",
        "<div class='sp-val'>",
        "<div class='sp-dragger'></div>",
        "</div>",
        "</div>",
        "</div>",
        "<div class='sp-clear sp-clear-display'>",
        "</div>",
        "<div class='sp-hue'>",
        "<div class='sp-slider'></div>",
        gradientFix,
        "</div>",
        "</div>",
        "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>",
        "</div>",
        "<div class='sp-input-container sp-cf'>",
        "<input class='sp-input' type='text' spellcheck='false'  />",
        "</div>",
        "<div class='sp-initial sp-thumb sp-cf'></div>",
        "<div class='sp-button-container sp-cf'>",
        "<a class='sp-cancel' href='#'></a>",
        "<button type='button' class='sp-choose'></button>",
        "</div>",
        "</div>",
        "</div>",
      ].join("");
    })();

  function paletteTemplate(p, color, className, opts) {
    var html = [];
    for (var i = 0; i < p.length; i++) {
      var current = p[i];
      if (current) {
        var tiny = tinycolor(current);
        var c =
          tiny.toHsl().l < 0.5
            ? "sp-thumb-el sp-thumb-dark"
            : "sp-thumb-el sp-thumb-light";
        c += tinycolor.equals(color, current) ? " sp-thumb-active" : "";
        var formattedString = tiny.toString(opts.preferredFormat || "rgb");
        var swatchStyle = rgbaSupport
          ? "background-color:" + tiny.toRgbString()
          : "filter:" + tiny.toFilter();
        html.push(
          '<span title="' +
            formattedString +
            '" data-color="' +
            tiny.toRgbString() +
            '" class="' +
            c +
            '"><span class="sp-thumb-inner" style="' +
            swatchStyle +
            ';" /></span>'
        );
      } else {
        var cls = "sp-clear-display";
        html.push(
          $("<div />")
            .append(
              $(
                '<span data-color="" style="background-color:transparent;" class="' +
                  cls +
                  '"></span>'
              ).attr("title", opts.noColorSelectedText)
            )
            .html()
        );
      }
    }
    return "<div class='sp-cf " + className + "'>" + html.join("") + "</div>";
  }

  function hideAll() {
    for (var i = 0; i < spectrums.length; i++) {
      if (spectrums[i]) {
        spectrums[i].hide();
      }
    }
  }

  function instanceOptions(o, callbackContext) {
    var opts = $.extend({}, defaultOpts, o);
    opts.callbacks = {
      move: bind(opts.move, callbackContext),
      change: bind(opts.change, callbackContext),
      show: bind(opts.show, callbackContext),
      hide: bind(opts.hide, callbackContext),
      beforeShow: bind(opts.beforeShow, callbackContext),
    };

    return opts;
  }

  function spectrum(element, o) {
    var opts = instanceOptions(o, element),
      flat = opts.flat,
      showSelectionPalette = opts.showSelectionPalette,
      localStorageKey = opts.localStorageKey,
      theme = opts.theme,
      callbacks = opts.callbacks,
      resize = throttle(reflow, 10),
      visible = false,
      dragWidth = 0,
      dragHeight = 0,
      dragHelperHeight = 0,
      slideHeight = 0,
      slideWidth = 0,
      alphaWidth = 0,
      alphaSlideHelperWidth = 0,
      slideHelperHeight = 0,
      currentHue = 0,
      currentSaturation = 0,
      currentValue = 0,
      currentAlpha = 1,
      palette = [],
      paletteArray = [],
      paletteLookup = {},
      selectionPalette = opts.selectionPalette.slice(0),
      maxSelectionSize = opts.maxSelectionSize,
      draggingClass = "sp-dragging",
      shiftMovementDirection = null;

    var doc = element.ownerDocument,
      body = doc.body,
      boundElement = $(element),
      disabled = false,
      container = $(markup, doc).addClass(theme),
      pickerContainer = container.find(".sp-picker-container"),
      dragger = container.find(".sp-color"),
      dragHelper = container.find(".sp-dragger"),
      slider = container.find(".sp-hue"),
      slideHelper = container.find(".sp-slider"),
      alphaSliderInner = container.find(".sp-alpha-inner"),
      alphaSlider = container.find(".sp-alpha"),
      alphaSlideHelper = container.find(".sp-alpha-handle"),
      textInput = container.find(".sp-input"),
      paletteContainer = container.find(".sp-palette"),
      initialColorContainer = container.find(".sp-initial"),
      cancelButton = container.find(".sp-cancel"),
      clearButton = container.find(".sp-clear"),
      chooseButton = container.find(".sp-choose"),
      toggleButton = container.find(".sp-palette-toggle"),
      isInput = boundElement.is("input"),
      isInputTypeColor =
        isInput &&
        inputTypeColorSupport &&
        boundElement.attr("type") === "color",
      shouldReplace = isInput && !flat,
      replacer = shouldReplace
        ? $(replaceInput)
            .addClass(theme)
            .addClass(opts.className)
            .addClass(opts.replacerClassName)
        : $([]),
      offsetElement = shouldReplace ? replacer : boundElement,
      previewElement = replacer.find(".sp-preview-inner"),
      initialColor = opts.color || (isInput && boundElement.val()),
      colorOnShow = false,
      preferredFormat = opts.preferredFormat,
      currentPreferredFormat = preferredFormat,
      clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange,
      isEmpty = !initialColor,
      allowEmpty = opts.allowEmpty && !isInputTypeColor;

    function applyOptions() {
      if (opts.showPaletteOnly) {
        opts.showPalette = true;
      }

      toggleButton.text(
        opts.showPaletteOnly
          ? opts.togglePaletteMoreText
          : opts.togglePaletteLessText
      );

      if (opts.palette) {
        palette = opts.palette.slice(0);
        paletteArray = $.isArray(palette[0]) ? palette : [palette];
        paletteLookup = {};
        for (var i = 0; i < paletteArray.length; i++) {
          for (var j = 0; j < paletteArray[i].length; j++) {
            var rgb = tinycolor(paletteArray[i][j]).toRgbString();
            paletteLookup[rgb] = true;
          }
        }
      }

      container.toggleClass("sp-flat", flat);
      container.toggleClass("sp-input-disabled", !opts.showInput);
      container.toggleClass("sp-alpha-enabled", opts.showAlpha);
      container.toggleClass("sp-clear-enabled", allowEmpty);
      container.toggleClass("sp-buttons-disabled", !opts.showButtons);
      container.toggleClass(
        "sp-palette-buttons-disabled",
        !opts.togglePaletteOnly
      );
      container.toggleClass("sp-palette-disabled", !opts.showPalette);
      container.toggleClass("sp-palette-only", opts.showPaletteOnly);
      container.toggleClass("sp-initial-disabled", !opts.showInitial);
      container.addClass(opts.className).addClass(opts.containerClassName);

      reflow();
    }

    function initialize() {
      if (IE) {
        container.find("*:not(input)").attr("unselectable", "on");
      }

      applyOptions();

      if (shouldReplace) {
        boundElement.after(replacer).hide();
      }

      if (!allowEmpty) {
        clearButton.hide();
      }

      if (flat) {
        boundElement.after(container).hide();
      } else {
        var appendTo =
          opts.appendTo === "parent" ? boundElement.parent() : $(opts.appendTo);
        if (appendTo.length !== 1) {
          appendTo = $("body");
        }

        appendTo.append(container);
      }

      updateSelectionPaletteFromStorage();

      offsetElement.bind("click.spectrum touchstart.spectrum", function (e) {
        if (!disabled) {
          toggle();
        }

        e.stopPropagation();

        if (!$(e.target).is("input")) {
          e.preventDefault();
        }
      });

      if (boundElement.is(":disabled") || opts.disabled === true) {
        disable();
      }

      // Prevent clicks from bubbling up to document.  This would cause it to be hidden.
      container.click(stopPropagation);

      // Handle user typed input
      textInput.change(setFromTextInput);
      textInput.bind("paste", function () {
        setTimeout(setFromTextInput, 1);
      });
      textInput.keydown(function (e) {
        if (e.keyCode == 13) {
          setFromTextInput();
        }
      });

      cancelButton.text(opts.cancelText);
      cancelButton.bind("click.spectrum", function (e) {
        e.stopPropagation();
        e.preventDefault();
        hide("cancel");
      });

      clearButton.attr("title", opts.clearText);
      clearButton.bind("click.spectrum", function (e) {
        e.stopPropagation();
        e.preventDefault();
        isEmpty = true;
        move();

        if (flat) {
          //for the flat style, this is a change event
          updateOriginalInput(true);
        }
      });

      chooseButton.text(opts.chooseText);
      chooseButton.bind("click.spectrum", function (e) {
        e.stopPropagation();
        e.preventDefault();

        if (isValid()) {
          updateOriginalInput(true);
          hide();
        }
      });

      toggleButton.text(
        opts.showPaletteOnly
          ? opts.togglePaletteMoreText
          : opts.togglePaletteLessText
      );
      toggleButton.bind("click.spectrum", function (e) {
        e.stopPropagation();
        e.preventDefault();

        opts.showPaletteOnly = !opts.showPaletteOnly;

        // To make sure the Picker area is drawn on the right, next to the
        // Palette area (and not below the palette), first move the Palette
        // to the left to make space for the picker, plus 5px extra.
        // The 'applyOptions' function puts the whole container back into place
        // and takes care of the button-text and the sp-palette-only CSS class.
        if (!opts.showPaletteOnly && !flat) {
          container.css("left", "-=" + (pickerContainer.outerWidth(true) + 5));
        }
        applyOptions();
      });

      draggable(
        alphaSlider,
        function (dragX, dragY, e) {
          currentAlpha = dragX / alphaWidth;
          isEmpty = false;
          if (e.shiftKey) {
            currentAlpha = Math.round(currentAlpha * 10) / 10;
          }

          move();
        },
        dragStart,
        dragStop
      );

      draggable(
        slider,
        function (dragX, dragY) {
          currentHue = parseFloat(dragY / slideHeight);
          isEmpty = false;
          if (!opts.showAlpha) {
            currentAlpha = 1;
          }
          move();
        },
        dragStart,
        dragStop
      );

      draggable(
        dragger,
        function (dragX, dragY, e) {
          // shift+drag should snap the movement to either the x or y axis.
          if (!e.shiftKey) {
            shiftMovementDirection = null;
          } else if (!shiftMovementDirection) {
            var oldDragX = currentSaturation * dragWidth;
            var oldDragY = dragHeight - currentValue * dragHeight;
            var furtherFromX =
              Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);

            shiftMovementDirection = furtherFromX ? "x" : "y";
          }

          var setSaturation =
            !shiftMovementDirection || shiftMovementDirection === "x";
          var setValue =
            !shiftMovementDirection || shiftMovementDirection === "y";

          if (setSaturation) {
            currentSaturation = parseFloat(dragX / dragWidth);
          }
          if (setValue) {
            currentValue = parseFloat((dragHeight - dragY) / dragHeight);
          }

          isEmpty = false;
          if (!opts.showAlpha) {
            currentAlpha = 1;
          }

          move();
        },
        dragStart,
        dragStop
      );

      if (!!initialColor) {
        set(initialColor);

        // In case color was black - update the preview UI and set the format
        // since the set function will not run (default color is black).
        updateUI();
        currentPreferredFormat =
          preferredFormat || tinycolor(initialColor).format;

        addColorToSelectionPalette(initialColor);
      } else {
        updateUI();
      }

      if (flat) {
        show();
      }

      function paletteElementClick(e) {
        if (e.data && e.data.ignore) {
          set($(e.target).closest(".sp-thumb-el").data("color"));
          move();
        } else {
          set($(e.target).closest(".sp-thumb-el").data("color"));
          move();
          updateOriginalInput(true);
          if (opts.hideAfterPaletteSelect) {
            hide();
          }
        }

        return false;
      }

      var paletteEvent = IE
        ? "mousedown.spectrum"
        : "click.spectrum touchstart.spectrum";
      paletteContainer.delegate(
        ".sp-thumb-el",
        paletteEvent,
        paletteElementClick
      );
      initialColorContainer.delegate(
        ".sp-thumb-el:nth-child(1)",
        paletteEvent,
        { ignore: true },
        paletteElementClick
      );
    }

    function updateSelectionPaletteFromStorage() {
      if (localStorageKey && window.localStorage) {
        // Migrate old palettes over to new format.  May want to remove this eventually.
        try {
          var oldPalette = window.localStorage[localStorageKey].split(",#");
          if (oldPalette.length > 1) {
            delete window.localStorage[localStorageKey];
            $.each(oldPalette, function (i, c) {
              addColorToSelectionPalette(c);
            });
          }
        } catch (e) {}

        try {
          selectionPalette = window.localStorage[localStorageKey].split(";");
        } catch (e) {}
      }
    }

    function addColorToSelectionPalette(color) {
      if (showSelectionPalette) {
        var rgb = tinycolor(color).toRgbString();
        if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -1) {
          selectionPalette.push(rgb);
          while (selectionPalette.length > maxSelectionSize) {
            selectionPalette.shift();
          }
        }

        if (localStorageKey && window.localStorage) {
          try {
            window.localStorage[localStorageKey] = selectionPalette.join(";");
          } catch (e) {}
        }
      }
    }

    function getUniqueSelectionPalette() {
      var unique = [];
      if (opts.showPalette) {
        for (var i = 0; i < selectionPalette.length; i++) {
          var rgb = tinycolor(selectionPalette[i]).toRgbString();

          if (!paletteLookup[rgb]) {
            unique.push(selectionPalette[i]);
          }
        }
      }

      return unique.reverse().slice(0, opts.maxSelectionSize);
    }

    function drawPalette() {
      var currentColor = get();

      var html = $.map(paletteArray, function (palette, i) {
        return paletteTemplate(
          palette,
          currentColor,
          "sp-palette-row sp-palette-row-" + i,
          opts
        );
      });

      updateSelectionPaletteFromStorage();

      if (selectionPalette) {
        html.push(
          paletteTemplate(
            getUniqueSelectionPalette(),
            currentColor,
            "sp-palette-row sp-palette-row-selection",
            opts
          )
        );
      }

      paletteContainer.html(html.join(""));
    }

    function drawInitial() {
      if (opts.showInitial) {
        var initial = colorOnShow;
        var current = get();
        initialColorContainer.html(
          paletteTemplate(
            [initial, current],
            current,
            "sp-palette-row-initial",
            opts
          )
        );
      }
    }

    function dragStart() {
      if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {
        reflow();
      }
      container.addClass(draggingClass);
      shiftMovementDirection = null;
      boundElement.trigger("dragstart.spectrum", [get()]);
    }

    function dragStop() {
      container.removeClass(draggingClass);
      boundElement.trigger("dragstop.spectrum", [get()]);
    }

    function setFromTextInput() {
      var value = textInput.val();

      if ((value === null || value === "") && allowEmpty) {
        set(null);
        updateOriginalInput(true);
      } else {
        var tiny = tinycolor(value);
        if (tiny.isValid()) {
          set(tiny);
          updateOriginalInput(true);
        } else {
          textInput.addClass("sp-validation-error");
        }
      }
    }

    function toggle() {
      if (visible) {
        hide();
      } else {
        show();
      }
    }

    function show() {
      var event = $.Event("beforeShow.spectrum");

      if (visible) {
        reflow();
        return;
      }

      boundElement.trigger(event, [get()]);

      if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {
        return;
      }

      hideAll();
      visible = true;

      $(doc).bind("click.spectrum", hide);
      $(window).bind("resize.spectrum", resize);
      replacer.addClass("sp-active");
      container.removeClass("sp-hidden");

      reflow();
      updateUI();

      colorOnShow = get();

      drawInitial();
      callbacks.show(colorOnShow);
      boundElement.trigger("show.spectrum", [colorOnShow]);
    }

    function hide(e) {
      // Return on right click
      if (e && e.type == "click" && e.button == 2) {
        return;
      }

      // Return if hiding is unnecessary
      if (!visible || flat) {
        return;
      }
      visible = false;

      $(doc).unbind("click.spectrum", hide);
      $(window).unbind("resize.spectrum", resize);

      replacer.removeClass("sp-active");
      container.addClass("sp-hidden");

      var colorHasChanged = !tinycolor.equals(get(), colorOnShow);

      if (colorHasChanged) {
        if (clickoutFiresChange && e !== "cancel") {
          updateOriginalInput(true);
        } else {
          revert();
        }
      }

      callbacks.hide(get());
      boundElement.trigger("hide.spectrum", [get()]);
    }

    function revert() {
      set(colorOnShow, true);
    }

    function set(color, ignoreFormatChange) {
      if (tinycolor.equals(color, get())) {
        // Update UI just in case a validation error needs
        // to be cleared.
        updateUI();
        return;
      }

      var newColor, newHsv;
      if (!color && allowEmpty) {
        isEmpty = true;
      } else {
        isEmpty = false;
        newColor = tinycolor(color);
        newHsv = newColor.toHsv();

        currentHue = (newHsv.h % 360) / 360;
        currentSaturation = newHsv.s;
        currentValue = newHsv.v;
        currentAlpha = newHsv.a;
      }
      updateUI();

      if (newColor && newColor.isValid() && !ignoreFormatChange) {
        currentPreferredFormat = preferredFormat || newColor.getFormat();
      }
    }

    function get(opts) {
      opts = opts || {};

      if (allowEmpty && isEmpty) {
        return null;
      }

      return tinycolor.fromRatio(
        {
          h: currentHue,
          s: currentSaturation,
          v: currentValue,
          a: Math.round(currentAlpha * 100) / 100,
        },
        { format: opts.format || currentPreferredFormat }
      );
    }

    function isValid() {
      return !textInput.hasClass("sp-validation-error");
    }

    function move() {
      updateUI();

      callbacks.move(get());
      boundElement.trigger("move.spectrum", [get()]);
    }

    function updateUI() {
      textInput.removeClass("sp-validation-error");

      updateHelperLocations();

      // Update dragger background color (gradients take care of saturation and value).
      var flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });
      dragger.css("background-color", flatColor.toHexString());

      // Get a format that alpha will be included in (hex and names ignore alpha)
      var format = currentPreferredFormat;
      if (currentAlpha < 1 && !(currentAlpha === 0 && format === "name")) {
        if (
          format === "hex" ||
          format === "hex3" ||
          format === "hex6" ||
          format === "name"
        ) {
          format = "rgb";
        }
      }

      var realColor = get({ format: format }),
        displayColor = "";

      //reset background info for preview element
      previewElement.removeClass("sp-clear-display");
      previewElement.css("background-color", "transparent");

      if (!realColor && allowEmpty) {
        // Update the replaced elements background with icon indicating no color selection
        previewElement.addClass("sp-clear-display");
      } else {
        var realHex = realColor.toHexString(),
          realRgb = realColor.toRgbString();

        // Update the replaced elements background color (with actual selected color)
        if (rgbaSupport || realColor.alpha === 1) {
          previewElement.css("background-color", realRgb);
        } else {
          previewElement.css("background-color", "transparent");
          previewElement.css("filter", realColor.toFilter());
        }

        if (opts.showAlpha) {
          var rgb = realColor.toRgb();
          rgb.a = 0;
          var realAlpha = tinycolor(rgb).toRgbString();
          var gradient =
            "linear-gradient(left, " + realAlpha + ", " + realHex + ")";

          if (IE) {
            alphaSliderInner.css(
              "filter",
              tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex)
            );
          } else {
            alphaSliderInner.css("background", "-webkit-" + gradient);
            alphaSliderInner.css("background", "-moz-" + gradient);
            alphaSliderInner.css("background", "-ms-" + gradient);
            // Use current syntax gradient on unprefixed property.
            alphaSliderInner.css(
              "background",
              "linear-gradient(to right, " + realAlpha + ", " + realHex + ")"
            );
          }
        }

        displayColor = realColor.toString(format);
      }

      // Update the text entry input as it changes happen
      if (opts.showInput) {
        textInput.val(displayColor);
      }

      if (opts.showPalette) {
        drawPalette();
      }

      drawInitial();
    }

    function updateHelperLocations() {
      var s = currentSaturation;
      var v = currentValue;

      if (allowEmpty && isEmpty) {
        //if selected color is empty, hide the helpers
        alphaSlideHelper.hide();
        slideHelper.hide();
        dragHelper.hide();
      } else {
        //make sure helpers are visible
        alphaSlideHelper.show();
        slideHelper.show();
        dragHelper.show();

        // Where to show the little circle in that displays your current selected color
        var dragX = s * dragWidth;
        var dragY = dragHeight - v * dragHeight;
        dragX = Math.max(
          -dragHelperHeight,
          Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)
        );
        dragY = Math.max(
          -dragHelperHeight,
          Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)
        );
        dragHelper.css({
          top: dragY + "px",
          left: dragX + "px",
        });

        var alphaX = currentAlpha * alphaWidth;
        alphaSlideHelper.css({
          left: alphaX - alphaSlideHelperWidth / 2 + "px",
        });

        // Where to show the bar that displays your current selected hue
        var slideY = currentHue * slideHeight;
        slideHelper.css({
          top: slideY - slideHelperHeight + "px",
        });
      }
    }

    function updateOriginalInput(fireCallback) {
      var color = get(),
        displayColor = "",
        hasChanged = !tinycolor.equals(color, colorOnShow);

      if (color) {
        displayColor = color.toString(currentPreferredFormat);
        // Update the selection palette with the current color
        addColorToSelectionPalette(color);
      }

      if (isInput) {
        boundElement.val(displayColor);
      }

      colorOnShow = color;

      if (fireCallback && hasChanged) {
        callbacks.change(color);
        boundElement.trigger("change", [color]);
      }
    }

    function reflow() {
      dragWidth = dragger.width();
      dragHeight = dragger.height();
      dragHelperHeight = dragHelper.height();
      slideWidth = slider.width();
      slideHeight = slider.height();
      slideHelperHeight = slideHelper.height();
      alphaWidth = alphaSlider.width();
      alphaSlideHelperWidth = alphaSlideHelper.width();

      if (!flat) {
        container.css("position", "absolute");
        container.offset(getOffset(container, offsetElement));
      }

      updateHelperLocations();

      if (opts.showPalette) {
        drawPalette();
      }

      boundElement.trigger("reflow.spectrum");
    }

    function destroy() {
      boundElement.show();
      offsetElement.unbind("click.spectrum touchstart.spectrum");
      container.remove();
      replacer.remove();
      spectrums[spect.id] = null;
    }

    function option(optionName, optionValue) {
      if (optionName === undefined) {
        return $.extend({}, opts);
      }
      if (optionValue === undefined) {
        return opts[optionName];
      }

      opts[optionName] = optionValue;
      applyOptions();
    }

    function enable() {
      disabled = false;
      boundElement.attr("disabled", false);
      offsetElement.removeClass("sp-disabled");
    }

    function disable() {
      hide();
      disabled = true;
      boundElement.attr("disabled", true);
      offsetElement.addClass("sp-disabled");
    }

    initialize();

    var spect = {
      show: show,
      hide: hide,
      toggle: toggle,
      reflow: reflow,
      option: option,
      enable: enable,
      disable: disable,
      set: function (c) {
        set(c);
        updateOriginalInput();
      },
      get: get,
      destroy: destroy,
      container: container,
    };

    spect.id = spectrums.push(spect) - 1;

    return spect;
  }

  /**
   * checkOffset - get the offset below/above and left/right element depending on screen position
   * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js
   */
  function getOffset(picker, input) {
    var extraY = 0;
    var dpWidth = picker.outerWidth();
    var dpHeight = picker.outerHeight();
    var inputHeight = input.outerHeight();
    var doc = picker[0].ownerDocument;
    var docElem = doc.documentElement;
    var viewWidth = docElem.clientWidth + $(doc).scrollLeft();
    var viewHeight = docElem.clientHeight + $(doc).scrollTop();
    var offset = input.offset();
    offset.top += inputHeight;

    offset.left -= Math.min(
      offset.left,
      offset.left + dpWidth > viewWidth && viewWidth > dpWidth
        ? Math.abs(offset.left + dpWidth - viewWidth)
        : 0
    );

    offset.top -= Math.min(
      offset.top,
      offset.top + dpHeight > viewHeight && viewHeight > dpHeight
        ? Math.abs(dpHeight + inputHeight - extraY)
        : extraY
    );

    return offset;
  }

  /**
   * noop - do nothing
   */
  function noop() {}

  /**
   * stopPropagation - makes the code only doing this a little easier to read in line
   */
  function stopPropagation(e) {
    e.stopPropagation();
  }

  /**
   * Create a function bound to a given object
   * Thanks to underscore.js
   */
  function bind(func, obj) {
    var slice = Array.prototype.slice;
    var args = slice.call(arguments, 2);
    return function () {
      return func.apply(obj, args.concat(slice.call(arguments)));
    };
  }

  /**
   * Lightweight drag helper.  Handles containment within the element, so that
   * when dragging, the x is within [0,element.width] and y is within [0,element.height]
   */
  function draggable(element, onmove, onstart, onstop) {
    onmove = onmove || function () {};
    onstart = onstart || function () {};
    onstop = onstop || function () {};
    var doc = document;
    var dragging = false;
    var offset = {};
    var maxHeight = 0;
    var maxWidth = 0;
    var hasTouch = "ontouchstart" in window;

    var duringDragEvents = {};
    duringDragEvents["selectstart"] = prevent;
    duringDragEvents["dragstart"] = prevent;
    duringDragEvents["touchmove mousemove"] = move;
    duringDragEvents["touchend mouseup"] = stop;

    function prevent(e) {
      if (e.stopPropagation) {
        e.stopPropagation();
      }
      if (e.preventDefault) {
        e.preventDefault();
      }
      e.returnValue = false;
    }

    function move(e) {
      if (dragging) {
        // Mouseup happened outside of window
        if (IE && doc.documentMode < 9 && !e.button) {
          return stop();
        }

        var touches = e.originalEvent.touches;
        var pageX = touches ? touches[0].pageX : e.pageX;
        var pageY = touches ? touches[0].pageY : e.pageY;

        var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));
        var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));

        if (hasTouch) {
          // Stop scrolling in iOS
          prevent(e);
        }

        onmove.apply(element, [dragX, dragY, e]);
      }
    }

    function start(e) {
      var rightclick = e.which ? e.which == 3 : e.button == 2;

      if (!rightclick && !dragging) {
        if (onstart.apply(element, arguments) !== false) {
          dragging = true;
          maxHeight = $(element).height();
          maxWidth = $(element).width();
          offset = $(element).offset();

          $(doc).bind(duringDragEvents);
          $(doc.body).addClass("sp-dragging");

          if (!hasTouch) {
            move(e);
          }

          prevent(e);
        }
      }
    }

    function stop() {
      if (dragging) {
        $(doc).unbind(duringDragEvents);
        $(doc.body).removeClass("sp-dragging");
        onstop.apply(element, arguments);
      }
      dragging = false;
    }

    $(element).bind("touchstart mousedown", start);
  }

  function throttle(func, wait, debounce) {
    var timeout;
    return function () {
      var context = this,
        args = arguments;
      var throttler = function () {
        timeout = null;
        func.apply(context, args);
      };
      if (debounce) clearTimeout(timeout);
      if (debounce || !timeout) timeout = setTimeout(throttler, wait);
    };
  }

  /**
   * Define a jQuery plugin
   */
  var dataID = "spectrum.id";
  $.fn.spectrum = function (opts, extra) {
    if (typeof opts == "string") {
      var returnValue = this;
      var args = Array.prototype.slice.call(arguments, 1);

      this.each(function () {
        var spect = spectrums[$(this).data(dataID)];
        if (spect) {
          var method = spect[opts];
          if (!method) {
            throw new Error("Spectrum: no such method: '" + opts + "'");
          }

          if (opts == "get") {
            returnValue = spect.get();
          } else if (opts == "container") {
            returnValue = spect.container;
          } else if (opts == "option") {
            returnValue = spect.option.apply(spect, args);
          } else if (opts == "destroy") {
            spect.destroy();
            $(this).removeData(dataID);
          } else {
            method.apply(spect, args);
          }
        }
      });

      return returnValue;
    }

    // Initializing a new instance of spectrum
    return this.spectrum("destroy").each(function () {
      var options = $.extend({}, opts, $(this).data());
      var spect = spectrum(this, options);
      $(this).data(dataID, spect.id);
    });
  };

  $.fn.spectrum.load = true;
  $.fn.spectrum.loadOpts = {};
  $.fn.spectrum.draggable = draggable;
  $.fn.spectrum.defaults = defaultOpts;

  $.spectrum = {};
  $.spectrum.localization = {};
  $.spectrum.palettes = {};

  $.fn.spectrum.processNativeColorInputs = function () {
    if (!inputTypeColorSupport) {
      $("input[type=color]").spectrum({
        preferredFormat: "hex6",
      });
    }
  };

  // TinyColor v1.0.0
  // https://github.com/bgrins/TinyColor
  // Brian Grinstead, MIT License

  (function () {
    var trimLeft = /^[\s,#]+/,
      trimRight = /\s+$/,
      tinyCounter = 0,
      math = Math,
      mathRound = math.round,
      mathMin = math.min,
      mathMax = math.max,
      mathRandom = math.random;

    var tinycolor = function tinycolor(color, opts) {
      color = color ? color : "";
      opts = opts || {};

      // If input is already a tinycolor, return itself
      if (color instanceof tinycolor) {
        return color;
      }
      // If we are called as a function, call using new instead
      if (!(this instanceof tinycolor)) {
        return new tinycolor(color, opts);
      }

      var rgb = inputToRGB(color);
      (this._r = rgb.r),
        (this._g = rgb.g),
        (this._b = rgb.b),
        (this._a = rgb.a),
        (this._roundA = mathRound(100 * this._a) / 100),
        (this._format = opts.format || rgb.format);
      this._gradientType = opts.gradientType;

      // Don't let the range of [0,255] come back in [0,1].
      // Potentially lose a little bit of precision here, but will fix issues where
      // .5 gets interpreted as half of the total, instead of half of 1
      // If it was supposed to be 128, this was already taken care of by `inputToRgb`
      if (this._r < 1) {
        this._r = mathRound(this._r);
      }
      if (this._g < 1) {
        this._g = mathRound(this._g);
      }
      if (this._b < 1) {
        this._b = mathRound(this._b);
      }

      this._ok = rgb.ok;
      this._tc_id = tinyCounter++;
    };

    tinycolor.prototype = {
      isDark: function () {
        return this.getBrightness() < 128;
      },
      isLight: function () {
        return !this.isDark();
      },
      isValid: function () {
        return this._ok;
      },
      getFormat: function () {
        return this._format;
      },
      getAlpha: function () {
        return this._a;
      },
      getBrightness: function () {
        var rgb = this.toRgb();
        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;
      },
      setAlpha: function (value) {
        this._a = boundAlpha(value);
        this._roundA = mathRound(100 * this._a) / 100;
        return this;
      },
      toHsv: function () {
        var hsv = rgbToHsv(this._r, this._g, this._b);
        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };
      },
      toHsvString: function () {
        var hsv = rgbToHsv(this._r, this._g, this._b);
        var h = mathRound(hsv.h * 360),
          s = mathRound(hsv.s * 100),
          v = mathRound(hsv.v * 100);
        return this._a == 1
          ? "hsv(" + h + ", " + s + "%, " + v + "%)"
          : "hsva(" + h + ", " + s + "%, " + v + "%, " + this._roundA + ")";
      },
      toHsl: function () {
        var hsl = rgbToHsl(this._r, this._g, this._b);
        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };
      },
      toHslString: function () {
        var hsl = rgbToHsl(this._r, this._g, this._b);
        var h = mathRound(hsl.h * 360),
          s = mathRound(hsl.s * 100),
          l = mathRound(hsl.l * 100);
        return this._a == 1
          ? "hsl(" + h + ", " + s + "%, " + l + "%)"
          : "hsla(" + h + ", " + s + "%, " + l + "%, " + this._roundA + ")";
      },
      toHex: function (allow3Char) {
        return rgbToHex(this._r, this._g, this._b, allow3Char);
      },
      toHexString: function (allow3Char) {
        return "#" + this.toHex(allow3Char);
      },
      toHex8: function () {
        return rgbaToHex(this._r, this._g, this._b, this._a);
      },
      toHex8String: function () {
        return "#" + this.toHex8();
      },
      toRgb: function () {
        return {
          r: mathRound(this._r),
          g: mathRound(this._g),
          b: mathRound(this._b),
          a: this._a,
        };
      },
      toRgbString: function () {
        return this._a == 1
          ? "rgb(" +
              mathRound(this._r) +
              ", " +
              mathRound(this._g) +
              ", " +
              mathRound(this._b) +
              ")"
          : "rgba(" +
              mathRound(this._r) +
              ", " +
              mathRound(this._g) +
              ", " +
              mathRound(this._b) +
              ", " +
              this._roundA +
              ")";
      },
      toPercentageRgb: function () {
        return {
          r: mathRound(bound01(this._r, 255) * 100) + "%",
          g: mathRound(bound01(this._g, 255) * 100) + "%",
          b: mathRound(bound01(this._b, 255) * 100) + "%",
          a: this._a,
        };
      },
      toPercentageRgbString: function () {
        return this._a == 1
          ? "rgb(" +
              mathRound(bound01(this._r, 255) * 100) +
              "%, " +
              mathRound(bound01(this._g, 255) * 100) +
              "%, " +
              mathRound(bound01(this._b, 255) * 100) +
              "%)"
          : "rgba(" +
              mathRound(bound01(this._r, 255) * 100) +
              "%, " +
              mathRound(bound01(this._g, 255) * 100) +
              "%, " +
              mathRound(bound01(this._b, 255) * 100) +
              "%, " +
              this._roundA +
              ")";
      },
      toName: function () {
        if (this._a === 0) {
          return "transparent";
        }

        if (this._a < 1) {
          return false;
        }

        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;
      },
      toFilter: function (secondColor) {
        var hex8String = "#" + rgbaToHex(this._r, this._g, this._b, this._a);
        var secondHex8String = hex8String;
        var gradientType = this._gradientType ? "GradientType = 1, " : "";

        if (secondColor) {
          var s = tinycolor(secondColor);
          secondHex8String = s.toHex8String();
        }

        return (
          "progid:DXImageTransform.Microsoft.gradient(" +
          gradientType +
          "startColorstr=" +
          hex8String +
          ",endColorstr=" +
          secondHex8String +
          ")"
        );
      },
      toString: function (format) {
        var formatSet = !!format;
        format = format || this._format;

        var formattedString = false;
        var hasAlpha = this._a < 1 && this._a >= 0;
        var needsAlphaFormat =
          !formatSet &&
          hasAlpha &&
          (format === "hex" ||
            format === "hex6" ||
            format === "hex3" ||
            format === "name");

        if (needsAlphaFormat) {
          // Special case for "transparent", all other non-alpha formats
          // will return rgba when there is transparency.
          if (format === "name" && this._a === 0) {
            return this.toName();
          }
          return this.toRgbString();
        }
        if (format === "rgb") {
          formattedString = this.toRgbString();
        }
        if (format === "prgb") {
          formattedString = this.toPercentageRgbString();
        }
        if (format === "hex" || format === "hex6") {
          formattedString = this.toHexString();
        }
        if (format === "hex3") {
          formattedString = this.toHexString(true);
        }
        if (format === "hex8") {
          formattedString = this.toHex8String();
        }
        if (format === "name") {
          formattedString = this.toName();
        }
        if (format === "hsl") {
          formattedString = this.toHslString();
        }
        if (format === "hsv") {
          formattedString = this.toHsvString();
        }

        return formattedString || this.toHexString();
      },

      _applyModification: function (fn, args) {
        var color = fn.apply(null, [this].concat([].slice.call(args)));
        this._r = color._r;
        this._g = color._g;
        this._b = color._b;
        this.setAlpha(color._a);
        return this;
      },
      lighten: function () {
        return this._applyModification(lighten, arguments);
      },
      brighten: function () {
        return this._applyModification(brighten, arguments);
      },
      darken: function () {
        return this._applyModification(darken, arguments);
      },
      desaturate: function () {
        return this._applyModification(desaturate, arguments);
      },
      saturate: function () {
        return this._applyModification(saturate, arguments);
      },
      greyscale: function () {
        return this._applyModification(greyscale, arguments);
      },
      spin: function () {
        return this._applyModification(spin, arguments);
      },

      _applyCombination: function (fn, args) {
        return fn.apply(null, [this].concat([].slice.call(args)));
      },
      analogous: function () {
        return this._applyCombination(analogous, arguments);
      },
      complement: function () {
        return this._applyCombination(complement, arguments);
      },
      monochromatic: function () {
        return this._applyCombination(monochromatic, arguments);
      },
      splitcomplement: function () {
        return this._applyCombination(splitcomplement, arguments);
      },
      triad: function () {
        return this._applyCombination(triad, arguments);
      },
      tetrad: function () {
        return this._applyCombination(tetrad, arguments);
      },
    };

    // If input is an object, force 1 into "1.0" to handle ratios properly
    // String input requires "1.0" as input, so 1 will be treated as 1
    tinycolor.fromRatio = function (color, opts) {
      if (typeof color == "object") {
        var newColor = {};
        for (var i in color) {
          if (color.hasOwnProperty(i)) {
            if (i === "a") {
              newColor[i] = color[i];
            } else {
              newColor[i] = convertToPercentage(color[i]);
            }
          }
        }
        color = newColor;
      }

      return tinycolor(color, opts);
    };

    // Given a string or object, convert that input to RGB
    // Possible string inputs:
    //
    //     "red"
    //     "#f00" or "f00"
    //     "#ff0000" or "ff0000"
    //     "#ff000000" or "ff000000"
    //     "rgb 255 0 0" or "rgb (255, 0, 0)"
    //     "rgb 1.0 0 0" or "rgb (1, 0, 0)"
    //     "rgba (255, 0, 0, 1)" or "rgba 255, 0, 0, 1"
    //     "rgba (1.0, 0, 0, 1)" or "rgba 1.0, 0, 0, 1"
    //     "hsl(0, 100%, 50%)" or "hsl 0 100% 50%"
    //     "hsla(0, 100%, 50%, 1)" or "hsla 0 100% 50%, 1"
    //     "hsv(0, 100%, 100%)" or "hsv 0 100% 100%"
    //
    function inputToRGB(color) {
      var rgb = { r: 0, g: 0, b: 0 };
      var a = 1;
      var ok = false;
      var format = false;

      if (typeof color == "string") {
        color = stringInputToObject(color);
      }

      if (typeof color == "object") {
        if (
          color.hasOwnProperty("r") &&
          color.hasOwnProperty("g") &&
          color.hasOwnProperty("b")
        ) {
          rgb = rgbToRgb(color.r, color.g, color.b);
          ok = true;
          format = String(color.r).substr(-1) === "%" ? "prgb" : "rgb";
        } else if (
          color.hasOwnProperty("h") &&
          color.hasOwnProperty("s") &&
          color.hasOwnProperty("v")
        ) {
          color.s = convertToPercentage(color.s);
          color.v = convertToPercentage(color.v);
          rgb = hsvToRgb(color.h, color.s, color.v);
          ok = true;
          format = "hsv";
        } else if (
          color.hasOwnProperty("h") &&
          color.hasOwnProperty("s") &&
          color.hasOwnProperty("l")
        ) {
          color.s = convertToPercentage(color.s);
          color.l = convertToPercentage(color.l);
          rgb = hslToRgb(color.h, color.s, color.l);
          ok = true;
          format = "hsl";
        }

        if (color.hasOwnProperty("a")) {
          a = color.a;
        }
      }

      a = boundAlpha(a);

      return {
        ok: ok,
        format: color.format || format,
        r: mathMin(255, mathMax(rgb.r, 0)),
        g: mathMin(255, mathMax(rgb.g, 0)),
        b: mathMin(255, mathMax(rgb.b, 0)),
        a: a,
      };
    }

    // Conversion Functions
    // --------------------

    // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:
    // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>

    // `rgbToRgb`
    // Handle bounds / percentage checking to conform to CSS color spec
    // <http://www.w3.org/TR/css3-color/>
    // *Assumes:* r, g, b in [0, 255] or [0, 1]
    // *Returns:* { r, g, b } in [0, 255]
    function rgbToRgb(r, g, b) {
      return {
        r: bound01(r, 255) * 255,
        g: bound01(g, 255) * 255,
        b: bound01(b, 255) * 255,
      };
    }

    // `rgbToHsl`
    // Converts an RGB color value to HSL.
    // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]
    // *Returns:* { h, s, l } in [0,1]
    function rgbToHsl(r, g, b) {
      r = bound01(r, 255);
      g = bound01(g, 255);
      b = bound01(b, 255);

      var max = mathMax(r, g, b),
        min = mathMin(r, g, b);
      var h,
        s,
        l = (max + min) / 2;

      if (max == min) {
        h = s = 0; // achromatic
      } else {
        var d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch (max) {
          case r:
            h = (g - b) / d + (g < b ? 6 : 0);
            break;
          case g:
            h = (b - r) / d + 2;
            break;
          case b:
            h = (r - g) / d + 4;
            break;
        }

        h /= 6;
      }

      return { h: h, s: s, l: l };
    }

    // `hslToRgb`
    // Converts an HSL color value to RGB.
    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]
    // *Returns:* { r, g, b } in the set [0, 255]
    function hslToRgb(h, s, l) {
      var r, g, b;

      h = bound01(h, 360);
      s = bound01(s, 100);
      l = bound01(l, 100);

      function hue2rgb(p, q, t) {
        if (t < 0) t += 1;
        if (t > 1) t -= 1;
        if (t < 1 / 6) return p + (q - p) * 6 * t;
        if (t < 1 / 2) return q;
        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
        return p;
      }

      if (s === 0) {
        r = g = b = l; // achromatic
      } else {
        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        var p = 2 * l - q;
        r = hue2rgb(p, q, h + 1 / 3);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - 1 / 3);
      }

      return { r: r * 255, g: g * 255, b: b * 255 };
    }

    // `rgbToHsv`
    // Converts an RGB color value to HSV
    // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]
    // *Returns:* { h, s, v } in [0,1]
    function rgbToHsv(r, g, b) {
      r = bound01(r, 255);
      g = bound01(g, 255);
      b = bound01(b, 255);

      var max = mathMax(r, g, b),
        min = mathMin(r, g, b);
      var h,
        s,
        v = max;

      var d = max - min;
      s = max === 0 ? 0 : d / max;

      if (max == min) {
        h = 0; // achromatic
      } else {
        switch (max) {
          case r:
            h = (g - b) / d + (g < b ? 6 : 0);
            break;
          case g:
            h = (b - r) / d + 2;
            break;
          case b:
            h = (r - g) / d + 4;
            break;
        }
        h /= 6;
      }
      return { h: h, s: s, v: v };
    }

    // `hsvToRgb`
    // Converts an HSV color value to RGB.
    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]
    // *Returns:* { r, g, b } in the set [0, 255]
    function hsvToRgb(h, s, v) {
      h = bound01(h, 360) * 6;
      s = bound01(s, 100);
      v = bound01(v, 100);

      var i = math.floor(h),
        f = h - i,
        p = v * (1 - s),
        q = v * (1 - f * s),
        t = v * (1 - (1 - f) * s),
        mod = i % 6,
        r = [v, q, p, p, t, v][mod],
        g = [t, v, v, q, p, p][mod],
        b = [p, p, t, v, v, q][mod];

      return { r: r * 255, g: g * 255, b: b * 255 };
    }

    // `rgbToHex`
    // Converts an RGB color to hex
    // Assumes r, g, and b are contained in the set [0, 255]
    // Returns a 3 or 6 character hex
    function rgbToHex(r, g, b, allow3Char) {
      var hex = [
        pad2(mathRound(r).toString(16)),
        pad2(mathRound(g).toString(16)),
        pad2(mathRound(b).toString(16)),
      ];

      // Return a 3 character hex if possible
      if (
        allow3Char &&
        hex[0].charAt(0) == hex[0].charAt(1) &&
        hex[1].charAt(0) == hex[1].charAt(1) &&
        hex[2].charAt(0) == hex[2].charAt(1)
      ) {
        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);
      }

      return hex.join("");
    }
    // `rgbaToHex`
    // Converts an RGBA color plus alpha transparency to hex
    // Assumes r, g, b and a are contained in the set [0, 255]
    // Returns an 8 character hex
    function rgbaToHex(r, g, b, a) {
      var hex = [
        pad2(convertDecimalToHex(a)),
        pad2(mathRound(r).toString(16)),
        pad2(mathRound(g).toString(16)),
        pad2(mathRound(b).toString(16)),
      ];

      return hex.join("");
    }

    // `equals`
    // Can be called with any tinycolor input
    tinycolor.equals = function (color1, color2) {
      if (!color1 || !color2) {
        return false;
      }
      return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();
    };
    tinycolor.random = function () {
      return tinycolor.fromRatio({
        r: mathRandom(),
        g: mathRandom(),
        b: mathRandom(),
      });
    };

    // Modification Functions
    // ----------------------
    // Thanks to less.js for some of the basics here
    // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>

    function desaturate(color, amount) {
      amount = amount === 0 ? 0 : amount || 10;
      var hsl = tinycolor(color).toHsl();
      hsl.s -= amount / 100;
      hsl.s = clamp01(hsl.s);
      return tinycolor(hsl);
    }

    function saturate(color, amount) {
      amount = amount === 0 ? 0 : amount || 10;
      var hsl = tinycolor(color).toHsl();
      hsl.s += amount / 100;
      hsl.s = clamp01(hsl.s);
      return tinycolor(hsl);
    }

    function greyscale(color) {
      return tinycolor(color).desaturate(100);
    }

    function lighten(color, amount) {
      amount = amount === 0 ? 0 : amount || 10;
      var hsl = tinycolor(color).toHsl();
      hsl.l += amount / 100;
      hsl.l = clamp01(hsl.l);
      return tinycolor(hsl);
    }

    function brighten(color, amount) {
      amount = amount === 0 ? 0 : amount || 10;
      var rgb = tinycolor(color).toRgb();
      rgb.r = mathMax(
        0,
        mathMin(255, rgb.r - mathRound(255 * -(amount / 100)))
      );
      rgb.g = mathMax(
        0,
        mathMin(255, rgb.g - mathRound(255 * -(amount / 100)))
      );
      rgb.b = mathMax(
        0,
        mathMin(255, rgb.b - mathRound(255 * -(amount / 100)))
      );
      return tinycolor(rgb);
    }

    function darken(color, amount) {
      amount = amount === 0 ? 0 : amount || 10;
      var hsl = tinycolor(color).toHsl();
      hsl.l -= amount / 100;
      hsl.l = clamp01(hsl.l);
      return tinycolor(hsl);
    }

    // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.
    // Values outside of this range will be wrapped into this range.
    function spin(color, amount) {
      var hsl = tinycolor(color).toHsl();
      var hue = (mathRound(hsl.h) + amount) % 360;
      hsl.h = hue < 0 ? 360 + hue : hue;
      return tinycolor(hsl);
    }

    // Combination Functions
    // ---------------------
    // Thanks to jQuery xColor for some of the ideas behind these
    // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>

    function complement(color) {
      var hsl = tinycolor(color).toHsl();
      hsl.h = (hsl.h + 180) % 360;
      return tinycolor(hsl);
    }

    function triad(color) {
      var hsl = tinycolor(color).toHsl();
      var h = hsl.h;
      return [
        tinycolor(color),
        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),
        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l }),
      ];
    }

    function tetrad(color) {
      var hsl = tinycolor(color).toHsl();
      var h = hsl.h;
      return [
        tinycolor(color),
        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),
        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),
        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l }),
      ];
    }

    function splitcomplement(color) {
      var hsl = tinycolor(color).toHsl();
      var h = hsl.h;
      return [
        tinycolor(color),
        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),
        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),
      ];
    }

    function analogous(color, results, slices) {
      results = results || 6;
      slices = slices || 30;

      var hsl = tinycolor(color).toHsl();
      var part = 360 / slices;
      var ret = [tinycolor(color)];

      for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results; ) {
        hsl.h = (hsl.h + part) % 360;
        ret.push(tinycolor(hsl));
      }
      return ret;
    }

    function monochromatic(color, results) {
      results = results || 6;
      var hsv = tinycolor(color).toHsv();
      var h = hsv.h,
        s = hsv.s,
        v = hsv.v;
      var ret = [];
      var modification = 1 / results;

      while (results--) {
        ret.push(tinycolor({ h: h, s: s, v: v }));
        v = (v + modification) % 1;
      }

      return ret;
    }

    // Utility Functions
    // ---------------------

    tinycolor.mix = function (color1, color2, amount) {
      amount = amount === 0 ? 0 : amount || 50;

      var rgb1 = tinycolor(color1).toRgb();
      var rgb2 = tinycolor(color2).toRgb();

      var p = amount / 100;
      var w = p * 2 - 1;
      var a = rgb2.a - rgb1.a;

      var w1;

      if (w * a == -1) {
        w1 = w;
      } else {
        w1 = (w + a) / (1 + w * a);
      }

      w1 = (w1 + 1) / 2;

      var w2 = 1 - w1;

      var rgba = {
        r: rgb2.r * w1 + rgb1.r * w2,
        g: rgb2.g * w1 + rgb1.g * w2,
        b: rgb2.b * w1 + rgb1.b * w2,
        a: rgb2.a * p + rgb1.a * (1 - p),
      };

      return tinycolor(rgba);
    };

    // Readability Functions
    // ---------------------
    // <http://www.w3.org/TR/AERT#color-contrast>

    // `readability`
    // Analyze the 2 colors and returns an object with the following properties:
    //    `brightness`: difference in brightness between the two colors
    //    `color`: difference in color/hue between the two colors
    tinycolor.readability = function (color1, color2) {
      var c1 = tinycolor(color1);
      var c2 = tinycolor(color2);
      var rgb1 = c1.toRgb();
      var rgb2 = c2.toRgb();
      var brightnessA = c1.getBrightness();
      var brightnessB = c2.getBrightness();
      var colorDiff =
        Math.max(rgb1.r, rgb2.r) -
        Math.min(rgb1.r, rgb2.r) +
        Math.max(rgb1.g, rgb2.g) -
        Math.min(rgb1.g, rgb2.g) +
        Math.max(rgb1.b, rgb2.b) -
        Math.min(rgb1.b, rgb2.b);

      return {
        brightness: Math.abs(brightnessA - brightnessB),
        color: colorDiff,
      };
    };

    // `readable`
    // http://www.w3.org/TR/AERT#color-contrast
    // Ensure that foreground and background color combinations provide sufficient contrast.
    // *Example*
    //    tinycolor.isReadable("#000", "#111") => false
    tinycolor.isReadable = function (color1, color2) {
      var readability = tinycolor.readability(color1, color2);
      return readability.brightness > 125 && readability.color > 500;
    };

    // `mostReadable`
    // Given a base color and a list of possible foreground or background
    // colors for that base, returns the most readable color.
    // *Example*
    //    tinycolor.mostReadable("#123", ["#fff", "#000"]) => "#000"
    tinycolor.mostReadable = function (baseColor, colorList) {
      var bestColor = null;
      var bestScore = 0;
      var bestIsReadable = false;
      for (var i = 0; i < colorList.length; i++) {
        // We normalize both around the "acceptable" breaking point,
        // but rank brightness constrast higher than hue.

        var readability = tinycolor.readability(baseColor, colorList[i]);
        var readable = readability.brightness > 125 && readability.color > 500;
        var score =
          3 * (readability.brightness / 125) + readability.color / 500;

        if (
          (readable && !bestIsReadable) ||
          (readable && bestIsReadable && score > bestScore) ||
          (!readable && !bestIsReadable && score > bestScore)
        ) {
          bestIsReadable = readable;
          bestScore = score;
          bestColor = tinycolor(colorList[i]);
        }
      }
      return bestColor;
    };

    // Big List of Colors
    // ------------------
    // <http://www.w3.org/TR/css3-color/#svg-color>
    var names = (tinycolor.names = {
      aliceblue: "f0f8ff",
      antiquewhite: "faebd7",
      aqua: "0ff",
      aquamarine: "7fffd4",
      azure: "f0ffff",
      beige: "f5f5dc",
      bisque: "ffe4c4",
      black: "000",
      blanchedalmond: "ffebcd",
      blue: "00f",
      blueviolet: "8a2be2",
      brown: "a52a2a",
      burlywood: "deb887",
      burntsienna: "ea7e5d",
      cadetblue: "5f9ea0",
      chartreuse: "7fff00",
      chocolate: "d2691e",
      coral: "ff7f50",
      cornflowerblue: "6495ed",
      cornsilk: "fff8dc",
      crimson: "dc143c",
      cyan: "0ff",
      darkblue: "00008b",
      darkcyan: "008b8b",
      darkgoldenrod: "b8860b",
      darkgray: "a9a9a9",
      darkgreen: "006400",
      darkgrey: "a9a9a9",
      darkkhaki: "bdb76b",
      darkmagenta: "8b008b",
      darkolivegreen: "556b2f",
      darkorange: "ff8c00",
      darkorchid: "9932cc",
      darkred: "8b0000",
      darksalmon: "e9967a",
      darkseagreen: "8fbc8f",
      darkslateblue: "483d8b",
      darkslategray: "2f4f4f",
      darkslategrey: "2f4f4f",
      darkturquoise: "00ced1",
      darkviolet: "9400d3",
      deeppink: "ff1493",
      deepskyblue: "00bfff",
      dimgray: "696969",
      dimgrey: "696969",
      dodgerblue: "1e90ff",
      firebrick: "b22222",
      floralwhite: "fffaf0",
      forestgreen: "228b22",
      fuchsia: "f0f",
      gainsboro: "dcdcdc",
      ghostwhite: "f8f8ff",
      gold: "ffd700",
      goldenrod: "daa520",
      gray: "808080",
      green: "008000",
      greenyellow: "adff2f",
      grey: "808080",
      honeydew: "f0fff0",
      hotpink: "ff69b4",
      indianred: "cd5c5c",
      indigo: "4b0082",
      ivory: "fffff0",
      khaki: "f0e68c",
      lavender: "e6e6fa",
      lavenderblush: "fff0f5",
      lawngreen: "7cfc00",
      lemonchiffon: "fffacd",
      lightblue: "add8e6",
      lightcoral: "f08080",
      lightcyan: "e0ffff",
      lightgoldenrodyellow: "fafad2",
      lightgray: "d3d3d3",
      lightgreen: "90ee90",
      lightgrey: "d3d3d3",
      lightpink: "ffb6c1",
      lightsalmon: "ffa07a",
      lightseagreen: "20b2aa",
      lightskyblue: "87cefa",
      lightslategray: "789",
      lightslategrey: "789",
      lightsteelblue: "b0c4de",
      lightyellow: "ffffe0",
      lime: "0f0",
      limegreen: "32cd32",
      linen: "faf0e6",
      magenta: "f0f",
      maroon: "800000",
      mediumaquamarine: "66cdaa",
      mediumblue: "0000cd",
      mediumorchid: "ba55d3",
      mediumpurple: "9370db",
      mediumseagreen: "3cb371",
      mediumslateblue: "7b68ee",
      mediumspringgreen: "00fa9a",
      mediumturquoise: "48d1cc",
      mediumvioletred: "c71585",
      midnightblue: "191970",
      mintcream: "f5fffa",
      mistyrose: "ffe4e1",
      moccasin: "ffe4b5",
      navajowhite: "ffdead",
      navy: "000080",
      oldlace: "fdf5e6",
      olive: "808000",
      olivedrab: "6b8e23",
      orange: "ffa500",
      orangered: "ff4500",
      orchid: "da70d6",
      palegoldenrod: "eee8aa",
      palegreen: "98fb98",
      paleturquoise: "afeeee",
      palevioletred: "db7093",
      papayawhip: "ffefd5",
      peachpuff: "ffdab9",
      peru: "cd853f",
      pink: "ffc0cb",
      plum: "dda0dd",
      powderblue: "b0e0e6",
      purple: "800080",
      red: "f00",
      rosybrown: "bc8f8f",
      royalblue: "4169e1",
      saddlebrown: "8b4513",
      salmon: "fa8072",
      sandybrown: "f4a460",
      seagreen: "2e8b57",
      seashell: "fff5ee",
      sienna: "a0522d",
      silver: "c0c0c0",
      skyblue: "87ceeb",
      slateblue: "6a5acd",
      slategray: "708090",
      slategrey: "708090",
      snow: "fffafa",
      springgreen: "00ff7f",
      steelblue: "4682b4",
      tan: "d2b48c",
      teal: "008080",
      thistle: "d8bfd8",
      tomato: "ff6347",
      turquoise: "40e0d0",
      violet: "ee82ee",
      wheat: "f5deb3",
      white: "fff",
      whitesmoke: "f5f5f5",
      yellow: "ff0",
      yellowgreen: "9acd32",
    });

    // Make it easy to access colors via `hexNames[hex]`
    var hexNames = (tinycolor.hexNames = flip(names));

    // Utilities
    // ---------

    // `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`
    function flip(o) {
      var flipped = {};
      for (var i in o) {
        if (o.hasOwnProperty(i)) {
          flipped[o[i]] = i;
        }
      }
      return flipped;
    }

    // Return a valid alpha value [0,1] with all invalid values being set to 1
    function boundAlpha(a) {
      a = parseFloat(a);

      if (isNaN(a) || a < 0 || a > 1) {
        a = 1;
      }

      return a;
    }

    // Take input from [0, n] and return it as [0, 1]
    function bound01(n, max) {
      if (isOnePointZero(n)) {
        n = "100%";
      }

      var processPercent = isPercentage(n);
      n = mathMin(max, mathMax(0, parseFloat(n)));

      // Automatically convert percentage into number
      if (processPercent) {
        n = parseInt(n * max, 10) / 100;
      }

      // Handle floating point rounding errors
      if (math.abs(n - max) < 0.000001) {
        return 1;
      }

      // Convert into [0, 1] range if it isn't already
      return (n % max) / parseFloat(max);
    }

    // Force a number between 0 and 1
    function clamp01(val) {
      return mathMin(1, mathMax(0, val));
    }

    // Parse a base-16 hex value into a base-10 integer
    function parseIntFromHex(val) {
      return parseInt(val, 16);
    }

    // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1
    // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>
    function isOnePointZero(n) {
      return (
        typeof n == "string" && n.indexOf(".") != -1 && parseFloat(n) === 1
      );
    }

    // Check to see if string passed in is a percentage
    function isPercentage(n) {
      return typeof n === "string" && n.indexOf("%") != -1;
    }

    // Force a hex value to have 2 characters
    function pad2(c) {
      return c.length == 1 ? "0" + c : "" + c;
    }

    // Replace a decimal with it's percentage value
    function convertToPercentage(n) {
      if (n <= 1) {
        n = n * 100 + "%";
      }

      return n;
    }

    // Converts a decimal to a hex value
    function convertDecimalToHex(d) {
      return Math.round(parseFloat(d) * 255).toString(16);
    }
    // Converts a hex value to a decimal
    function convertHexToDecimal(h) {
      return parseIntFromHex(h) / 255;
    }

    var matchers = (function () {
      // <http://www.w3.org/TR/css3-values/#integers>
      var CSS_INTEGER = "[-\\+]?\\d+%?";

      // <http://www.w3.org/TR/css3-values/#number-value>
      var CSS_NUMBER = "[-\\+]?\\d*\\.\\d+%?";

      // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.
      var CSS_UNIT = "(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";

      // Actual matching.
      // Parentheses and commas are optional, but not required.
      // Whitespace can take the place of commas or opening paren
      var PERMISSIVE_MATCH3 =
        "[\\s|\\(]+(" +
        CSS_UNIT +
        ")[,|\\s]+(" +
        CSS_UNIT +
        ")[,|\\s]+(" +
        CSS_UNIT +
        ")\\s*\\)?";
      var PERMISSIVE_MATCH4 =
        "[\\s|\\(]+(" +
        CSS_UNIT +
        ")[,|\\s]+(" +
        CSS_UNIT +
        ")[,|\\s]+(" +
        CSS_UNIT +
        ")[,|\\s]+(" +
        CSS_UNIT +
        ")\\s*\\)?";

      return {
        rgb: new RegExp("rgb" + PERMISSIVE_MATCH3),
        rgba: new RegExp("rgba" + PERMISSIVE_MATCH4),
        hsl: new RegExp("hsl" + PERMISSIVE_MATCH3),
        hsla: new RegExp("hsla" + PERMISSIVE_MATCH4),
        hsv: new RegExp("hsv" + PERMISSIVE_MATCH3),
        hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
        hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
        hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
      };
    })();

    // `stringInputToObject`
    // Permissive string parsing.  Take in a number of formats, and output an object
    // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`
    function stringInputToObject(color) {
      color = color.replace(trimLeft, "").replace(trimRight, "").toLowerCase();
      var named = false;
      if (names[color]) {
        color = names[color];
        named = true;
      } else if (color == "transparent") {
        return { r: 0, g: 0, b: 0, a: 0, format: "name" };
      }

      // Try to match string input using regular expressions.
      // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]
      // Just return an object and let the conversion functions handle that.
      // This way the result will be the same whether the tinycolor is initialized with string or object.
      var match;
      if ((match = matchers.rgb.exec(color))) {
        return { r: match[1], g: match[2], b: match[3] };
      }
      if ((match = matchers.rgba.exec(color))) {
        return { r: match[1], g: match[2], b: match[3], a: match[4] };
      }
      if ((match = matchers.hsl.exec(color))) {
        return { h: match[1], s: match[2], l: match[3] };
      }
      if ((match = matchers.hsla.exec(color))) {
        return { h: match[1], s: match[2], l: match[3], a: match[4] };
      }
      if ((match = matchers.hsv.exec(color))) {
        return { h: match[1], s: match[2], v: match[3] };
      }
      if ((match = matchers.hex8.exec(color))) {
        return {
          a: convertHexToDecimal(match[1]),
          r: parseIntFromHex(match[2]),
          g: parseIntFromHex(match[3]),
          b: parseIntFromHex(match[4]),
          format: named ? "name" : "hex8",
        };
      }
      if ((match = matchers.hex6.exec(color))) {
        return {
          r: parseIntFromHex(match[1]),
          g: parseIntFromHex(match[2]),
          b: parseIntFromHex(match[3]),
          format: named ? "name" : "hex",
        };
      }
      if ((match = matchers.hex3.exec(color))) {
        return {
          r: parseIntFromHex(match[1] + "" + match[1]),
          g: parseIntFromHex(match[2] + "" + match[2]),
          b: parseIntFromHex(match[3] + "" + match[3]),
          format: named ? "name" : "hex",
        };
      }

      return false;
    }

    window.tinycolor = tinycolor;
  })();

  $(function () {
    if ($.fn.spectrum.load) {
      $.fn.spectrum.processNativeColorInputs();
    }
  });
})(window, jQuery);
/**
 * [Lottery description]
 * @param  {DOM}      node       canvas
 * @param  {}    url        
 * @param  {}    canvas_url 
 * @param  {DOM}   type       
 * @param  {px}       w          
 * @param  {px}       h          
 * @param  {fn}       callback   
 */
function Lottery(
  id,
  cover,
  coverType,
  width,
  height,
  drawPercentCallback,
  ctClass
) {
  //canvas
  this.conNode = document.getElementById(id);
  // canvas
  this.background = null;
  this.backCtx = null;

  // canvas
  this.mask = null;
  this.maskCtx = null;

  // 
  this.lottery = null;
  this.lotteryType = "image";
  // 
  this.cover = cover || "#000";
  this.coverType = coverType;
  this.pixlesData = null;

  // canvas
  this.width = width;
  this.height = height;
  this.lastPosition = null;
  // 
  this.drawPercentCallback = drawPercentCallback;
  this.ctClass = ctClass;
  var offset = $("." + this.ctClass).offset();
  this.marginLeft = offset.left || $(window).width() / 2 - this.width / 2;
  this.marginTop = offset.top || 0;
  this.vail = false;
  if (cover) {
    var domain =
      /[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/.exec(
        cover
      )[0];
    if (domain.indexOf("davinci") > -1) {
      this.crossOrigin = domain;
    }
  }
}

Lottery.prototype = {
  // 
  createElement: function (tagName, attributes) {
    var ele = document.createElement(tagName);
    for (var key in attributes) {
      ele.setAttribute(key, attributes[key]);
    }
    return ele;
  },

  // canvas
  getTransparentPercent: function (ctx, width, height) {
    // 
    var imgData = ctx.getImageData(0, 0, width, height),
      pixles = imgData.data,
      transPixs = [];

    // 0-255
    for (var i = 0, j = pixles.length; i < j; i += 4) {
      var a = pixles[i + 3];
      if (a < 128) {
        transPixs.push(i);
      }
    }
    return ((transPixs.length / (pixles.length / 4)) * 100).toFixed(2);
  },

  // 
  resizeCanvas: function (canvas, width, height) {
    canvas.width = width;
    canvas.height = height;
    canvas.getContext("2d").clearRect(0, 0, width, height);
  },

  resizeCanvas_w: function (canvas, width, height) {
    canvas.width = width;
    canvas.height = height;
    canvas.getContext("2d").clearRect(0, 0, width, height);

    // canvasDOM--()
    if (this.vail) this.drawLottery();
    else this.drawMask();
  },

  // 
  drawPoint: function (x, y, fresh) {
    x -= this.marginLeft;
    y -= this.marginTop;
    this.maskCtx.beginPath();
    var radius = 20;
    this.maskCtx.arc(x, y - radius, radius, 0, Math.PI * 2);
    this.maskCtx.fill();
    // -
    this.maskCtx.beginPath();

    // 
    this.maskCtx.lineWidth = 40;
    // ---
    this.maskCtx.lineCap = this.maskCtx.lineJoin = "round";

    // 
    if (this.lastPosition) {
      this.maskCtx.moveTo(this.lastPosition[0], this.lastPosition[1]);
    }
    this.maskCtx.lineTo(x, y);
    this.maskCtx.stroke();

    this.lastPosition = [x, y];

    this.mask.style.zIndex = this.mask.style.zIndex == 20 ? 21 : 20;
  },

  // 
  bindEvent: function () {
    var _this = this;
    // 
    var device =
      /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(
        navigator.userAgent.toLowerCase()
      );
    var clickEvtName = device ? "touchstart" : "mousedown";
    var moveEvtName = device ? "touchmove" : "mousemove";
    if (!device) {
      var isMouseDown = false;
      _this.conNode.addEventListener(
        "mouseup",
        function (e) {
          e.preventDefault();

          isMouseDown = false;
          var per = _this.getTransparentPercent(
            _this.maskCtx,
            _this.width,
            _this.height
          );

          // 
          if (typeof _this.drawPercentCallback == "function")
            _this.drawPercentCallback(per);
        },
        false
      );
    } else {
      _this.conNode.addEventListener(
        "touchmove",
        function (e) {
          if (isMouseDown) {
            e.preventDefault();
          }
          if (e.cancelable) {
            e.preventDefault();
          } else {
            window.event.returnValue = false;
          }
        },
        false
      );
      _this.conNode.addEventListener(
        "touchend",
        function (e) {
          isMouseDown = false;
          var per = _this.getTransparentPercent(
            _this.maskCtx,
            _this.width,
            _this.height
          );
          // 
          if (typeof _this.drawPercentCallback == "function")
            _this.drawPercentCallback(per);
        },
        false
      );
    }

    // move
    this.mask.addEventListener(
      clickEvtName,
      function (e) {
        e.preventDefault();

        // move
        isMouseDown = true;

        var x = device ? e.touches[0].pageX : e.pageX || e.x;
        var y = device ? e.touches[0].pageY : e.pageY || e.y;
        // 
        _this.drawPoint(x, y, isMouseDown);
      },
      false
    );

    this.mask.addEventListener(
      moveEvtName,
      function (e) {
        e.preventDefault();

        // move
        if (!isMouseDown) return false;
        e.preventDefault();

        var x = device ? e.touches[0].pageX : e.pageX || e.x;
        var y = device ? e.touches[0].pageY : e.pageY || e.y;
        // 
        _this.drawPoint(x, y, isMouseDown);
      },
      false
    );
  },

  // 
  drawLottery: function () {
    if (this.lotteryType == "image") {
      var image = new Image(),
        _this = this;
      image.onload = function () {
        this.width = _this.width;
        this.height = _this.height;
        _this.resizeCanvas(_this.background, _this.width, _this.height);
        _this.backCtx.drawImage(this, 0, 0, _this.width, _this.height);
        _this.drawMask();
      };
      image.src = this.lottery;
    } else if (this.lotteryType == "text" || this.lotteryType == "color") {
      this.width = this.width;
      this.height = this.height;
      this.resizeCanvas(this.background, this.width, this.height);
      this.backCtx.save();
      this.backCtx.fillStyle = "#FFF";
      this.backCtx.fillRect(0, 0, this.width, this.height);
      this.backCtx.restore();
      this.backCtx.save();
      var fontSize = 30;
      this.backCtx.font = "Bold " + fontSize + "px Arial";
      this.backCtx.textAlign = "center";
      this.backCtx.fillStyle = "#F60";
      if (this.lotteryType === "text") {
        this.backCtx.fillText(
          this.lottery,
          this.width / 2,
          this.height / 2 + fontSize / 2
        );
      }
      this.backCtx.restore();
      this.drawMask();
    }
  },

  // 
  drawMask: function () {
    if (this.coverType == "color") {
      this.maskCtx.fillStyle = this.cover;
      this.maskCtx.fillRect(0, 0, this.width, this.height);
      this.maskCtx.globalCompositeOperation = "destination-out";
    } else if (this.coverType == "image") {
      var image = new Image(),
        _this = this;
      if (_this.crossOrigin) {
        image.crossOrigin = _this.crossOrigin;
      }
      image.onload = function () {
        _this.resizeCanvas(_this.mask, _this.width, _this.height);

        var android = /android/i.test(navigator.userAgent.toLowerCase());

        _this.maskCtx.globalAlpha = 0.98;
        // _this.maskCtx.drawImage(this, 0, 0,_this.width, _this.height);
        _this.maskCtx.drawImage(
          this,
          0,
          0,
          this.width,
          this.height,
          0,
          0,
          _this.width,
          _this.height
        );
        // var fontSize = $('body').css('font-size').split('px')[0];
        var fontSize = 30;
        var txt = $("#ca-tips").val();
        var gradient = _this.maskCtx.createLinearGradient(0, 0, _this.width, 0);
        gradient.addColorStop("0", "#fff");
        gradient.addColorStop("1.0", "#000");

        _this.maskCtx.font = "Bold " + fontSize + "px Arial"; //
        _this.maskCtx.textAlign = "left";
        _this.maskCtx.fillStyle = "#333"; //
        var _lotteryTextLen = 0;
        _this.lotteryText = _this.lotteryText.toString();
        for (var i = 0; i < _this.lotteryText.length; i++) {
          _lotteryTextLen += _this.getCharLen(_this.lotteryText[i]);
        }

        // _this.maskCtx.fillText(_this.lotteryText, _this.width / 2 - _this.maskCtx.measureText(txt).width / 2, _this.height - 50);
        var x = _this.width / 2 - (_lotteryTextLen * fontSize) / 2;
        var y = _this.height - 50;
        if (_this.lotteryTextVerticalAlign === "top") {
          y = _this.height / 3 - 50;
        } else if (_this.lotteryTextVerticalAlign === "center") {
          y = _this.height / 2 + fontSize / 2;
        }
        _this.maskCtx.fillText(_this.lotteryText, x, y);

        _this.maskCtx.globalAlpha = 1;

        _this.maskCtx.globalCompositeOperation = "destination-out";
      };
      image.src = this.cover;
    }
  },
  getCharLen: function (str) {
    if (escape(str).indexOf("%u") != -1) return 1;
    else {
      return 0.5;
    }
  },
  // 
  init: function (options) {
    // 
    // DOM
    if (lottery) {
      this.lottery = options.value;
      this.lottery.width = this.width;
      this.lottery.height = this.height;
      this.lotteryText = options.text;
      this.lotteryType = options.type || "image";
      this.lotteryTextVerticalAlign = options.textVerticalAlign;
      this.vail = true;
    }
    if (this.vail) {
      var _coverStyle;
      if (this.coverType === "image") {
        _coverStyle =
          "background:url(" + this.cover + ");background-size:cover;";
      } else {
        _coverStyle = "background:" + this.cover || "transparent" + ";";
      }
      this.background =
        this.background ||
        this.createElement("canvas", {
          style: "position:absolute;" + _coverStyle,
        });
    }

    // if (this.lotteryType === 'image') {
    //     _maskStyle = 'background:url(' + this.lottery + ');background-size:cover;';

    // } else {
    //     _maskStyle = 'background:' + this.lottery || 'transparent' + ';'
    // }
    // DOM
    this.mask = this.mask || this.createElement("canvas");

    this.mask.style.zIndex = 20;
    // wrapDOMHTML--(canvas-clear
    if (!this.conNode || !this.conNode.innerHTML.replace(/[\w\W]| /g, "")) {
      // if (this.vail) this.conNode.appendChild(this.background);
      this.conNode.appendChild(this.mask);
      this.bindEvent();
    }
    if (this.vail)
      this.backCtx = this.backCtx || this.background.getContext("2d");
    this.maskCtx = this.maskCtx || this.mask.getContext("2d");

    // canvasDOM--()
    if (this.vail) this.drawLottery();
    else this.drawMask();
    if (!options.fixedWindow) {
      var _this = this;
      var resizeFunc = function () {
        // _this.width = $(window).width() < 640 ? $(window).width() : 640;
        // _this.height = document.documentElement.clientHeight;
        var offset = $("." + _this.ctClass).offset();
        _this.marginLeft = offset.left;
        _this.marginTop = offset.top;
        _this.resizeCanvas_w(_this.mask, _this.width, _this.height);
      };
      this.background.remove();
      window.addEventListener(
        "resize",
        function () {
          // canvas
          resizeFunc();
        },
        false
      );
      resizeFunc();
    }
  },
}; /*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.10.0 - 2014-01-13
 * License: MIT
 */
angular.module("ui.bootstrap", [
  "ui.bootstrap.tpls",
  "ui.bootstrap.transition",
  "ui.bootstrap.collapse",
  "ui.bootstrap.accordion",
  "ui.bootstrap.alert",
  "ui.bootstrap.bindHtml",
  "ui.bootstrap.buttons",
  "ui.bootstrap.carousel",
  "ui.bootstrap.position",
  "ui.bootstrap.datepicker",
  "ui.bootstrap.dropdown",
  "ui.bootstrap.modal",
  "ui.bootstrap.tooltip",
  "ui.bootstrap.popover",
  "ui.bootstrap.progressbar",
  "ui.bootstrap.rating",
  "ui.bootstrap.tabs",
  "ui.bootstrap.timepicker",
  "ui.bootstrap.typeahead",
]);
angular.module("ui.bootstrap.tpls", [
  "template/accordion/accordion-group.html",
  "template/accordion/accordion.html",
  "template/alert/alert.html",
  "template/carousel/carousel.html",
  "template/carousel/slide.html",
  "template/datepicker/datepicker.html",
  "template/datepicker/popup.html",
  "template/modal/backdrop.html",
  "template/modal/window.html",
  "template/tooltip/tooltip-html-unsafe-popup.html",
  "template/tooltip/tooltip-popup.html",
  "template/popover/popover.html",
  "template/progressbar/bar.html",
  "template/progressbar/progress.html",
  "template/progressbar/progressbar.html",
  "template/rating/rating.html",
  "template/tabs/tab.html",
  "template/tabs/tabset.html",
  "template/timepicker/timepicker.html",
  "template/typeahead/typeahead-match.html",
  "template/typeahead/typeahead-popup.html",
]);
angular
  .module("ui.bootstrap.transition", [])

  /**
   * $transition service provides a consistent interface to trigger CSS 3 transitions and to be informed when they complete.
   * @param  {DOMElement} element  The DOMElement that will be animated.
   * @param  {string|object|function} trigger  The thing that will cause the transition to start:
   *   - As a string, it represents the css class to be added to the element.
   *   - As an object, it represents a hash of style attributes to be applied to the element.
   *   - As a function, it represents a function to be called that will cause the transition to occur.
   * @return {Promise}  A promise that is resolved when the transition finishes.
   */
  .factory("$transition", [
    "$q",
    "$timeout",
    "$rootScope",
    function ($q, $timeout, $rootScope) {
      var $transition = function (element, trigger, options) {
        options = options || {};
        var deferred = $q.defer();
        var endEventName =
          $transition[
            options.animation
              ? "animationEndEventName"
              : "transitionEndEventName"
          ];

        var transitionEndHandler = function (event) {
          $rootScope.$apply(function () {
            element.unbind(endEventName, transitionEndHandler);
            deferred.resolve(element);
          });
        };

        if (endEventName) {
          element.bind(endEventName, transitionEndHandler);
        }

        // Wrap in a timeout to allow the browser time to update the DOM before the transition is to occur
        $timeout(function () {
          if (angular.isString(trigger)) {
            element.addClass(trigger);
          } else if (angular.isFunction(trigger)) {
            trigger(element);
          } else if (angular.isObject(trigger)) {
            element.css(trigger);
          }
          //If browser does not support transitions, instantly resolve
          if (!endEventName) {
            deferred.resolve(element);
          }
        });

        // Add our custom cancel function to the promise that is returned
        // We can call this if we are about to run a new transition, which we know will prevent this transition from ending,
        // i.e. it will therefore never raise a transitionEnd event for that transition
        deferred.promise.cancel = function () {
          if (endEventName) {
            element.unbind(endEventName, transitionEndHandler);
          }
          deferred.reject("Transition cancelled");
        };

        return deferred.promise;
      };

      // Work out the name of the transitionEnd event
      var transElement = document.createElement("trans");
      var transitionEndEventNames = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        transition: "transitionend",
      };
      var animationEndEventNames = {
        WebkitTransition: "webkitAnimationEnd",
        MozTransition: "animationend",
        OTransition: "oAnimationEnd",
        transition: "animationend",
      };

      function findEndEventName(endEventNames) {
        for (var name in endEventNames) {
          if (transElement.style[name] !== undefined) {
            return endEventNames[name];
          }
        }
      }
      $transition.transitionEndEventName = findEndEventName(
        transitionEndEventNames
      );
      $transition.animationEndEventName = findEndEventName(
        animationEndEventNames
      );
      return $transition;
    },
  ]);

angular
  .module("ui.bootstrap.collapse", ["ui.bootstrap.transition"])

  .directive("collapse", [
    "$transition",
    function ($transition, $timeout) {
      return {
        link: function (scope, element, attrs) {
          var initialAnimSkip = true;
          var currentTransition;

          function doTransition(change) {
            var newTransition = $transition(element, change);
            if (currentTransition) {
              currentTransition.cancel();
            }
            currentTransition = newTransition;
            newTransition.then(newTransitionDone, newTransitionDone);
            return newTransition;

            function newTransitionDone() {
              // Make sure it's this transition, otherwise, leave it alone.
              if (currentTransition === newTransition) {
                currentTransition = undefined;
              }
            }
          }

          function expand() {
            if (initialAnimSkip) {
              initialAnimSkip = false;
              expandDone();
            } else {
              element.removeClass("collapse").addClass("collapsing");
              doTransition({
                height: element[0].scrollHeight + "px",
              }).then(expandDone);
            }
          }

          function expandDone() {
            element.removeClass("collapsing");
            element.addClass("collapse in");
            element.css({
              height: "auto",
            });
          }

          function collapse() {
            if (initialAnimSkip) {
              initialAnimSkip = false;
              collapseDone();
              element.css({
                height: 0,
              });
            } else {
              // CSS transitions don't work with height: auto, so we have to manually change the height to a specific value
              element.css({
                height: element[0].scrollHeight + "px",
              });
              //trigger reflow so a browser realizes that height was updated from auto to a specific value
              var x = element[0].offsetWidth;

              element.removeClass("collapse in").addClass("collapsing");

              doTransition({
                height: 0,
              }).then(collapseDone);
            }
          }

          function collapseDone() {
            element.removeClass("collapsing");
            element.addClass("collapse");
          }

          scope.$watch(attrs.collapse, function (shouldCollapse) {
            if (shouldCollapse) {
              collapse();
            } else {
              expand();
            }
          });
        },
      };
    },
  ]);

angular
  .module("ui.bootstrap.accordion", ["ui.bootstrap.collapse"])

  .constant("accordionConfig", {
    closeOthers: true,
  })

  .controller("AccordionController", [
    "$scope",
    "$attrs",
    "accordionConfig",
    function ($scope, $attrs, accordionConfig) {
      // This array keeps track of the accordion groups
      this.groups = [];

      // Ensure that all the groups in this accordion are closed, unless close-others explicitly says not to
      this.closeOthers = function (openGroup) {
        var closeOthers = angular.isDefined($attrs.closeOthers)
          ? $scope.$eval($attrs.closeOthers)
          : accordionConfig.closeOthers;
        if (closeOthers) {
          angular.forEach(this.groups, function (group) {
            if (group !== openGroup) {
              group.isOpen = false;
            }
          });
        }
      };

      // This is called from the accordion-group directive to add itself to the accordion
      this.addGroup = function (groupScope) {
        var that = this;
        this.groups.push(groupScope);

        groupScope.$on("$destroy", function (event) {
          that.removeGroup(groupScope);
        });
      };

      // This is called from the accordion-group directive when to remove itself
      this.removeGroup = function (group) {
        var index = this.groups.indexOf(group);
        if (index !== -1) {
          this.groups.splice(this.groups.indexOf(group), 1);
        }
      };
    },
  ])

  // The accordion directive simply sets up the directive controller
  // and adds an accordion CSS class to itself element.
  .directive("accordion", function () {
    return {
      restrict: "EA",
      controller: "AccordionController",
      transclude: true,
      replace: false,
      templateUrl: "template/accordion/accordion.html",
    };
  })

  // The accordion-group directive indicates a block of html that will expand and collapse in an accordion
  .directive("accordionGroup", [
    "$parse",
    function ($parse) {
      return {
        require: "^accordion", // We need this directive to be inside an accordion
        restrict: "EA",
        transclude: true, // It transcludes the contents of the directive into the template
        replace: true, // The element containing the directive will be replaced with the template
        templateUrl: "template/accordion/accordion-group.html",
        scope: {
          heading: "@",
        }, // Create an isolated scope and interpolate the heading attribute onto this scope
        controller: function () {
          this.setHeading = function (element) {
            this.heading = element;
          };
        },
        link: function (scope, element, attrs, accordionCtrl) {
          var getIsOpen, setIsOpen;

          accordionCtrl.addGroup(scope);

          scope.isOpen = false;

          if (attrs.isOpen) {
            getIsOpen = $parse(attrs.isOpen);
            setIsOpen = getIsOpen.assign;

            scope.$parent.$watch(getIsOpen, function (value) {
              scope.isOpen = !!value;
            });
          }

          scope.$watch("isOpen", function (value) {
            if (value) {
              accordionCtrl.closeOthers(scope);
            }
            if (setIsOpen) {
              setIsOpen(scope.$parent, value);
            }
          });
        },
      };
    },
  ])

  // Use accordion-heading below an accordion-group to provide a heading containing HTML
  // <accordion-group>
  //   <accordion-heading>Heading containing HTML - <img src="..."></accordion-heading>
  // </accordion-group>
  .directive("accordionHeading", function () {
    return {
      restrict: "EA",
      transclude: true, // Grab the contents to be used as the heading
      template: "", // In effect remove this element!
      replace: true,
      require: "^accordionGroup",
      compile: function (element, attr, transclude) {
        return function link(scope, element, attr, accordionGroupCtrl) {
          // Pass the heading to the accordion-group controller
          // so that it can be transcluded into the right place in the template
          // [The second parameter to transclude causes the elements to be cloned so that they work in ng-repeat]
          accordionGroupCtrl.setHeading(transclude(scope, function () {}));
        };
      },
    };
  })

  // Use in the accordion-group template to indicate where you want the heading to be transcluded
  // You must provide the property on the accordion-group controller that will hold the transcluded element
  // <div class="accordion-group">
  //   <div class="accordion-heading" ><a ... accordion-transclude="heading">...</a></div>
  //   ...
  // </div>
  .directive("accordionTransclude", function () {
    return {
      require: "^accordionGroup",
      link: function (scope, element, attr, controller) {
        scope.$watch(
          function () {
            return controller[attr.accordionTransclude];
          },
          function (heading) {
            if (heading) {
              element.html("");
              element.append(heading);
            }
          }
        );
      },
    };
  });

angular
  .module("ui.bootstrap.alert", [])

  .controller("AlertController", [
    "$scope",
    "$attrs",
    function ($scope, $attrs) {
      $scope.closeable = "close" in $attrs;
    },
  ])

  .directive("alert", function () {
    return {
      restrict: "EA",
      controller: "AlertController",
      templateUrl: "template/alert/alert.html",
      transclude: true,
      replace: true,
      scope: {
        type: "=",
        close: "&",
      },
    };
  });

angular
  .module("ui.bootstrap.bindHtml", [])

  .directive("bindHtmlUnsafe", function () {
    return function (scope, element, attr) {
      element.addClass("ng-binding").data("$binding", attr.bindHtmlUnsafe);
      scope.$watch(
        attr.bindHtmlUnsafe,
        function bindHtmlUnsafeWatchAction(value) {
          element.html(value || "");
        }
      );
    };
  });
angular
  .module("ui.bootstrap.buttons", [])

  .constant("buttonConfig", {
    activeClass: "active",
    toggleEvent: "click",
  })

  .controller("ButtonsController", [
    "buttonConfig",
    function (buttonConfig) {
      this.activeClass = buttonConfig.activeClass || "active";
      this.toggleEvent = buttonConfig.toggleEvent || "click";
    },
  ])

  .directive("btnRadio", function () {
    return {
      require: ["btnRadio", "ngModel"],
      controller: "ButtonsController",
      link: function (scope, element, attrs, ctrls) {
        var buttonsCtrl = ctrls[0],
          ngModelCtrl = ctrls[1];

        //model -> UI
        ngModelCtrl.$render = function () {
          element.toggleClass(
            buttonsCtrl.activeClass,
            angular.equals(ngModelCtrl.$modelValue, scope.$eval(attrs.btnRadio))
          );
        };

        //ui->model
        element.bind(buttonsCtrl.toggleEvent, function () {
          if (!element.hasClass(buttonsCtrl.activeClass)) {
            scope.$apply(function () {
              ngModelCtrl.$setViewValue(scope.$eval(attrs.btnRadio));
              ngModelCtrl.$render();
            });
          }
        });
      },
    };
  })

  .directive("btnCheckbox", function () {
    return {
      require: ["btnCheckbox", "ngModel"],
      controller: "ButtonsController",
      link: function (scope, element, attrs, ctrls) {
        var buttonsCtrl = ctrls[0],
          ngModelCtrl = ctrls[1];

        function getTrueValue() {
          return getCheckboxValue(attrs.btnCheckboxTrue, true);
        }

        function getFalseValue() {
          return getCheckboxValue(attrs.btnCheckboxFalse, false);
        }

        function getCheckboxValue(attributeValue, defaultValue) {
          var val = scope.$eval(attributeValue);
          return angular.isDefined(val) ? val : defaultValue;
        }

        //model -> UI
        ngModelCtrl.$render = function () {
          element.toggleClass(
            buttonsCtrl.activeClass,
            angular.equals(ngModelCtrl.$modelValue, getTrueValue())
          );
        };

        //ui->model
        element.bind(buttonsCtrl.toggleEvent, function () {
          scope.$apply(function () {
            ngModelCtrl.$setViewValue(
              element.hasClass(buttonsCtrl.activeClass)
                ? getFalseValue()
                : getTrueValue()
            );
            ngModelCtrl.$render();
          });
        });
      },
    };
  });

/**
 * @ngdoc overview
 * @name ui.bootstrap.carousel
 * @description
 * AngularJS version of an image carousel.
 *
 */
angular
  .module("ui.bootstrap.carousel", ["ui.bootstrap.transition"])
  .controller("CarouselController", [
    "$scope",
    "$timeout",
    "$transition",
    "$q",
    function ($scope, $timeout, $transition, $q) {
      var self = this,
        slides = (self.slides = []),
        currentIndex = -1,
        currentTimeout,
        isPlaying;
      self.currentSlide = null;

      var destroyed = false;
      /* direction: "prev" or "next" */
      self.select = function (nextSlide, direction) {
        var nextIndex = slides.indexOf(nextSlide);
        //Decide direction if it's not given
        if (direction === undefined) {
          direction = nextIndex > currentIndex ? "next" : "prev";
        }
        if (nextSlide && nextSlide !== self.currentSlide) {
          if ($scope.$currentTransition) {
            $scope.$currentTransition.cancel();
            //Timeout so ng-class in template has time to fix classes for finished slide
            $timeout(goNext);
          } else {
            goNext();
          }
        }

        function goNext() {
          // Scope has been destroyed, stop here.
          if (destroyed) {
            return;
          }
          //If we have a slide to transition from and we have a transition type and we're allowed, go
          if (
            self.currentSlide &&
            angular.isString(direction) &&
            !$scope.noTransition &&
            nextSlide.$element
          ) {
            //We shouldn't do class manip in here, but it's the same weird thing bootstrap does. need to fix sometime
            //
            nextSlide.$element.addClass(direction);

            //  nextSlide.$element.css({
            //   display:'block'
            // });

            var reflow = nextSlide.$element[0].offsetWidth; //force reflow

            //Set all other slides to stop doing their stuff for the new transition
            angular.forEach(slides, function (slide) {
              angular.extend(slide, {
                direction: "",
                entering: false,
                leaving: false,
                active: false,
              });
            });
            angular.extend(nextSlide, {
              direction: direction,
              active: true,
              entering: true,
            });
            angular.extend(self.currentSlide || {}, {
              direction: direction,
              leaving: true,
            });

            $scope.$currentTransition = $transition(nextSlide.$element, {});
            //We have to create new pointers inside a closure since next & current will change
            (function (next, current) {
              $scope.$currentTransition.then(
                function () {
                  transitionDone(next, current);
                },
                function () {
                  transitionDone(next, current);
                }
              );
            })(nextSlide, self.currentSlide);
          } else {
            transitionDone(nextSlide, self.currentSlide);
          }
          self.currentSlide = nextSlide;

          if (currentIndex === -1) {
            currentIndex = nextIndex;
          } else {
            currentIndex = nextIndex;
            $scope.$emit("carouselSlide", {
              index: currentIndex,
            });
          }

          //every time you change slides, reset the timer
          restartTimer();
        }

        function transitionDone(next, current) {
          angular.extend(next, {
            direction: "",
            active: true,
            leaving: false,
            entering: false,
          });
          angular.extend(current || {}, {
            direction: "",
            active: false,
            leaving: false,
            entering: false,
          });
          $scope.$currentTransition = null;
        }
      };
      $scope.$on("$destroy", function () {
        destroyed = true;
      });

      /* Allow outside people to call indexOf on slides array */
      self.indexOfSlide = function (slide) {
        return slides.indexOf(slide);
      };

      $scope.next = function ($event) {
        var newIndex = (currentIndex + 1) % slides.length;
        $event.stopPropagation();
        //Prevent this user-triggered transition from occurring if there is already one in progress
        if (!$scope.$currentTransition) {
          return self.select(slides[newIndex], "next");
        }
      };

      $scope.prev = function ($event) {
        var newIndex =
          currentIndex - 1 < 0 ? slides.length - 1 : currentIndex - 1;
        $event.stopPropagation();
        //Prevent this user-triggered transition from occurring if there is already one in progress
        if (!$scope.$currentTransition) {
          return self.select(slides[newIndex], "prev");
        }
      };

      $scope.select = function (slide, $event) {
        $event.stopPropagation();
        self.select(slide);
      };

      $scope.isActive = function (slide) {
        return self.currentSlide === slide;
      };

      $scope.slides = function () {
        return slides;
      };

      $scope.$watch("interval", restartTimer);
      $scope.$on("$destroy", resetTimer);

      function restartTimer() {
        resetTimer();
        var interval = +$scope.interval;
        if (!isNaN(interval) && interval >= 0) {
          currentTimeout = $timeout(timerFn, interval);
        }
      }

      function resetTimer() {
        if (currentTimeout) {
          $timeout.cancel(currentTimeout);
          currentTimeout = null;
        }
      }

      function timerFn() {
        if (isPlaying) {
          $scope.next();
          restartTimer();
        } else {
          $scope.pause();
        }
      }

      $scope.play = function () {
        if (!isPlaying) {
          isPlaying = true;
          restartTimer();
        }
      };
      $scope.pause = function () {
        if (!$scope.noPause) {
          isPlaying = false;
          resetTimer();
        }
      };

      self.addSlide = function (slide, element) {
        slide.$element = element;
        slides.push(slide);
        //if this is the first slide or the slide is set to active, select it
        if (slides.length === 1 || slide.active) {
          self.select(slides[slides.length - 1]);
          if (slides.length == 1) {
            $scope.play();
          }
        } else {
          slide.active = false;
        }
      };

      self.removeSlide = function (slide) {
        //get the index of the slide inside the carousel
        var index = slides.indexOf(slide);
        slides.splice(index, 1);
        if (slides.length > 0 && slide.active) {
          if (index >= slides.length) {
            self.select(slides[index - 1]);
          } else {
            self.select(slides[index]);
          }
        } else if (currentIndex > index) {
          currentIndex--;
        }
      };
    },
  ])

  .directive("carousel", [
    function () {
      return {
        restrict: "EA",
        transclude: true,
        replace: true,
        controller: "CarouselController",
        require: "carousel",
        templateUrl: "template/carousel/carousel.html",
        scope: {
          interval: "=",
          noTransition: "=",
          noPause: "=",
        },
      };
    },
  ])

  .directive("slide", [
    "$parse",
    function ($parse) {
      return {
        require: "^carousel",
        restrict: "EA",
        transclude: true,
        replace: true,
        templateUrl: "template/carousel/slide.html",
        scope: {},
        link: function (scope, element, attrs, carouselCtrl) {
          //Set up optional 'active' = binding
          if (attrs.active) {
            var getActive = $parse(attrs.active);
            var setActive = getActive.assign;
            var lastValue = (scope.active = getActive(scope.$parent));
            scope.$watch(function parentActiveWatch() {
              var parentActive = getActive(scope.$parent);

              if (parentActive !== scope.active) {
                // we are out of sync and need to copy
                if (parentActive !== lastValue) {
                  // parent changed and it has precedence
                  lastValue = scope.active = parentActive;
                } else {
                  // if the parent can be assigned then do so
                  setActive(
                    scope.$parent,
                    (parentActive = lastValue = scope.active)
                  );
                }
              }
              return parentActive;
            });
          }

          carouselCtrl.addSlide(scope, element);
          //when the scope is destroyed then remove the slide from the current slides array
          scope.$on("$destroy", function () {
            carouselCtrl.removeSlide(scope);
          });

          scope.$watch("active", function (active) {
            if (active) {
              carouselCtrl.select(scope);
            }
          });
        },
      };
    },
  ]);

angular
  .module("ui.bootstrap.position", [])

  /**
   * A set of utility methods that can be use to retrieve position of DOM elements.
   * It is meant to be used where we need to absolute-position DOM elements in
   * relation to other, existing elements (this is the case for tooltips, popovers,
   * typeahead suggestions etc.).
   */
  .factory("$position", [
    "$document",
    "$window",
    function ($document, $window) {
      function getStyle(el, cssprop) {
        if (el.currentStyle) {
          //IE
          return el.currentStyle[cssprop];
        } else if ($window.getComputedStyle) {
          return $window.getComputedStyle(el)[cssprop];
        }
        // finally try and get inline style
        return el.style[cssprop];
      }

      /**
       * Checks if a given element is statically positioned
       * @param element - raw DOM element
       */
      function isStaticPositioned(element) {
        return (getStyle(element, "position") || "static") === "static";
      }

      /**
       * returns the closest, non-statically positioned parentOffset of a given element
       * @param element
       */
      var parentOffsetEl = function (element) {
        var docDomEl = $document[0];
        var offsetParent = element.offsetParent || docDomEl;
        while (
          offsetParent &&
          offsetParent !== docDomEl &&
          isStaticPositioned(offsetParent)
        ) {
          offsetParent = offsetParent.offsetParent;
        }
        return offsetParent || docDomEl;
      };

      return {
        /**
         * Provides read-only equivalent of jQuery's position function:
         * http://api.jquery.com/position/
         */
        position: function (element) {
          var elBCR = this.offset(element);
          var offsetParentBCR = {
            top: 0,
            left: 0,
          };
          var offsetParentEl = parentOffsetEl(element[0]);
          if (offsetParentEl != $document[0]) {
            offsetParentBCR = this.offset(angular.element(offsetParentEl));
            offsetParentBCR.top +=
              offsetParentEl.clientTop - offsetParentEl.scrollTop;
            offsetParentBCR.left +=
              offsetParentEl.clientLeft - offsetParentEl.scrollLeft;
          }

          var boundingClientRect = element[0].getBoundingClientRect();
          return {
            width: boundingClientRect.width || element.prop("offsetWidth"),
            height: boundingClientRect.height || element.prop("offsetHeight"),
            top: elBCR.top - offsetParentBCR.top,
            left: elBCR.left - offsetParentBCR.left,
          };
        },

        /**
         * Provides read-only equivalent of jQuery's offset function:
         * http://api.jquery.com/offset/
         */
        offset: function (element) {
          var boundingClientRect = element[0].getBoundingClientRect();
          return {
            width: boundingClientRect.width || element.prop("offsetWidth"),
            height: boundingClientRect.height || element.prop("offsetHeight"),
            top:
              boundingClientRect.top +
              ($window.pageYOffset ||
                $document[0].body.scrollTop ||
                $document[0].documentElement.scrollTop),
            left:
              boundingClientRect.left +
              ($window.pageXOffset ||
                $document[0].body.scrollLeft ||
                $document[0].documentElement.scrollLeft),
          };
        },
      };
    },
  ]);

angular
  .module("ui.bootstrap.datepicker", ["ui.bootstrap.position"])

  .constant("datepickerConfig", {
    dayFormat: "dd",
    monthFormat: "MMMM",
    yearFormat: "yyyy",
    dayHeaderFormat: "EEE",
    dayTitleFormat: "MMMM yyyy",
    monthTitleFormat: "yyyy",
    showWeeks: true,
    startingDay: 0,
    yearRange: 20,
    minDate: null,
    maxDate: null,
    mm: "MM",
  })

  .controller("DatepickerController", [
    "$scope",
    "$attrs",
    "dateFilter",
    "datepickerConfig",
    function ($scope, $attrs, dateFilter, dtConfig) {
      var format = {
          day: getValue($attrs.dayFormat, dtConfig.dayFormat),
          month: getValue($attrs.monthFormat, dtConfig.mm),
          year: getValue($attrs.yearFormat, dtConfig.yearFormat),
          dayHeader: getValue($attrs.dayHeaderFormat, dtConfig.dayHeaderFormat),
          dayTitle: getValue($attrs.dayTitleFormat, dtConfig.dayTitleFormat),
          monthTitle: getValue(
            $attrs.monthTitleFormat,
            dtConfig.monthTitleFormat
          ),
        },
        startingDay = getValue($attrs.startingDay, dtConfig.startingDay),
        yearRange = getValue($attrs.yearRange, dtConfig.yearRange);

      this.minDate = dtConfig.minDate ? new Date(dtConfig.minDate) : null;
      this.maxDate = dtConfig.maxDate ? new Date(dtConfig.maxDate) : null;

      function getValue(value, defaultValue) {
        return angular.isDefined(value)
          ? $scope.$parent.$eval(value)
          : defaultValue;
      }

      function getDaysInMonth(year, month) {
        return new Date(year, month, 0).getDate();
      }

      function getDates(startDate, n) {
        var dates = new Array(n);
        var current = startDate,
          i = 0;
        while (i < n) {
          dates[i++] = new Date(current);
          current.setDate(current.getDate() + 1);
        }
        return dates;
      }

      function makeDate(date, format, isSelected, isSecondary) {
        return {
          date: date,
          label: dateFilter(date, format),
          selected: !!isSelected,
          secondary: !!isSecondary,
        };
      }

      //yyyy MMMM
      function dateFilterCN(date) {
        return date.getFullYear() + " " + (date.getMonth() + 1) + "";
      }

      this.modes = [
        {
          name: "day",
          getVisibleDates: function (date, selected) {
            var year = date.getFullYear(),
              month = date.getMonth(),
              firstDayOfMonth = new Date(year, month, 1);
            var difference = startingDay - firstDayOfMonth.getDay(),
              numDisplayedFromPreviousMonth =
                difference > 0 ? 7 - difference : -difference,
              firstDate = new Date(firstDayOfMonth),
              numDates = 0;

            if (numDisplayedFromPreviousMonth > 0) {
              firstDate.setDate(-numDisplayedFromPreviousMonth + 1);
              numDates += numDisplayedFromPreviousMonth; // Previous
            }
            numDates += getDaysInMonth(year, month + 1); // Current
            numDates += (7 - (numDates % 7)) % 7; // Next

            var days = getDates(firstDate, numDates),
              labels = new Array(7);
            for (var i = 0; i < numDates; i++) {
              var dt = new Date(days[i]);
              days[i] = makeDate(
                dt,
                format.day,
                selected &&
                  selected.getDate() === dt.getDate() &&
                  selected.getMonth() === dt.getMonth() &&
                  selected.getFullYear() === dt.getFullYear(),
                dt.getMonth() !== month
              );
            }
            // for (var j = 0; j < 7; j++) {
            //   labels[j] = dateFilter(days[j].date, format.dayHeader);
            // }
            labels = ["", "", "", "", "", "", ""];
            //return { objects: days, title: dateFilter(date, format.dayTitle), labels: labels };
            return {
              objects: days,
              title: dateFilterCN(date),
              labels: labels,
            };
          },
          compare: function (date1, date2) {
            return (
              new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) -
              new Date(date2.getFullYear(), date2.getMonth(), date2.getDate())
            );
          },
          split: 7,
          step: {
            months: 1,
          },
        },
        {
          name: "month",
          getVisibleDates: function (date, selected) {
            var months = new Array(12),
              year = date.getFullYear();
            for (var i = 0; i < 12; i++) {
              var dt = new Date(year, i, 1);
              months[i] = makeDate(
                dt,
                format.month,
                selected &&
                  selected.getMonth() === i &&
                  selected.getFullYear() === year
              );
            }
            return {
              objects: months,
              title: dateFilter(date, format.monthTitle),
            };
          },
          compare: function (date1, date2) {
            return (
              new Date(date1.getFullYear(), date1.getMonth()) -
              new Date(date2.getFullYear(), date2.getMonth())
            );
          },
          split: 4,
          step: {
            years: 1,
          },
        },
        {
          name: "year",
          getVisibleDates: function (date, selected) {
            var years = new Array(yearRange),
              year = date.getFullYear(),
              startYear = parseInt((year - 1) / yearRange, 10) * yearRange + 1;
            for (var i = 0; i < yearRange; i++) {
              var dt = new Date(startYear + i, 0, 1);
              years[i] = makeDate(
                dt,
                format.year,
                selected && selected.getFullYear() === dt.getFullYear()
              );
            }
            return {
              objects: years,
              title: [years[0].label, years[yearRange - 1].label].join(" - "),
            };
          },
          compare: function (date1, date2) {
            return date1.getFullYear() - date2.getFullYear();
          },
          split: 5,
          step: {
            years: yearRange,
          },
        },
      ];

      this.isDisabled = function (date, mode) {
        var currentMode = this.modes[mode || 0];
        return (
          (this.minDate && currentMode.compare(date, this.minDate) < 0) ||
          (this.maxDate && currentMode.compare(date, this.maxDate) > 0) ||
          ($scope.dateDisabled &&
            $scope.dateDisabled({
              date: date,
              mode: currentMode.name,
            }))
        );
      };
    },
  ])

  .directive("datepicker", [
    "dateFilter",
    "$parse",
    "datepickerConfig",
    "$log",
    function (dateFilter, $parse, datepickerConfig, $log) {
      return {
        restrict: "EA",
        replace: true,
        templateUrl: "template/datepicker/datepicker.html",
        scope: {
          dateDisabled: "&",
        },
        require: ["datepicker", "?^ngModel"],
        controller: "DatepickerController",
        link: function (scope, element, attrs, ctrls) {
          var datepickerCtrl = ctrls[0],
            ngModel = ctrls[1];

          if (!ngModel) {
            return; // do nothing if no ng-model
          }

          // Configuration parameters
          var mode = 0,
            selected = new Date(),
            showWeeks = datepickerConfig.showWeeks;

          if (attrs.showWeeks) {
            scope.$parent.$watch($parse(attrs.showWeeks), function (value) {
              showWeeks = !!value;
              updateShowWeekNumbers();
            });
          } else {
            updateShowWeekNumbers();
          }

          if (attrs.min) {
            scope.$parent.$watch($parse(attrs.min), function (value) {
              datepickerCtrl.minDate = value ? new Date(value) : null;
              refill();
            });
          }
          if (attrs.max) {
            scope.$parent.$watch($parse(attrs.max), function (value) {
              datepickerCtrl.maxDate = value ? new Date(value) : null;
              refill();
            });
          }

          function updateShowWeekNumbers() {
            scope.showWeekNumbers = mode === 0 && showWeeks;
          }

          // Split array into smaller arrays
          function split(arr, size) {
            var arrays = [];
            while (arr.length > 0) {
              arrays.push(arr.splice(0, size));
            }
            return arrays;
          }

          function refill(updateSelected) {
            var date = null,
              valid = true;

            if (ngModel.$modelValue) {
              date = new Date(ngModel.$modelValue);

              if (isNaN(date)) {
                valid = false;
                $log.error(
                  'Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'
                );
              } else if (updateSelected) {
                selected = date;
              }
            }
            ngModel.$setValidity("date", valid);

            var currentMode = datepickerCtrl.modes[mode],
              data = currentMode.getVisibleDates(selected, date);
            angular.forEach(data.objects, function (obj) {
              obj.disabled = datepickerCtrl.isDisabled(obj.date, mode);
            });

            ngModel.$setValidity(
              "date-disabled",
              !date || !datepickerCtrl.isDisabled(date)
            );

            scope.rows = split(data.objects, currentMode.split);
            scope.labels = data.labels || [];
            scope.title = data.title;
          }

          function setMode(value) {
            mode = value;
            updateShowWeekNumbers();
            refill();
          }

          ngModel.$render = function () {
            refill(true);
          };

          scope.select = function (date) {
            if (mode === 0) {
              var dt = ngModel.$modelValue
                ? new Date(ngModel.$modelValue)
                : new Date(0, 0, 0, 0, 0, 0, 0);
              dt.setFullYear(
                date.getFullYear(),
                date.getMonth(),
                date.getDate()
              );
              ngModel.$setViewValue(dt);
              refill(true);
            } else {
              selected = date;
              setMode(mode - 1);
            }
          };
          scope.move = function (direction) {
            var step = datepickerCtrl.modes[mode].step;
            selected.setMonth(
              selected.getMonth() + direction * (step.months || 0)
            );
            selected.setFullYear(
              selected.getFullYear() + direction * (step.years || 0)
            );
            refill();
          };
          scope.toggleMode = function () {
            setMode((mode + 1) % datepickerCtrl.modes.length);
          };
          scope.getWeekNumber = function (row) {
            return mode === 0 && scope.showWeekNumbers && row.length === 7
              ? getISO8601WeekNumber(row[0].date)
              : null;
          };

          function getISO8601WeekNumber(date) {
            var checkDate = new Date(date);
            checkDate.setDate(
              checkDate.getDate() + 4 - (checkDate.getDay() || 7)
            ); // Thursday
            var time = checkDate.getTime();
            checkDate.setMonth(0); // Compare with Jan 1
            checkDate.setDate(1);
            return (
              Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1
            );
          }
        },
      };
    },
  ])

  .constant("datepickerPopupConfig", {
    dateFormat: "yyyy-MM-dd",
    currentText: "Today",
    toggleWeeksText: "Weeks",
    clearText: "Clear",
    closeText: "Done",
    closeOnDateSelection: true,
    appendToBody: false,
    showButtonBar: true,
  })

  .directive("datepickerPopup", [
    "$compile",
    "$parse",
    "$document",
    "$position",
    "dateFilter",
    "datepickerPopupConfig",
    "datepickerConfig",
    function (
      $compile,
      $parse,
      $document,
      $position,
      dateFilter,
      datepickerPopupConfig,
      datepickerConfig
    ) {
      return {
        restrict: "EA",
        require: "ngModel",
        link: function (originalScope, element, attrs, ngModel) {
          var scope = originalScope.$new(), // create a child scope so we are not polluting original one
            dateFormat,
            closeOnDateSelection = angular.isDefined(attrs.closeOnDateSelection)
              ? originalScope.$eval(attrs.closeOnDateSelection)
              : datepickerPopupConfig.closeOnDateSelection,
            appendToBody = angular.isDefined(attrs.datepickerAppendToBody)
              ? originalScope.$eval(attrs.datepickerAppendToBody)
              : datepickerPopupConfig.appendToBody;

          attrs.$observe("datepickerPopup", function (value) {
            dateFormat = value || datepickerPopupConfig.dateFormat;
            ngModel.$render();
          });

          scope.showButtonBar = angular.isDefined(attrs.showButtonBar)
            ? originalScope.$eval(attrs.showButtonBar)
            : datepickerPopupConfig.showButtonBar;

          originalScope.$on("$destroy", function () {
            $popup.remove();
            scope.$destroy();
          });

          attrs.$observe("currentText", function (text) {
            scope.currentText = angular.isDefined(text)
              ? text
              : datepickerPopupConfig.currentText;
          });
          attrs.$observe("toggleWeeksText", function (text) {
            scope.toggleWeeksText = angular.isDefined(text)
              ? text
              : datepickerPopupConfig.toggleWeeksText;
          });
          attrs.$observe("clearText", function (text) {
            scope.clearText = angular.isDefined(text)
              ? text
              : datepickerPopupConfig.clearText;
          });
          attrs.$observe("closeText", function (text) {
            scope.closeText = angular.isDefined(text)
              ? text
              : datepickerPopupConfig.closeText;
          });

          var getIsOpen, setIsOpen;
          if (attrs.isOpen) {
            getIsOpen = $parse(attrs.isOpen);
            setIsOpen = getIsOpen.assign;

            originalScope.$watch(getIsOpen, function updateOpen(value) {
              scope.isOpen = !!value;
            });
          }
          scope.isOpen = getIsOpen ? getIsOpen(originalScope) : false; // Initial state

          function setOpen(value) {
            if (setIsOpen) {
              setIsOpen(originalScope, !!value);
            } else {
              scope.isOpen = !!value;
            }
          }

          var documentClickBind = function (event) {
            if (scope.isOpen && event.target !== element[0]) {
              scope.$apply(function () {
                setOpen(false);
              });
            }
          };

          var elementFocusBind = function () {
            scope.$apply(function () {
              setOpen(true);
            });
          };

          // popup element used to display calendar
          var popupEl = angular.element(
            "<div datepicker-popup-wrap><div datepicker></div></div>"
          );
          popupEl.attr({
            "ng-model": "date",
            "ng-change": "dateSelection()",
          });
          var datepickerEl = angular.element(popupEl.children()[0]),
            datepickerOptions = {};
          if (attrs.datepickerOptions) {
            datepickerOptions = originalScope.$eval(attrs.datepickerOptions);
            datepickerEl.attr(angular.extend({}, datepickerOptions));
          }

          // TODO: reverse from dateFilter string to Date object
          function parseDate(viewValue) {
            if (!viewValue) {
              ngModel.$setValidity("date", true);
              return null;
            } else if (angular.isDate(viewValue)) {
              ngModel.$setValidity("date", true);
              return viewValue;
            } else if (angular.isString(viewValue)) {
              var date = new Date(viewValue);
              if (isNaN(date)) {
                ngModel.$setValidity("date", false);
                return undefined;
              } else {
                ngModel.$setValidity("date", true);
                return date;
              }
            } else {
              ngModel.$setValidity("date", false);
              return undefined;
            }
          }
          ngModel.$parsers.unshift(parseDate);

          // Inner change
          scope.dateSelection = function (dt) {
            if (angular.isDefined(dt)) {
              scope.date = dt;
            }
            ngModel.$setViewValue(scope.date);
            ngModel.$render();

            if (closeOnDateSelection) {
              setOpen(false);
            }
          };

          element.bind("input change keyup", function () {
            scope.$apply(function () {
              scope.date = ngModel.$modelValue;
            });
          });

          // Outter change
          ngModel.$render = function () {
            var date = ngModel.$viewValue
              ? dateFilter(ngModel.$viewValue, dateFormat)
              : "";
            element.val(date);
            scope.date = ngModel.$modelValue;
          };

          function addWatchableAttribute(
            attribute,
            scopeProperty,
            datepickerAttribute
          ) {
            if (attribute) {
              originalScope.$watch($parse(attribute), function (value) {
                scope[scopeProperty] = value;
              });
              datepickerEl.attr(
                datepickerAttribute || scopeProperty,
                scopeProperty
              );
            }
          }
          addWatchableAttribute(attrs.min, "min");
          addWatchableAttribute(attrs.max, "max");
          if (attrs.showWeeks) {
            addWatchableAttribute(attrs.showWeeks, "showWeeks", "show-weeks");
          } else {
            scope.showWeeks =
              "show-weeks" in datepickerOptions
                ? datepickerOptions["show-weeks"]
                : datepickerConfig.showWeeks;
            datepickerEl.attr("show-weeks", "showWeeks");
          }
          if (attrs.dateDisabled) {
            datepickerEl.attr("date-disabled", attrs.dateDisabled);
          }

          function updatePosition() {
            scope.position = appendToBody
              ? $position.offset(element)
              : $position.position(element);
            scope.position.top =
              scope.position.top + element.prop("offsetHeight");
          }

          var documentBindingInitialized = false,
            elementFocusInitialized = false;
          scope.$watch("isOpen", function (value) {
            if (value) {
              updatePosition();
              $document.bind("click", documentClickBind);
              if (elementFocusInitialized) {
                element.unbind("focus", elementFocusBind);
              }
              element[0].focus();
              documentBindingInitialized = true;
            } else {
              if (documentBindingInitialized) {
                $document.unbind("click", documentClickBind);
              }
              element.bind("focus", elementFocusBind);
              elementFocusInitialized = true;
            }

            if (setIsOpen) {
              setIsOpen(originalScope, value);
            }
          });

          scope.today = function () {
            scope.dateSelection(new Date());
          };
          scope.clear = function () {
            scope.dateSelection(null);
          };

          var $popup = $compile(popupEl)(scope);
          if (appendToBody) {
            $document.find("body").append($popup);
          } else {
            element.after($popup);
          }
        },
      };
    },
  ])

  .directive("datepickerPopupWrap", function () {
    return {
      restrict: "EA",
      replace: true,
      transclude: true,
      templateUrl: "template/datepicker/popup.html",
      link: function (scope, element, attrs) {
        element.bind("click", function (event) {
          event.preventDefault();
          event.stopPropagation();
        });
      },
    };
  });

/*
 * dropdownToggle - Provides dropdown menu functionality in place of bootstrap js
 * @restrict class or attribute
 * @example:
   <li class="dropdown">
	 <a class="dropdown-toggle">My Dropdown Menu</a>
	 <ul class="dropdown-menu">
	   <li ng-repeat="choice in dropChoices">
		 <a ng-href="{{choice.href}}">{{choice.text}}</a>
	   </li>
	 </ul>
   </li>
 */

angular
  .module("ui.bootstrap.dropdown", [])

  .constant("dropdownConfig", {
    openClass: "open",
  })

  .service("dropdownService", [
    "$document",
    function ($document) {
      var openScope = null;

      this.open = function (dropdownScope) {
        if (!openScope) {
          $document.bind("click", closeDropdown);
          $document.bind("keydown", escapeKeyBind);
        }

        if (openScope && openScope !== dropdownScope) {
          openScope.isOpen = false;
        }

        openScope = dropdownScope;
      };

      this.close = function (dropdownScope) {
        if (openScope === dropdownScope) {
          openScope = null;
          $document.unbind("click", closeDropdown);
          $document.unbind("keydown", escapeKeyBind);
        }
      };

      var closeDropdown = function (evt) {
        var toggleElement = openScope.getToggleElement();
        if (evt && toggleElement && toggleElement[0].contains(evt.target)) {
          return;
        }

        openScope.$apply(function () {
          openScope.isOpen = false;
        });
      };

      var escapeKeyBind = function (evt) {
        if (evt.which === 27) {
          openScope.focusToggleElement();
          closeDropdown();
        }
      };
    },
  ])

  .controller("DropdownController", [
    "$scope",
    "$attrs",
    "$parse",
    "dropdownConfig",
    "dropdownService",
    "$animate",
    function (
      $scope,
      $attrs,
      $parse,
      dropdownConfig,
      dropdownService,
      $animate
    ) {
      var self = this,
        scope = $scope.$new(), // create a child scope so we are not polluting original one
        openClass = dropdownConfig.openClass,
        getIsOpen,
        setIsOpen = angular.noop,
        toggleInvoker = $attrs.onToggle
          ? $parse($attrs.onToggle)
          : angular.noop;

      this.init = function (element) {
        self.$element = element;

        if ($attrs.isOpen) {
          getIsOpen = $parse($attrs.isOpen);
          setIsOpen = getIsOpen.assign;

          $scope.$watch(getIsOpen, function (value) {
            scope.isOpen = !!value;
          });
        }
      };

      this.toggle = function (open) {
        return (scope.isOpen = arguments.length ? !!open : !scope.isOpen);
      };

      // Allow other directives to watch status
      this.isOpen = function () {
        return scope.isOpen;
      };

      scope.getToggleElement = function () {
        return self.toggleElement;
      };

      scope.focusToggleElement = function () {
        if (self.toggleElement) {
          self.toggleElement[0].focus();
        }
      };

      scope.$watch("isOpen", function (isOpen, wasOpen) {
        $animate[isOpen ? "addClass" : "removeClass"](self.$element, openClass);

        if (isOpen) {
          scope.focusToggleElement();
          dropdownService.open(scope);
        } else {
          dropdownService.close(scope);
        }

        setIsOpen($scope, isOpen);
        if (angular.isDefined(isOpen) && isOpen !== wasOpen) {
          toggleInvoker($scope, { open: !!isOpen });
        }
      });

      $scope.$on("$locationChangeSuccess", function () {
        scope.isOpen = false;
      });

      $scope.$on("$destroy", function () {
        scope.$destroy();
      });
    },
  ])

  .directive("dropdown", function () {
    return {
      restrict: "CA",
      controller: "DropdownController",
      link: function (scope, element, attrs, dropdownCtrl) {
        dropdownCtrl.init(element);
      },
    };
  })

  .directive("dropdownToggle", function () {
    return {
      restrict: "CA",
      require: "?^dropdown",
      link: function (scope, element, attrs, dropdownCtrl) {
        if (!dropdownCtrl) {
          return;
        }

        dropdownCtrl.toggleElement = element;

        var toggleDropdown = function (event) {
          event.preventDefault();

          if (!element.hasClass("disabled") && !attrs.disabled) {
            scope.$apply(function () {
              dropdownCtrl.toggle();
            });
          }
        };

        element.bind("click", toggleDropdown);

        // WAI-ARIA
        element.attr({ "aria-haspopup": true, "aria-expanded": false });
        scope.$watch(dropdownCtrl.isOpen, function (isOpen) {
          element.attr("aria-expanded", !!isOpen);
        });

        scope.$on("$destroy", function () {
          element.unbind("click", toggleDropdown);
        });
      },
    };
  });

angular
  .module("ui.bootstrap.modal", ["ui.bootstrap.transition"])

  /**
   * A helper, internal data structure that acts as a map but also allows getting / removing
   * elements in the LIFO order
   */
  .factory("$$stackedMap", function () {
    return {
      createNew: function () {
        var stack = [];
        return {
          add: function (key, value) {
            stack.push({
              key: key,
              value: value,
            });
          },
          get: function (key) {
            for (var i = 0; i < stack.length; i++) {
              if (key == stack[i].key) {
                return stack[i];
              }
            }
          },
          keys: function () {
            var keys = [];
            for (var i = 0; i < stack.length; i++) {
              keys.push(stack[i].key);
            }
            return keys;
          },
          top: function () {
            return stack[stack.length - 1];
          },
          remove: function (key) {
            var idx = -1;
            for (var i = 0; i < stack.length; i++) {
              if (key == stack[i].key) {
                idx = i;
                break;
              }
            }
            return stack.splice(idx, 1)[0];
          },
          removeTop: function () {
            return stack.splice(stack.length - 1, 1)[0];
          },
          length: function () {
            return stack.length;
          },
        };
      },
    };
  })

  /**
   * A helper directive for the $modal service. It creates a backdrop element.
   */
  .directive("modalBackdrop", [
    "$timeout",
    function ($timeout) {
      return {
        restrict: "EA",
        replace: true,
        templateUrl: "template/modal/backdrop.html",
        link: function (scope, attrs) {
          scope.backdropClass = attrs.backdropClass || "";
          scope.animate = false;

          //trigger CSS transitions
          $timeout(function () {
            scope.animate = true;
          });
        },
      };
    },
  ])

  .directive("modalWindow", [
    "$modalStack",
    "$timeout",
    function ($modalStack, $timeout) {
      return {
        restrict: "EA",
        scope: {
          index: "@",
          animate: "=",
        },
        replace: true,
        transclude: true,
        templateUrl: function (tElement, tAttrs) {
          return tAttrs.templateUrl || "template/modal/window.html";
        },
        // templateUrl: 'template/modal/window.html',
        link: function (scope, element, attrs) {
          element.addClass(attrs.windowClass || "");

          // var $modalContent = element.find('.modal-content');
          var $modalDialog = element.find(".modal-dialog");
          // modal-dialog
          if (attrs.modalWidth) $modalDialog.width(attrs.modalWidth);

          if (attrs.modalHeight) {
            // 
            $modalDialog.height(attrs.modalHeight);
          } else {
            // 
            $modalDialog.css({ bottom: "initial" });
            $modalDialog.css({ marginTop: attrs.marginTop || 80 });
          }

          if (attrs.marginTop) $modalDialog.css({ marginTop: attrs.marginTop });
          if (attrs.marginLeft)
            $modalDialog.css({ marginLeft: attrs.marginLeft });

          $timeout(function () {
            // trigger CSS transitions
            scope.animate = true;
            // focus a freshly-opened modal
            if (!element[0].querySelectorAll("[autofocus]").length) {
              element[0].focus();
            }
          });

          scope.close = function (evt) {
            var modal = $modalStack.getTop();
            if (
              modal &&
              modal.value.backdrop &&
              modal.value.backdrop != "static" &&
              evt.target === evt.currentTarget
            ) {
              evt.preventDefault();
              evt.stopPropagation();
              $modalStack.dismiss(modal.key, "backdrop click");
            }
          };
        },
      };
    },
  ])

  .factory("$modalStack", [
    "$transition",
    "$timeout",
    "$document",
    "$compile",
    "$rootScope",
    "$$stackedMap",
    function (
      $transition,
      $timeout,
      $document,
      $compile,
      $rootScope,
      $$stackedMap
    ) {
      var OPENED_MODAL_CLASS = "modal-open";

      var backdropDomEl, backdropScope;
      var openedWindows = $$stackedMap.createNew();
      var $modalStack = {};

      function backdropIndex() {
        var topBackdropIndex = -1;
        var opened = openedWindows.keys();
        for (var i = 0; i < opened.length; i++) {
          if (openedWindows.get(opened[i]).value.backdrop) {
            topBackdropIndex = i;
          }
        }
        return topBackdropIndex;
      }

      $rootScope.$watch(backdropIndex, function (newBackdropIndex) {
        if (backdropScope) {
          backdropScope.index = newBackdropIndex;
        }
      });

      function removeModalWindow(modalInstance) {
        var body = $document.find("body").eq(0);
        var modalWindow = openedWindows.get(modalInstance).value;

        //clean up the stack
        openedWindows.remove(modalInstance);

        //remove window DOM element
        removeAfterAnimate(
          modalWindow.modalDomEl,
          modalWindow.modalScope,
          300,
          checkRemoveBackdrop
        );
        body.toggleClass(OPENED_MODAL_CLASS, openedWindows.length() > 0);
      }

      function checkRemoveBackdrop() {
        //remove backdrop if no longer needed
        if (backdropDomEl && backdropIndex() == -1) {
          var backdropScopeRef = backdropScope;
          removeAfterAnimate(backdropDomEl, backdropScope, 150, function () {
            backdropScopeRef.$destroy();
            backdropScopeRef = null;
          });
          backdropDomEl = undefined;
          backdropScope = undefined;
        }
      }

      function removeAfterAnimate(domEl, scope, emulateTime, done) {
        // Closing animation
        scope.animate = false;

        var transitionEndEventName = $transition.transitionEndEventName;
        if (transitionEndEventName) {
          // transition out
          var timeout = $timeout(afterAnimating, emulateTime);

          domEl.bind(transitionEndEventName, function () {
            $timeout.cancel(timeout);
            afterAnimating();
            scope.$apply();
          });
        } else {
          // Ensure this call is async
          $timeout(afterAnimating, 0);
        }

        function afterAnimating() {
          if (afterAnimating.done) {
            return;
          }
          afterAnimating.done = true;

          domEl.remove();
          if (done) {
            done();
          }
        }
      }

      $document.bind("keydown", function (evt) {
        var modal;

        if (evt.which === 27) {
          modal = openedWindows.top();
          if (modal && modal.value.keyboard) {
            $rootScope.$apply(function () {
              $modalStack.dismiss(modal.key);
            });
          }
        }
      });

      $modalStack.open = function (modalInstance, modal) {
        openedWindows.add(modalInstance, {
          deferred: modal.deferred,
          modalScope: modal.scope,
          backdrop: modal.backdrop,
          keyboard: modal.keyboard,
        });

        var body = $document.find("body").eq(0),
          currBackdropIndex = backdropIndex();

        if (currBackdropIndex >= 0 && !backdropDomEl) {
          backdropScope = $rootScope.$new(true);
          backdropScope.index = currBackdropIndex;

          backdropDomEl = $compile("<div modal-backdrop></div>")(backdropScope);
          body.append(backdropDomEl);
        }

        var angularDomEl = angular.element("<div modal-window></div>");
        angularDomEl
          .attr({
            "template-url": modal.windowTemplateUrl,
            "window-class": modal.windowClass || "",
            "modal-width": modal.modalWidth || 450,
            "modal-height": modal.modalHeight || "",
            "margin-top": modal.marginTop || "",
            "margin-left": modal.marginLeft || "",
            index: openedWindows.length() - 1,
            animate: "animate",
          })
          .html(modal.content);

        var modalDomEl = $compile(angularDomEl)(modal.scope);
        openedWindows.top().value.modalDomEl = modalDomEl;
        body.append(modalDomEl);
        body.addClass(OPENED_MODAL_CLASS);
      };

      //
      $modalStack.close = function (modalInstance, result) {
        if (modalInstance) {
          var data = openedWindows.get(modalInstance);
          if (data) {
            var modalWindow = data.value;
            if (modalWindow) {
              modalWindow.deferred.resolve(result);
              removeModalWindow(modalInstance);
            }
          }
        }
      };

      $modalStack.dismiss = function (modalInstance, reason) {
        var modalWindow = openedWindows.get(modalInstance).value;
        if (modalWindow) {
          if (modalInstance.onDismiss) {
            modalInstance.onDismiss();
          }
          modalWindow.deferred.reject(reason);
          removeModalWindow(modalInstance);
        }
      };

      $modalStack.getTop = function () {
        return openedWindows.top();
      };

      $modalStack.dismissAll = function (reason) {
        var topModal = $modalStack.getTop();
        while (topModal) {
          $modalStack.dismiss(topModal.key, reason);
          topModal = $modalStack.getTop();
        }
      };

      return $modalStack;
    },
  ])

  .provider("$modal", function () {
    var $modalProvider = {
      options: {
        backdrop: true, //can be also false or 'static'
        keyboard: true,
      },
      $get: [
        "$injector",
        "$rootScope",
        "$q",
        "$http",
        "$templateCache",
        "$controller",
        "$modalStack",
        function (
          $injector,
          $rootScope,
          $q,
          $http,
          $templateCache,
          $controller,
          $modalStack
        ) {
          var $modal = {};

          function getTemplatePromise(options) {
            return options.template
              ? $q.when(options.template)
              : $http
                  .get(options.templateUrl, {
                    cache: $templateCache,
                  })
                  .then(function (result) {
                    return result.data;
                  });
          }

          function getResolvePromises(resolves) {
            var promisesArr = [];
            angular.forEach(resolves, function (value, key) {
              if (angular.isFunction(value) || angular.isArray(value)) {
                promisesArr.push($q.when($injector.invoke(value)));
              }
            });
            return promisesArr;
          }

          $modal.open = function (modalOptions) {
            var modalResultDeferred = $q.defer();
            var modalOpenedDeferred = $q.defer();

            //prepare an instance of a modal to be injected into controllers and returned to a caller
            var modalInstance = {
              result: modalResultDeferred.promise,
              opened: modalOpenedDeferred.promise,
              close: function (result) {
                $modalStack.close(modalInstance, result);
              },
              dismiss: function (reason) {
                $modalStack.dismiss(modalInstance, reason);
              },
            };
            //merge and clean up options
            modalOptions = angular.extend(
              {},
              $modalProvider.options,
              modalOptions
            );
            modalOptions.resolve = modalOptions.resolve || {};

            //verify options
            if (!modalOptions.template && !modalOptions.templateUrl) {
              throw new Error(
                "One of template or templateUrl options is required."
              );
            }

            var templateAndResolvePromise = $q.all(
              [getTemplatePromise(modalOptions)].concat(
                getResolvePromises(modalOptions.resolve)
              )
            );

            templateAndResolvePromise.then(
              function resolveSuccess(tplAndVars) {
                var modalScope = (modalOptions.scope || $rootScope).$new();
                modalScope.$close = modalInstance.close;
                modalScope.$dismiss = modalInstance.dismiss;

                var ctrlInstance,
                  ctrlLocals = {};
                var resolveIter = 1;

                //controllers
                if (modalOptions.controller) {
                  ctrlLocals.$scope = modalScope;
                  ctrlLocals.$modalInstance = modalInstance;
                  angular.forEach(modalOptions.resolve, function (value, key) {
                    ctrlLocals[key] = tplAndVars[resolveIter++];
                  });

                  ctrlInstance = $controller(
                    modalOptions.controller,
                    ctrlLocals
                  );
                }

                $modalStack.open(modalInstance, {
                  scope: modalScope,
                  deferred: modalResultDeferred,
                  content: tplAndVars[0],
                  backdrop: modalOptions.backdrop,
                  keyboard: modalOptions.keyboard,
                  windowClass: modalOptions.windowClass,
                  modalWidth: modalOptions.width,
                  modalHeight: modalOptions.height,
                  marginTop: modalOptions.marginTop,
                  marginLeft: modalOptions.marginLeft,
                });
              },
              function resolveError(reason) {
                modalResultDeferred.reject(reason);
              }
            );

            templateAndResolvePromise.then(
              function () {
                modalOpenedDeferred.resolve(true);
              },
              function () {
                modalOpenedDeferred.reject(false);
              }
            );

            return modalInstance;
          };

          return $modal;
        },
      ],
    };

    return $modalProvider;
  });

/**
 * The following features are still outstanding: animation as a
 * function, placement as a function, inside, support for more triggers than
 * just mouse enter/leave, html tooltips, and selector delegation.
 */
angular
  .module("ui.bootstrap.tooltip", [
    "ui.bootstrap.position",
    "ui.bootstrap.bindHtml",
  ])

  /**
   * The $tooltip service creates tooltip- and popover-like directives as well as
   * houses global options for them.
   */
  .provider("$tooltip", function () {
    // The default options tooltip and popover.
    var defaultOptions = {
      placement: "top",
      animation: true,
      popupDelay: 0,
    };

    // Default hide triggers for each show trigger
    var triggerMap = {
      mouseenter: "mouseleave",
      click: "click",
      focus: "blur",
      ehover: "eleave",
    };

    // The options specified to the provider globally.
    var globalOptions = {};

    /**
     * `options({})` allows global configuration of all tooltips in the
     * application.
     *
     *   var app = angular.module( 'App', ['ui.bootstrap.tooltip'], function( $tooltipProvider ) {
     *     // place tooltips left instead of top by default
     *     $tooltipProvider.options( { placement: 'left' } );
     *   });
     */
    this.options = function (value) {
      angular.extend(globalOptions, value);
    };

    /**
     * This allows you to extend the set of trigger mappings available. E.g.:
     *
     *   $tooltipProvider.setTriggers( 'openTrigger': 'closeTrigger' );
     */
    this.setTriggers = function setTriggers(triggers) {
      angular.extend(triggerMap, triggers);
    };

    /**
     * This is a helper function for translating camel-case to snake-case.
     */
    function snake_case(name) {
      var regexp = /[A-Z]/g;
      var separator = "-";
      return name.replace(regexp, function (letter, pos) {
        return (pos ? separator : "") + letter.toLowerCase();
      });
    }

    /**
     * Returns the actual instance of the $tooltip service.
     * TODO support multiple triggers
     */
    this.$get = [
      "$window",
      "$compile",
      "$timeout",
      "$parse",
      "$document",
      "$position",
      "$interpolate",
      function (
        $window,
        $compile,
        $timeout,
        $parse,
        $document,
        $position,
        $interpolate
      ) {
        return function $tooltip(type, prefix, defaultTriggerShow) {
          var options = angular.extend({}, defaultOptions, globalOptions);

          /**
           * Returns an object of show and hide triggers.
           *
           * If a trigger is supplied,
           * it is used to show the tooltip; otherwise, it will use the `trigger`
           * option passed to the `$tooltipProvider.options` method; else it will
           * default to the trigger supplied to this directive factory.
           *
           * The hide trigger is based on the show trigger. If the `trigger` option
           * was passed to the `$tooltipProvider.options` method, it will use the
           * mapped trigger from `triggerMap` or the passed trigger if the map is
           * undefined; otherwise, it uses the `triggerMap` value of the show
           * trigger; else it will just use the show trigger.
           */
          function getTriggers(trigger) {
            var show = trigger || options.trigger || defaultTriggerShow;
            var hide = triggerMap[show] || show;
            return {
              show: show,
              hide: hide,
            };
          }

          var directiveName = snake_case(type);

          var startSym = $interpolate.startSymbol();
          var endSym = $interpolate.endSymbol();
          var template =
            "<div " +
            directiveName +
            "-popup " +
            'title="' +
            startSym +
            "tt_title" +
            endSym +
            '" ' +
            'content="' +
            startSym +
            "tt_content" +
            endSym +
            '" ' +
            'placement="' +
            startSym +
            "tt_placement" +
            endSym +
            '" ' +
            'animation="tt_animation" ' +
            'is-open="tt_isOpen"' +
            ">" +
            "</div>";

          return {
            restrict: "EA",
            scope: true,
            compile: function (tElem, tAttrs) {
              var tooltipLinker = $compile(template);

              return function link(scope, element, attrs) {
                var tooltip;
                var transitionTimeout;
                var popupTimeout;
                var appendToBody = angular.isDefined(options.appendToBody)
                  ? options.appendToBody
                  : false;
                var triggers = getTriggers(undefined);
                var hasRegisteredTriggers = false;
                var hasEnableExp = angular.isDefined(attrs[prefix + "Enable"]);

                var positionTooltip = function () {
                  var position, ttWidth, ttHeight, ttPosition;
                  // Get the position of the directive element.
                  position = appendToBody
                    ? $position.offset(element)
                    : $position.position(element);

                  // Get the height and width of the tooltip so we can center it.
                  ttWidth = tooltip.prop("offsetWidth");
                  ttHeight = tooltip.prop("offsetHeight");

                  // Calculate the tooltip's top and left coordinates to center it with
                  // this directive.
                  switch (scope.tt_placement) {
                    case "right":
                      ttPosition = {
                        top: position.top + position.height / 2 - ttHeight / 2,
                        left: position.left + position.width,
                      };
                      break;
                    case "bottom":
                      ttPosition = {
                        top: position.top + position.height,
                        left: position.left + position.width / 2 - ttWidth / 2,
                      };
                      break;
                    case "left":
                      ttPosition = {
                        top: position.top + position.height / 2 - ttHeight / 2,
                        left: position.left - ttWidth,
                      };
                      break;
                    default:
                      ttPosition = {
                        top: position.top - ttHeight,
                        left: position.left + position.width / 2 - ttWidth / 2,
                      };
                      break;
                  }

                  ttPosition.top += "px";
                  ttPosition.left += "px";

                  // Now set the calculated positioning.
                  tooltip.css(ttPosition);
                };

                // By default, the tooltip is not open.
                // TODO add ability to start tooltip opened
                scope.tt_isOpen = false;

                function toggleTooltipBind() {
                  if (!scope.tt_isOpen) {
                    showTooltipBind();
                  } else {
                    hideTooltipBind();
                  }
                }

                // Show the tooltip with delay if specified, otherwise show it immediately
                function showTooltipBind() {
                  if (hasEnableExp && !scope.$eval(attrs[prefix + "Enable"])) {
                    return;
                  }
                  if (scope.tt_popupDelay) {
                    popupTimeout = $timeout(show, scope.tt_popupDelay, false);
                    popupTimeout.then(function (reposition) {
                      reposition();
                    });
                  } else {
                    show()();
                  }
                }

                function hideTooltipBind() {
                  scope.$apply(function () {
                    hide();
                  });
                }

                // Show the tooltip popup element.
                function show() {
                  // Don't show empty tooltips.
                  if (!scope.tt_content) {
                    return angular.noop;
                  }

                  createTooltip();

                  // If there is a pending remove transition, we must cancel it, lest the
                  // tooltip be mysteriously removed.
                  if (transitionTimeout) {
                    $timeout.cancel(transitionTimeout);
                  }

                  // Set the initial positioning.
                  tooltip.css({
                    top: 0,
                    left: 0,
                    display: "block",
                  });

                  // Now we add it to the DOM because need some info about it. But it's not
                  // visible yet anyway.
                  if (appendToBody) {
                    $document.find("body").append(tooltip);
                  } else {
                    element.after(tooltip);
                  }

                  positionTooltip();

                  // And show the tooltip.
                  scope.tt_isOpen = true;
                  scope.$digest(); // digest required as $apply is not called

                  // Return positioning function as promise callback for correct
                  // positioning after draw.
                  return positionTooltip;
                }

                // Hide the tooltip popup element.
                function hide() {
                  // First things first: we don't show it anymore.
                  scope.tt_isOpen = false;

                  //if tooltip is going to be shown after delay, we must cancel this
                  $timeout.cancel(popupTimeout);

                  // And now we remove it from the DOM. However, if we have animation, we
                  // need to wait for it to expire beforehand.
                  // FIXME: this is a placeholder for a port of the transitions library.
                  if (scope.tt_animation) {
                    transitionTimeout = $timeout(removeTooltip, 500);
                  } else {
                    removeTooltip();
                  }
                }

                function createTooltip() {
                  // There can only be one tooltip element per directive shown at once.
                  if (tooltip) {
                    removeTooltip();
                  }
                  tooltip = tooltipLinker(scope, function () {});

                  // Get contents rendered into the tooltip
                  scope.$digest();
                }

                function removeTooltip() {
                  if (tooltip) {
                    tooltip.remove();
                    tooltip = null;
                  }
                }

                /**
                 * Observe the relevant attributes.
                 */
                attrs.$observe(type, function (val) {
                  scope.tt_content = val;

                  if (!val && scope.tt_isOpen) {
                    hide();
                  }
                });

                attrs.$observe(prefix + "Title", function (val) {
                  scope.tt_title = val;
                });

                attrs.$observe(prefix + "Placement", function (val) {
                  scope.tt_placement = angular.isDefined(val)
                    ? val
                    : options.placement;
                });

                attrs.$observe(prefix + "PopupDelay", function (val) {
                  var delay = parseInt(val, 10);
                  scope.tt_popupDelay = !isNaN(delay)
                    ? delay
                    : options.popupDelay;
                });

                var unregisterTriggers = function () {
                  if (hasRegisteredTriggers) {
                    element.unbind(triggers.show, showTooltipBind);
                    element.unbind(triggers.hide, hideTooltipBind);
                  }
                };

                attrs.$observe(prefix + "Trigger", function (val) {
                  unregisterTriggers();

                  triggers = getTriggers(val);

                  //
                  if (triggers.show === "ehover") {
                    var hideFlag = true;
                    //mouseenter
                    element.bind("mouseenter", function () {
                      toggleTooltipBind();
                      $(".tooltip").bind("mouseenter", function () {
                        hideFlag = false;
                        element.unbind("mouseleave");
                        $(".tooltip").bind("mouseleave", function () {
                          hideFlag = true;
                          hideTooltipBind();
                        });
                      });
                    });

                    //
                    element.bind("mouseout", function ($event) {
                      setTimeout(function () {
                        if (!hideFlag) return;
                        hideTooltipBind();
                      }, 100);
                    });
                  } else {
                    //
                    if (triggers.show === triggers.hide) {
                      element.bind(triggers.show, toggleTooltipBind);
                    } else {
                      element.bind(triggers.show, showTooltipBind);
                      element.bind(triggers.hide, hideTooltipBind);
                    }
                  }
                  hasRegisteredTriggers = true;
                });

                var animation = scope.$eval(attrs[prefix + "Animation"]);
                scope.tt_animation = angular.isDefined(animation)
                  ? !!animation
                  : options.animation;

                attrs.$observe(prefix + "AppendToBody", function (val) {
                  appendToBody = angular.isDefined(val)
                    ? $parse(val)(scope)
                    : appendToBody;
                });

                // if a tooltip is attached to <body> we need to remove it on
                // location change as its parent scope will probably not be destroyed
                // by the change.
                if (appendToBody) {
                  scope.$on(
                    "$locationChangeSuccess",
                    function closeTooltipOnLocationChangeSuccess() {
                      if (scope.tt_isOpen) {
                        hide();
                      }
                    }
                  );
                }

                // Make sure tooltip is destroyed and removed.
                scope.$on("$destroy", function onDestroyTooltip() {
                  $timeout.cancel(transitionTimeout);
                  $timeout.cancel(popupTimeout);
                  unregisterTriggers();
                  removeTooltip();
                });
              };
            },
          };
        };
      },
    ];
  })

  .directive("tooltipPopup", function () {
    return {
      restrict: "EA",
      replace: true,
      scope: {
        content: "@",
        placement: "@",
        animation: "&",
        isOpen: "&",
      },
      templateUrl: "template/tooltip/tooltip-popup.html",
    };
  })

  .directive("tooltip", [
    "$tooltip",
    function ($tooltip) {
      return $tooltip("tooltip", "tooltip", "mouseenter");
    },
  ])

  .directive("tooltipHtmlUnsafePopup", function () {
    return {
      restrict: "EA",
      replace: true,
      scope: {
        content: "@",
        placement: "@",
        animation: "&",
        isOpen: "&",
      },
      templateUrl: "template/tooltip/tooltip-html-unsafe-popup.html",
    };
  })

  .directive("tooltipHtmlUnsafe", [
    "$tooltip",
    function ($tooltip) {
      return $tooltip("tooltipHtmlUnsafe", "tooltip", "mouseenter");
    },
  ]);

/**
 * The following features are still outstanding: popup delay, animation as a
 * function, placement as a function, inside, support for more triggers than
 * just mouse enter/leave, html popovers, and selector delegatation.
 */
angular
  .module("ui.bootstrap.popover", ["ui.bootstrap.tooltip"])

  .directive("popoverPopup", function () {
    return {
      restrict: "EA",
      replace: true,
      scope: {
        title: "@",
        content: "@",
        placement: "@",
        animation: "&",
        isOpen: "&",
      },
      templateUrl: "template/popover/popover.html",
    };
  })

  .directive("popover", [
    "$tooltip",
    function ($tooltip) {
      return $tooltip("popover", "popover", "click");
    },
  ]);

angular
  .module("ui.bootstrap.progressbar", ["ui.bootstrap.transition"])

  .constant("progressConfig", {
    animate: true,
    max: 100,
  })

  .controller("ProgressController", [
    "$scope",
    "$attrs",
    "progressConfig",
    "$transition",
    function ($scope, $attrs, progressConfig, $transition) {
      var self = this,
        bars = [],
        max = angular.isDefined($attrs.max)
          ? $scope.$parent.$eval($attrs.max)
          : progressConfig.max,
        animate = angular.isDefined($attrs.animate)
          ? $scope.$parent.$eval($attrs.animate)
          : progressConfig.animate;

      this.addBar = function (bar, element) {
        var oldValue = 0,
          index = bar.$parent.$index;
        if (angular.isDefined(index) && bars[index]) {
          oldValue = bars[index].value;
        }
        bars.push(bar);

        this.update(element, bar.value, oldValue);

        bar.$watch("value", function (value, oldValue) {
          if (value !== oldValue) {
            self.update(element, value, oldValue);
          }
        });

        bar.$on("$destroy", function () {
          self.removeBar(bar);
        });
      };

      // Update bar element width
      this.update = function (element, newValue, oldValue) {
        var percent = this.getPercentage(newValue);

        if (animate) {
          element.css("width", this.getPercentage(oldValue) + "%");
          $transition(element, {
            width: percent + "%",
          });
        } else {
          element.css({
            transition: "none",
            width: percent + "%",
          });
        }
      };

      this.removeBar = function (bar) {
        bars.splice(bars.indexOf(bar), 1);
      };

      this.getPercentage = function (value) {
        return Math.round((100 * value) / max);
      };
    },
  ])

  .directive("progress", function () {
    return {
      restrict: "EA",
      replace: true,
      transclude: true,
      controller: "ProgressController",
      require: "progress",
      scope: {},
      template: '<div class="progress" ng-transclude></div>',
      //templateUrl: 'template/progressbar/progress.html' // Works in AngularJS 1.2
    };
  })

  .directive("bar", function () {
    return {
      restrict: "EA",
      replace: true,
      transclude: true,
      require: "^progress",
      scope: {
        value: "=",
        type: "@",
      },
      templateUrl: "template/progressbar/bar.html",
      link: function (scope, element, attrs, progressCtrl) {
        progressCtrl.addBar(scope, element);
      },
    };
  })

  .directive("progressbar", function () {
    return {
      restrict: "EA",
      replace: true,
      transclude: true,
      controller: "ProgressController",
      scope: {
        value: "=",
        type: "@",
      },
      templateUrl: "template/progressbar/progressbar.html",
      link: function (scope, element, attrs, progressCtrl) {
        progressCtrl.addBar(scope, angular.element(element.children()[0]));
      },
    };
  });

angular
  .module("ui.bootstrap.rating", [])

  .constant("ratingConfig", {
    max: 5,
    stateOn: null,
    stateOff: null,
  })

  .controller("RatingController", [
    "$scope",
    "$attrs",
    "ratingConfig",
    function ($scope, $attrs, ratingConfig) {
      var ngModelCtrl = { $setViewValue: angular.noop };

      this.init = function (ngModelCtrl_) {
        ngModelCtrl = ngModelCtrl_;
        ngModelCtrl.$render = this.render;

        this.stateOn = angular.isDefined($attrs.stateOn)
          ? $scope.$parent.$eval($attrs.stateOn)
          : ratingConfig.stateOn;
        this.stateOff = angular.isDefined($attrs.stateOff)
          ? $scope.$parent.$eval($attrs.stateOff)
          : ratingConfig.stateOff;

        var ratingStates = angular.isDefined($attrs.ratingStates)
          ? $scope.$parent.$eval($attrs.ratingStates)
          : new Array(
              angular.isDefined($attrs.max)
                ? $scope.$parent.$eval($attrs.max)
                : ratingConfig.max
            );
        $scope.range = this.buildTemplateObjects(ratingStates);
      };

      this.buildTemplateObjects = function (states) {
        for (var i = 0, n = states.length; i < n; i++) {
          states[i] = angular.extend(
            { index: i },
            { stateOn: this.stateOn, stateOff: this.stateOff },
            states[i]
          );
        }
        return states;
      };

      $scope.rate = function (value) {
        if (!$scope.readonly && value >= 0 && value <= $scope.range.length) {
          ngModelCtrl.$setViewValue(value);
          ngModelCtrl.$render();
        }
      };

      $scope.enter = function (value) {
        if (!$scope.readonly) {
          $scope.value = value;
        }
        $scope.onHover({ value: value });
      };

      $scope.reset = function () {
        $scope.value = ngModelCtrl.$viewValue;
        $scope.onLeave();
      };

      $scope.onKeydown = function (evt) {
        if (/(37|38|39|40)/.test(evt.which)) {
          evt.preventDefault();
          evt.stopPropagation();
          $scope.rate(
            $scope.value + (evt.which === 38 || evt.which === 39 ? 1 : -1)
          );
        }
      };

      this.render = function () {
        $scope.value = ngModelCtrl.$viewValue;
      };
    },
  ])

  .directive("rating", function () {
    return {
      restrict: "EA",
      require: ["rating", "ngModel"],
      scope: {
        readonly: "=?",
        onHover: "&",
        onLeave: "&",
      },
      controller: "RatingController",
      templateUrl: "template/rating/rating.html",
      replace: true,
      link: function (scope, element, attrs, ctrls) {
        var ratingCtrl = ctrls[0],
          ngModelCtrl = ctrls[1];

        if (ngModelCtrl) {
          ratingCtrl.init(ngModelCtrl);
        }
      },
    };
  });

/**
 * @ngdoc overview
 * @name ui.bootstrap.tabs
 *
 * @description
 * AngularJS version of the tabs directive.
 */

angular
  .module("ui.bootstrap.tabs", [])

  .controller("TabsetController", [
    "$scope",
    function TabsetCtrl($scope) {
      var ctrl = this,
        tabs = (ctrl.tabs = $scope.tabs = []);

      ctrl.select = function (tab) {
        angular.forEach(tabs, function (tab) {
          tab.active = false;
        });
        tab.active = true;
      };

      ctrl.addTab = function addTab(tab) {
        tabs.push(tab);
        if (tabs.length === 1 || tab.active) {
          ctrl.select(tab);
        }
      };

      ctrl.removeTab = function removeTab(tab) {
        var index = tabs.indexOf(tab);
        //Select a new tab if the tab to be removed is selected
        if (tab.active && tabs.length > 1) {
          //If this is the last tab, select the previous tab. else, the next tab.
          var newActiveIndex = index == tabs.length - 1 ? index - 1 : index + 1;
          ctrl.select(tabs[newActiveIndex]);
        }
        tabs.splice(index, 1);
      };
    },
  ])

  /**
 * @ngdoc directive
 * @name ui.bootstrap.tabs.directive:tabset
 * @restrict EA
 *
 * @description
 * Tabset is the outer container for the tabs directive
 *
 * @param {boolean=} vertical Whether or not to use vertical styling for the tabs.
 * @param {boolean=} justified Whether or not to use justified styling for the tabs.
 *
 * @example
<example module="ui.bootstrap">
  <file name="index.html">
	<tabset>
	  <tab heading="Tab 1"><b>First</b> Content!</tab>
	  <tab heading="Tab 2"><i>Second</i> Content!</tab>
	</tabset>
	<hr />
	<tabset vertical="true">
	  <tab heading="Vertical Tab 1"><b>First</b> Vertical Content!</tab>
	  <tab heading="Vertical Tab 2"><i>Second</i> Vertical Content!</tab>
	</tabset>
	<tabset justified="true">
	  <tab heading="Justified Tab 1"><b>First</b> Justified Content!</tab>
	  <tab heading="Justified Tab 2"><i>Second</i> Justified Content!</tab>
	</tabset>
  </file>
</example>
 */
  .directive("tabset", function () {
    return {
      restrict: "EA",
      transclude: true,
      replace: true,
      scope: {},
      controller: "TabsetController",
      templateUrl: "template/tabs/tabset.html",
      link: function (scope, element, attrs) {
        scope.vertical = angular.isDefined(attrs.vertical)
          ? scope.$parent.$eval(attrs.vertical)
          : false;
        scope.justified = angular.isDefined(attrs.justified)
          ? scope.$parent.$eval(attrs.justified)
          : false;
        scope.type = angular.isDefined(attrs.type)
          ? scope.$parent.$eval(attrs.type)
          : "tabs";
      },
    };
  })

  /**
 * @ngdoc directive
 * @name ui.bootstrap.tabs.directive:tab
 * @restrict EA
 *
 * @param {string=} heading The visible heading, or title, of the tab. Set HTML headings with {@link ui.bootstrap.tabs.directive:tabHeading tabHeading}.
 * @param {string=} select An expression to evaluate when the tab is selected.
 * @param {boolean=} active A binding, telling whether or not this tab is selected.
 * @param {boolean=} disabled A binding, telling whether or not this tab is disabled.
 *
 * @description
 * Creates a tab with a heading and content. Must be placed within a {@link ui.bootstrap.tabs.directive:tabset tabset}.
 *
 * @example
<example module="ui.bootstrap">
  <file name="index.html">
	<div ng-controller="TabsDemoCtrl">
	  <button class="btn btn-small" ng-click="items[0].active = true">
		Select item 1, using active binding
	  </button>
	  <button class="btn btn-small" ng-click="items[1].disabled = !items[1].disabled">
		Enable/disable item 2, using disabled binding
	  </button>
	  <br />
	  <tabset>
		<tab heading="Tab 1">First Tab</tab>
		<tab select="alertMe()">
		  <tab-heading><i class="icon-bell"></i> Alert me!</tab-heading>
		  Second Tab, with alert callback and html heading!
		</tab>
		<tab ng-repeat="item in items"
		  heading="{{item.title}}"
		  disabled="item.disabled"
		  active="item.active">
		  {{item.content}}
		</tab>
	  </tabset>
	</div>
  </file>
  <file name="script.js">
	function TabsDemoCtrl($scope) {
	  $scope.items = [
		{ title:"Dynamic Title 1", content:"Dynamic Item 0" },
		{ title:"Dynamic Title 2", content:"Dynamic Item 1", disabled: true }
	  ];

	  $scope.alertMe = function() {
		setTimeout(function() {
		  alert("You've selected the alert tab!");
		});
	  };
	};
  </file>
</example>
 */

  /**
 * @ngdoc directive
 * @name ui.bootstrap.tabs.directive:tabHeading
 * @restrict EA
 *
 * @description
 * Creates an HTML heading for a {@link ui.bootstrap.tabs.directive:tab tab}. Must be placed as a child of a tab element.
 *
 * @example
<example module="ui.bootstrap">
  <file name="index.html">
	<tabset>
	  <tab>
		<tab-heading><b>HTML</b> in my titles?!</tab-heading>
		And some content, too!
	  </tab>
	  <tab>
		<tab-heading><i class="icon-heart"></i> Icon heading?!?</tab-heading>
		That's right.
	  </tab>
	</tabset>
  </file>
</example>
 */
  .directive("tab", [
    "$parse",
    function ($parse) {
      return {
        require: "^tabset",
        restrict: "EA",
        replace: true,
        templateUrl: "template/tabs/tab.html",
        transclude: true,
        scope: {
          heading: "@",
          onSelect: "&select", //This callback is called in contentHeadingTransclude
          //once it inserts the tab's content into the dom
          onDeselect: "&deselect",
        },
        controller: function () {
          //Empty controller so other directives can require being 'under' a tab
        },
        compile: function (elm, attrs, transclude) {
          return function postLink(scope, elm, attrs, tabsetCtrl) {
            var getActive, setActive;
            if (attrs.active) {
              getActive = $parse(attrs.active);
              setActive = getActive.assign;
              scope.$parent.$watch(
                getActive,
                function updateActive(value, oldVal) {
                  // Avoid re-initializing scope.active as it is already initialized
                  // below. (watcher is called async during init with value ===
                  // oldVal)
                  if (value !== oldVal) {
                    scope.active = !!value;
                  }
                }
              );
              scope.active = getActive(scope.$parent);
            } else {
              setActive = getActive = angular.noop;
            }

            scope.$watch("active", function (active) {
              // Note this watcher also initializes and assigns scope.active to the
              // attrs.active expression.
              setActive(scope.$parent, active);
              if (active) {
                tabsetCtrl.select(scope);
                scope.onSelect();
              } else {
                scope.onDeselect();
              }
            });

            scope.disabled = false;
            if (attrs.disabled) {
              scope.$parent.$watch($parse(attrs.disabled), function (value) {
                scope.disabled = !!value;
              });
            }

            scope.select = function () {
              if (!scope.disabled) {
                scope.active = true;
              }
            };

            tabsetCtrl.addTab(scope);
            scope.$on("$destroy", function () {
              tabsetCtrl.removeTab(scope);
            });

            //We need to transclude later, once the content container is ready.
            //when this link happens, we're inside a tab heading.
            scope.$transcludeFn = transclude;
          };
        },
      };
    },
  ])

  .directive("tabHeadingTransclude", [
    function () {
      return {
        restrict: "A",
        require: "^tab",
        link: function (scope, elm, attrs, tabCtrl) {
          scope.$watch(
            "headingElement",
            function updateHeadingElement(heading) {
              if (heading) {
                elm.html("");
                elm.append(heading);
              }
            }
          );
        },
      };
    },
  ])

  .directive("tabContentTransclude", function () {
    return {
      restrict: "A",
      require: "^tabset",
      link: function (scope, elm, attrs) {
        var tab = scope.$eval(attrs.tabContentTransclude);

        //Now our tab is ready to be transcluded: both the tab heading area
        //and the tab content area are loaded.  Transclude 'em both.
        tab.$transcludeFn(tab.$parent, function (contents) {
          angular.forEach(contents, function (node) {
            if (isTabHeading(node)) {
              //Let tabHeadingTransclude know.
              tab.headingElement = node;
            } else {
              elm.append(node);
            }
          });
        });
      },
    };

    function isTabHeading(node) {
      return (
        node.tagName &&
        (node.hasAttribute("tab-heading") ||
          node.hasAttribute("data-tab-heading") ||
          node.tagName.toLowerCase() === "tab-heading" ||
          node.tagName.toLowerCase() === "data-tab-heading")
      );
    }
  });

angular
  .module("ui.bootstrap.timepicker", [])

  .constant("timepickerConfig", {
    hourStep: 1,
    minuteStep: 1,
    showMeridian: true,
    meridians: null,
    readonlyInput: false,
    mousewheel: true,
  })

  .directive("timepicker", [
    "$parse",
    "$log",
    "timepickerConfig",
    "$locale",
    function ($parse, $log, timepickerConfig, $locale) {
      return {
        restrict: "EA",
        require: "?^ngModel",
        replace: true,
        scope: {},
        templateUrl: "template/timepicker/timepicker.html",
        link: function (scope, element, attrs, ngModel) {
          if (!ngModel) {
            return; // do nothing if no ng-model
          }

          var selected = new Date(),
            meridians = angular.isDefined(attrs.meridians)
              ? scope.$parent.$eval(attrs.meridians)
              : timepickerConfig.meridians || $locale.DATETIME_FORMATS.AMPMS;

          var hourStep = timepickerConfig.hourStep;
          if (attrs.hourStep) {
            scope.$parent.$watch($parse(attrs.hourStep), function (value) {
              hourStep = parseInt(value, 10);
            });
          }

          var minuteStep = timepickerConfig.minuteStep;
          if (attrs.minuteStep) {
            scope.$parent.$watch($parse(attrs.minuteStep), function (value) {
              minuteStep = parseInt(value, 10);
            });
          }

          // 12H / 24H mode
          scope.showMeridian = timepickerConfig.showMeridian;
          if (attrs.showMeridian) {
            scope.$parent.$watch($parse(attrs.showMeridian), function (value) {
              scope.showMeridian = !!value;

              if (ngModel.$error.time) {
                // Evaluate from template
                var hours = getHoursFromTemplate(),
                  minutes = getMinutesFromTemplate();
                if (angular.isDefined(hours) && angular.isDefined(minutes)) {
                  selected.setHours(hours);
                  refresh();
                }
              } else {
                updateTemplate();
              }
            });
          }

          // Get scope.hours in 24H mode if valid
          function getHoursFromTemplate() {
            var hours = parseInt(scope.hours, 10);
            var valid = scope.showMeridian
              ? hours > 0 && hours < 13
              : hours >= 0 && hours < 24;
            if (!valid) {
              return undefined;
            }

            if (scope.showMeridian) {
              if (hours === 12) {
                hours = 0;
              }
              if (scope.meridian === meridians[1]) {
                hours = hours + 12;
              }
            }
            return hours;
          }

          function getMinutesFromTemplate() {
            var minutes = parseInt(scope.minutes, 10);
            return minutes >= 0 && minutes < 60 ? minutes : undefined;
          }

          function pad(value) {
            return angular.isDefined(value) && value.toString().length < 2
              ? "0" + value
              : value;
          }

          // Input elements
          var inputs = element.find("input"),
            hoursInputEl = inputs.eq(0),
            minutesInputEl = inputs.eq(1);

          // Respond on mousewheel spin
          var mousewheel = angular.isDefined(attrs.mousewheel)
            ? scope.$eval(attrs.mousewheel)
            : timepickerConfig.mousewheel;
          if (mousewheel) {
            var isScrollingUp = function (e) {
              if (e.originalEvent) {
                e = e.originalEvent;
              }
              //pick correct delta variable depending on event
              var delta = e.wheelDelta ? e.wheelDelta : -e.deltaY;
              return e.detail || delta > 0;
            };

            hoursInputEl.bind("mousewheel wheel", function (e) {
              scope.$apply(
                isScrollingUp(e)
                  ? scope.incrementHours()
                  : scope.decrementHours()
              );
              e.preventDefault();
            });

            minutesInputEl.bind("mousewheel wheel", function (e) {
              scope.$apply(
                isScrollingUp(e)
                  ? scope.incrementMinutes()
                  : scope.decrementMinutes()
              );
              e.preventDefault();
            });
          }

          scope.readonlyInput = angular.isDefined(attrs.readonlyInput)
            ? scope.$eval(attrs.readonlyInput)
            : timepickerConfig.readonlyInput;
          if (!scope.readonlyInput) {
            var invalidate = function (invalidHours, invalidMinutes) {
              ngModel.$setViewValue(null);
              ngModel.$setValidity("time", false);
              if (angular.isDefined(invalidHours)) {
                scope.invalidHours = invalidHours;
              }
              if (angular.isDefined(invalidMinutes)) {
                scope.invalidMinutes = invalidMinutes;
              }
            };

            scope.updateHours = function () {
              var hours = getHoursFromTemplate();

              if (angular.isDefined(hours)) {
                selected.setHours(hours);
                refresh("h");
              } else {
                invalidate(true);
              }
            };

            hoursInputEl.bind("blur", function (e) {
              if (!scope.validHours && scope.hours < 10) {
                scope.$apply(function () {
                  scope.hours = pad(scope.hours);
                });
              }
            });

            scope.updateMinutes = function () {
              var minutes = getMinutesFromTemplate();

              if (angular.isDefined(minutes)) {
                selected.setMinutes(minutes);
                refresh("m");
              } else {
                invalidate(undefined, true);
              }
            };

            minutesInputEl.bind("blur", function (e) {
              if (!scope.invalidMinutes && scope.minutes < 10) {
                scope.$apply(function () {
                  scope.minutes = pad(scope.minutes);
                });
              }
            });
          } else {
            scope.updateHours = angular.noop;
            scope.updateMinutes = angular.noop;
          }

          ngModel.$render = function () {
            var date = ngModel.$modelValue
              ? new Date(ngModel.$modelValue)
              : null;

            if (isNaN(date)) {
              ngModel.$setValidity("time", false);
              $log.error(
                'Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'
              );
            } else {
              if (date) {
                selected = date;
              }
              makeValid();
              updateTemplate();
            }
          };

          // Call internally when we know that model is valid.
          function refresh(keyboardChange) {
            makeValid();
            ngModel.$setViewValue(new Date(selected));
            updateTemplate(keyboardChange);
          }

          function makeValid() {
            ngModel.$setValidity("time", true);
            scope.invalidHours = false;
            scope.invalidMinutes = false;
          }

          function updateTemplate(keyboardChange) {
            var hours = selected.getHours(),
              minutes = selected.getMinutes();

            if (scope.showMeridian) {
              hours = hours === 0 || hours === 12 ? 12 : hours % 12; // Convert 24 to 12 hour system
            }
            scope.hours = keyboardChange === "h" ? hours : pad(hours);
            scope.minutes = keyboardChange === "m" ? minutes : pad(minutes);
            scope.meridian =
              selected.getHours() < 12 ? meridians[0] : meridians[1];
          }

          function addMinutes(minutes) {
            var dt = new Date(selected.getTime() + minutes * 60000);
            selected.setHours(dt.getHours(), dt.getMinutes());
            refresh();
          }

          scope.incrementHours = function () {
            addMinutes(hourStep * 60);
          };
          scope.decrementHours = function () {
            addMinutes(-hourStep * 60);
          };
          scope.incrementMinutes = function () {
            addMinutes(minuteStep);
          };
          scope.decrementMinutes = function () {
            addMinutes(-minuteStep);
          };
          scope.toggleMeridian = function () {
            addMinutes(12 * 60 * (selected.getHours() < 12 ? 1 : -1));
          };
        },
      };
    },
  ]);

angular
  .module("ui.bootstrap.typeahead", [
    "ui.bootstrap.position",
    "ui.bootstrap.bindHtml",
  ])

  /**
   * A helper service that can parse typeahead's syntax (string provided by users)
   * Extracted to a separate service for ease of unit testing
   */
  .factory("typeaheadParser", [
    "$parse",
    function ($parse) {
      //                      00000111000000000000022200000000000000003333333333333330000000000044000
      var TYPEAHEAD_REGEXP =
        /^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;

      return {
        parse: function (input) {
          var match = input.match(TYPEAHEAD_REGEXP),
            modelMapper,
            viewMapper,
            source;
          if (!match) {
            throw new Error(
              "Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_'" +
                " but got '" +
                input +
                "'."
            );
          }

          return {
            itemName: match[3],
            source: $parse(match[4]),
            viewMapper: $parse(match[2] || match[1]),
            modelMapper: $parse(match[1]),
          };
        },
      };
    },
  ])

  .directive("typeahead", [
    "$compile",
    "$parse",
    "$q",
    "$timeout",
    "$document",
    "$position",
    "typeaheadParser",
    function (
      $compile,
      $parse,
      $q,
      $timeout,
      $document,
      $position,
      typeaheadParser
    ) {
      var HOT_KEYS = [9, 13, 27, 38, 40];

      return {
        require: "ngModel",
        link: function (originalScope, element, attrs, modelCtrl) {
          //SUPPORTED ATTRIBUTES (OPTIONS)

          //minimal no of characters that needs to be entered before typeahead kicks-in
          var minSearch = originalScope.$eval(attrs.typeaheadMinLength) || 1;

          //minimal wait time after last character typed before typehead kicks-in
          var waitTime = originalScope.$eval(attrs.typeaheadWaitMs) || 0;

          //should it restrict model values to the ones selected from the popup only?
          var isEditable =
            originalScope.$eval(attrs.typeaheadEditable) !== false;

          //binding to a variable that indicates if matches are being retrieved asynchronously
          var isLoadingSetter =
            $parse(attrs.typeaheadLoading).assign || angular.noop;

          //a callback executed when a match is selected
          var onSelectCallback = $parse(attrs.typeaheadOnSelect);

          var inputFormatter = attrs.typeaheadInputFormatter
            ? $parse(attrs.typeaheadInputFormatter)
            : undefined;

          var appendToBody = attrs.typeaheadAppendToBody
            ? $parse(attrs.typeaheadAppendToBody)
            : false;

          //INTERNAL VARIABLES

          //model setter executed upon match selection
          var $setModelValue = $parse(attrs.ngModel).assign;

          //expressions used by typeahead
          var parserResult = typeaheadParser.parse(attrs.typeahead);

          var hasFocus;

          //pop-up element used to display matches
          var popUpEl = angular.element("<div typeahead-popup></div>");
          popUpEl.attr({
            matches: "matches",
            active: "activeIdx",
            select: "select(activeIdx)",
            query: "query",
            position: "position",
          });
          //custom item template
          if (angular.isDefined(attrs.typeaheadTemplateUrl)) {
            popUpEl.attr("template-url", attrs.typeaheadTemplateUrl);
          }

          //create a child scope for the typeahead directive so we are not polluting original scope
          //with typeahead-specific data (matches, query etc.)
          var scope = originalScope.$new();
          originalScope.$on("$destroy", function () {
            scope.$destroy();
          });

          var resetMatches = function () {
            scope.matches = [];
            scope.activeIdx = -1;
          };

          var getMatchesAsync = function (inputValue) {
            var locals = {
              $viewValue: inputValue,
            };
            isLoadingSetter(originalScope, true);
            $q.when(parserResult.source(originalScope, locals)).then(
              function (matches) {
                //it might happen that several async queries were in progress if a user were typing fast
                //but we are interested only in responses that correspond to the current view value
                if (inputValue === modelCtrl.$viewValue && hasFocus) {
                  if (matches.length > 0) {
                    scope.activeIdx = 0;
                    scope.matches.length = 0;

                    //transform labels
                    for (var i = 0; i < matches.length; i++) {
                      locals[parserResult.itemName] = matches[i];
                      scope.matches.push({
                        label: parserResult.viewMapper(scope, locals),
                        model: matches[i],
                      });
                    }

                    scope.query = inputValue;
                    //position pop-up with matches - we need to re-calculate its position each time we are opening a window
                    //with matches as a pop-up might be absolute-positioned and position of an input might have changed on a page
                    //due to other elements being rendered
                    scope.position = appendToBody
                      ? $position.offset(element)
                      : $position.position(element);
                    scope.position.top =
                      scope.position.top + element.prop("offsetHeight");
                  } else {
                    resetMatches();
                  }
                  isLoadingSetter(originalScope, false);
                }
              },
              function () {
                resetMatches();
                isLoadingSetter(originalScope, false);
              }
            );
          };

          resetMatches();

          //we need to propagate user's query so we can higlight matches
          scope.query = undefined;

          //Declare the timeout promise var outside the function scope so that stacked calls can be cancelled later
          var timeoutPromise;

          //plug into $parsers pipeline to open a typeahead on view changes initiated from DOM
          //$parsers kick-in on all the changes coming from the view as well as manually triggered by $setViewValue
          modelCtrl.$parsers.unshift(function (inputValue) {
            hasFocus = true;

            if (inputValue && inputValue.length >= minSearch) {
              if (waitTime > 0) {
                if (timeoutPromise) {
                  $timeout.cancel(timeoutPromise); //cancel previous timeout
                }
                timeoutPromise = $timeout(function () {
                  getMatchesAsync(inputValue);
                }, waitTime);
              } else {
                getMatchesAsync(inputValue);
              }
            } else {
              isLoadingSetter(originalScope, false);
              resetMatches();
            }

            if (isEditable) {
              return inputValue;
            } else {
              if (!inputValue) {
                // Reset in case user had typed something previously.
                modelCtrl.$setValidity("editable", true);
                return inputValue;
              } else {
                modelCtrl.$setValidity("editable", false);
                return undefined;
              }
            }
          });

          modelCtrl.$formatters.push(function (modelValue) {
            var candidateViewValue, emptyViewValue;
            var locals = {};

            if (inputFormatter) {
              locals["$model"] = modelValue;
              return inputFormatter(originalScope, locals);
            } else {
              //it might happen that we don't have enough info to properly render input value
              //we need to check for this situation and simply return model value if we can't apply custom formatting
              locals[parserResult.itemName] = modelValue;
              candidateViewValue = parserResult.viewMapper(
                originalScope,
                locals
              );
              locals[parserResult.itemName] = undefined;
              emptyViewValue = parserResult.viewMapper(originalScope, locals);

              return candidateViewValue !== emptyViewValue
                ? candidateViewValue
                : modelValue;
            }
          });

          scope.select = function (activeIdx) {
            //called from within the $digest() cycle
            var locals = {};
            var model, item;

            locals[parserResult.itemName] = item =
              scope.matches[activeIdx].model;
            model = parserResult.modelMapper(originalScope, locals);
            $setModelValue(originalScope, model);
            modelCtrl.$setValidity("editable", true);

            onSelectCallback(originalScope, {
              $item: item,
              $model: model,
              $label: parserResult.viewMapper(originalScope, locals),
            });

            resetMatches();

            //return focus to the input element if a mach was selected via a mouse click event
            element[0].focus();
          };

          //bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)
          element.bind("keydown", function (evt) {
            //typeahead is open and an "interesting" key was pressed
            if (
              scope.matches.length === 0 ||
              HOT_KEYS.indexOf(evt.which) === -1
            ) {
              return;
            }

            evt.preventDefault();

            if (evt.which === 40) {
              scope.activeIdx = (scope.activeIdx + 1) % scope.matches.length;
              scope.$digest();
            } else if (evt.which === 38) {
              scope.activeIdx =
                (scope.activeIdx ? scope.activeIdx : scope.matches.length) - 1;
              scope.$digest();
            } else if (evt.which === 13 || evt.which === 9) {
              scope.$apply(function () {
                scope.select(scope.activeIdx);
              });
            } else if (evt.which === 27) {
              evt.stopPropagation();

              resetMatches();
              scope.$digest();
            }
          });

          element.bind("blur", function (evt) {
            hasFocus = false;
          });

          // Keep reference to click handler to unbind it.
          var dismissClickHandler = function (evt) {
            if (element[0] !== evt.target) {
              resetMatches();
              scope.$digest();
            }
          };

          $document.bind("click", dismissClickHandler);

          originalScope.$on("$destroy", function () {
            $document.unbind("click", dismissClickHandler);
          });

          var $popup = $compile(popUpEl)(scope);
          if (appendToBody) {
            $document.find("body").append($popup);
          } else {
            element.after($popup);
          }
        },
      };
    },
  ])

  .directive("typeaheadPopup", function () {
    return {
      restrict: "EA",
      scope: {
        matches: "=",
        query: "=",
        active: "=",
        position: "=",
        select: "&",
      },
      replace: true,
      templateUrl: "template/typeahead/typeahead-popup.html",
      link: function (scope, element, attrs) {
        scope.templateUrl = attrs.templateUrl;

        scope.isOpen = function () {
          return scope.matches.length > 0;
        };

        scope.isActive = function (matchIdx) {
          return scope.active == matchIdx;
        };

        scope.selectActive = function (matchIdx) {
          scope.active = matchIdx;
        };

        scope.selectMatch = function (activeIdx) {
          scope.select({
            activeIdx: activeIdx,
          });
        };
      },
    };
  })

  .directive("typeaheadMatch", [
    "$http",
    "$templateCache",
    "$compile",
    "$parse",
    function ($http, $templateCache, $compile, $parse) {
      return {
        restrict: "EA",
        scope: {
          index: "=",
          match: "=",
          query: "=",
        },
        link: function (scope, element, attrs) {
          var tplUrl =
            $parse(attrs.templateUrl)(scope.$parent) ||
            "template/typeahead/typeahead-match.html";
          $http
            .get(tplUrl, {
              cache: $templateCache,
            })
            .success(function (tplContent) {
              element.replaceWith($compile(tplContent.trim())(scope));
            });
        },
      };
    },
  ])

  .filter("typeaheadHighlight", function () {
    function escapeRegexp(queryToEscape) {
      return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
    }

    return function (matchItem, query) {
      return query
        ? matchItem.replace(
            new RegExp(escapeRegexp(query), "gi"),
            "<strong>$&</strong>"
          )
        : matchItem;
    };
  });
angular.module("template/accordion/accordion-group.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/accordion/accordion-group.html",
      '<div class="panel panel-default">\n' +
        '  <div class="panel-heading">\n' +
        '    <h4 class="panel-title">\n' +
        '      <a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n' +
        "    </h4>\n" +
        "  </div>\n" +
        '  <div class="panel-collapse" collapse="!isOpen">\n' +
        '   <div class="panel-body" ng-transclude></div>\n' +
        "  </div>\n" +
        "</div>"
    );
  },
]);

angular.module("template/accordion/accordion.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/accordion/accordion.html",
      '<div class="panel-group" ng-transclude></div>'
    );
  },
]);

angular.module("template/alert/alert.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/alert/alert.html",
      "<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n" +
        "    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n" +
        "    <div ng-transclude></div>\n" +
        "</div>\n" +
        ""
    );
  },
]);

angular.module("template/carousel/carousel.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/carousel/carousel.html",
      '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n' +
        '    <ol class="carousel-indicators" ng-show="slides().length > 1">\n' +
        '        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide,$event)"></li>\n' +
        "    </ol>\n" +
        '    <div class="carousel-inner" ng-transclude></div>\n' +
        '    <a class="left carousel-control" ng-click="prev($event)" ng-show="slides().length > 1"><span class="icon-prev"></span></a>\n' +
        '    <a class="right carousel-control" ng-click="next($event)" ng-show="slides().length > 1"><span class="icon-next"></span></a>\n' +
        "</div>\n" +
        ""
    );
  },
]);

angular.module("template/carousel/slide.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/carousel/slide.html",
      '<div ng-class="{\n' +
        "    'active': leaving || (active && !entering),\n" +
        "    'prev': (next || active) && direction=='prev',\n" +
        "    'next': (next || active) && direction=='next',\n" +
        "    'right': direction=='prev',\n" +
        "    'left': direction=='next'\n" +
        '  }" class="item" ng-transclude></div>\n' +
        ""
    );
  },
]);

angular.module("template/datepicker/datepicker.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/datepicker/datepicker.html",
      "<table>\n" +
        "  <thead>\n" +
        "    <tr>\n" +
        '      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n' +
        '      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n' +
        '      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n' +
        "    </tr>\n" +
        '    <tr ng-show="labels.length > 0" class="h6">\n' +
        '      <th ng-show="showWeekNumbers" class="text-center">#</th>\n' +
        '      <th ng-repeat="label in labels" class="text-center" style="padding-top: 4px; padding-bottom: 4px;">{{label}}</th>\n' +
        "    </tr>\n" +
        "  </thead>\n" +
        "  <tbody>\n" +
        '    <tr ng-repeat="row in rows">\n' +
        '      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n' +
        '      <td ng-repeat="dt in row" class="text-center">\n' +
        '        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary}">{{dt.label}}</span></button>\n' +
        "      </td>\n" +
        "    </tr>\n" +
        "  </tbody>\n" +
        "</table>\n" +
        ""
    );
  },
]);

angular.module("template/datepicker/popup.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/datepicker/popup.html",
      "<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n" +
        " <li ng-transclude></li>\n" +
        ' <li ng-show="showButtonBar" style="padding:10px 9px">\n' +
        '   <span class="btn-group">\n' +
        '     <button type="button" class="btn btn-sm btn-info" ng-click="today()">{{currentText}}</button>\n' +
        '     <button ng-if="showWeeks" type="button" class="btn btn-sm btn-default" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button>\n' +
        '     <button type="button" class="btn btn-sm btn-danger" ng-click="clear()">{{clearText}}</button>\n' +
        "   </span>\n" +
        '   <button type="button" class="btn btn-sm btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button>\n' +
        " </li>\n" +
        "</ul>\n" +
        ""
    );
  },
]);

angular.module("template/modal/backdrop.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/modal/backdrop.html",
      '<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1041 + index * 10}"></div>'
    );
  },
]);

angular.module("template/modal/window.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/modal/window.html",
      '<div tabindex="-1" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index * 10, display: \'block\'}" ng-click="close($event)">\n' +
        '    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n' +
        "</div>"
    );
  },
]);

angular.module("template/pagination/pager.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/pagination/pager.html",
      '<ul class="pager">\n' +
        '  <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n' +
        "</ul>"
    );
  },
]);

angular.module("template/pagination/pagination.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/pagination/pagination.html",
      '<ul class="pagination">\n' +
        '  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n' +
        "</ul>"
    );
  },
]);

angular.module("template/tooltip/tooltip-html-unsafe-popup.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/tooltip/tooltip-html-unsafe-popup.html",
      '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n' +
        '  <div class="tooltip-arrow"></div>\n' +
        '  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n' +
        "</div>\n" +
        ""
    );
  },
]);

angular.module("template/tooltip/tooltip-popup.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/tooltip/tooltip-popup.html",
      '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n' +
        '  <div class="tooltip-arrow"></div>\n' +
        '  <div class="tooltip-inner" ng-bind="content"></div>\n' +
        "</div>\n" +
        ""
    );
  },
]);

angular.module("template/popover/popover.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/popover/popover.html",
      '<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n' +
        '  <div class="arrow"></div>\n' +
        "\n" +
        '  <div class="popover-inner">\n' +
        '      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n' +
        '      <div class="popover-content" bind-html-unsafe="content"></div>\n' +
        "  </div>\n" +
        "</div>\n" +
        ""
    );
  },
]);

angular.module("template/progressbar/bar.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/progressbar/bar.html",
      '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div>'
    );
  },
]);

angular.module("template/progressbar/progress.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/progressbar/progress.html",
      '<div class="progress" ng-transclude></div>'
    );
  },
]);

angular.module("template/progressbar/progressbar.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/progressbar/progressbar.html",
      '<div class="progress"><div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div></div>'
    );
  },
]);

angular.module("template/rating/rating.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/rating/rating.html",
      '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n' +
        '    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa" ng-class="$index < value && (r.stateOn || \'fa-star\') || (r.stateOff || \'fa-star-o\')">\n' +
        "        <span class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n" +
        "    </i>\n" +
        "</span>"
    );
  },
]);

// angular.module("template/rating/rating.html", []).run(["$templateCache",
//     function($templateCache) {
//         $templateCache.put("template/rating/rating.html",
//             "<span ng-mouseleave=\"reset()\">\n" +
//             "    <i ng-repeat=\"r in range\" ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"fa\" ng-class=\"$index < val && (r.stateOn || 'fa-star') || (r.stateOff || 'fa-star-o')\"></i>\n" +
//             "</span>");
//     }
// ]);

angular.module("template/tabs/tab.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/tabs/tab.html",
      '<li ng-class="{active: active, disabled: disabled}">\n' +
        '  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n' +
        "</li>\n" +
        ""
    );
  },
]);

angular.module("template/tabs/tabset-titles.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/tabs/tabset-titles.html",
      "<ul class=\"{{type !== 'tabs' ? type : 'nav nav-tabs'}}\" ng-class=\"{'nav-stacked': vertical}\">\n" +
        "</ul>\n" +
        ""
    );
  },
]);

angular.module("template/tabs/tabset.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/tabs/tabset.html",
      "\n" +
        '<div class="tabbable">\n' +
        "  <ul class=\"{{type !== 'tabs' ? type : 'nav nav-tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n" +
        '  <div class="tab-content">\n' +
        '    <div class="tab-pane" \n' +
        '         ng-repeat="tab in tabs" \n' +
        '         ng-class="{active: tab.active}"\n' +
        '         tab-content-transclude="tab">\n' +
        "    </div>\n" +
        "  </div>\n" +
        "</div>\n" +
        ""
    );
  },
]);

angular.module("template/timepicker/timepicker.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/timepicker/timepicker.html",
      "<table>\n" +
        " <tbody>\n" +
        '   <tr class="text-center">\n' +
        '     <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n' +
        "     <td>&nbsp;</td>\n" +
        '     <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n' +
        '     <td ng-show="showMeridian"></td>\n' +
        "   </tr>\n" +
        "   <tr>\n" +
        '     <td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n' +
        '       <input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n' +
        "     </td>\n" +
        "     <td>:</td>\n" +
        '     <td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n' +
        '       <input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n' +
        "     </td>\n" +
        '     <td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n' +
        "   </tr>\n" +
        '   <tr class="text-center">\n' +
        '     <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n' +
        "     <td>&nbsp;</td>\n" +
        '     <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n' +
        '     <td ng-show="showMeridian"></td>\n' +
        "   </tr>\n" +
        " </tbody>\n" +
        "</table>\n" +
        ""
    );
  },
]);

angular.module("template/typeahead/typeahead-match.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/typeahead/typeahead-match.html",
      '<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>'
    );
  },
]);

angular.module("template/typeahead/typeahead-popup.html", []).run([
  "$templateCache",
  function ($templateCache) {
    $templateCache.put(
      "template/typeahead/typeahead-popup.html",
      "<ul class=\"dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n" +
        '    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n' +
        '        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n' +
        "    </li>\n" +
        "</ul>"
    );
  },
]);
angular
  .module("ui.bootstrap.contextMenu", [])

  .directive("contextMenu", function ($parse) {
    var renderContextMenu = function ($scope, event, options) {
      if (!$) {
        var $ = angular.element;
      }
      $(event.currentTarget).addClass("context");
      var $contextMenu = $("<div>");
      $contextMenu.addClass("dropdown clearfix context-menu");
      var $ul = $("<ul>");
      $ul.addClass("dropdown-menu");
      $ul.attr({
        role: "menu",
      });
      $ul.css({
        display: "block",
        position: "absolute",
        left: event.pageX + "px",
        top: event.pageY + "px",
      });
      angular.forEach(options, function (item, i) {
        var $li = $("<li>");
        if (item === null) {
          $li.addClass("divider");
        } else {
          $a = $("<a>");
          $a.attr({
            tabindex: "-1",
            href: "#",
          });
          $a.html(
            typeof item[0] == "string" ? item[0] : item[0].call($scope, $scope)
          );
          $li.append($a);
          $li.on("click", function ($event) {
            $event.preventDefault();
            $scope.$apply(function () {
              $(event.currentTarget).removeClass("context");
              $contextMenu.remove();
              item[1].call($scope, $scope, $event);
            });
          });
        }
        $ul.append($li);
      });
      $contextMenu.append($ul);
      var height = Math.max(
        document.body.scrollHeight,
        document.documentElement.scrollHeight,
        document.body.offsetHeight,
        document.documentElement.offsetHeight,
        document.body.clientHeight,
        document.documentElement.clientHeight
      );
      $contextMenu.css({
        width: "100%",
        height: height + "px",
        position: "absolute",
        top: 0,
        left: 0,
        zIndex: 9999,
      });
      $(document).find("body").append($contextMenu);
      $contextMenu
        .on("mousedown", function (e) {
          if ($(e.target).hasClass("dropdown")) {
            $(event.currentTarget).removeClass("context");
            $contextMenu.remove();
          }
        })
        .on("contextmenu", function (event) {
          $(event.currentTarget).removeClass("context");
          event.preventDefault();
          $contextMenu.remove();
        });
    };
    return function ($scope, element, attrs) {
      element.on("contextmenu", function (event) {
        $scope.$apply(function () {
          event.preventDefault();
          var options = $scope.$eval(attrs.contextMenu);
          if (options instanceof Array) {
            renderContextMenu($scope, event, options);
          } else {
            throw '"' + attrs.contextMenu + '" not an array';
          }
        });
      });
    };
  });
